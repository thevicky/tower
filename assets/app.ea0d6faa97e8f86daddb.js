webpackJsonp([0],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(113),__webpack_require__(158),__webpack_require__(162),__webpack_require__(163),__webpack_require__(165);var _angular=__webpack_require__(178),_angular2=_interopRequireDefault(_angular),_angularSanitize=__webpack_require__(180);_interopRequireDefault(_angularSanitize);__webpack_require__(182),__webpack_require__(184);var _angularUiRouter=__webpack_require__(186),_angularUiRouter2=_interopRequireDefault(_angularUiRouter),_index=__webpack_require__(187),_index2=_interopRequireDefault(_index),_angularActivityMonitor=__webpack_require__(189);_interopRequireDefault(_angularActivityMonitor);__webpack_require__(190),__webpack_require__(192),__webpack_require__(193),__webpack_require__(195),__webpack_require__(306),__webpack_require__(307),__webpack_require__(308),__webpack_require__(317),__webpack_require__(319),__webpack_require__(320),__webpack_require__(322);var _ngInfiniteScroll=__webpack_require__(323),_ngInfiniteScroll2=_interopRequireDefault(_ngInfiniteScroll);__webpack_require__(324),__webpack_require__(430),__webpack_require__(474);var _app=__webpack_require__(647),_app2=_interopRequireDefault(_app),_app3=__webpack_require__(668),_app4=_interopRequireDefault(_app3),_app5=__webpack_require__(669),_app6=_interopRequireDefault(_app5),_app7=__webpack_require__(674),_app8=_interopRequireDefault(_app7),_services=__webpack_require__(675),_services2=_interopRequireDefault(_services),_components=__webpack_require__(685),_components2=_interopRequireDefault(_components);__webpack_require__(746);var _paneltools=__webpack_require__(747),_paneltools2=_interopRequireDefault(_paneltools),_animate=__webpack_require__(749),_animate2=_interopRequireDefault(_animate),_sweetAlert=__webpack_require__(750),_sweetAlert2=_interopRequireDefault(_sweetAlert),_home=__webpack_require__(751),_home2=_interopRequireDefault(_home),_login=__webpack_require__(753),_login2=_interopRequireDefault(_login),_brokers=__webpack_require__(755),_brokers2=_interopRequireDefault(_brokers),_users=__webpack_require__(759),_users2=_interopRequireDefault(_users),_assets=__webpack_require__(768),_assets2=_interopRequireDefault(_assets),_assetStats=__webpack_require__(796),_assetStats2=_interopRequireDefault(_assetStats),_clients=__webpack_require__(809),_clients2=_interopRequireDefault(_clients),_registration=__webpack_require__(817),_registration2=_interopRequireDefault(_registration);__webpack_require__(820);var app=_angular2.default.module("tower360",[_angularUiRouter2.default,"dx","LocalStorageModule",_index2.default,"ActivityMonitor","ngAnimate","ngOnload","xeditable","ui.bootstrap","ngMap","angularMoment","angular-ladda","ui.select","ngSanitize",_ngInfiniteScroll2.default,_services2.default.name,_components2.default.name,"tower360.utils",_home2.default.name,_login2.default.name,_brokers2.default.name,_users2.default.name,_assets2.default.name,_assetStats2.default.name,_clients2.default.name,_registration2.default.name]);app.config(_app2.default),app.config(_app4.default),app.run(_app6.default),app.run(_app8.default),app.run(["editableOptions",function(editableOptions){editableOptions.theme="bs3"}]),app.directive("panelTools",_paneltools2.default.activate).directive("animatePanel",_animate2.default.activate).factory("sweetAlert",_sweetAlert2.default),app.filter("shortNumber",function(){return function(number){if(number){var abs=Math.abs(number);return abs>=Math.pow(10,12)?number=(number/Math.pow(10,12)).toFixed(1)+"T":abs<Math.pow(10,12)&&abs>=Math.pow(10,9)?number=(number/Math.pow(10,9)).toFixed(1)+"B":abs<Math.pow(10,9)&&abs>=Math.pow(10,6)?number=(number/Math.pow(10,6)).toFixed(1)+"M":abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&(number=(number/Math.pow(10,3)).toFixed(1)+"K"),number}}}),app.constant("Activities",{HomeView:"390E3425-970F-4DDF-9ED1-CC39B1F30E50",UsersView:"7A1781A1-E26A-4993-8BC5-09EFAF9D5DE8",BrokersView:"58B4A88A-6728-4DA3-9F3D-0546ABDB4560",BrokerManage:"934871FF-A6DE-4B2C-B863-A378A4A414C8",AssetsView:"D8D389D1-F92A-40A8-ABE5-CC3639D3CFD6",AssetsManage:"AD46C0DF-7009-4EA3-91F6-01C4133FD38C",ClientsManage:"D00F82C9-A412-4010-833A-F78F0DFD10DD"})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(114),__webpack_require__(123),__webpack_require__(131),__webpack_require__(133),__webpack_require__(137),__webpack_require__(144),__webpack_require__(146),__webpack_require__(148),__webpack_require__(150),__webpack_require__(152),__webpack_require__(154),__webpack_require__(156)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,114,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}var map={"./af":198,"./af.js":198,"./ar":199,"./ar-dz":200,"./ar-dz.js":200,"./ar-ly":201,"./ar-ly.js":201,"./ar-ma":202,"./ar-ma.js":202,"./ar-sa":203,"./ar-sa.js":203,"./ar-tn":204,"./ar-tn.js":204,"./ar.js":199,"./az":205,"./az.js":205,"./be":206,"./be.js":206,"./bg":207,"./bg.js":207,"./bn":208,"./bn.js":208,"./bo":209,"./bo.js":209,"./br":210,"./br.js":210,"./bs":211,"./bs.js":211,"./ca":212,"./ca.js":212,"./cs":213,"./cs.js":213,"./cv":214,"./cv.js":214,"./cy":215,"./cy.js":215,"./da":216,"./da.js":216,"./de":217,"./de-at":218,"./de-at.js":218,"./de.js":217,"./dv":219,"./dv.js":219,"./el":220,"./el.js":220,"./en-au":221,"./en-au.js":221,"./en-ca":222,"./en-ca.js":222,"./en-gb":223,"./en-gb.js":223,"./en-ie":224,"./en-ie.js":224,"./en-nz":225,"./en-nz.js":225,"./eo":226,"./eo.js":226,"./es":227,"./es-do":228,"./es-do.js":228,"./es.js":227,"./et":229,"./et.js":229,"./eu":230,"./eu.js":230,"./fa":231,"./fa.js":231,"./fi":232,"./fi.js":232,"./fo":233,"./fo.js":233,"./fr":234,"./fr-ca":235,"./fr-ca.js":235,"./fr-ch":236,"./fr-ch.js":236,"./fr.js":234,"./fy":237,"./fy.js":237,"./gd":238,"./gd.js":238,"./gl":239,"./gl.js":239,"./he":240,"./he.js":240,"./hi":241,"./hi.js":241,"./hr":242,"./hr.js":242,"./hu":243,"./hu.js":243,"./hy-am":244,"./hy-am.js":244,"./id":245,"./id.js":245,"./is":246,"./is.js":246,"./it":247,"./it.js":247,"./ja":248,"./ja.js":248,"./jv":249,"./jv.js":249,"./ka":250,"./ka.js":250,"./kk":251,"./kk.js":251,"./km":252,"./km.js":252,"./ko":253,"./ko.js":253,"./ky":254,"./ky.js":254,"./lb":255,"./lb.js":255,"./lo":256,"./lo.js":256,"./lt":257,"./lt.js":257,"./lv":258,"./lv.js":258,"./me":259,"./me.js":259,"./mi":260,"./mi.js":260,"./mk":261,"./mk.js":261,"./ml":262,"./ml.js":262,"./mr":263,"./mr.js":263,"./ms":264,"./ms-my":265,"./ms-my.js":265,"./ms.js":264,"./my":266,"./my.js":266,"./nb":267,"./nb.js":267,"./ne":268,"./ne.js":268,"./nl":269,"./nl-be":270,"./nl-be.js":270,"./nl.js":269,"./nn":271,"./nn.js":271,"./pa-in":272,"./pa-in.js":272,"./pl":273,"./pl.js":273,"./pt":274,"./pt-br":275,"./pt-br.js":275,"./pt.js":274,"./ro":276,"./ro.js":276,"./ru":277,"./ru.js":277,"./se":278,"./se.js":278,"./si":279,"./si.js":279,"./sk":280,"./sk.js":280,"./sl":281,"./sl.js":281,"./sq":282,"./sq.js":282,"./sr":283,"./sr-cyrl":284,"./sr-cyrl.js":284,"./sr.js":283,"./ss":285,"./ss.js":285,"./sv":286,"./sv.js":286,"./sw":287,"./sw.js":287,"./ta":288,"./ta.js":288,"./te":289,"./te.js":289,"./tet":290,"./tet.js":290,"./th":291,"./th.js":291,"./tl-ph":292,"./tl-ph.js":292,"./tlh":293,"./tlh.js":293,"./tr":294,"./tr.js":294,"./tzl":295,"./tzl.js":295,"./tzm":296,"./tzm-latn":297,"./tzm-latn.js":297,"./tzm.js":296,"./uk":298,"./uk.js":298,"./uz":299,"./uz.js":299,"./vi":300,"./vi.js":300,"./x-pseudo":301,"./x-pseudo.js":301,"./yo":302,"./yo.js":302,"./zh-cn":303,"./zh-cn.js":303,"./zh-hk":304,"./zh-hk.js":304,"./zh-tw":305,"./zh-tw.js":305};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=197},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function routing($urlRouterProvider,$locationProvider,$stateProvider,Activities){$locationProvider.html5Mode({enabled:!0,requireBase:!1}).hashPrefix("!"),$urlRouterProvider.otherwise("/"),$stateProvider.state("private",{template:__webpack_require__(648),abstract:!0}).state("home",{url:"/",parent:"private",template:__webpack_require__(649),controller:"HomeController",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.HomeView,"forbidden","login")}]}}).state("brokers",{url:"/brokers",parent:"private",template:__webpack_require__(650),controller:"BrokersController",controllerAs:"ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.BrokersView,"forbidden","login")}]}}).state("broker",{url:"/brokers/{id:int}",parent:"private",template:__webpack_require__(651),controller:"BrokerController",controllerAs:"$ctrl",resolve:{brokerObject:["$stateParams","Broker",function($stateParams,Broker){return Broker.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.BrokerManage,"forbidden","login")}]}}).state("asset-stats",{url:"/asset-stats",parent:"private",template:__webpack_require__(652),controller:"AssetStatsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}]}}).state("asset-stats-2",{url:"/asset-stats2",parent:"private",template:__webpack_require__(653),controller:"AssetStatsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}]}}).state("asset-stats-spaces",{url:"/asset-stats/{id:int}/spaces",parent:"private",template:__webpack_require__(654),controller:"AssetStatSpacesController",controllerAs:"$ctrl",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}]}}).state("asset-stats-tenants",{url:"/asset-stats/{id:int}/tenants",parent:"private",template:__webpack_require__(655),controller:"AssetStatTenantsController",controllerAs:"$ctrl",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}]}}).state("asset-stats-stacking-plan",{url:"/asset-stats/{id:int}/stacking-plan",parent:"private",template:__webpack_require__(656),controller:"AssetStatStackingPlanController",controllerAs:"$ctrl",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}]}}).state("users",{url:"/users",parent:"private",template:__webpack_require__(657),controller:"UsersController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.UsersView,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]}}).state("user",{url:"/users/{id:int}",parent:"private",template:__webpack_require__(658),controller:"UserController",controllerAs:"$ctrl",resolve:{userObject:["$stateParams","User",function($stateParams,User){return User.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.UsersView,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]}}).state("assets",{url:"/assets",parent:"private",template:__webpack_require__(659),controller:"AssetsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsManage,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]}}).state("asset",{url:"/assets/{id:int}",parent:"private",template:__webpack_require__(660),controller:"AssetController",controllerAs:"$ctrl",resolve:{assetObject:["$stateParams","Asset",function($stateParams,Asset){return Asset.getFull({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsManage,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]}}).state("clients",{url:"/clients",parent:"private",template:__webpack_require__(661),controller:"ClientsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.ClientsManage,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]}}).state("client",{url:"/clients/{id:int}",parent:"private",template:__webpack_require__(662),controller:"ClientController",controllerAs:"$ctrl",resolve:{clientObject:["$stateParams","Client",function($stateParams,Client){return Client.getFull({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.ClientsManage,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]}}).state("public",{template:__webpack_require__(663),abstract:!0}).state("login",{url:"/login",parent:"public",params:{automatic:!1},template:__webpack_require__(664),controller:"LoginController",controllerAs:"$ctrl"}).state("registration",{url:"/registration/{token}",template:__webpack_require__(665),controller:"RegistrationController",controllerAs:"$ctrl",resolve:{registrationObject:["$stateParams","Registration",function($stateParams,Registration){return Registration.get({token:$stateParams.token}).$promise}]}}).state("forbidden",{url:"/forbidden",template:__webpack_require__(666)}).state("notfound",{url:"/notfound",template:__webpack_require__(667)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=routing,routing.$inject=["$urlRouterProvider","$locationProvider","$stateProvider","Activities"]},function(module,exports){module.exports='<body class="page-index">\r\n    <!-- page -->\r\n    <div class="page page-sidebar">\r\n\r\n      <!-- navbar -->\r\n      <mainheader></mainheader>\r\n      <!-- /navbar -->\r\n\r\n      <!--sidebar-->\r\n      <aside id="left-sidebar" class="region region-sidebar">\r\n          <sidebar></sidebar>\r\n      </aside>\r\n      <!--/sidebar-->\r\n\r\n      <div id="wrapper" class="page-wrapper">\r\n        <!-- container -->\r\n        <div class="container-fluid">\r\n\r\n          <right-sidebar></right-sidebar>\r\n\r\n          <!-- content -->\r\n          <div id="content" class="region region-content">\r\n            <div ui-view class="main-content"></div>\r\n          </div>\r\n          <!-- content -->\r\n\r\n        </div>\r\n        <!-- /container -->\r\n\r\n        <!-- footer -->\r\n        <footer id="footer"></footer>\r\n        <!-- /footer -->\r\n      </div>\r\n    </div>\r\n\r\n    <toaster-container toaster-options="{\'position-class\': \'toast-bottom-center\'}"></toaster-container>\r\n    <!-- /page -->\r\n    <!--<body-blocker></body-blocker>-->\r\n</body>'},function(module,exports){module.exports='<div class="hpanel">\r\n    <div class="panel-body">\r\n        <h2>Dashboard</h2>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'brokers\', \'title\': Messages(\'brokers.title\') }]" title="{{Messages(\'brokers.title\')}}">\r\n        <navigation-create-items item="\'broker\'" class="pull-right"></navigation-create-items>\r\n    </breadcrumb-panel>\r\n</div>\r\n<div child="hpanel">\r\n    <div class="hpanel">\r\n        <div class="panel-body">\r\n            <div dx-data-grid="ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'brokers\', \'title\': Messages(\'brokers.title\') }, { \'title\': $ctrl.brokerObject.name }]" title="{{$ctrl.brokerObject.name}}">\r\n    </breadcrumb-panel>\r\n</div>\r\n\r\n<div class="row" child="hpanel">\r\n    <div class="col-lg-4">\r\n        <div class="hpanel horange">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editBroker()" title="{{Messages(\'brokers.edit\')}}"></i>\r\n                        <i class="fa btn btn-default btn-xs" ng-class="isArchived ? \'fa-undo\' : \'fa-trash-o\'" title="{{isArchived ? Messages(\'brokers.activate\') : Messages(\'brokers.archive\')}}" ng-click="$ctrl.archiveTrigger()"></i>\r\n                    </div>\r\n                </div>\r\n                <div class="broker-avatar">\r\n                    <img alt="" class="img-circle m-b m-t-md" src="img/user.svg" />\r\n                </div>\r\n                <h3 class="broker-name">\r\n                    {{$ctrl.brokerObject.name}}\r\n                    <span ng-if="isArchived" class="small archived-marker">{{Messages(\'brokers.archived\')}}</span>\r\n                </h3>\r\n            </div>\r\n            <div class="panel-footer">\r\n                <div class="row">\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="broker-stat">\r\n                            <span>{{Messages(\'brokers.projects\')}}: </span>\r\n                            <strong>200</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="broker-stat">\r\n                            <span>{{Messages(\'brokers.messages\')}}: </span>\r\n                            <strong>300</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                        <div class="broker-stat">\r\n                            <span>{{Messages(\'brokers.views\')}}: </span>\r\n                            <strong>400</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ng-map class="client-map" center="52.520468, 13.407234" zoom="11" disable-default-u-i="true" zoom-control="true" scrollwheel="false"></ng-map>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-8">\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <div class="fish-container">\r\n                    <i class="edge"></i>\r\n                    <span class="cont">{{Messages(\'brokers.additional.container\')}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports=' <div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') }]" title="{{Messages(\'assets.title\')}}"></breadcrumb-panel>\r\n</div>\r\n<div class="block block-content content-items">\r\n    <div class="row" ng-repeat="row in $ctrl.assets">\r\n        <div class="col-lg-3" ng-repeat="item in row" animate-panel child="asset-panel">\r\n            <div class="asset-panel-2">\r\n                <div ng-class="\'hpanel \' + item.color">\r\n                    <div class="panel-body" ng-show="$ctrl.isShow($index)">\r\n                        <div class="row">\r\n                            <div class="col-xs-5 column-image">\r\n                                <div class="image">\r\n                                    <img ng-src="{{(item.mainImageUrl? item.mainImageUrl: \'../../img/building-placeholder.png\')}}" alt="{{item.name}}" ng-onload="$ctrl.imageLoad()"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-xs-7 column-areas">\r\n                                <div class="row">\r\n                                    <div class="col-xs-12">\r\n                                        <h3 class="text-success">{{item.totalRentableArea | shortNumber}} m<sup>2</sup></h3>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row">\r\n                                    <div class="col-xs-6">\r\n                                        <small class="stats-label">Occupied</small>\r\n                                        <h5>{{item.occupancy | shortNumber}} m<sup>2</sup></h5>\r\n                                    </div>\r\n                                    <div class="col-xs-6">\r\n                                        <small class="stats-label">Vacancy</small>\r\n                                        <h5>{{item.vacancy | shortNumber}} m<sup>2</sup></h5>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="row">\r\n                                    <div class="progress full progress-small">\r\n                                        <div ng-style="{\'width\': item.occupancy/item.totalRentableArea*100 + \'%\'}" aria-valuemax="100" aria-valuemin="0" aria-valuenow="{{item.occupancy/item.totalRentableArea*100}}" role="progressbar" class=" progress-bar progress-bar-success">\r\n                                            <span class="sr-only">{{item.occupancy/item.totalRentableArea*100}}% Complete</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <h3>\r\n                            <a ui-sref="asset-stats-stacking-plan({id: item.id})">\r\n                                {{item.name}}\r\n                            </a>\r\n                        </h3>\r\n                        <div class="small text-muted font-bold m-b-xs">\r\n                            {{item.street}} {{item.streetAddress}}\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-footer contact-footer">\r\n                        <div class="row">\r\n                            <div class="col-md-6 border-right">\r\n                                <div class="asset-stat">\r\n                                    <span class="title">{{Messages(\'clients.title\')}}: </span>\r\n                                    <strong class="small">{{item.tenantsNumber}}</strong>\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-md-6 border-right">\r\n                                <div class="asset-stat">\r\n                                    <span class="title">{{Messages(\'assets.spaces.title\')}}: </span>\r\n                                    <strong class="small">{{item.spacesNumber}}</strong>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row page-loader-container" ng-hide="$ctrl.loadedImages[$ctrl.page]">\r\n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n    </div>\r\n\r\n    <div class="row text-right">\r\n        <span ng-if="$ctrl.isMore" class="animate-if">\r\n            <button class="btn" ng-click="$ctrl.loadMore()">Load More...</button>\r\n        </span>\r\n    </div>\r\n    <div class="row" ng-if="!$ctrl.assets || $ctrl.assetsLength === 0">\r\n        <div class="col-sm-6 col-md-1">\r\n            No data.\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports=' <div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') }]" title="{{Messages(\'assets.title\')}}"></breadcrumb-panel>\r\n</div>\r\n<div class="block block-content content-items">\r\n    <div class="row" ng-repeat="row in $ctrl.assets">\r\n        <div class="col-lg-3" ng-repeat="item in row" animate-panel child="asset-panel">\r\n            <div class="asset-panel-2">\r\n                <div class="hpanel">\r\n                    <div class="panel-body">\r\n                        <div\r\n                            class="assets-stats-image"\r\n                            style="background-image: url({{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}})">\r\n                        </div>\r\n\r\n                        <h3>\r\n                            <a ui-sref="asset-stats-stacking-plan({id: item.id})">\r\n                                {{item.name}}\r\n                            </a>\r\n                        </h3>\r\n                        <div class="small text-muted font-bold m-b-xs">\r\n                            {{item.street}} {{item.streetAddress}}\r\n                        </div>\r\n                    </div>\r\n                    <div class="panel-footer assets-stats-footer">\r\n                        <div class="row">\r\n                            <div class="cell border-right">\r\n                                <div class="asset-stat">\r\n                                    <span class="title">{{Messages(\'assets.total.rentable\')}}: </span>\r\n                                    <strong class="small">\r\n                                        {{item.totalRentableArea.toFixed(2)}}\r\n                                        <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                    </strong>\r\n                                </div>\r\n                            </div>\r\n                            <div class="cell border-right">\r\n                                <div class="asset-stat">\r\n                                    <span class="title">{{Messages(\'assets.spaces.title\')}}: </span>\r\n                                    <strong class="small">\r\n                                        {{item.vacancy.toFixed(2)}}\r\n                                        <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                    </strong>\r\n                                </div>\r\n                            </div>\r\n                            <div class="cell">\r\n                                <div class="asset-stat">\r\n                                    <span class="title">{{Messages(\'assets.spaces.title\')}}: </span>\r\n                                    <strong class="small">\r\n                                        {{item.occupancy.toFixed(2)}}\r\n                                        <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                    </strong>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="row page-loader-container" ng-if="$ctrl.isMore">\r\n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n    </div>\r\n\r\n    <div class="row text-right">\r\n        <span ng-if="$ctrl.isMore" class="animate-if">\r\n            <button class="btn" ng-click="$ctrl.loadMore()">Load More...</button>\r\n        </span>\r\n    </div>\r\n    <div class="row" ng-if="!$ctrl.assets || $ctrl.assetsLength === 0">\r\n        <div class="col-sm-6 col-md-1">\r\n            No data.\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'assets.spaces.title\')}]" title="{{Messages(\'assets.spaces.title\')}}"></breadcrumb-panel>\r\n</div>\r\n<div child="hpanel">\r\n    <div class="hpanel spaces-filter">\r\n        <div class="panel-heading hbuilt">\r\n            <div panel-tools></div>\r\n            {{Messages(\'assets.spaces.filter.status.title\')}}\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="row">\r\n                <div class="col-lg-12">\r\n                    <ul class="nav nav-pills spaces-status">\r\n                        <li class="spaces-filter-status-item" ng-repeat="status in statuses" role="presentation" ng-class="selectedStatus.id === status.id ? \'active\' : \'\'">\r\n                            <input ng-if="status.id === \'custom\'" type="text" id="spaces-filter-daterangepicker" />\r\n                            <a href="#" ng-click="$ctrl.selectStatus($event, status)">\r\n                                <span ng-if="status.id !== \'custom\' || !customAvailableFrom && !customAvailableTo">\r\n                                    {{ status.name }}\r\n                                </span>\r\n                                <span ng-if="status.id != \'custom\' && status.label !== undefined" class="badge">\r\n                                    {{ status.label }}\r\n                                </span>\r\n                                <span ng-if="status.id === \'custom\' && customAvailableFrom && customAvailableTo">\r\n                                    <span ng-if="customAvailableFrom !== customAvailableTo">{{customAvailableFrom}} - {{customAvailableTo}}</span>\r\n                                    <span ng-if="customAvailableFrom === customAvailableTo">{{customAvailableFrom}}</span>\r\n                                </span>\r\n                            </a>\r\n                        </li>\r\n                        <li class="spaces-status-no-focus">\r\n                            <a href="#" ng-click="$ctrl.showExtraFilters()" class="no-outline">\r\n                                <i class="fa fa-filter"></i>\r\n                                {{Messages(\'assets.spaces.filter.extra\')}}\r\n                            </a>\r\n                        </li>\r\n                        <!--<li class="spaces-status-no-focus">-->\r\n                            <!--<a href="#" class="no-outline">-->\r\n                                <!--<i class="fa fa-star-o"></i>-->\r\n                                <!--{{Messages(\'assets.spaces.filter.favorites\')}}-->\r\n                                <!--<i class="caret"></i>-->\r\n                            <!--</a>-->\r\n                        <!--</li>-->\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div ng-if="extraFilters.length" class="m-t-l">\r\n                <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n                    <span ng-if="item.name">{{item.name}}: </span>\r\n                    <strong ng-bind-html="item.text" />\r\n                    <i class="fa fa-times" ng-click="$ctrl.extraFilterRemoveItem(item)"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="hpanel">\r\n        <div class="panel-body" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n            <div ng-if="!greedData.length && !update" class="text-center">\r\n                {{Messages(\'assets.spaces.filter.empty\')}}\r\n            </div>\r\n            <table ng-if="greedData.length" cellpadding="1" cellspacing="1" class="table table-striped table-bordered table-hover dataTable no-footer spaces-filter-grid" id="filtered-spaces-grid">\r\n                <colgroup>\r\n                    <col width="5%">\r\n                    <col width="10%">\r\n                    <col width="12%">\r\n                    <col width="12%">\r\n                    <col width="13%">\r\n                    <col width="12%">\r\n                    <col width="12%">\r\n                    <col width="12%">\r\n                    <col width="12%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th ng-click="$ctrl.sortGrid(\'unit\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.unit\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'unit\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'unit\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'unit\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'tower\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.tower\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'tower\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'tower\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'tower\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'floor\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.floor\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'floor\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'floor\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'floor\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'area\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.rentable_area\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'area\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'area\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'area\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'type\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.type\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'type\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'type\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'type\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'price\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.asking_price\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'price\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'price\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'price\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.in_place_rent\')}}\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'status\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.status\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'status\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'status\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'status\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'availability\')" class="text-right">\r\n                            {{Messages(\'assets.spaces.filter.availability\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'availability\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'availability\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'availability\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tr ng-repeat="item in greedData" ng-click="$ctrl.showSpaceInfo($event, item)">\r\n                    <td class="text-right">{{item.number}}</td>\r\n                    <td class="text-right">{{item.towerName}}</td>\r\n                    <td class="text-right">{{item.floorName}}</td>\r\n                    <td class="text-right">\r\n                        {{item.rentableArea.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                    </td>\r\n                    <td class="text-right">{{$ctrl.getOfficeType(item.type)}}</td>\r\n                    <td ng-if="item.minAskingPrice !== null && item.maxAskingPrice !== null" class="text-right">\r\n                        {{item.minAskingPrice.toFixed(2)}} - {{item.maxAskingPrice.toFixed(2)}} €/<span ng-bind-html="Messages(\'square.meter\')"/>\r\n                    </td>\r\n                    <td ng-if="!item.minAskingPrice && !item.maxAskingPrice" class="text-right">--</td>\r\n                    <td ng-if="item.contract" class="text-right">\r\n                        {{item.contract && item.contract.inPlaceRent.toFixed(2)}} €/<span ng-bind-html="Messages(\'square.meter\')"/>\r\n                    </td>\r\n                    <td ng-if="!item.contract" class="text-right">--</td>\r\n                    <td class="text-right">\r\n                        {{item.contract ? Messages(\'assets.spaces.filter.occupied\') : Messages(\'assets.spaces.filter.vacant\')}}\r\n                    </td>\r\n                    <td class="text-right">\r\n                        {{item.contract &&  item.contract.endsAt ? $ctrl.getParsedDate(item.contract.endsAt) : Messages(\'assets.spaces.filter.immediately\')}}\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n                <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n            </div>\r\n            <div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'assets.tenants.title\')}]" title="{{Messages(\'assets.tenants.title\')}}"></breadcrumb-panel>\r\n</div>\r\n<div child="hpanel">\r\n    <div class="hpanel spaces-filter">\r\n        <div class="panel-heading hbuilt">\r\n            <div panel-tools></div>\r\n            {{Messages(\'assets.tenants.filter.quick.title\')}}\r\n        </div>\r\n        <div class="panel-body">\r\n            <div class="row">\r\n                <div class="col-lg-12">\r\n                    <ul class="nav nav-pills spaces-status">\r\n                        <li class="spaces-filter-status-item" ng-repeat="status in statuses" role="presentation" ng-class="selectedStatus.id === status.id ? \'active\' : \'\'">\r\n                            <input ng-if="status.id === \'custom\'" type="text" id="spaces-filter-daterangepicker" />\r\n                            <a href="#" ng-click="$ctrl.selectStatus($event, status)">\r\n                                <span ng-if="status.id !== \'custom\' || !customExpirationFrom && !customExpirationTo">\r\n                                    {{ status.name }}\r\n                                </span>\r\n                                <span ng-if="status.id !== \'custom\' && status.id !== \'expired\' && status.label !== undefined" class="badge">\r\n                                    {{ status.label }} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                </span>\r\n                                <span ng-if="status.id === \'custom\' && customExpirationFrom && customExpirationTo">\r\n                                    <span ng-if="customExpirationFrom !== customExpirationTo">{{customExpirationFrom}} - {{customExpirationTo}}</span>\r\n                                    <span ng-if="customExpirationFrom === customExpirationTo">{{customExpirationFrom}}</span>\r\n                                </span>\r\n                            </a>\r\n                        </li>\r\n                        <li class="spaces-status-no-focus">\r\n                            <a href="#" ng-click="$ctrl.showExtraFilters()" class="no-outline">\r\n                                <i class="fa fa-filter"></i>\r\n                                {{Messages(\'assets.spaces.filter.extra\')}}\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n            <div ng-if="extraFilters.length" class="m-t-l">\r\n                <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n                    <span ng-if="item.name">{{item.name}}: </span>\r\n                    <strong ng-bind-html="item.text" />\r\n                    <i class="fa fa-times" ng-click="$ctrl.extraFilterRemoveItem(item)"></i>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="hpanel">\r\n        <div class="panel-body" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n            <div ng-if="!greedData.length && !update" class="text-center">\r\n                {{Messages(\'assets.spaces.filter.empty\')}}\r\n            </div>\r\n            <table ng-if="greedData.length" cellpadding="1" cellspacing="1" class="table table-striped table-bordered table-hover dataTable no-footer spaces-filter-grid" id="filtered-spaces-grid">\r\n                <colgroup>\r\n                    <col width="16%">\r\n                    <col width="12%">\r\n                    <col width="12%">\r\n                    <col width="10%">\r\n                    <col width="10%">\r\n                    <col width="12%">\r\n                    <col width="14%">\r\n                    <col width="14%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th ng-click="$ctrl.sortGrid(\'name\')">\r\n                            {{Messages(\'assets.tenants.filter.tenant_name\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'unit\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'unit\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'unit\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'startDate\')" class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.lease_start_date\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'tower\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'tower\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'tower\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'endDate\')" class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.lease_end_date\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'floor\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'floor\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'floor\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'totalArea\')" class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.size\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'area\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'area\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'area\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'totalCost\')" class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.total_rent\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'type\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'type\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'type\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th ng-click="$ctrl.sortGrid(\'avgMeterCost\')" class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.rent\')}}&nbsp;&nbsp;\r\n                            <i ng-if="sortType !== \'price\'" class="fa fa-sort"></i>\r\n                            <i ng-if="sortType === \'price\' && sortDirection === 1" class="fa fa-sort-amount-desc"></i>\r\n                            <i ng-if="sortType === \'price\' && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n                        </th>\r\n                        <th class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.unit\')}}\r\n                        </th>\r\n                        <th class="text-right">\r\n                            {{Messages(\'assets.tenants.filter.towers\')}}&nbsp;&nbsp;\r\n                        </th>\r\n                    </tr>\r\n                </thead>\r\n                <tr ng-repeat="item in greedData" ng-click="$ctrl.showTenantInfo($event, item)">\r\n                    <td>{{item.tenantName}}</td>\r\n                    <td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n                    <td class="text-right">{{$ctrl.getParsedDate(item.endDate)}}</td>\r\n                    <td class="text-right">\r\n                        {{item.totalArea.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                    </td>\r\n                    <td class="text-right">{{item.totalRentCost.toFixed(2)}} €</td>\r\n                    <td class="text-right">\r\n                        {{item.averageMeterCost.toFixed(2)}} €/<span ng-bind-html="Messages(\'square.meter\')"/>\r\n                        <span ng-if="item.spaces.length > 1" class="tenants-avg-indicator">\r\n                            AVG\r\n                        </span>\r\n                    </td>\r\n                    <td class="text-right">\r\n                        <a href="#" ng-repeat="(key, space) in item.spaces" ng-if="key < 3" ng-click="$ctrl.showSpaceInfo(space)">\r\n                            [{{space.number}}]\r\n                        </a>\r\n                        <span ng-if="item.spaces.length > 3" class="tenants-additional-units-indicator">\r\n                            +{{item.spaces.length - 3}}\r\n                        </span>\r\n                    </td>\r\n                    <td class="text-right">\r\n                        <span ng-repeat="(key, towerName) in $ctrl.getUniqueSpacesTowers(item.spaces)" ng-if="key < 3">\r\n                            [{{towerName}}]\r\n                        </span>\r\n                    </td>\r\n                </tr>\r\n            </table>\r\n            <div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n                <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n            </div>\r\n            <div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'stacking-plan.title\')}]" title="{{Messages(\'stacking-plan.title\')}}"></breadcrumb-panel>\r\n</div>\r\n<div child="hpanel" id="plan-page-wrap">\r\n    <div class="hpanel">\r\n        <ul class="plan-tabs" data-type="actual" ng-if="!isTabsLoadingState && !noStackingPlan">\r\n            <li class="view-tab pull-right" data-type="actual">\r\n                <i class="fa fa-signal"></i> {{ Messages(\'stacking-plan.view.actual\') }}\r\n                <a href="#" data-type="actual" ng-click="$ctrl.viewChanged($event)" class="blocker"></a>\r\n            </li>\r\n            <li class="view-tab pull-right active" data-type="normalized">\r\n                <i class="fa fa-list"></i> {{ Messages(\'stacking-plan.view.normalized\') }}\r\n                <a href="#" data-type="normalized" ng-click="$ctrl.viewChanged($event)" class="blocker"></a>\r\n            </li>\r\n        </ul>\r\n        <ul class="nav nav-tabs" id="tabs" role="tablist" ng-if="!isTabsLoadingState && !noStackingPlan">\r\n            <li ng-repeat="tab in tabs" ng-class="tabs.indexOf(tab) === 0 ? \'active\' : \'\'">\r\n                <a href="#content" data-toggle="tab" role="tab" ng-click="$ctrl.tabSelected($event, tab)">\r\n                    {{ tab.name }}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n        <div class="tab-content">\r\n            <div class="tab-pane active" id="content" role="tabpanel">\r\n                <div class="panel-body">\r\n                    <!--\r\n                    <div class="col-md-3 plan-scroll-panel">\r\n                        <div id="plan-scroll-wrap-overflow">\r\n                            <div id="plan-scroll-wrap">\r\n                                <div id="plan-scroll-cont" ng-if="!isLoadingState && !noStackingPlan">\r\n                                    <div class="plan-scroll-cont-item" ng-repeat="floor in floors">\r\n                                        <div class="plan-scroll-item-table-wrap" ng-style="{width: floor.width}">\r\n                                            <table>\r\n                                                <tr>\r\n                                                    <td\r\n                                                        ng-repeat="space in floor.spaces"\r\n                                                        class="plan-scroll-space" ng-class="!space.tenantId ? \' plan-scroll-space-free\' : \'\'"\r\n                                                        ng-style="{width: space.weight + \'%\'}"\r\n                                                    ></td>\r\n                                                    <td ng-if="floor.spaces.length === 0" class="plan-scroll-space plan-scroll-space-empty"></td>\r\n                                                </tr>\r\n                                            </table>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div id="plan-scroll-blocker"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>-->\r\n                    <div class="col-md-1 stacking-plan-legend">\r\n                        <div>\r\n                            <span class="vacant-legend"></span>\r\n                            <span class="vacant-title">{{ Messages(\'stacking-plan.legend.vacant\') }}</span>\r\n                        </div>\r\n                        <div class="lease-expiration-title">\r\n                            {{ Messages(\'stacking-plan.legend.lease.expiration\') }}\r\n                        </div>\r\n                        <div ng-repeat="year in $ctrl.legendYears" class="expiration-year-item">\r\n                            <span class="expiration-year-legend" ng-class="\'year-\'+year.index"></span>\r\n                            <span class="expiration-year-title">{{year.title}}</span>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-8">\r\n                        <div id="plan-wrap-overflow">\r\n                            <div id="plan-wrap">\r\n                                <div ng-if="isLoadingState || isTabsLoadingState" class="plan-loader">\r\n                                    <div class="edge"></div>\r\n                                    <div class="cont">\r\n                                        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                                    </div>\r\n                                </div>\r\n                                <div id="plan-cont" ng-if="!isLoadingState && !noStackingPlan">\r\n                                    <div class="plan-item" ng-repeat="floor in floors">\r\n                                        <div class="floor-name-wrapper">\r\n                                            <div class="floor-name">{{ floor.floorName }}</div>\r\n                                            <div class="floor-space-total">{{ floor.totalFloorArea | number:2 }} <span ng-bind-html="Messages(\'square.meter\')"/></div>\r\n                                        </div>\r\n                                        <div class="plan-item-table-wrap" ng-style="{width: floor.width}">\r\n                                            <table class="plan-item-table" >\r\n                                                <tr>\r\n                                                    <td\r\n                                                        ng-repeat="space in floor.spaces"\r\n                                                        class="plan-item-space" ng-class="!space.tenantId ? (description.spaceNumber != space.spaceNumber ? \'plan-item-space-free space-content-free\': \'space-content-free space-selected\')\r\n                                                        : (description == null ? \'space-content-\'+space.leaseEndYearIndex \r\n                                                        : description.spaceNumber != space.spaceNumber? \'plan-item-space-free\': \'space-selected\')"\r\n                                                        ng-style="{width: space.weight + \'%\'}"\r\n                                                        ng-click="$ctrl.showSpaceDescription(space)"\r\n                                                    >\r\n                                                        <div class="plan-item-space-cont">\r\n                                                            <div class="space-cont-header" ng-if="space.tenantId">\r\n                                                                <div class="name">\r\n                                                                    {{ space.tenantName }}\r\n                                                                </div>\r\n                                                                <div class="price">\r\n                                                                    {{space.inPlaceRent}} €/<span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div class="space-lease-expiration" ng-if="space.tenantId">\r\n                                                                {{ Messages(\'stacking-plan.expires\') }}: {{space.leaseEndDate | date:\'MM/dd/yyyy\'}}\r\n                                                            </div>\r\n                                                            <div class="space-area" ng-if="!space.tenantId">\r\n                                                                {{ space.spaceArea | number:2 }} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                                            </div>\r\n                                                            <div class="space-lease-expiration-free" ng-if="!space.tenantId">&nbsp;</div>\r\n\r\n                                                            <div class="space-cont-footer">\r\n                                                                <div class="unit">\r\n                                                                    <span class="space-unit-title">\r\n                                                                        {{Messages(\'stacking-plan.unit\')}}\r\n                                                                    </span>\r\n                                                                    <br>\r\n                                                                    <span class="space-unit-legend">\r\n                                                                        {{space.spaceNumber}}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                                <div class="space-area" ng-if="space.tenantId">\r\n                                                                    {{ space.spaceArea | number:2 }} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td ng-if="floor.spaces.length === 0" class="plan-item-space plan-item-space-empty">\r\n                                                        <div class="plan-item-space-cont">{{Messages(\'nospaces\')}}</div>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </table>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div ng-if="noStackingPlan" class="plan-empty">\r\n                                    <div class="edge"></div>\r\n                                    <div class="cont">\r\n                                        {{ noStackingPlanMessage || Messages(\'stacking-plan.empty\') }}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-3 plan-description-panel" ng-if="!isLoadingState && !isTabsLoadingState">\r\n                        <div animate-panel child="hpanel" ng-if="details">\r\n                            <div class="hpanel">\r\n                                <div class="panel-heading hbuilt">\r\n                                    <div class="panel-tools">\r\n                                        <a class="closebox" ng-click="$ctrl.hideSpaceDescription()"><i class="fa fa-times"></i></a>\r\n                                    </div>\r\n                                    {{ Messages(\'stacking-plan.space.details\') }}\r\n                                </div>\r\n                                <div class="panel-body">\r\n                                    <div class="row plan-descr space-details">\r\n                                        <div class="space-title pull-left">\r\n                                            <h4>{{ details.spaceTypeString }}</h4>\r\n                                        </div>\r\n                                        <div class="space-info">\r\n                                            <h3 class="space-number">{{ details.spaceNumber }}</h3>\r\n                                            <h3 class="space-rentable-area">{{ details.spaceArea | number:2}} <span ng-bind-html="Messages(\'square.meter\')"/></h3>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="panel-body" ng-if="details.tenantName">\r\n                                    <div class="row plan-descr tenant-details">\r\n                                        <div class="tenant-title pull-left">\r\n                                            <h4 ng-class="\'industry\' + details.industryId">{{ details.industry }}</h4>\r\n                                        </div>\r\n                                        <div class="tenant-info">\r\n                                            <h3 class="tenant-name"><a ui-sref="client({id: details.tenantId})">{{ details.tenantName }}</a></h3>\r\n                                            <span class="font-bold no-margins">\r\n                                                {{Messages(\'stacking-plan.expires.2\')}} <span am-time-ago="details.leaseEndDate"></span>\r\n                                            </span>\r\n                                            <div class="progress full progress-small">\r\n                                                <div ng-style="{\'width\': details.expires + \'%\'}" aria-valuemax="100" aria-valuemin="0" aria-valuenow="{{details.expires}}" role="progressbar" class=" progress-bar progress-bar-success">\r\n                                                    <span class="sr-only">{{details.expires}}% Complete</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class="row">\r\n                                                <div class="col-xs-6">\r\n                                                    <small class="stats-label">{{Messages(\'stacking.plan.details.lease.start\')}}</small>\r\n                                                    <h4>{{ details.leaseStartDate | date : \'dd/MM/yyyy\'}}</h4>\r\n                                                </div>\r\n\r\n                                            <div class="col-xs-6">\r\n                                                <small class="stats-label">{{Messages(\'stacking.plan.details.lease.end\')}}</small>\r\n                                                <h4>{{ description.leaseEndDate | date : \'dd/MM/yyyy\'}}</h4>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="panel-body" ng-if="description.tenantName">\r\n                                <div class="row plan-descr rent-details">\r\n                                    <div>\r\n                                        <small class="stats-label">{{Messages(\'stacking.plan.details.cost.totalmonth\')}}</small>\r\n                                        <h1 class="text-success">€ {{ description.totalCosts | number:2}}</h1> \r\n                                        <h3>{{ description.inPlaceRent | number:2}} €/<span ng-bind-html="Messages(\'square.meter\')"/></h4>\r\n                                    </div>\r\n                                    <div class="row">\r\n                                        <div class="col-xs-6">\r\n                                            <small class="stat-label">{{Messages(\'stacking.plan.details.cost.netrent\')}}</small>\r\n                                            <h4>€ {{ description.netRent | number:2}}</h4>\r\n                                        </div>\r\n                                        <div class="col-xs-6">\r\n                                            <small class="stat-label">{{Messages(\'stacking.plan.details.cost.additional\')}}</small>\r\n                                            <h4>€ {{ description.additionalCosts | number:2}}</h4>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="row">\r\n                                        <div class="col-xs-6">\r\n                                            <small class="stat-label">{{Messages(\'stacking.plan.details.cost.other\')}}</small>\r\n                                            <h4>€ {{ description.otherCosts | number:2}}</h4>\r\n                                        </div>\r\n                                        <div class="col-xs-6">\r\n                                            <small class="stat-label">{{Messages(\'stacking.plan.details.cost.vat\')}}</small>\r\n                                            <h4>€ {{ description.vatCosts | number:2}}</h4>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'users\', \'title\': Messages(\'users.title\') }]" title="{{Messages(\'users.title\')}}">\r\n        <navigation-create-items item="\'user\'" class="pull-right"></navigation-create-items>\r\n    </breadcrumb-panel>\r\n</div>\r\n<div child="hpanel">\r\n    <div class="hpanel">\r\n        <div class="panel-body">\r\n            <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'users\', \'title\': Messages(\'users.title\') }, { \'title\': $ctrl.userObject.displayName }]" title="{{$ctrl.userObject.displayName}}">\r\n    </breadcrumb-panel>\r\n</div>\r\n\r\n<div class="row" child="hpanel">\r\n    <div class="col-lg-4">\r\n        <div class="hpanel" ng-class="role.id === 1 ? \'hred\' : \'hgreen\'">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group" ng-if="$ctrl.userObject.id !== $ctrl.currentUser.id">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editUser()" title="{{Messages(\'users.edit\')}}"></i>\r\n                        <i class="fa fa-key btn btn-default btn-xs" ng-click="$ctrl.changePassword()" title="{{Messages(\'users.changePassword\')}}"></i>\r\n                        <i class="fa btn btn-default btn-xs" ng-class="isArchived ? \'fa-undo\' : \'fa-trash-o\'" title="{{isArchived ? Messages(\'users.activate\') : Messages(\'users.archive\')}}" ng-click="$ctrl.archiveTrigger()"></i>\r\n                    </div>\r\n                    <div class="btn-group" ng-if="$ctrl.userObject.id === $ctrl.currentUser.id">\r\n                        <i class="fa fa-key btn btn-default btn-xs" ng-click="$ctrl.changePassword()" title="{{Messages(\'users.changePassword\')}}"></i>\r\n                    </div>\r\n                    <div class="user-locale-placeholder">\r\n                        <span class="user-locale-name">{{locale.localeName}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="user-avatar">\r\n                    <img alt="" class="img-circle m-b m-t-md" src="img/user.svg" />\r\n                </div>\r\n                <h3 class="user-name">\r\n                    {{$ctrl.userObject.displayName}}\r\n                    <span ng-if="isArchived" class="small archived-marker">{{Messages(\'users.archived\')}}</span>\r\n                </h3>\r\n                <div class="user-status" ng-class="role.id === 1 ? \'administrator\' : \'user\'">\r\n                    {{role.name}}\r\n                </div>\r\n            </div>\r\n            <div class="panel-footer contact-footer">\r\n                <div class="row">\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="contact-stat">\r\n                            <span>{{Messages(\'users.projects\')}}: </span>\r\n                            <strong>200</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="contact-stat">\r\n                            <span>{{Messages(\'users.messages\')}}: </span>\r\n                            <strong>300</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                        <div class="contact-stat">\r\n                            <span>{{Messages(\'users.views\')}}: </span>\r\n                            <strong>400</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-8">\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <div class="fish-container">\r\n                    <i class="edge"></i>\r\n                    <span class="cont">{{Messages(\'users.additional.container\')}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'assets\', \'title\': Messages(\'assets.title\') }]" title="{{Messages(\'assets.title\')}}">\r\n        <navigation-create-items item="\'asset\'" class="pull-right"></navigation-create-items>\r\n    </breadcrumb-panel>\r\n</div>\r\n<div child="hpanel">\r\n    <div class="hpanel">\r\n        <div class="panel-body">\r\n            <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'assets\', \'title\': Messages(\'assets.title\') }, { \'title\': $ctrl.asset.name }]" title="{{$ctrl.asset.name}}">\r\n    </breadcrumb-panel>\r\n</div>\r\n\r\n<div class="row" child="hpanel">\r\n    <div class="col-md-4">\r\n        <div class="hpanel hblue">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editAsset()" title="{{Messages(\'assets.edit\')}}"></i>\r\n                        <i class="fa btn btn-default btn-xs" ng-class="isArchived ? \'fa-undo\' : \'fa-trash-o\'" title="{{isArchived ? Messages(\'assets.activate\') : Messages(\'assets.archive\')}}" ng-click="$ctrl.archiveTrigger()"></i>\r\n                    </div>\r\n                </div>\r\n                <h2 class="asset-name">\r\n                    {{ $ctrl.asset.name }}\r\n                    <span ng-if="isArchived" class="small archived-marker">{{Messages(\'assets.archived\')}}</span>\r\n                </h2>\r\n                <div class="asset-address">{{ $ctrl.asset.address }}</div>\r\n                <p class="asset-description">{{ $ctrl.asset.description }}</p>\r\n            </div>\r\n            <ng-map class="asset-map" center="52.520468, 13.407234" zoom="11"  zoom="11" disable-default-u-i="true" zoom-control="true" scrollwheel="false"></ng-map>\r\n            <div class="panel-body">\r\n                <table class="table table-bordered table-striped asset-editable">\r\n                    <colgroup>\r\n                        <col width="40%">\r\n                        <col width="60%">\r\n                    </colgroup>\r\n                    <tr>\r\n                        <td>\r\n                            {{ Messages(\'assets.broker\') }}\r\n                            <p class="help-note">{{ Messages(\'assets.broker.help\') }}</p>\r\n                        </td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-select="$ctrl.brokerId" e-required e-ng-options="s.value as s.text for s in $ctrl.brokers" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.showBroker() }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            {{ Messages(\'assets.brokerDatabaseRecordId\') }}\r\n                            <p class="help-note">{{ Messages(\'assets.brokerDatabaseRecordId.help\') }}</p>\r\n                        </td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-text="$ctrl.brokerDatabaseRecordId" onbeforesave="$ctrl.brokerDatabaseRecordIdValidation($data)" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.brokerDatabaseRecordId || \'empty\' }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{{ Messages(\'assets.notes\') }}</td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-textarea="$ctrl.notes" onbeforesave="$ctrl.notesValidation($data)" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.notes || \'empty\' }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div class="hpanel-title">{{ Messages(\'assets.gallery.title\') }}</div>\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <assetgallery images="$ctrl.asset.images" update-image="updateImage"></assetgallery>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-8">\r\n        <div class="hpanel">\r\n            <ul class="nav nav-tabs" role="tablist" id="myTabs">\r\n                <li class="active" role="presentation">\r\n                    <a href="#spaces" id="spaces-tab" role="tab" data-toggle="tab" aria-controls="spaces" aria-expanded="true" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                        {{ Messages(\'assets.spaces.title\') }}\r\n                    </a>\r\n                </li>\r\n                <li role="presentation">\r\n                    <a href="#floors" id="floors-tab" role="tab" data-toggle="tab" aria-controls="floors" aria-expanded="false" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                        {{ Messages(\'assets.floors.title\') }}\r\n                    </a>\r\n                </li>\r\n                <li role="presentation">\r\n                    <a href="#objects" id="objects-tab" role="tab" data-toggle="tab" aria-controls="objects" aria-expanded="false" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                        {{ Messages(\'assets.objects.title\') }}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n            <div class="tab-content">\r\n                <div id="spaces" class="tab-pane active">\r\n                    <div class="panel-body">\r\n                        <spaces id="spaceSettings" class="form-group" asset="$ctrl.asset" save-updates="saveUpdates" need-update-data-sources="$ctrl.updateDataSources(\'spaces\');"></spaces>\r\n                    </div>\r\n                </div>\r\n                <div id="floors" class="tab-pane">\r\n                    <div class="panel-body">\r\n                        <floor id="floorSettings" class="form-group" asset="$ctrl.asset" save-updates="saveUpdates" need-update-data-sources="$ctrl.updateDataSources(\'floors\');"></floor>\r\n                    </div>\r\n                </div>\r\n                <div id="objects" class="tab-pane">\r\n                    <div class="panel-body">\r\n                        <object id="objectsSettings" class="form-group" asset="$ctrl.asset" save-updates="saveUpdates" need-update-data-sources="$ctrl.updateDataSources(\'objects\');"></object>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{\'path\':\'clients\', \'title\': Messages(\'clients.title\')}]" title="{{Messages(\'clients.title\')}}">\r\n        <navigation-create-items item="\'client\'" class="pull-right"></navigation-create-items>\r\n    </breadcrumb-panel>\r\n</div>\r\n<div child="hpanel">\r\n    <div>\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n            </div>\r\n        </div>\r\n        <div ng-if="$ctrl.selectedClient">\r\n            {{Messages(\'clients.view.title\')}}: {{$ctrl.selectedClient.name}} <br/>\r\n            {{Messages(\'clients.address\')}}: {{$ctrl.selectedClient.address}} <br />\r\n            {{Messages(\'clients.representatives.title\')}}: <br/>\r\n            <ul ng-repeat="rep in $ctrl.selectedClient.representatives">\r\n               <li> {{rep.name}} : {{rep.email}} : {{rep.mobileNumber}} : {{rep.officeNumber}} </li>\r\n            </ul>\r\n            {{Messages(\'clients.view.notes\')}}:\r\n            <pre>{{$ctrl.selectedClient.notes}}</pre>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'clients\', \'title\': Messages(\'clients.title\') }, { \'title\': $ctrl.clientObject.name }]" title="{{$ctrl.clientObject.name}}">\r\n    </breadcrumb-panel>\r\n</div>\r\n<div class="row" child="hpanel">\r\n    <div class="col-lg-4">\r\n        <div class="hpanel horange">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editClient()" title="{{Messages(\'clients.edit\')}}"></i>\r\n                    </div>\r\n                </div>\r\n                <div class="client-avatar">\r\n                    <img alt="" class="img-circle m-b m-t-md" src="img/user.svg" />\r\n                </div>\r\n                <h3 class="client-name">\r\n                    {{$ctrl.clientObject.name}}\r\n                </h3>\r\n                <div class="client-industry" ng-class="\'industry\'+$ctrl.clientObject.industryId">\r\n                    {{$ctrl.clientObject.industry}}\r\n                </div>\r\n                <dl>\r\n                    <dt ng-if="$ctrl.clientObject.shortName.length > 0">{{ Messages(\'clients.shortName.formLabel\') }}</dt>\r\n                    <dd ng-if="$ctrl.clientObject.shortName.length > 0">{{$ctrl.clientObject.shortName}}</dd>\r\n                </dl>\r\n                <div class="client-address" ng-if="$ctrl.clientObject.address.length > 0">\r\n                    {{$ctrl.clientObject.address}}\r\n                </div>\r\n                \r\n            </div>\r\n            <ng-map class="client-map" center="52.520468, 13.407234" zoom="11" disable-default-u-i="true" zoom-control="true" scrollwheel="false"></ng-map>\r\n            <div class="panel-body" ng-if="$ctrl.clientObject.notes.length > 0">\r\n                {{$ctrl.clientObject.notes}}\r\n            </div>\r\n            <!--<div class="panel-footer">\r\n                <div class="row">\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="client-stat">\r\n                            <span>Projects: </span>\r\n                            <strong>200</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="client-stat">\r\n                            <span>Messages: </span>\r\n                            <strong>300</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                        <div class="client-stat">\r\n                            <span>Views: </span>\r\n                            <strong>400</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>-->\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-8">\r\n        <div class="hpanel">\r\n            <ul class="nav nav-tabs" role="tablist">\r\n                <li class="active" role="presentation">\r\n                    <a href="#representatives" id="spaces-tab" role="tab" data-toggle="tab" aria-controls="representatives" aria-expanded="true" onclick="return false;">\r\n                        {{ Messages(\'clients.representatives.title\') }}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n            <div class="tab-content">\r\n                <div id="representatives" class="tab-pane active">\r\n                    <div class="panel-body">\r\n                        <representatives client="$ctrl.clientObject" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div class="container">\r\n\r\n    <!-- header -->\r\n    <div class="region region-header text-center">\r\n        <div class="site-logo">\r\n            <a href=""><img src="/img/logo.png" alt="Tower 360 Logo"></a>\r\n        </div>\r\n        <hr>\r\n        <h1>Big Data Platform For Commercial Real Estate</h1>\r\n        <h3>Log in with you details to access tower360.co</h3>\r\n    </div>\r\n    <!-- /header -->\r\n\r\n    <!-- content -->\r\n    <div ui-view>\r\n    </div>\r\n    <!-- /content -->\r\n\r\n</div>'},function(module,exports){module.exports='<div class="region region-content">\r\n    <div class="row">\r\n        <div class="form-login-wrapper">\r\n            <div class="well well-lg">\r\n                <form class="form form-login" name="form" novalidate>\r\n                    <div ng-if="$ctrl.error" class="alert alert-danger" role="alert"> {{$ctrl.error}} </div>\r\n                    <div class="form-group" ng-class="{ \'has-error\' : form.email.$invalid && (form.$submitted || form.email.$touched)}">\r\n                        <label for="inputEmail">Email</label>\r\n                        <input type="email" id="inputEmail" class="form-control" name="email" required="" autofocus="" ng-model="$ctrl.signInData.userName">\r\n                    </div>\r\n                    <div class="form-group" ng-class="{ \'has-error\' : form.password.$invalid && (form.$submitted || form.password.$touched)}">\r\n                        <label for="inputPassword">Password</label>\r\n                        <input type="password" id="inputPassword" class="form-control" name="password" required="" ng-model="$ctrl.signInData.password">\r\n                        <p class="help-block small"><a href="">Forgot your password?</a></p>\r\n                    </div>\r\n                    <button class="btn btn-lg btn-primary btn-block" ng-click="$ctrl.signIn()" ng-disabled="form.$invalid">Log in</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div class="container">\r\n\r\n    <!-- header -->\r\n    <div class="region region-header text-center">\r\n        <div class="site-logo">\r\n            <a href=""><img src="/img/logo.png" alt="Tower 360 Logo"></a>\r\n        </div>\r\n        <hr>\r\n        <h1>Commercial Leasing Management Platform</h1>\r\n    </div>\r\n    <!-- /header -->\r\n\r\n    <!-- content -->\r\n    <div ui-view>\r\n        <div class="region region-content">\r\n            <div class="row">\r\n                <div class="form-login-wrapper">\r\n                    <div class="well well-lg">\r\n                        <form class="form-horizontal" role="form" name="settingsForm">\r\n                            <div class="row">\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-name" >{{Messages(\'registration.username\')}}</label>\r\n                                    <div id="field-name" dx-text-box="$ctrl.nameSettings" dx-validator="$ctrl.nameValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-displayName" >{{Messages(\'registration.displayName\')}}</label>\r\n                                    <div id="field-displayName" dx-text-box="$ctrl.displayNameSettings" dx-validator="$ctrl.displayNameValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-password" >{{Messages(\'registration.password\')}}</label>\r\n                                    <div id="field-password" dx-text-box="$ctrl.passwordSettings" dx-validator="$ctrl.passwordValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-confirmPassword" >{{Messages(\'registration.confirmPassword\')}}</label>\r\n                                    <div id="field-confirmPassword" dx-text-box="$ctrl.confirmPasswordSettings" dx-validator="$ctrl.confirmPasswordValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="text-center">\r\n                                <div dx-button="$ctrl.saveSettingsBtnConfig" ng-style="{opacity: $ctrl.saveInProgress ? 100 : inherit}">\r\n                                    <div data-options="dxTemplate: { name:\'saveButtonWithLoadIndicator\' }">\r\n                                        <span dx-load-indicator="{ bindingOptions: {visible: \'$ctrl.saveInProgress\'} }"></span>\r\n                                        <span class="dx-button-text" ng-style="{opacity: $ctrl.saveInProgress ? 100 : inherit}">{{$ctrl.saveInProgress?Messages(\'registration.saving\'):Messages(\'registration.submit\')}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div dx-button="$ctrl.cancelSettingsBtnConfig"></div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- /content -->\r\n\r\n</div>'},function(module,exports){module.exports="Forbidden"},function(module,exports){module.exports="Not found"},function(module,exports){"use strict";function interceptors($httpProvider){$httpProvider.interceptors.push("AuthInterceptorService")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=interceptors,interceptors.$inject=["$httpProvider"]},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function run($rootScope,SecurityService){SecurityService.fillAuthData(),$rootScope.Messages=_messages2.default,$rootScope.$on("$stateChangeStart",function(){_validation_engine2.default.initGroups(),SecurityService.getUserInfo().then(function(result){(0,_app.updateLocale)(result.localeId)})});var setBodySmall=function(){$(window).outerWidth()<769?$("body").addClass("page-small"):($("body").removeClass("page-small"),$("body").removeClass("show-sidebar"))};$(document).ready(function(){setBodySmall()}),$(window).bind("resize click",function(){setBodySmall()})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=run;var _messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_app=__webpack_require__(673);run.$inject=["$rootScope","SecurityService"]}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Messages(messageId){var locale=_messages_enUs2.default,localeId=_app.LocaleId;return 2===localeId&&(locale=_messages_deGe2.default),locale(messageId)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Messages;var _messages_enUs=__webpack_require__(671),_messages_enUs2=_interopRequireDefault(_messages_enUs),_messages_deGe=__webpack_require__(672),_messages_deGe2=_interopRequireDefault(_messages_deGe),_app=__webpack_require__(673);Messages.$inject=["messageId"]},function(module,exports){"use strict";function Messages(messageId){var messages={confirmation:"Are you sure?",actions:"Actions",administrator:"Administrator",broker:"Broker","square.meter":"m<sup>2</sup>","validation.required":"The field is required","validation.email":"Enter a valid email here","validation.maxLength":"Too much characters","validation.phone":'Your phone must have "(555)555-5555" format!',"validation.shortPassword":"Password must have at least 6 characters","validation.passwordsNotMatch":"Password and confirmations must be same","country.germany":"Germany","state.unknown":"Unknown","state.pending":"Pending","state.active":"Active","state.archived":"Archived","mainheader.settings.product":"Product Settings","mainheader.settings.notification":"Notification Settings","mainheader.settings.account":"Account Settings","mainheader.language":"Language","mainheader.signout":"Sign Out","sidebar.brokers":"Asset Managers","sidebar.users":"Users","sidebar.assets":"Assets","sidebar.clients":"Tenants","sidebar.spaces":"Units","sidebar.stackingplan":"Stacking plan","image.cropper.title":"Upload an image","image.cropper.save":"Save","image.cropper.saving":"Saving","image.cropper.cancel":"Cancel","image.cropper.addbutton":"Upload","image.cropper.placeholder.empty":"Drag and drop image here","brokers.new":"Asset Manager","brokers.title":"Asset Managers","brokers.title.general":"General attributes","broker.info.title":"Asset Manager Information","brokers.name":"Display name","brokers.address":"Official address","brokers.state":"State","brokers.message.deleted":"Asset Manager successfully archived","brokers.message.created":"Asset Manager successfully created","brokers.message.updated":"Asset Manager successfully updated","brokers.message.activated":"Asset Manager successfully activated","brokers.placeholder.name":"ex. Colliers International","brokers.placeholder.address":"ex. Germany, Shoenstrasse 23, suite 115","brokers.save":"Save","brokers.cancel":"Cancel","brokers.create":"New","brokers.saving":"Saving","brokers.archive":"Archive Asset Manager","brokers.archive.title":"You are going to archive Asset Manager, their employees will not be able to use Tower360 anymore.","brokers.archive.confirmButton":"Yes, archive it!","brokers.archived":"Archived","brokers.activate":"Activate Asset Manager","brokers.activate.title":"You are going to activate Asset Manager, their employees will be able to use Tower360.","brokers.activate.confirmButton":"Yes, activate it!","brokers.edit":"Edit","brokers.edit.title":"Edit Asset Manager","brokers.create.title":"Create Asset Manager","brokers.projects":"Projects","brokers.messages":"Messages","brokers.views":"Views","brokers.additional.container":"Container for additional information","users.new":"User","users.title":"Users","users.title.general":"General attributes","users.info.title":"User Information","users.email":"Email","users.displayname":"Display name","users.state":"State","users.locale":"Locale","users.broker":"Associate with","users.broker.help":"Select Asset Manager where this person is working","users.role":"Role in portal","users.role.help":"Select role for new user","users.message.created":"User successfully invited","users.message.updated":"User successfully updated","users.message.archived":"User successfully archived","users.message.activated":"User successfully activated","users.placeholder.email":"Email","users.placeholder.displayname":"ex. Mathias Kohler","users.placeholder.currentPassword":"Current Password","users.placeholder.newPassword":"New Password","users.placeholder.confirmPassword":"Confirm Password","users.images.add":"Select image","users.invite":"Invite","users.save":"Save","users.saving":"Saving","users.cancel":"Cancel","users.create":"Invite new user","users.archive":"Archive user","users.archive.title":"You are going to archive user, this user will not be able use Tower360 anymore.","users.archive.confirmButton":"Yes, archive it!","users.archived":"Archived","users.activate":"Activate user","users.activate.title":"You are going to activate user, this user will be able to user Tower360.","users.activate.confirmButton":"Yes, activate it!","users.edit":"Edit","users.edit.title":"Edit user","users.changePassword":"Change password","users.create.title":"Create user","users.projects":"Projects","users.messages":"Messages","users.views":"Views","users.additional.container":"Container for additional information","users.changePassord.title":"Change Password","users.currentPassword":"Current password","users.newPassword":"New password","users.confirmPassword":"Confirm password","users.changingPasswordBtn":"Changing","users.changePasswordBtn":"Change","users.changePassword.failed":"We were not able to update your password, please try again later","users.changePassword.success":"You password has been changed","assets.new":"Asset","assets.add":"Add asset","assets.edit":"Edit asset","assets.title":"Assets","assets.title.address":"Address details","assets.title.other":"Other","assets.name":"Asset name","assets.state":"State","assets.address":"Address","assets.country":"Country:","assets.city":"City","assets.city.help":"ex. Hamburg","assets.street":"Street","assets.street.help":"ex. Fishertwiete","assets.building":"Building","assets.building.help":"ex. 12A","assets.brokerDatabaseRecordId":"Id in Broker database:","assets.brokerDatabaseRecordId.help":"Optionally specify ID in Broker database ","assets.brokerDatabaseRecordId.errorLength":"Id cannot be longer than 10 letters","assets.floorCount":"Floors","assets.floors.label":"Floors & Units","assets.floors.configure":"Configure","assets.floors.title":"Floors","assets.floors.number":"Number","assets.floors.description":"Description","assets.floors.assetobject":"Tower","assets.floors.addrange":"Floors range","assets.floors.addbutton":"Add","assets.floors.cancelbutton":"Cancel","assets.floors.range.modal.title":"Add range","assets.floors.range.title":"Please specify number of floors to add. They will be added to the end of the list.","assets.floors.range.field":"How many floors to add","assets.floors.range.checkbox":"Numerate automatically","assets.floors.range.checkbox.help":"Enable this button of you want to numerate floors automatically by numbers","assets.floors.deleted":"Floor successfully deleted","assets.floors.created":"Floors range successfully created","assets.floors.updated":"Floor successfully updated","assets.floors.delete.title":"You are going to delete floor with all spaces, this floor will not be able use Tower360 anymore.","assets.floors.delete.confirmButton":"Yes, delete it!","assets.spaces.modal.title":"Add space","assets.spaces.title":"Units","assets.spaces.unit":"Unit","assets.spaces.office":"Office","assets.spaces.garageUnderground":"Garage Underground","assets.spaces.roofTerrace":"Roof Terrace","assets.spaces.outerSurface":"Outer Surface","assets.spaces.warehouse":"Warehouse","assets.spaces.handlesSurface":"Handles Surface","assets.spaces.gastronomy":"Gastronomy","assets.spaces.archive":"Archive","assets.spaces.technicalRoom":"Technical Room","assets.spaces.flat":"Flat","assets.spaces.retail":"Retail","assets.spaces.number":"Unit number","assets.spaces.type":"Type","assets.spaces.floor":"Floor number","assets.spaces.assetobject":"Tower","assets.spaces.rentableArea":"Rentable Area","assets.spaces.marketingDescription":"Marketing Description","assets.spaces.notes":"Internal notes","assets.spaces.minAskingPrice":"Minimum asking price","assets.spaces.maxAskingPrice":"Maximum asking price","assets.spaces.placeholder.number":"Type space number here","assets.spaces.placeholder.rentableArea":"Specify rentable area value","assets.spaces.placeholder.marketingDescription":"Put here some text for marketing materials","assets.spaces.placeholder.notes":"Internal notes","assets.spaces.placeholder.minAskingPrice":"Type minimum asking price here","assets.spaces.placeholder.maxAskingPrice":"Type maximum asking price","assets.spaces.saving":"Saving","assets.spaces.save":"Save","assets.spaces.cancel":"Cancel","assets.spaces.add":"Unit","assets.spaces.deleted":"Unit successfully deleted","assets.spaces.created":"Unit successfully created","assets.spaces.updated":"Unit successfully updated","assets.spaces.delete.title":"You are going to delete space, this space will not be able use Tower360 anymore.","assets.spaces.delete.confirmButton":"Yes, delete it!","assets.spaces.validation.maxAskingPrice":"Max asking price has to be greater than min asking price","assets.spaces.availability":"Availability","assets.spaces.asking_price":"Asking Price","assets.spaces.tenant_name":"Tenant Name","assets.spaces.in_place_rent":"In-Place Rent","assets.spaces.net_rent":"Net Rent","assets.spaces.vat":"Vat","assets.spaces.additional_cost":"Additional cost","assets.spaces.total_rent":"Total rent","assets.spaces.status":"Status","assets.spaces.lease_start_date":"Contract Start Date","assets.spaces.lease_end_date":"Contract End Date","assets.spaces.filter.title":"Filter","assets.spaces.filter.all":"All","assets.spaces.filter.vacant":"Vacant","assets.spaces.filter.occupied":"Occupied","assets.spaces.filter.in_1_month":"in 1 month","assets.spaces.filter.in_3_month":"in 3 month","assets.spaces.filter.in_6_month":"in 6 month","assets.spaces.filter.in_1_year":"in 1 year","assets.spaces.filter.custom_dates":"Custom dates","assets.spaces.filter.status.title":"Filter spaces by current status or their availability in future","assets.spaces.filter.extra":"Extra filters","assets.spaces.filter.favorites":"Favorites","assets.spaces.filter.empty":"Empty response","assets.spaces.filter.unit":"Unit","assets.spaces.filter.tower":"Tower","assets.spaces.filter.towers":"Towers","assets.spaces.filter.towers.placeholder":"Select or search a tower in the list...","assets.spaces.filter.floor":"Floor","assets.spaces.filter.floor_from":"Floor from","assets.spaces.filter.floor_to":"Floor to","assets.spaces.filter.rentable_area":"Rentable Area","assets.spaces.filter.rentable_area_from":"Rentable Area from","assets.spaces.filter.rentable_area_to":"Rentable Area to","assets.spaces.filter.type":"Type","assets.spaces.filter.asking_price":"Asking Price","assets.spaces.filter.asking_price_from":"Asking Price from","assets.spaces.filter.asking_price_to":"Asking Price to","assets.spaces.filter.status":"Status","assets.spaces.filter.availability":"Availability","assets.spaces.filter.available_from":"Available from","assets.spaces.filter.immediately":"Immediately","assets.spaces.filter.in_place_rent":"In-Place Rent","assets.spaces.filter.in_place_rent_from":"In-Place Rent from","assets.spaces.filter.in_place_rent_to":"In-Place Rent to","assets.spaces.filter.from":"From","assets.spaces.filter.to":"To","assets.spaces.filter.apply":"Apply","assets.spaces.filter.cancel":"Cancel","assets.tenants.title":"Tenants","assets.tenants.name":"Tenant name","assets.tenants.type":"Type","assets.tenants.contract_number":"Contract No","assets.tenants.total_area":"Total area","assets.tenants.units":"Units Occupied","assets.tenants.towers":"Tower(s)","assets.tenants.floor":"Floor","assets.tenants.area_in_unit":"Area in unit","assets.tenants.in_place_rent":"In-Place Rent","assets.tenants.net_rent":"Net Rent","assets.tenants.vat":"Vat","assets.tenants.additional_cost":"Additional cost","assets.tenants.total_rent":"Total rent","assets.tenants.status":"Status","assets.tenants.lease_start_date":"Contract Start Date","assets.tenants.lease_end_date":"Contract End Date","assets.tenants.filter.title":"Filter","assets.tenants.filter.in_place":"In place","assets.tenants.filter.expired":"Expired","assets.tenants.filter.within_1_month":"Within 1 month","assets.tenants.filter.within_3_month":"Within 3 month","assets.tenants.filter.within_6_month":"Within 6 month","assets.tenants.filter.within_1_year":"Within 1 year","assets.tenants.filter.custom_dates":"Custom dates","assets.tenants.filter.quick.title":"Quick filters","assets.tenants.filter.extra":"Extra filters","assets.tenants.filter.favorites":"Favorites","assets.tenants.filter.empty":"Empty response","assets.tenants.filter.unit":"Unit","assets.tenants.filter.tower":"Tower","assets.tenants.filter.towers":"Towers","assets.tenants.filter.towers.placeholder":"Select or search a tower in the list...",
"assets.tenants.filter.industry":"Industry","assets.tenants.filter.industry.placeholder":"Select or search a industry in the list...","assets.tenants.filter.lease_date":"Contract start dates range","assets.tenants.filter.lease_start_date":"Contract Start Date from","assets.tenants.filter.lease_end_date":"Contract Start Date to","assets.tenants.filter.tenant_name":"Tenant Name","assets.tenants.filter.size":"Size","assets.tenants.filter.total_rent":"Total rent","assets.tenants.filter.type":"Unit Type","assets.tenants.filter.rentable_area":"Price per square meters","assets.tenants.filter.rentable_area_from":"Price per square meters from","assets.tenants.filter.rentable_area_to":"Price per square meters to","assets.tenants.filter.rent":"Rent","assets.tenants.filter.from":"From","assets.tenants.filter.to":"To","assets.tenants.filter.this_month":"This Month","assets.tenants.filter.last_month":"Last Month","assets.tenants.filter.this_year":"This Year","assets.tenants.filter.last_year":"Last Year","assets.tenants.filter.datepicker.clear":"Clear","assets.tenants.filter.apply":"Apply","assets.tenants.filter.cancel":"Cancel","assets.gallery.header":"Configure","assets.gallery.title":"Image","assets.gallery.add":"Add photo","assets.gallery.main":"Main","assets.gallery.message.added":"Asset image successfully added","assets.gallery.message.deleted":"Asset image successfully deleted","assets.broker":"Asset Manager:","assets.broker.help":"Select Asset Manager who is managing the Asset","assets.notes":"Internal notes:","assets.notes.errorLength":"Notes cannot be longer than 500 letters","assets.description":"Marketing description:","assets.message.archived":"Asset successfully archived","assets.message.activated":"Asset successfully activated","assets.message.created":"Asset successfully created","assets.message.updated":"Asset successfully updated","assets.info":"Asset information","assets.info.general":"General information","assets.info.images":"Images","assets.placeholder.broker":"Select broker","assets.placeholder.name":"Type name here","assets.placeholder.country":"Select country","assets.placeholder.city":"ex. Hamburg","assets.placeholder.street":"ex. Shoenstrasse","assets.placeholder.building":"ex. 26A","assets.placeholder.brokerDatabaseRecordId":"ex. BLD-123","assets.placeholder.notes":"Internal notes","assets.placeholder.description":"Put here some text for marketing materials","assets.save":"Save","assets.cancel":"Cancel","assets.saving":"Saving","assets.archive":"Archive asset","assets.archive.title":"You are going to archive Asset.","assets.archive.confirmButton":"Yes, archive it!","assets.archived":"Archived","assets.activate":"Activate asset","assets.activate.title":"You are going to activate Asset.","assets.activate.confirmButton":"Yes, activate it!","assets.available.space":"Available Unit","assets.occupancy":"Occupancy","assets.total.rentable":"Total Rentable","assets.objects.title":"Objects","assets.objects.name":"Name","assets.objects.isDisplayOnStackingPlan":"Show on Stacking Plan","assets.objects.add":"Tower","assets.objects.message.deleted":"Tower successfully deleted","assets.objects.message.created":"Tower successfully created","assets.objects.message.updated":"Tower successfully updated","assets.objects.delete.title":"You are going to delete tower with all floors, this tower will not be able use Tower360 anymore.","assets.objects.delete.confirmButton":"Yes, delete it!","assets.objects.placeholder.name":"Type name here","assets.objects.create.name":"Name:","assets.objects.save":"Save","assets.objects.cancel":"Cancel","assets.objects.saving":"Saving","assets.objects.create.title":"Asset Object","assets.objects.create.isDisplayOnStackingPlan":"Show on Stacking Plan:","assets.objects.address":"Address","assets.objects.edit.title":"Asset Object","assets.validation.countryRequired":"Country required","assets.validation.cityRequired":"City required","assets.validation.streetRequired":"Street required","assets.validation.buildingRequired":"Building required","clients.new":"Tenant","clients.title":"Tenants","clients.name":"Public name","clients.shortName":"Short name:","clients.shortName.formLabel":"Short name","clients.industry":"Industry","clients.address":"Address","clients.country":"Country","clients.info":"Tenant information","clients.info.general":"General information","clients.info.representatives":"Contacts","clients.user":"User","clients.notes":"Internal notes","clients.state":"State","clients.placeholder.name":"Type name here","clients.placeholder.shortName":"Type short name here","clients.placeholder.notes":"Add notes here","clients.placeholder.description":"Add description here","clients.save":"Save","clients.saving":"Saving","clients.cancel":"Cancel","clients.message.archived":"Tenant successfully archived","clients.message.created":"Tenant successfully created","clients.message.updated":"Tenant successfully updated","clients.view.title":"Tenant","clients.view.notes":"Notes","clients.archive.title":"You are going to archive Tenant.","clients.archive.confirmButton":"Yes, archive it!","clients.archived":"Archived","clients.activate":"Activate tenant","clients.activate.title":"You are going to activate Tenant.","clients.activate.confirmButton":"Yes, activate it!","clients.edit":"Edit","clients.edit.title":"Edit Tenant","clients.create.title":"Create Tenant","clients.representatives.new":"Contact","clients.representatives.title":"Contacts","clients.representatives.name":"Name","clients.representatives.email":"Email","clients.representatives.phone":"Phone","clients.representatives.position":"Position","clients.representatives.message.deleted":"Contact successfully deleted","clients.representatives.message.created":"Contact successfully created","clients.representatives.message.updated":"Contact successfully updated","industry.technology":"Technology","industry.media":"Media/Entertainment","industry.education":"Education","industry.trade":"Trade/Energy","industry.government":"Government/Non-profit","industry.healthcare":"Healthcare","industry.logistics":"Logistics","industry.consulting":"Consulting","industry.retail":"Retail","industry.telco":"Telco","industry.food":"Food & Beverage","industry.finance":"Finance","industry.residential":"Residential","industry.travel":"Travel","industry.wellness":"Wellness","industry.hr":"Human Resources","industry.real-estate":"Real Estate","industry.industrials":"Industrials","login.email":"Email","login.password":"Password","login.placeholder.email":"Please enter email","login.placeholder.password":"Please enter password","login.login":"Log in","login.automatic.signout":"You were automatically logged off because of inactivity","stacking-plan.title":"Stacking plan","stacking-plan.empty":"There is no stacking plan for this asset","stacking-plan.space.details":"Unit details","stacking-plan.space.options":"Options","stacking-plan.space.deals":"Deals","stacking-plan.view.actual":"Actual","stacking-plan.view.normalized":"Normalized","stacking-plan.legend.vacant":"VACANT","stacking-plan.legend.lease.expiration":"Lease Expiration","stacking-plan.expires":"Exp","stacking-plan.expires.2":"Expires","stacking-plan.unit":"UNIT","stacking-plan.nospaces":"no spaces","stacking.plan.details.lease.start":"Lease Start Date","stacking.plan.details.lease.end":"Lease End Date","stacking.plan.details.cost.totalmonth":"Total month cost","stacking.plan.details.cost.netrent":"Net Rent","stacking.plan.details.cost.additional":"Additional costs","stacking.plan.details.cost.other":"Other costs","stacking.plan.details.cost.vat":"VAT costs","registration.username":"Username","registration.password":"Password","registration.confirmPassword":"Repeat Password","registration.displayName":"Display Name","registration.submit":"Register","registration.cancel":"Cancel","registration.saving":"Processing","address.autoComplete":"Try to find address:","address.manually":"Or specify it manually:","address.streetAddress":"Street Address:","address.postCode":"Post Code:","address.country":"Country:","address.city":"City:","address.street":"Street:","address.placeholder.country":"Select country","address.placeholder.city":"ex. Munich","address.placeholder.street":"ex.  Reeperbahn","address.placeholder.streetAddress":"ex. 25","address.placeholder.postCode":"ex. 10117","address.validation.countryRequired":"Country required"},result=messages[messageId];return result?result:"<<<<Missing "+messageId+" >>>>"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Messages},function(module,exports){"use strict";function Messages(messageId){var messages={confirmation:"Sind Sie sicher?",actions:"Aktionen",administrator:"Administrator",broker:"[DEU] Broker","square.meter":"m<sup>2</sup>","validation.required":"Dieses Feld ist notwendig","validation.email":"Bitte geben Sie eine gültige E-Mail-Adresse ein.","validation.maxLength":"Zu viele Zeichen","validation.phone":'Bitte geben Sie Ihre Telefonnummer im folgenden Format ein: "+49 151 5555555"',"validation.shortPassword":"Ihr Passwort muss mindestens 6 Zeichen lang sein","validation.passwordsNotMatch":"Die Passwörter stimmen nicht überein.","country.germany":"Deutschland","state.unknown":"Unbekannt","state.pending":"Unerledigt","state.active":"Aktiv","state.archived":"Archiviert","mainheader.settings.product":"Produkteinstellungen","mainheader.settings.notification":"Benachrichtigungseinstellungen","mainheader.settings.account":"Account-Einstellungen","mainheader.language":"Sprache","mainheader.signout":"Abmelden","sidebar.brokers":"Asset Manager","sidebar.users":"Benutzer","sidebar.assets":"Objekte","sidebar.clients":"Mieter","sidebar.spaces":"Flächen","sidebar.stackingplan":"Belegungsplan","image.cropper.title":"[DEU] Upload an image","image.cropper.save":"[DEU] Save","image.cropper.saving":"[DEU] Saving","image.cropper.cancel":"[DEU] Cancel","image.cropper.addbutton":"[DEU] Upload","image.cropper.placeholder.empty":"[DEU] Drag and drop image here","brokers.new":"Asset Manager","brokers.title":"Asset Manager","brokers.title.general":"Allgemeine Attribute","broker.info.title":"Asset Manager Informationen","brokers.name":"Anzeigename","brokers.address":"Offizielle Adresse","brokers.state":"Staat","brokers.message.deleted":"Asset Manager wurde erfolgreich archiviert","brokers.message.created":"Asset Manager wurde erfolgreich erstellt","brokers.message.updated":"Asset Manager wurde erfolgreich aktualisiert","brokers.message.activated":"Asset Manager wurde erfolgreich aktiviert","brokers.placeholder.name":"Bsp. Colliers International","brokers.placeholder.address":"Bsp. Alter Weg 110 a, 12345 Musterdorf","brokers.save":"Speichern","brokers.cancel":"Abbrechen","brokers.create":"Neu","brokers.saving":"Speichernd","brokers.archive":"Archiviere Asset Manager","brokers.archive.title":"[DEU] You are going to archive Asset Manager, their employees will not be able to use Tower360 anymore.","brokers.archive.confirmButton":"Ja, archiviere!","brokers.archived":"Archiviert","brokers.activate":"Aktive Asset Manager","brokers.activate.title":"[DEU] You are going to activate Asset Manager, their employees will be able to use Tower360.","brokers.activate.confirmButton":"[DEU] Yes, activate it!","brokers.edit":"Editieren","brokers.edit.title":"Editiere Asset Manager","brokers.create.title":"Erstelle Asset Manager","brokers.projects":"Projekte","brokers.messages":"Nachrichten","brokers.views":"Abrufe","brokers.additional.container":"Behälter für zusätzliche Informationen","users.new":"Benutzer","users.title":"Benutzer","users.title.general":"Allgemeine Attribute","users.info.title":"Benutzerinformationen","users.email":"Email","users.displayname":"Anzeigename","users.state":"Staat","users.locale":"[DEU] Locale","users.broker":"Verbinden mit","users.broker.help":"Selektioniere Asset Manager wo diese Person arbeitet","users.role":"Portalrolle","users.role.help":"Wählen Sie die die Benutzerrolle aus","users.message.created":"Benutzer erfolgreich eingeladen","users.message.updated":"Benutzer erfolgreich aktualisiert","users.message.archived":"Benutzer erfolgreich aktualisiert","users.message.activated":"Benutzer erfolgreich archiviert","users.placeholder.email":"Email","users.placeholder.displayname":"Bsp. Mathias Kohler","users.placeholder.currentPassword":"Aktuelles Kennwort","users.placeholder.newPassword":"Neues Kennwor","users.placeholder.confirmPassword":"Bestätige Kennwort","users.images.add":"Selektioniere Bild","users.invite":"Einladen","users.save":"Speichern","users.saving":"Speichert","users.cancel":"Abbrechen","users.create":"Neuen Benutzer einladen","users.archive":"Archiviere Benutzer","users.archive.title":"Sie werden den Benutzer archivieren. Der Benutzer wird nicht mehr Tower360 benutzen können.","users.archive.confirmButton":"Archivieren","users.archived":"Archiviert","users.activate":"Aktiviere den Benutzer","users.activate.title":"Sie werden den Benutzer aktivieren. Der Benutzer wird Tower360 benutzen können.","users.activate.confirmButton":"Ja, aktiviere den Benutzer","users.edit":"Bearbeiten","users.edit.title":"Bearbeite Benutzer","users.create.title":"Erstelle Benutzer","users.projects":"Projekte","users.messages":"Nachrichten","users.views":"Abrufe","users.additional.container":"Feld für Zusatzinformationen","users.changePassword":"Kennwortänderung","users.changePassord.title":"Kennwortänderung","users.currentPassword":"Aktuelles Kennwort","users.newPassword":"Neues Kennwort","users.confirmPassword":"Bestätige Kennwort","users.changingPasswordBtn":"Kennwort wird geändert","users.changePasswordBtn":"Ändere","users.changePassword.failed":"Wir konnten Ihr Passwort nicht ändern, Versuchen Sie es später nochmals.","users.changePassword.success":"Ihr Kennwort wurde geändert","assets.new":"Neues Objekt","assets.add":"Objekt hinzufügen","assets.edit":"Objekt editieren","assets.title":"Objekte","assets.title.address":"Adressangaben","assets.title.other":"Sonstiges","assets.name":"Objekt Name","assets.state":"Staat","assets.address":"Adresse","assets.country":"Land","assets.city":"Stadt","assets.city.help":"Bsp. Hamburg","assets.street":"Strasse","assets.street.help":"Bsp. Fishertwiete","assets.building":"Gebäude","assets.building.help":"Bsp. 12A","assets.brokerDatabaseRecordId":"[DEU] Id in Broker database","assets.brokerDatabaseRecordId.help":"[DEU] Optionally specify ID in Broker database","assets.brokerDatabaseRecordId.errorLength":"[DEU] Id cannot be longer than 10 letters","assets.floorCount":"Geschoss","assets.floors.label":"Geschoss & Flächen","assets.floors.configure":"Konfigurieren","assets.floors.title":"Geschoss","assets.floors.number":"Nummer","assets.floors.description":"Beschreibung","assets.floors.assetobject":"Gebäude","assets.floors.addrange":"Geschoss Abgrenzung","assets.floors.addbutton":"Hinzufügen","assets.floors.cancelbutton":"Abbrechen","assets.floors.range.modal.title":"Spannweite hinzufügen","assets.floors.range.title":"Bitte geben Sie die Anzahl von Geschössen an. Die werden am Ende der Liste hinzugefügt.","assets.floors.range.field":"Wieviel Etagen werden hinzugefügt","assets.floors.range.checkbox":"Numeriere automatisch","assets.floors.range.checkbox.help":"[DEU] Enable this button of you want to numerate floors automatically by numbers","assets.floors.deleted":"[DEU] Floor successfully deleted","assets.floors.created":"[DEU] Floor successfully created","assets.floors.updated":"[DEU] Floor successfully updated","assets.floors.delete.title":"[DEU] You are going to delete floor with all units, this floor will not be able use Tower360 anymore.","assets.floors.delete.confirmButton":"[DEU] Yes, delete it!","assets.spaces.modal.title":"[DEU] Add unit","assets.spaces.title":"[DEU] Units","assets.spaces.unit":"[DEU] Unit","assets.spaces.office":"Büro","assets.spaces.garageUnderground":"Stellplatz Tiefgarage","assets.spaces.roofTerrace":"Dachterrasse","assets.spaces.outerSurface":"Außenfläche","assets.spaces.warehouse":"Lager","assets.spaces.handlesSurface":"Handlesfläche","assets.spaces.gastronomy":"Gastronomie","assets.spaces.archive":"Archiv","assets.spaces.technicalRoom":"Technikraum","assets.spaces.flat":"Wohnung","assets.spaces.retail":"Handel","assets.spaces.number":"Einheitnummer","assets.spaces.type":"Type","assets.spaces.floor":"Etagennummer","assets.spaces.assetobject":"Gebäude","assets.spaces.rentableArea":"Mietfläche","assets.spaces.marketingDescription":"Marketing Beschreibung","assets.spaces.notes":"[DEU] Internal notes","assets.spaces.minAskingPrice":"Mindestpreis","assets.spaces.maxAskingPrice":"Höchstpreis","assets.spaces.placeholder.number":"Geben Sie die Einheitnummer hier ein","assets.spaces.placeholder.rentableArea":"Geben Sie den Mietflächenwert hier ein","assets.spaces.placeholder.marketingDescription":"Geben Sie die Marketingbeschreibung hier ein","assets.spaces.placeholder.notes":"Interne Notizen","assets.spaces.placeholder.minAskingPrice":"Geben Sie den Mindespreis ein","assets.spaces.placeholder.maxAskingPrice":"Geben Sie den Höchstpreis ein","assets.spaces.saving":"Speichern","assets.spaces.save":"Speichern","assets.spaces.cancel":"Abbrechen","assets.spaces.add":"Fläche","assets.spaces.deleted":"Fläche wurde erfolgreich gelöscht","assets.spaces.created":"Fläche wurde erfolgreich kreiert","assets.spaces.updated":"Fläche wurde erfolgreich aktualisiert","assets.spaces.delete.title":"Sie werden diese Fläche löschen. Diese Fläche wird nicht mehr in Tower360 ersichtlich werden.","assets.spaces.delete.confirmButton":"Ja, löschen Sie die Fläche!","assets.spaces.validation.maxAskingPrice":"Der höchstpreis muss grösser als der Mindestpreis sein","assets.spaces.availability":"[DEU] Availability","assets.spaces.asking_price":"[DEU] Asking Price","assets.spaces.tenant_name":"[DEU] Tenant Name","assets.spaces.in_place_rent":"[DEU] In-Place Rent","assets.spaces.net_rent":"[DEU] Net Rent","assets.spaces.vat":"[DEU] Vat","assets.spaces.additional_cost":"[DEU] Additional cost","assets.spaces.total_rent":"[DEU] Total rent","assets.spaces.status":"[DEU] Status","assets.spaces.lease_start_date":"[DEU] Contract Start Date","assets.spaces.lease_end_date":"[DEU] Contract End Date","assets.spaces.filter.title":"[DEU] Filter","assets.spaces.filter.status.title":"[DEU] Filter units by current status or their availability in future","assets.spaces.filter.extra":"[DEU] Extra filters","assets.spaces.filter.favorites":"[DEU] Favorites","assets.spaces.filter.empty":"[DEU] Empty response","assets.spaces.filter.unit":"[DEU] Unit","assets.spaces.filter.tower":"[DEU] Tower","assets.spaces.filter.towers":"[DEU] Towers","assets.spaces.filter.floor":"[DEU] Floor","assets.spaces.filter.all":"All","assets.spaces.filter.in_1_month":"in 1 month","assets.spaces.filter.in_3_month":"in 3 month","assets.spaces.filter.in_6_month":"in 6 month","assets.spaces.filter.in_1_year":"in 1 year","assets.spaces.filter.custom_dates":"Custom dates","assets.spaces.filter.floor_from":"[DEU] Floor from","assets.spaces.filter.floor_to":"[DEU] Floor to","assets.spaces.filter.rentable_area":"[DEU] Rentable Area","assets.spaces.filter.rentable_area_from":"[DEU] Rentable Area from","assets.spaces.filter.rentable_area_to":"[DEU] Rentable Area to","assets.spaces.filter.type":"[DEU] Type","assets.spaces.filter.asking_price":"[DEU] Asking Price","assets.spaces.filter.asking_price_from":"[DEU] Asking Price from","assets.spaces.filter.towers.placeholder":"Select or search a tower in the list...","assets.spaces.filter.asking_price_to":"[DEU] Asking Price to","assets.spaces.filter.status":"[DEU] Status","assets.spaces.filter.availability":"[DEU] Availability","assets.spaces.filter.available_from":"[DEU] Available from","assets.spaces.filter.occupied":"[DEU] Occupied","assets.spaces.filter.vacant":"[DEU] Vacant","assets.spaces.filter.immediately":"[DEU] Immediately","assets.spaces.filter.in_place_rent":"[DEU] In-Place Rent","assets.spaces.filter.apply":"[DEU] Apply","assets.spaces.filter.cancel":"[DEU] Cancel","assets.spaces.filter.in_place_rent_from":"In-Place Rent from","assets.spaces.filter.in_place_rent_to":"In-Place Rent to","assets.spaces.filter.from":"From","assets.spaces.filter.to":"To","assets.tenants.title":"Tenants","assets.tenants.name":"Tenant name","assets.tenants.type":"Type","assets.tenants.contract_number":"Contract No","assets.tenants.total_area":"Total area","assets.tenants.units":"Units Occupied","assets.tenants.towers":"Tower(s)","assets.tenants.floor":"Floor","assets.tenants.area_in_unit":"Area in unit","assets.tenants.in_place_rent":"In-Place Rent","assets.tenants.net_rent":"Net Rent","assets.tenants.vat":"Vat","assets.tenants.additional_cost":"Additional cost","assets.tenants.total_rent":"Total rent","assets.tenants.status":"Status","assets.tenants.lease_start_date":"Contract Start Date","assets.tenants.lease_end_date":"Contract End Date","assets.tenants.filter.title":"Filter","assets.tenants.filter.in_place":"In place","assets.tenants.filter.expired":"Expired","assets.tenants.filter.within_1_month":"Within 1 month","assets.tenants.filter.within_3_month":"Within 3 month","assets.tenants.filter.within_6_month":"Within 6 month","assets.tenants.filter.within_1_year":"Within 1 year","assets.tenants.filter.custom_dates":"Custom dates","assets.tenants.filter.quick.title":"Quick filters","assets.tenants.filter.extra":"Extra filters","assets.tenants.filter.favorites":"Favorites","assets.tenants.filter.empty":"Empty response","assets.tenants.filter.unit":"Unit","assets.tenants.filter.tower":"Tower","assets.tenants.filter.towers":"Towers","assets.tenants.filter.towers.placeholder":"Select or search a tower in the list...","assets.tenants.filter.industry":"Industry","assets.tenants.filter.industry.placeholder":"Select or search a industry in the list...","assets.tenants.filter.lease_date":"Contract start dates range","assets.tenants.filter.lease_start_date":"Contract Start Date from","assets.tenants.filter.lease_end_date":"Contract Start Date to","assets.tenants.filter.tenant_name":"Tenant Name","assets.tenants.filter.size":"Size","assets.tenants.filter.total_rent":"Total rent","assets.tenants.filter.type":"Unit Type","assets.tenants.filter.rentable_area":"Rentable Area","assets.tenants.filter.rentable_area_from":"Rentable Area from","assets.tenants.filter.rentable_area_to":"Rentable Area to","assets.tenants.filter.rent":"Rent","assets.tenants.filter.from":"From","assets.tenants.filter.to":"To","assets.tenants.filter.this_month":"This Month","assets.tenants.filter.last_month":"Last Month","assets.tenants.filter.this_year":"This Year","assets.tenants.filter.last_year":"Last Year","assets.tenants.filter.datepicker.clear":"Clear","assets.tenants.filter.apply":"Apply","assets.tenants.filter.cancel":"Cancel","assets.gallery.header":"Konfiguriere","assets.gallery.title":"Bild","assets.gallery.add":"Bild hinzufügen","assets.gallery.main":"Hauptbereicht","assets.gallery.message.added":"Objekt Bild wurde erfolgreich hinzugefügt","assets.gallery.message.deleted":"Objekt Bild wurde erfolgreich gelöscht","assets.broker":"Asset Manager","assets.broker.help":"Selektionieren Sie den Asset Manager der das Asset verwaltet","assets.notes":"Interne Notizen","assets.notes.errorLength":"Notizen können nicht länger als  500 Charaktäre sein","assets.description":"Marketing Beschreibung:","assets.message.archived":"Objekt wurde erfolgreich archiviert","assets.message.activated":"Objekt wurde erfolgreich aktiviert","assets.message.created":"Objekt wurde erfolgreich kreiert","assets.message.updated":"Objekt wurde erfolgreich aktualisiert","assets.info":"Objekt Information","assets.info.general":"Generelle Information","assets.info.images":"Bilder","assets.placeholder.broker":"Selektioniere Broker","assets.placeholder.name":"Name hier eintragen","assets.placeholder.country":"Land auswählen","assets.placeholder.city":"Bsp. Hamburg","assets.placeholder.street":"Bsp. Shönestrasse","assets.placeholder.building":"Bsp. 26A","assets.placeholder.brokerDatabaseRecordId":"Bsp. BLD-123","assets.placeholder.notes":"Bsp. Interne Notizen","assets.placeholder.description":"Texteingabe für Marketing Materialien","assets.save":"Speichern","assets.cancel":"Abbrechen","assets.saving":"Vorgang wird gespeichert","assets.archive":"Objekt archivieren","assets.archive.title":"Sie werden das Objekt archivieren","assets.archive.confirmButton":"Ja, archivieren Sie bitte","assets.archived":"Der Vorgang wurde gespeichert","assets.activate":"Objekt archivieren","assets.activate.title":"Sie werden das Objekt archivieren.","assets.activate.confirmButton":"Ja, archivieren Sie bitte!","assets.available.space":"Vorhandene Objekte","assets.occupancy":"Belegungszustand","assets.total.rentable":"Total Rentable","assets.objects.title":"Objekt","assets.objects.name":"Name","assets.objects.isDisplayOnStackingPlan":"Auf dem Belegungsplan zeigen","assets.objects.add":"Objekt","assets.objects.message.deleted":"Gebäude wurde erfolgreich gelöscht","assets.objects.message.created":"Gebäude wurde erfolgreich kreiert","assets.objects.message.updated":"Gebäude wurde erfolgreich aktualisiert","assets.objects.delete.title":"Sie werden das Gebäude zusammen mit allen Etagen löschen. Das Objekt wird nach diesem Vorgang nicht mehr in Tower360 existieren.","assets.objects.delete.confirmButton":"Ja, löschen Sie es!","assets.objects.placeholder.name":"Name eingeben","assets.objects.create.name":"Name:","assets.objects.save":"Speichern","assets.objects.cancel":"Abbrechen","assets.objects.saving":"Speichern","assets.objects.create.title":"Objekt","assets.objects.create.isDisplayOnStackingPlan":"Auf dem Belegungsplan zeigen","assets.objects.edit.title":"Objekt","assets.objects.address":"Adresse","assets.validation.countryRequired":"Land erforderlich","assets.validation.cityRequired":"Stadt benötigt","assets.validation.streetRequired":"Straße erforderlich","assets.validation.buildingRequired":"Gebäude erforderlich","clients.new":"Mieter","clients.title":"Mieter","clients.name":"öffentlicher Name","clients.shortName":"Kurzer Name","clients.shortName.formLabel":"Kurzer Name","clients.industry":"Industrie","clients.address":"Adresse","clients.country":"Land","clients.info":"Mieterinformationen","clients.info.general":"Generelle Informationen","clients.info.representatives":"Kontakte","clients.user":"Benutzer","clients.notes":"Interne Notizen","clients.state":"Staat","clients.placeholder.name":"Name eingeben","clients.placeholder.shortName":"Kurzname eingeben","clients.placeholder.notes":"Notizen eingeben","clients.placeholder.description":"Beschreibung eingeben","clients.save":"Speichern","clients.saving":"Vorgang wird gespeichert","clients.cancel":"Abbrechen","clients.message.archived":"Mieter wurde erfolgreich archiviert","clients.message.created":"Mieter wurde erfolgreich kreiert","clients.message.updated":"Mieter wurde erfolgreich aktualisiert","clients.view.title":"Mieter","clients.view.notes":"Notizen","clients.archive.title":"Sie werden den Mieter archivieren","clients.archive.confirmButton":"Ja, archivieren Sie den Mieter","clients.archived":"Mieter wurde archiviert","clients.activate":"Mieter archivieren","clients.activate.title":"Sie werden den Mieter aktivieren.","clients.activate.confirmButton":"Ja, aktivieren Sie den Mieter!","clients.edit":"Editieren","clients.edit.title":"Mieter editieren","clients.create.title":"Mieter kreieren","clients.representatives.new":"Vertrag","clients.representatives.title":"Verträge","clients.representatives.name":"Name","clients.representatives.email":"Email","clients.representatives.phone":"Telephonnummer","clients.representatives.position":"Position","clients.representatives.message.deleted":"Kontakt wurde erfolgreich gelöscht","clients.representatives.message.created":"Kontakt wurde erfolgreich kreiert","clients.representatives.message.updated":"Kontakt wurde erfolgreich aktualisiert","industry.technology":"Technologie","industry.media":"Media/Entertainment","industry.education":"Ausbildung","industry.trade":"Handel/Energie","industry.government":"Staat/NPO","industry.healthcare":"Gesundheit","industry.logistics":"Logistik","industry.consulting":"Beratung","industry.retail":"Einzelhandel","industry.telco":"Telko","industry.food":"Lebensmittel","industry.finance":"Finanz","industry.residential":"Wohn","industry.travel":"Reise","industry.wellness":"Wellness","industry.hr":"Personalwesen","industry.real-estate":"Immobilien","industry.industrials":"Industrie","login.email":"Email","login.password":"Kennwort","login.placeholder.email":"Geben Sie Ihre E-Mail-Adresse ein","login.placeholder.password":"Geben Sie Ihr Kennwort ein","login.login":"Einlogen","login.automatic.signout":"Sie wurden aufgrund längerer Inaktivität automatisch vom System abgemeldet.","stacking-plan.title":"Belegungsplan","stacking-plan.empty":"Es gibt kein Belegungsplan für dieses Objekt","stacking-plan.space.details":"Flächenangaben","stacking-plan.space.options":"Optionen","stacking-plan.space.deals":"Kundengesuche","stacking-plan.view.actual":"Tatsächlich","stacking-plan.view.normalized":"Normalisiert","stacking-plan.legend.vacant":"Leerstand","stacking-plan.legend.lease.expiration":"Vertrag Ende","stacking-plan.expires":"VE","stacking-plan.expires.2":"VE","stacking-plan.unit":"Fläche","stacking-plan.nospaces":"Keine Fläche","stacking.plan.details.lease.start":"Vetrag Beginn","stacking.plan.details.lease.end":"VB","stacking.plan.details.cost.totalmonth":"Gesamt brutto","stacking.plan.details.cost.netrent":"Nettomiete mtl.","stacking.plan.details.cost.additional":"Neben- kosten","stacking.plan.details.cost.other":"Sonstige kosten","stacking.plan.details.cost.vat":"MWst.","registration.username":"Benutzername","registration.password":"Kennwort","registration.confirmPassword":"Kennwort wiederholen","registration.displayName":"Anzeigename","registration.submit":"Registrieren","registration.cancel":"Abbrechen","registration.saving":"Bearbeiten","address.autoComplete":"Versucht Adresse zu finden:","address.manually":"Gebe manuel ein:","address.streetAddress":"Strassen addresse:","address.postCode":"Postleitzahl:","address.country":"Land:","address.city":"Stadt:","address.street":"Strasse:","address.placeholder.country":"Land auswählen","address.placeholder.city":"Bsp. München","address.placeholder.street":"Bsp.  Reeperbahn","address.placeholder.streetAddress":"Bsp. 25","address.placeholder.postCode":"Bsp. 10117","address.validation.countryRequired":"Land ist erforderlich"},result=messages[messageId];return result?result:"<<<<Missing "+messageId+" >>>>"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Messages},function(module,exports){"use strict";function updateLocale(localeId){exports.LocaleId=LocaleId=localeId}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateLocale=updateLocale;var LocaleId=exports.LocaleId=1},function(module,exports){"use strict";function activityMonitor($state,ActivityMonitor){ActivityMonitor.options.inactive=1800}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=activityMonitor,activityMonitor.$inject=["$state","ActivityMonitor"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(190);var _authInterceptorService=__webpack_require__(676),_authInterceptorService2=_interopRequireDefault(_authInterceptorService),_configurationService=__webpack_require__(677),_configurationService2=_interopRequireDefault(_configurationService),_dialog=__webpack_require__(678),_dialog2=_interopRequireDefault(_dialog),_notificationService=__webpack_require__(679),_notificationService2=_interopRequireDefault(_notificationService),_securityService=__webpack_require__(680),_securityService2=_interopRequireDefault(_securityService),_image=__webpack_require__(681),_image2=_interopRequireDefault(_image),_file=__webpack_require__(682),_file2=_interopRequireDefault(_file),_utils=__webpack_require__(683),_utils2=_interopRequireDefault(_utils),_compare=__webpack_require__(684),_compare2=_interopRequireDefault(_compare),_module=angular.module("tower360.services",["toaster"]).factory("AuthInterceptorService",["$q","$location","localStorageService",function($q,location,localStorageService){
return new _authInterceptorService2.default($q,location,localStorageService)}]).service("ConfigurationService",_configurationService2.default).service("DialogService",_dialog2.default).service("NotificationService",_notificationService2.default).service("SecurityService",_securityService2.default).service("ImageService",_image2.default).service("FileService",_file2.default).service("UtilsService",_utils2.default).service("CompareObjectService",_compare2.default);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var AuthInterceptorService=function AuthInterceptorService($q,$location,localStorageService){var _this=this;_classCallCheck(this,AuthInterceptorService),this.$q=$q,this.$location=$location,this.localStorageService=localStorageService,this.request=function(config){if(config.url.includes("/api/")){var token=_this.localStorageService.get("authenticationData");null!=token&&token.access_token&&(config.headers.Authorization="Bearer "+token.access_token)}return config},this.requestError=function(rejection){return _this.$q.reject(rejection)},this.response=function(response){return"401"==response.status&&(_this.localStorageService.remove("authenticationData"),"/login"!=window.location.pathname&&(window.location.href="/login")),response},this.responseError=function(rejection){return"401"==rejection.status&&(_this.localStorageService.remove("authenticationData"),"/login"!=window.location.pathname&&(window.location.href="/login")),_this.$q.reject(rejection)}};AuthInterceptorService.$inject=["$q","$location","localStorageService"],exports.default=AuthInterceptorService},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConfigurationService=function(){function ConfigurationService(){_classCallCheck(this,ConfigurationService)}return _createClass(ConfigurationService,[{key:"getApiBaseUrl",value:function(){return"/"}},{key:"getClientId",value:function(){return"F003FEBA-3CB3-4457-B115-DA05F21E6943"}}]),ConfigurationService}();exports.default=ConfigurationService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_dialog=__webpack_require__(525),_dialog2=_interopRequireDefault(_dialog),DialogService=function(){function DialogService(){_classCallCheck(this,DialogService)}return _createClass(DialogService,[{key:"confirmation",value:function(msg,confirmAction){var result=_dialog2.default.confirm(msg,"Please confirm");result.done(function(dialogResult){dialogResult&&confirmAction()})}}]),DialogService}();exports.default=DialogService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NotificationService=function(){function NotificationService(toaster){_classCallCheck(this,NotificationService),this.toaster=toaster}return NotificationService.$inject=["toaster"],_createClass(NotificationService,[{key:"info",value:function(text){this.toaster.pop({type:"info",body:text,timeout:3e3})}},{key:"warning",value:function(text){this.toaster.pop({type:"warning",body:text,timeout:5e3})}},{key:"error",value:function(text){this.toaster.pop({type:"error",body:text,timeout:1e4})}},{key:"success",value:function(text){this.toaster.pop({type:"success",body:text,timeout:3e3,"position-class":"toast-bottom-center"})}}]),NotificationService}();exports.default=NotificationService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SecurityService=function(){function SecurityService($http,$q,$state,NotificationService,ConfigurationService,localStorageService,ActivityMonitor,Role){_classCallCheck(this,SecurityService),this.$http=$http,this.$q=$q,this.$state=$state,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.localStorageService=localStorageService,this.ActivityMonitor=ActivityMonitor,this.Role=Role,this.authentication=new Authentication,this.activities=null,this.userInfo=null}return SecurityService.$inject=["$http","$q","$state","NotificationService","ConfigurationService","localStorageService","ActivityMonitor","Role"],_createClass(SecurityService,[{key:"fillAuthData",value:function(){var authData=this.localStorageService.get("authenticationData");authData&&this.authentication.set(authData.userName)}},{key:"signOut",value:function(){this.localStorageService.remove("authenticationData"),this.authentication.clear(),this.reset(),this.ActivityMonitor.off("inactive")}},{key:"signIn",value:function(userName,password){var _this=this,self=this,data="grant_type=password&username="+userName+"&password="+password+"&client_id="+this.configurationService.getClientId(),deferred=this.$q.defer();return this.$http.post(this.configurationService.getApiBaseUrl()+"api/token",data,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(response){_this.localStorageService.set("authenticationData",{access_token:response.data.access_token,userName:userName}),_this.authentication.set(userName),self.ActivityMonitor.on("inactive",function(){self.signOut(),self.$state.go("login",{automatic:!0},{reload:!0})}),deferred.resolve(response)},function(err,status){_this.signOut(),deferred.reject(err,status)}),deferred.promise}},{key:"canDo",value:function(activityId,failedState,notLoggedInState){var _this2=this,deferred=this.$q.defer();return this.getActivities().then(function(data){data.indexOf(activityId.toUpperCase())>=0?deferred.resolve(!0):failedState&&notLoggedInState?data.length>0?_this2.$state.go(failedState):_this2.$state.go(notLoggedInState):deferred.reject("Forbidden")}),deferred.promise}},{key:"getActivities",value:function(){var _this3=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.activities?deferred.resolve(this.activities):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/account/activities"}).then(function(result){_this3.activities=result.data,deferred.resolve(_this3.activities)}),promise}},{key:"reset",value:function(){this.activities=null,this.userInfo=null}},{key:"getToken",value:function(){var authData=this.localStorageService.get("authenticationData");return null==authData?null:authData.access_token}},{key:"getUserInfo",value:function(){var self=this,deferred=self.$q.defer(),promise=deferred.promise;return null!==self.userInfo?deferred.resolve(self.userInfo):self.$http.get(self.configurationService.getApiBaseUrl()+"api/account/userinfo").then(function(result){self.Role.get({id:result.data.roleId},function(role){self.userInfo=new UserInfo(result.data.id,result.data.email,result.data.displayName,result.data.roleId,role.name,result.data.brokerId,result.data.state,result.data.localeId),deferred.resolve(self.userInfo)})}),promise}}]),SecurityService}();exports.default=SecurityService;var Authentication=function(){function Authentication(){_classCallCheck(this,Authentication),this.authenticated=!1,this.username=null}return _createClass(Authentication,[{key:"set",value:function(userName){this.authenticated=!0,this.username=userName}},{key:"clear",value:function(){this.authenticated=!1,this.username=null}}]),Authentication}(),UserInfo=function UserInfo(id,email,displayName,roleId,roleName,brokerId,state,localeId){_classCallCheck(this,UserInfo),this.id=id,this.email=email,this.displayName=displayName,this.roleId=roleId,this.roleName=roleName,this.brokerId=brokerId,this.state=state,this.localeId=localeId}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ImageService=function(){function ImageService(){_classCallCheck(this,ImageService)}return _createClass(ImageService,[{key:"resizeImage",value:function(sourceImage,fileExt,width,height,postProcess){var outputImage=new Image;outputImage.width=width,outputImage.height=height;var self=this;sourceImage.onload=function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");ctx.clearRect(0,0,canvas.width,canvas.height),canvas.width=width,canvas.height=height,ctx.drawImage(sourceImage,0,0,width,height),outputImage.src=canvas.toDataURL(self.getMIMEType(fileExt),.92),postProcess&&postProcess(outputImage.src)}}},{key:"getMIMEType",value:function(fileExt){return"gif"==fileExt?"image/gif":"png"==fileExt?"image/png":"image/jpeg"}},{key:"dataURItoBlob",value:function(dataURI){var byteString;byteString=dataURI.split(",")[0].indexOf("base64")>=0?atob(dataURI.split(",")[1]):unescape(dataURI.split(",")[1]);for(var mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0],ia=new Uint8Array(byteString.length),i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);return new Blob([ia],{type:mimeString})}}]),ImageService}();exports.default=ImageService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FileService=function(){function FileService(){_classCallCheck(this,FileService),this.init()}return _createClass(FileService,[{key:"init",value:function(){var self=this;self.readSingleFile=function(file,readCompleted){var reader=new FileReader;reader.onload=function(f){return function(evt){var uploadedFile={filename:f.name,extension:f.name.split(".").pop().toLowerCase(),size:f.size,data:evt.target.result};readCompleted&&readCompleted(uploadedFile)}}(file),reader.readAsDataURL(file)}}},{key:"uploadFiles",value:function(sourceFileArray,singleFileReadCallBack,readCompletedCallback){var self=this,filesCount=sourceFileArray.length,readedFilesCount=0,destFileArray=[],readFile=function readFile(fileIndex){var file=sourceFileArray[fileIndex];self.readSingleFile(file,function(e){singleFileReadCallBack&&singleFileReadCallBack(e),destFileArray.push(e),readedFilesCount++,readedFilesCount<filesCount?readFile(readedFilesCount):readCompletedCallback&&readCompletedCallback(destFileArray)})};filesCount>0&&readFile(0)}}]),FileService}();exports.default=FileService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UtilsService=function(){function UtilsService(){_classCallCheck(this,UtilsService)}return _createClass(UtilsService,[{key:"generateGuid",value:function(){function s4(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}},{key:"generateAddress",value:function(data){var city=data.city,street=data.street,building=data.streetAddress;return(city&&city+", ")+(street&&street+", ")+(building&&""+building)||""}},{key:"alignStatusLabelsLength",value:function(value){var integerPart=Math.floor(value);return integerPart<10?value.toFixed(2):integerPart<100?value.toFixed(1):Math.round(value)}},{key:"formatBadgeValue",value:function(value){return value>0&&value<1e3?value=this.alignStatusLabelsLength(value):value>=1e3&&value<1e6?value=this.alignStatusLabelsLength(value/1e3)+"K":value>=1e6&&value<1e9?value=this.alignStatusLabelsLength(value/1e6)+"M":value>=1e9&&(value=this.alignStatusLabelsLength(value/1e9)+"B"),value}}]),UtilsService}();exports.default=UtilsService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CompareObjectService=function(){function CompareObjectService(){_classCallCheck(this,CompareObjectService)}return _createClass(CompareObjectService,[{key:"compareSimpleAssets",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.state==obj2.state&&obj1.name==obj2.name&&obj1.countryId==obj2.countryId&&obj1.city==obj2.city&&obj1.street==obj2.street&&obj1.building==obj2.building&&obj1.brokerDatabaseRecordId==obj2.brokerDatabaseRecordId&&obj1.description==obj2.description&&obj1.notes==obj2.notes&&obj1.floorCount==obj2.floorCount&&obj1.brokerId==obj2.brokerId)}},{key:"compareAssets",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleAssets(obj1,obj2);if(res&&void 0!=obj1.images&&void 0!=obj2.images){if(obj1.images.length!=obj2.images.length)return!1;for(var i=0;i<obj1.images.length&&res;i++)res=this.compareImages(obj1.images[i],obj2.images[i])}if(res&&void 0!=obj1.documents&&void 0!=obj2.documents){if(obj1.documents.length!=obj2.documents.length)return!1;for(var i=0;i<obj1.documents.length&&res;i++)res=this.compareDocuments(obj1.documents[i],obj2.documents[i])}if(res&&void 0!=obj1.floors&&void 0!=obj2.floors){if(obj1.floors.length!=obj2.floors.length)return!1;for(var i=0;i<obj1.floors.length&&res;i++)res=this.compareFloors(obj1.floors[i],obj2.floors[i])}if(res&&void 0!=obj1.spaces&&void 0!=obj2.spaces){if(obj1.spaces.length!=obj2.spaces.length)return!1;for(var i=0;i<obj1.spaces.length&&res;i++)res=this.compareSpaces(obj1.spaces[i],obj2.spaces[i])}return res}},{key:"compareImages",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.assetId==obj2.assetId&&obj1.filePath==obj2.filePath&&obj1.order==obj2.order&&obj1.originalFileName==obj2.originalFileName&&obj1.isMain==obj2.isMain&&obj1.contentType==obj2.contentType&&obj1.imageFile==obj2.imageFile)}},{key:"compareDocuments",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.assetId==obj2.assetId&&obj1.filePath==obj2.filePath&&obj1.originalFileName==obj2.originalFileName&&obj1.contentType==obj2.contentType&&obj1.documentFile==obj2.documentFile&&obj1.notes==obj2.notes)}},{key:"compareSimpleSpaces",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.assetId==obj2.assetId&&obj1.floorId==obj2.floorId&&obj1.brokerId==obj2.brokerId&&obj1.number==obj2.number&&obj1.type==obj2.type&&obj1.rentableArea==obj2.rentableArea&&obj1.state==obj2.state&&obj1.marketingDescription==obj2.marketingDescription&&obj1.notes==obj2.notes)}},{key:"compareSpaces",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleSpaces(obj1,obj2);if(res&&void 0!=obj1.images&&void 0!=obj2.images){if(obj1.images.length!=obj2.images.length)return!1;for(var i=0;i<obj1.images.length&&res;i++)res=this.compareImages(obj1.images[i],obj2.images[i])}if(res&&void 0!=obj1.documents&&void 0!=obj2.documents){if(obj1.documents.length!=obj2.documents.length)return!1;for(var i=0;i<obj1.documents.length&&res;i++)res=this.compareDocuments(obj1.documents[i],obj2.documents[i])}return res}},{key:"compareSimpleFloors",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.number==obj2.number&&obj1.description==obj2.description&&obj1.assetId==obj2.assetId&&obj1.brokerId==obj2.brokerId)}},{key:"compareFloors",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleFloors(obj1,obj2);if(res&&void 0!=obj1.spaces&&void 0!=obj2.spaces){if(obj1.spaces.length!=obj2.spaces.length)return!1;for(var i=0;i<obj1.spaces.length&&res;i++)res=this.compareSpaces(obj1.spaces[i],obj2.spaces[i])}return res}},{key:"compareClients",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleClients(obj1,obj2);if(res&&void 0!=obj1.representatives&&void 0!=obj2.representatives){if(obj1.representatives.length!=obj2.representatives.length)return!1;for(var i=0;i<obj1.representatives.length&&res;i++)res=this.compareRepresentatives(obj1.representatives[i],obj2.representatives[i])}return res}},{key:"compareSimpleClients",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.name==obj2.name&&obj1.state==obj2.state&&obj1.countryId==obj2.countryId&&obj1.city==obj2.city&&obj1.street==obj2.street&&obj1.building==obj2.building&&obj1.notes==obj2.notes)}},{key:"compareRepresentatives",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.name==obj2.name&&obj1.mobileNumber==obj2.mobileNumber&&obj1.officeNumber==obj2.officeNumber&&obj1.email==obj2.email)}}]),CompareObjectService}();exports.default=CompareObjectService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mainheader=__webpack_require__(686),_mainheader2=_interopRequireDefault(_mainheader),_sidebar=__webpack_require__(689),_sidebar2=_interopRequireDefault(_sidebar),_rightSidebar=__webpack_require__(692),_rightSidebar2=_interopRequireDefault(_rightSidebar),_navigationCreateItems=__webpack_require__(695),_navigationCreateItems2=_interopRequireDefault(_navigationCreateItems),_imagegallery=__webpack_require__(708),_imagegallery2=_interopRequireDefault(_imagegallery),_imagecropper=__webpack_require__(719),_imagecropper2=_interopRequireDefault(_imagecropper),_attachements=__webpack_require__(720),_attachements2=_interopRequireDefault(_attachements);__webpack_require__(723);var _breadcrumbpanel=__webpack_require__(725),_breadcrumbpanel2=_interopRequireDefault(_breadcrumbpanel),_spaceDescription=__webpack_require__(728),_spaceDescription2=_interopRequireDefault(_spaceDescription),_tenantDescription=__webpack_require__(731),_tenantDescription2=_interopRequireDefault(_tenantDescription),_bodyBlocker=__webpack_require__(734),_bodyBlocker2=_interopRequireDefault(_bodyBlocker),_usermenu=__webpack_require__(737),_usermenu2=_interopRequireDefault(_usermenu),_actionmenu=__webpack_require__(740),_actionmenu2=_interopRequireDefault(_actionmenu),_footer=__webpack_require__(743),_footer2=_interopRequireDefault(_footer),_module=angular.module("tower360.components",["ngFileUpload"]).component("mainheader",_mainheader2.default).component("sidebar",_sidebar2.default).component("rightSidebar",_rightSidebar2.default).component("navigationCreateItems",_navigationCreateItems2.default).component("imagegallery",_imagegallery2.default).component("imagecropper",_imagecropper2.default).component("attachements",_attachements2.default).component("breadcrumbPanel",_breadcrumbpanel2.default).component("spaceDescription",_spaceDescription2.default).component("tenantDescription",_tenantDescription2.default).component("bodyBlocker",_bodyBlocker2.default).component("userMenu",_usermenu2.default).component("actionMenu",_actionmenu2.default).component("footer",_footer2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mainheader=__webpack_require__(687),_mainheader2=_interopRequireDefault(_mainheader),_mainheaderTemplate=__webpack_require__(688),_mainheaderTemplate2=_interopRequireDefault(_mainheaderTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),MainHeaderComponent={bindings:{},controller:_mainheader2.default,template:_mainheaderTemplate2.default,Messages:_messages2.default};exports.default=MainHeaderComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_app=__webpack_require__(673),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),MainHeaderController=function(){function MainHeaderController($scope,$state,User,Broker,Locale,SecurityService,Activities){_classCallCheck(this,MainHeaderController),this.$scope=$scope,this.$state=$state,this.securityService=SecurityService,this.activities=Activities,this.Locale=Locale,this.User=User,this.Broker=Broker,this.messages=_messages2.default,this.loadUserInfo(),this.applyActivities(),this.init()}return MainHeaderController.$inject=["$scope","$state","User","Broker","Locale","SecurityService","Activities"],_createClass(MainHeaderController,[{key:"init",value:function(){var self=this;self.Locale.query({},function(result){self.$scope.languages=result})}},{key:"setLanguage",value:function(item){var self=this,currentLocaleId=_app.LocaleId;currentLocaleId!=item.id&&self.updateUserLocale(this.userInfo.id,item.id)}},{key:"minimalize",value:function(){$(window).outerWidth()<769?$("body").toggleClass("show-sidebar"):$("body").toggleClass("hide-sidebar")}},{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}},{key:"loadUserInfo",value:function(){var _this=this,self=this;this.securityService.getUserInfo().then(function(result){self.userInfo=result,2===result.roleId&&_this.loadBrokerInfo()})}},{key:"loadBrokerInfo",value:function(){var _this2=this;this.Broker.get({id:this.userInfo.brokerId}).$promise.then(function(result){_this2.brokerInfo=result})}},{key:"updateUserLocale",value:function(userId,localeId){var self=this;self.userInfo.localeId=localeId,self.User.update({id:userId},self.userInfo,function(result){self.$state.reload()})}},{key:"applyActivities",value:function(){var _this3=this;this.securityService.getActivities().then(function(){_this3.securityService.canDo(_this3.activities.HomeView).then(function(result){return _this3.homeAvailable=result},function(){return _this3.homeAvailable=!1}),_this3.securityService.canDo(_this3.activities.BrokersView).then(function(result){return _this3.brokersAvailable=result},function(){return _this3.brokersAvailable=!1}),_this3.securityService.canDo(_this3.activities.UsersView).then(function(result){return _this3.usersAvailable=result},function(){return _this3.usersAvailable=!1}),_this3.securityService.canDo(_this3.activities.AssetsManage).then(function(result){return _this3.assetsAvailable=result},function(){return _this3.assetsAvailable=!1})})}}]),MainHeaderController}();exports.default=MainHeaderController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div id="header">\r\n    <div id="logo" class="navbar-header">\r\n        <!--<a class="navbar-brand" ui-sref="home"><img src="img/header-logo.png" alt="Tower 360 Logo"></a>-->\r\n        <div ng-if="$ctrl.brokerInfo" class="header-broker-name">\r\n            {{ $ctrl.brokerInfo.name }}\r\n        </div>\r\n        <div ng-if="!$ctrl.brokerInfo && $ctrl.userInfo.roleId === 1" class="header-broker-name">\r\n            {{ $ctrl.messages(\'administrator\') }}\r\n        </div>\r\n    </div>\r\n    <div class="mobile-menu">\r\n        <button type="button" class="navbar-toggle mobile-menu-toggle" data-toggle="collapse" data-target="#mobile-collapse">\r\n            <i class="fa fa-chevron-down"></i>\r\n        </button>\r\n        <div class="collapse mobile-navbar" id="mobile-collapse">\r\n            <ul class="nav navbar-nav">\r\n                <li>\r\n                    <a ui-sref="#">{{$ctrl.messages(\'mainheader.settings.account\')}}</a>\r\n                </li>\r\n                <li>\r\n                    <a ng-click="$ctrl.signOut()">{{$ctrl.messages(\'mainheader.signout\')}}</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n    <nav role="navigation">\r\n        <div class="header-link hide-menu" ng-click="$ctrl.minimalize()"><i class="fa fa-bars"></i></div>\r\n\r\n        <div id="navbar" class="navbar-inverse navbar-right">\r\n            <user-menu user-info="$ctrl.userInfo" broker-info="$ctrl.brokerInfo"/>  \r\n            <action-menu user-info="$ctrl.userInfo" broker-info="$ctrl.brokerInfo"/>\r\n        </div>\r\n    </nav>\r\n</div>\r\n<script>\r\n    $(document).ready(function(){\r\n        $(\'.dropdown-submenu a.select-language\').on("click", function(e){\r\n            $(this).next(\'ul\').toggle();\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n        });\r\n    });\r\n</script>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _sidebar=__webpack_require__(690),_sidebar2=_interopRequireDefault(_sidebar),_sidebarTemplate=__webpack_require__(691),_sidebarTemplate2=_interopRequireDefault(_sidebarTemplate),SidebarComponent={bindings:{},controller:_sidebar2.default,template:_sidebarTemplate2.default};exports.default=SidebarComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),Sidebar=function(){function Sidebar($scope,$rootScope,$state,$stateParams,SecurityService,UtilsService,Activities,Asset,Broker){_classCallCheck(this,Sidebar),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.securityService=SecurityService,this.utils=UtilsService,this.activities=Activities,this.Asset=Asset,this.Broker=Broker,this.messages=_messages2.default,this.loadUserInfo(),this.init(),this.applyActivities()}return Sidebar.$inject=["$scope","$rootScope","$state","$stateParams","SecurityService","UtilsService","Activities","Asset","Broker"],_createClass(Sidebar,[{key:"init",value:function(){var self=this;this.$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){toState.name!=fromState.name&&(self.resetSettings(),self.updateMenu(toState,toParams),$(".nav li a").blur())}),self.updateMenu(self.$state.current,self.$stateParams)}},{key:"loadUserInfo",value:function(){var _this=this;this.securityService.getUserInfo().then(function(result){_this.userInfo=result,2===result.roleId&&_this.loadBrokerInfo();
})}},{key:"loadBrokerInfo",value:function(){var _this2=this;this.Broker.get({id:this.userInfo.brokerId}).$promise.then(function(result){_this2.brokerInfo=result})}},{key:"applyActivities",value:function(){var _this3=this;this.securityService.getActivities().then(function(){_this3.securityService.canDo(_this3.activities.HomeView).then(function(result){return _this3.homeAvailable=result},function(){return _this3.homeAvailable=!1}),_this3.securityService.canDo(_this3.activities.BrokersView).then(function(result){return _this3.brokersAvailable=result},function(){return _this3.brokersAvailable=!1}),_this3.securityService.canDo(_this3.activities.UsersView).then(function(result){return _this3.usersAvailable=result},function(){return _this3.usersAvailable=!1}),_this3.securityService.canDo(_this3.activities.AssetsManage).then(function(result){return _this3.assetsAvailable=result},function(){return _this3.assetsAvailable=!1}),_this3.securityService.canDo(_this3.activities.AssetsView).then(function(result){return _this3.assetsViewAvailable=result},function(){return _this3.assetsViewAvailable=!1}),_this3.securityService.canDo(_this3.activities.ClientsManage).then(function(result){return _this3.clientsAvailable=result},function(){return _this3.clientsAvailable=!1})})}},{key:"updateMenu",value:function(state,stateParams){var self=this;self.assetsClientMenu=self.isAssetsClientMenu(state,stateParams),self.globalClientMenu=!self.assetsClientMenu}},{key:"isActive",value:function(name){var states=[];switch(name){case"users":states=["users","user"];break;case"brokers":states=["brokers","broker"];break;case"assets":states=["assets","edit-asset","asset-stats"];break;case"asset-stats-spaces":states=["asset-stats-spaces"];break;case"asset-stats-tenants":states=["asset-stats-tenants"];break;case"asset-stats-stacking-plan":states=["asset-stats-stacking-plan"];break;case"clients":states=["clients","create-client","edit-client"]}for(var i=0,l=states.length;i<l;i++)if(this.$state.includes(states[i]))return!0;return!1}},{key:"resetSettings",value:function(){}},{key:"isAssetsClientMenu",value:function(state,stateParams){var _this4=this,self=this;return"asset-stats-spaces"===state.name||"asset-stats-stacking-plan"===state.name||"asset-stats-tenants"===state.name?(self.$scope.assetId=state.resolve.assetId[1](stateParams),self.Asset.get({id:this.$scope.assetId}).$promise.then(function(asset){_this4.asset=asset,_this4.asset&&(_this4.assetAddress=_this4.utils.generateAddress(_this4.asset),_this4.showAssetPanel=!0)}),!0):(this.showAssetPanel=!1,!1)}},{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}}]),Sidebar}();exports.default=Sidebar}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<ul class="nav nav-sidebar">\r\n    <div class="breadcrumb-div" ng-if="!$ctrl.showAssetPanel"></div>\r\n    <div class="sidebar-asset-image-panel" ng-if="$ctrl.showAssetPanel">\r\n        <div class="sidebar-asset-image">\r\n            <img draggable="false" ng-src="{{($ctrl.asset.mainImageUrl ? $ctrl.asset.mainImageUrl: \'../../img/building-placeholder.png\')}}"/>\r\n        </div>\r\n        <span class="sidebar-asset-title">{{$ctrl.asset.name}}</span>\r\n        <span class="sidebar-asset-address">{{$ctrl.assetAddress}}</span>\r\n    </div>\r\n    <li ng-show="$ctrl.brokersAvailable" ng-class="{active: $ctrl.isActive(\'brokers\')}">\r\n        <a ui-sref="brokers">{{$ctrl.messages(\'sidebar.brokers\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.usersAvailable" ng-class="{active: $ctrl.isActive(\'users\')}">\r\n        <a ui-sref="users">{{$ctrl.messages(\'sidebar.users\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.assetsAvailable" ng-class="{active: $ctrl.isActive(\'assets\')}">\r\n        <a ui-sref="assets">{{$ctrl.messages(\'sidebar.assets\')}}</a>\r\n    </li>\r\n    <div ng-show="$ctrl.globalClientMenu">\r\n        <li ng-show="$ctrl.assetsViewAvailable && $ctrl.userInfo.roleId == 2" ng-class="{active: $ctrl.isActive(\'assets\')}">\r\n            <a ui-sref="asset-stats">{{$ctrl.messages(\'sidebar.assets\')}}</a>\r\n        </li>\r\n        <li ng-show="$ctrl.clientsAvailable" ng-class="{active: $ctrl.isActive(\'clients\')}">\r\n            <a ui-sref="clients">{{$ctrl.messages(\'sidebar.clients\')}}</a>\r\n        </li>\r\n    </div>\r\n    <div ng-show="$ctrl.assetsClientMenu">\r\n        <li ng-show="$ctrl.assetsViewAvailable && $ctrl.userInfo.roleId == 2" ng-class="{active: $ctrl.isActive(\'asset-stats-spaces\')}">\r\n            <a ui-sref="asset-stats-spaces({id: assetId})">{{$ctrl.messages(\'sidebar.spaces\')}}</a>\r\n        </li>\r\n        <li ng-show="$ctrl.assetsViewAvailable && $ctrl.userInfo.roleId == 2" ng-class="{active: $ctrl.isActive(\'asset-stats-tenants\')}">\r\n            <a ui-sref="asset-stats-tenants({id: assetId})">{{$ctrl.messages(\'sidebar.clients\')}}</a>\r\n        </li>\r\n        <li ng-show="$ctrl.assetsViewAvailable && $ctrl.userInfo.roleId == 2" ng-class="{active: $ctrl.isActive(\'asset-stats-stacking-plan\')}">\r\n            <a ui-sref="asset-stats-stacking-plan({id: assetId})">{{$ctrl.messages(\'sidebar.stackingplan\')}}</a>\r\n        </li>\r\n    </div>\r\n</ul>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rightSidebar=__webpack_require__(693),_rightSidebar2=_interopRequireDefault(_rightSidebar),_rightSidebarTemplate=__webpack_require__(694),_rightSidebarTemplate2=_interopRequireDefault(_rightSidebarTemplate),RightSidebarComponent={bindings:{},controller:_rightSidebar2.default,template:_rightSidebarTemplate2.default};exports.default=RightSidebarComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),RightSidebar=function(){function RightSidebar($scope,$rootScope,$state,$timeout){_classCallCheck(this,RightSidebar),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$timeout=$timeout,this.messages=_messages2.default,this.bodyCl="right-sidebar-opened",this.bodyBlockerCl="blocker-show",this.updateContent=this.updateContent.bind(this),this.close=this.close.bind(this),this.init()}return RightSidebar.$inject=["$scope","$rootScope","$state","$timeout"],_createClass(RightSidebar,[{key:"init",value:function(){this.$scope.$on("right-sidebar:open",this.updateContent),this.$scope.$on("right-sidebar:close",this.close)}},{key:"updateContent",value:function(e,content){var _this=this;this.$scope.contentType=null,this.$scope.content=null,this.$timeout(function(){_this.$scope.contentType=content.type,_this.$scope.content=content.data}),this.$scope.visible||($(document.body).addClass(this.bodyCl),this.$timeout(function(){$(document.body).addClass(_this.bodyBlockerCl)}),this.$scope.visible=!0)}},{key:"close",value:function(){var _this2=this;this.$scope.visible=!1,$(document.body).removeClass(this.bodyBlockerCl),this.$timeout(function(){_this2.$scope.contentType=null,_this2.$scope.content=null,$(document.body).removeClass(_this2.bodyCl)},300),this.$rootScope.$broadcast("right-sidebar:closed")}}]),RightSidebar}();exports.default=RightSidebar}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div id="right-sidebar" ng-class="visible && \'visible\'">\r\n    <div ng-if="contentType === \'loading\'">\r\n        <button class="btn btn-default m-b-m m-t-m m-l-m" ng-click="$ctrl.close()">\r\n            <i class="fa fa-times"></i>\r\n        </button>\r\n        <div class="loading">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n    </div>\r\n    <space-description ng-if="contentType === \'spaceDescription\'" data="content" context="\'sidebar\'"></space-description>\r\n    <tenant-description ng-if="contentType === \'tenantDescription\'" data="content" context="\'sidebar\'"></tenant-description>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _navigationCreateItems=__webpack_require__(696),_navigationCreateItems2=_interopRequireDefault(_navigationCreateItems),_navigationCreateItemsTemplate=__webpack_require__(707),_navigationCreateItemsTemplate2=_interopRequireDefault(_navigationCreateItemsTemplate),NavigationCreateItemsComponent={bindings:{item:"=?"},controller:_navigationCreateItems2.default,template:_navigationCreateItemsTemplate2.default};exports.default=NavigationCreateItemsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_userEditModal=__webpack_require__(697),_userEditModal2=_interopRequireDefault(_userEditModal),_userEditModalTemplate=__webpack_require__(699),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_brokerEditModal=__webpack_require__(700),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(701),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),_assetEditModal=__webpack_require__(702),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModalTemplate=__webpack_require__(704),_assetEditModalTemplate2=_interopRequireDefault(_assetEditModalTemplate),_clientEditModal=__webpack_require__(705),_clientEditModal2=_interopRequireDefault(_clientEditModal),_clientEditModalTemplate=__webpack_require__(706),_clientEditModalTemplate2=_interopRequireDefault(_clientEditModalTemplate),NavigationCreateItemsController=function(){function NavigationCreateItemsController($scope,SecurityService,Activities,$uibModal){_classCallCheck(this,NavigationCreateItemsController),this.$scope=$scope,this.securityService=SecurityService,this.activities=Activities,this.$uibModal=$uibModal,this.messages=_messages2.default,this.init(),this.applyActivities()}return NavigationCreateItemsController.$inject=["$scope","SecurityService","Activities","$uibModal"],_createClass(NavigationCreateItemsController,[{key:"init",value:function(){var _this=this;this.$scope.addNewUser=function(){_this.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:null}})},this.$scope.addNewBroker=function(){_this.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:null}})},this.$scope.addNewSet=function(){_this.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModalTemplate2.default,resolve:{assetObject:null}})},this.$scope.addNewClient=function(){_this.$uibModal.open({controller:_clientEditModal2.default,template:_clientEditModalTemplate2.default,resolve:{clientId:null}})}}},{key:"applyActivities",value:function(){var _this2=this;this.securityService.getActivities().then(function(){_this2.securityService.canDo(_this2.activities.HomeView).then(function(result){return _this2.homeAvailable=result},function(){return _this2.homeAvailable=!1}),_this2.securityService.canDo(_this2.activities.BrokersView).then(function(result){return _this2.brokersAvailable=result},function(){return _this2.brokersAvailable=!1}),_this2.securityService.canDo(_this2.activities.UsersView).then(function(result){return _this2.usersAvailable=result},function(){return _this2.usersAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsManage).then(function(result){return _this2.assetsAvailable=result},function(){return _this2.assetsAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsView).then(function(result){return _this2.assetsViewAvailable=result},function(){return _this2.assetsViewAvailable=!1}),_this2.securityService.canDo(_this2.activities.ClientsManage).then(function(result){return _this2.clientsAvailable=result},function(){return _this2.clientsAvailable=!1})})}}]),NavigationCreateItemsController}();exports.default=NavigationCreateItemsController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),UserController=(_interopRequireDefault(_constants),function(){function UserController($scope,$state,$uibModalInstance,User,userObject,Broker,Role,Locale,StoreAdapter,NotificationService){_classCallCheck(this,UserController),this.$scope=$scope,this.$state=$state,this.User=User,this.userObject=userObject,this.Broker=Broker,this.Role=Role,this.Locale=Locale,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="user-edit",this.initForm()}return UserController.$inject=["$scope","$state","$uibModalInstance","User","userObject","Broker","Role","Locale","StoreAdapter","NotificationService"],_createClass(UserController,[{key:"initForm",value:function(){var _this=this,self=this;this.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},this.$scope.editMode=null!=this.userObject,this.isSaveOperationDisable=!0,this.$scope.editMode?this.$scope.user=this.userObject:this.$scope.user={email:"",displayName:"",brokerId:null,roleId:1},this.$scope.emailSettings={placeholder:(0,_messages2.default)("users.placeholder.email"),bindingOptions:{value:"user.email",disabled:"editMode"}},this.$scope.emailValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:256,min:3,trim:!0},{type:"email",message:(0,_messages2.default)("validation.email")}],validationGroup:this.validationGroup},this.$scope.displaynameSettings={placeholder:(0,_messages2.default)("users.placeholder.displayname"),bindingOptions:{value:"user.displayName "}},this.$scope.displaynameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:50,min:1,trim:!0}],validationGroup:this.validationGroup};var rolesStore=this.storeAdapter.createStore(this.Role,{},this.errorHandler);rolesStore.load().done(function(result){_this.$scope.roleSelectSettings={items:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"user.roleId"}}}),this.$scope.roleValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup};var localesStore=this.storeAdapter.createStore(this.Locale,{},this.errorHandler);localesStore.load().done(function(result){console.log(result),_this.$scope.localeSelectSettings={items:result,displayExpr:"localeName",valueExpr:"id",bindingOptions:{value:"user.localeId"}}}),this.$scope.localeValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup};var brokersStore=this.storeAdapter.createStore(this.Broker,{},this.errorHandler);brokersStore.load().done(function(result){_this.$scope.brokerSelectSettings={items:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"user.brokerId"}}}),this.$scope.brokerValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(_this.validationGroup).validate();result.isValid&&(_this.saveInProgress=!0,_this.isSaveOperationDisable=!0,_this.$scope.editMode?_this.User.update({id:_this.$scope.user.id},_this.$scope.user,function(result){_this.notificationService.success((0,_messages2.default)("users.message.updated")),self.saveInProgress=!1,_this.$uibModalInstance.close(result)},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data),_this.saveInProgress=!1}):_this.User.save(_this.$scope.user,function(result){_this.notificationService.success((0,_messages2.default)("users.message.created")),_this.saveInProgress=!1,_this.$state.go("user",{id:result.id},{reload:!1}),_this.$uibModalInstance.close(result)},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data),_this.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this.validationGroup),_this.$uibModalInstance.dismiss("cancel")}}}]),UserController}());exports.default=UserController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),CONSTANTS={devExtremeStoreGenerator:function(values){var store={data:[],key:"value"};return values.forEach(function(item){store.data.push({value:item.value,display:item.text})}),new _array_store2.default(store)},states:[{value:1,text:(0,_messages2.default)("state.pending")},{value:2,text:(0,_messages2.default)("state.active")},{value:3,text:(0,_messages2.default)("state.archived")}],assetStateStore:function(){return this.devExtremeStoreGenerator(this.states)},assetStateStorePlain:function(){return this.states.slice(0)},userStateStore:function(){return new _array_store2.default({data:[{value:2,display:(0,_messages2.default)("state.active")},{value:3,display:(0,_messages2.default)("state.archived")}],key:"value"})},brokerStateStore:function(){return new _array_store2.default({data:[{value:1,display:(0,_messages2.default)("state.active")},{value:2,display:(0,_messages2.default)("state.archived")}],key:"value"})},countries:[{value:1,text:(0,_messages2.default)("country.germany"),isoCode:"de"}],countryStore:function(){return this.devExtremeStoreGenerator(this.countries)},countryStorePlain:function(){return this.countries.slice(0)},clientsStateStore:function(){return new _array_store2.default({data:[{value:1,display:(0,_messages2.default)("state.active")},{value:2,display:(0,_messages2.default)("state.archived")}],key:"value"})},industry:[{value:1,text:(0,_messages2.default)("industry.technology")},{value:2,text:(0,_messages2.default)("industry.media")},{value:3,text:(0,_messages2.default)("industry.education")},{value:4,text:(0,_messages2.default)("industry.trade")},{value:5,text:(0,_messages2.default)("industry.government")},{value:6,text:(0,_messages2.default)("industry.healthcare")},{value:7,text:(0,_messages2.default)("industry.logistics")},{value:8,text:(0,_messages2.default)("industry.consulting")},{value:9,text:(0,_messages2.default)("industry.retail")},{value:10,text:(0,_messages2.default)("industry.telco")},{value:11,text:(0,_messages2.default)("industry.food")},{value:12,text:(0,_messages2.default)("industry.finance")},{value:13,text:(0,_messages2.default)("industry.residential")},{value:14,text:(0,_messages2.default)("industry.travel")},{value:15,text:(0,_messages2.default)("industry.wellness")},{value:16,text:(0,_messages2.default)("industry.hr")},{value:17,text:(0,_messages2.default)("industry.real-estate")},{value:18,text:(0,_messages2.default)("industry.industrials")}],clientsIndustryStore:function(){return this.devExtremeStoreGenerator(this.industry)},clientsIndustryPlain:function(){return this.industry},defaultAvailablePageSizes:function(){return[10,20,50]},defaultPageSize:function(){return 10},defaultGridSettings:function(){var settings={allowColumnResizing:!0,showBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:this.defaultPageSize()},pager:{showPageSizeSelector:!0,allowedPageSizes:this.defaultAvailablePageSizes(),showInfo:!0},filterRow:{visible:!0},grouping:{contextMenuEnabled:!0},groupPanel:{visible:!0}};return JSON.parse(JSON.stringify(settings))},spaceTypes:[{value:1,text:(0,_messages2.default)("assets.spaces.office")},{value:2,text:(0,_messages2.default)("assets.spaces.garageUnderground")},{value:3,text:(0,_messages2.default)("assets.spaces.roofTerrace")},{value:4,text:(0,_messages2.default)("assets.spaces.outerSurface")},{value:5,text:(0,_messages2.default)("assets.spaces.warehouse")},{value:6,text:(0,_messages2.default)("assets.spaces.handlesSurface")},{value:7,text:(0,_messages2.default)("assets.spaces.gastronomy")},{value:8,text:(0,_messages2.default)("assets.spaces.archive")},{value:9,text:(0,_messages2.default)("assets.spaces.technicalRoom")},{value:10,text:(0,_messages2.default)("assets.spaces.flat")},{value:11,text:(0,_messages2.default)("assets.spaces.retail")}],spaceTypeStore:function(){return this.devExtremeStoreGenerator(this.spaceTypes)},spaceTypeStorePlain:function(){return this.spaceTypes.slice(0)},spaceStateStore:function(){return new _array_store2.default({data:[{value:1,display:(0,_messages2.default)("state.active")},{value:2,display:(0,_messages2.default)("state.archived")}],key:"value"})},phonePattern:function(){return/^\(\d{3}\)\d{3}-\d{4}$/i}};exports.default=CONSTANTS},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'users.edit.title\') : Messages(\'users.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-email" class="control-label">{{Messages(\'users.email\')}}</label>\r\n                    <div id="field-email" dx-text-box="emailSettings" dx-validator="emailValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-name" class="control-label">{{Messages(\'users.displayname\')}}</label>\r\n                    <div id="field-name" dx-text-box="displaynameSettings" dx-validator="displaynameValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-role" class="control-label">{{Messages(\'users.role\')}}</label>\r\n                    <div id="field-role" dx-select-box="roleSelectSettings" dx-validator="roleValidationRules"></div>\r\n                    <p class="help-block"><small>{{Messages(\'users.role.help\')}}</small></p>\r\n                </div>\r\n                <div ng-if="user.roleId == 2" class="form-group">\r\n                    <label for="field-broker" class="control-label">{{Messages(\'users.broker\')}}</label>\r\n                    <div id="field-broker" dx-select-box="brokerSelectSettings" dx-validator="brokerValidationRules"></div>\r\n                    <p class="help-block"><small>{{Messages(\'users.broker.help\')}}</small></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-role" class="control-label">{{Messages(\'users.locale\')}}</label>\r\n                    <div id="field-role" dx-select-box="localeSelectSettings" dx-validator="localeValidationRules"></div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'users.saving\') : Messages(\'users.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'users.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),BrokerEditController=function(){function BrokerEditController($scope,$state,$timeout,$uibModalInstance,brokerObject,Broker,Role,StoreAdapter,NotificationService){_classCallCheck(this,BrokerEditController),this.$scope=$scope,this.$state=$state,this.brokerObject=brokerObject,this.Broker=Broker,this.Role=Role,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="broker-edit",this.addressValidationGroup="broker-edit-address",this.$timeout=$timeout,this.init(),this.initForm()}return BrokerEditController.$inject=["$scope","$state","$timeout","$uibModalInstance","brokerObject","Broker","Role","StoreAdapter","NotificationService"],_createClass(BrokerEditController,[{key:"init",value:function(){var _this=this,self=this;this.$timeout(function(){_this.initAutocomplete()}),this.$scope.clearAddress=function(){self.brokerObject.address=null}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.editMode=null!==this.brokerObject,this.isSaveOperationDisable=!0,this.$scope.editMode?this.$scope.broker=this.brokerObject:this.$scope.broker={name:"",countryId:1,city:"",street:"",streetAddress:"",postCode:""},this.$scope.nameSettings={placeholder:(0,_messages2.default)("brokers.placeholder.name"),bindingOptions:{value:"broker.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"broker.countryId"}},this.$scope.countryValidationRules={validationRules:[],validationGroup:this.validationGroup,onOptionChanged:function(){self.setAutocompleteCountry()}},this.$scope.broker.address="",this.$scope.addressSettings={bindingOptions:{value:"broker.address",disabled:"!broker.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.broker.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(_this2.validationGroup).validate();result.isValid&&(_this2.saveInProgress=!0,_this2.isSaveOperationDisable=!0,_this2.$scope.editMode?_this2.Broker.update({id:_this2.$scope.broker.id},_this2.$scope.broker,function(result){_this2.notificationService.success((0,_messages2.default)("assets.message.updated")),_this2.saveInProgress=!1,_this2.$uibModalInstance.close(_this2.$scope.broker)},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1}):_this2.Broker.save(_this2.$scope.broker,function(result){_this2.saveInProgress=!1,_this2.$state.go("broker",{id:result.id}),_this2.$uibModalInstance.close(_this2.$scope.broker),_this2.notificationService.success((0,_messages2.default)("assets.message.created"))},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this2.validationGroup),_this2.$uibModalInstance.dismiss("cancel")}}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#broker-address-field input")[0]),
google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.broker.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.broker.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.broker.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.broker.postCode=item.long_name,postCodeSet=!0)}),citySet||(_this3.$scope.broker.city=null),streetSet||(_this3.$scope.broker.street=null),buildingSet||(_this3.$scope.broker.streetAddress=null),postCodeSet||(_this3.$scope.broker.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.broker.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.broker.countryId&&(curCountryCode=country.isoCode)}),this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),BrokerEditController}();exports.default=BrokerEditController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'brokers.edit.title\') : Messages(\'brokers.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <div class="form-group">\r\n                <label for="field-name" class="control-label">{{Messages(\'brokers.name\')}}</label>\r\n                <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="broker-address-field" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                <div id="broker-address-field" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n            </div>\r\n            <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="form-group">\r\n                        <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                        <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                        <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                        <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                        <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'brokers.saving\') : Messages(\'brokers.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'brokers.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine);__webpack_require__(703);var _messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),AssetEditModalController=function(){function AssetEditModalController($scope,$state,$timeout,Asset,assetObject,$uibModalInstance,NotificationService,StoreAdapter,Broker,UtilsService){var _this=this;_classCallCheck(this,AssetEditModalController),this.$scope=$scope,this.$state=$state,this.Asset=Asset,this.assetObject=assetObject,this.$uibModalInstance=$uibModalInstance,this.notificationService=NotificationService,this.storeAdapter=StoreAdapter,this.Broker=Broker,this.utils=UtilsService,this.validationGroup="asset-edit",this.addressValidationGroup="asset-create-address",this.init(),this.initForm(),$timeout(function(){_this.initAutocomplete()})}return AssetEditModalController.$inject=["$scope","$state","$timeout","Asset","assetObject","$uibModalInstance","NotificationService","StoreAdapter","Broker","UtilsService"],_createClass(AssetEditModalController,[{key:"init",value:function(){var self=this;this.$scope.editMode=!!this.assetObject,this.$scope.editMode?(this.$scope.asset=this.assetObject,this.$scope.asset.address=this.utils.generateAddress(this.$scope.asset)):this.$scope.asset={name:"",brokerId:null,countryId:null,city:"",street:"",streetAddress:"",description:"",brokerDatabaseRecordId:"",notes:"",images:[],documents:[],floors:[],spaces:[],state:2,address:""},this.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},this.$scope.clearAddress=function(){self.$scope.asset.address=""}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.nameSettings={placeholder:(0,_messages2.default)("assets.placeholder.name"),bindingOptions:{value:"asset.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:100}],validationGroup:this.validationGroup};var brokersStore=this.storeAdapter.createStore(this.Broker,{},this.errorHandler);brokersStore.load().done(function(result){_this2.$scope.brokerSelectSettings={dataSource:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"asset.brokerId"}}}),this.$scope.brokerValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},this.$scope.description=this.$scope.$parent.description,this.$scope.descriptionSettings={placeholder:(0,_messages2.default)("assets.placeholder.description"),height:180,maxLength:500,bindingOptions:{value:"asset.description"}},this.$scope.descriptionValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"asset.countryId"}},this.$scope.countryValidationRules={validationRules:[{type:"stringLength",max:50}],validationGroup:this.validationGroup,onOptionChanged:function(){_this2.setAutocompleteCountry()}},this.$scope.addressSettings={bindingOptions:{value:"asset.address",disabled:"!asset.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.asset.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.validateAndSaveSettings=function(){var validation=_validation_engine2.default.getGroupConfig(self.validationGroup).validate(),addressValidation=_validation_engine2.default.getGroupConfig(self.addressValidationGroup).validate();validation.isValid&&addressValidation.isValid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,self.$scope.editMode?self.Asset.update({id:self.$scope.asset.id},self.$scope.asset,function(result){self.notificationService.success((0,_messages2.default)("assets.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(self.$scope.asset)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1}):self.Asset.create({id:self.$scope.asset.id},self.$scope.asset,function(result){self.notificationService.success((0,_messages2.default)("assets.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(self.$scope.asset),self.$state.go("asset",{id:result.id})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(self.validationGroup),self.$uibModalInstance.dismiss("cancel")}}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#field-address input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.asset.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.asset.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.asset.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.asset.postCode=item.long_name,postCodeSet=!0)}),citySet||(_this3.$scope.asset.city=null),streetSet||(_this3.$scope.asset.street=null),buildingSet||(_this3.$scope.asset.streetAddress=null),postCodeSet||(_this3.$scope.asset.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.asset.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.asset.countryId&&(curCountryCode=country.isoCode)}),curCountryCode&&this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),AssetEditModalController}();exports.default=AssetEditModalController}).call(exports,__webpack_require__(162))},,function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'assets.edit\') : Messages(\'assets.add\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form" name="settingsForm">\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-name" class="control-label">{{ Messages(\'assets.name\') }}</label>\r\n                    <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-broker" control-label>{{ Messages(\'assets.broker\') }}</label>\r\n                    <div>\r\n                        <div id="field-broker" dx-select-box="brokerSelectSettings" dx-validator="brokerValidationRules"></div>\r\n                        <p class="help-block"><small>{{ Messages(\'assets.broker.help\') }}</small></p>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-country" class="control-label">{{ Messages(\'assets.country\') }}</label>\r\n                    <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-address" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                    <div id="field-address" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n                </div>\r\n                <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n                <div class="panel panel-default">\r\n                    <div class="panel-body">\r\n                        <div class="form-group">\r\n                            <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                            <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                            <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                            <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                            <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings()">\r\n            {{ saveInProgress ? Messages(\'assets.saving\') : Messages(\'assets.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),ClientEditController=function(){function ClientEditController($scope,$state,$timeout,Client,clientId,NotificationService,$uibModalInstance,UtilsService){_classCallCheck(this,ClientEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.Client=Client,this.clientId=clientId,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.validationGroup="client-edit",this.addressValidationGroup="client-edit-address",this.init(),this.initForm()}return ClientEditController.$inject=["$scope","$state","$timeout","Client","clientId","NotificationService","$uibModalInstance","UtilsService"],_createClass(ClientEditController,[{key:"init",value:function(){var _this=this,self=this;this.clientId?(this.$scope.getDataInProgress=!0,this.clientObject={},this.Client.getFull({id:this.clientId},function(result){_this.$scope.client=result,_this.$scope.getDataInProgress=!1,_this.$timeout(function(){_this.initAutocomplete()})},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data)})):this.$timeout(function(){_this.initAutocomplete()}),this.$scope.clearAddress=function(){self.$scope.client.address=null}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.editMode=!!this.clientObject,this.$scope.editMode?this.$scope.client=self.clientObject:this.$scope.client={name:"",countryId:1,city:"",street:"",streetAddress:"",postCode:"",notes:"",brokerId:null,representatives:[]},this.$scope.nameSettings={placeholder:(0,_messages2.default)("clients.placeholder.name"),bindingOptions:{value:"client.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255}],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"client.countryId"}},this.$scope.countryValidationRules={validationRules:[],validationGroup:this.validationGroup,onOptionChanged:function(){self.setAutocompleteCountry()}},this.$scope.client.address="",this.$scope.addressSettings={bindingOptions:{value:"client.address",disabled:"!client.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.client.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"client.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"client.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"client.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"client.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.notesSettings={placeholder:(0,_messages2.default)("clients.placeholder.notes"),height:120,maxLength:500,bindingOptions:{value:"client.notes"}},this.$scope.notesValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:this.validationGroup},this.$scope.shortNameSettings={placeholder:(0,_messages2.default)("clients.placeholder.shortName"),bindingOptions:{value:"client.shortName"}},this.$scope.shortNameValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.industryStore=_constants2.default.clientsIndustryStore(),this.$scope.industrySettings={dataSource:this.industryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"client.industryId"}},this.$scope.industryValidationRules={validationRules:[],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var validation=_validation_engine2.default.getGroupConfig(_this2.validationGroup).validate(),addressValidation=_validation_engine2.default.getGroupConfig(self.addressValidationGroup).validate();validation.isValid&&addressValidation.isValid&&(_this2.saveInProgress=!0,_this2.isSaveOperationDisable=!0,self.$scope.editMode?self.Client.update({id:_this2.$scope.client.id},_this2.$scope.client,function(result){self.notificationService.success((0,_messages2.default)("clients.message.updated")),self.saveInProgress=!1,null!=self.$scope.client.industryId&&_constants2.default.clientsIndustryStore().byKey(self.$scope.client.industryId).done(function(dataItem){self.$scope.client.industry=dataItem.display}),_this2.$uibModalInstance.close(_this2.$scope.client)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1}):self.Client.save(_this2.$scope.client,function(result){self.saveInProgress=!1,_this2.$uibModalInstance.close(_this2.$scope.client),_this2.$state.go("client",{id:result.id}),_this2.notificationService.success((0,_messages2.default)("clients.message.created"))},function(error){self.notificationService.error(error.data),self.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this2.validationGroup),_this2.$uibModalInstance.dismiss("cancel")}}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#client-address-field input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.client.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.client.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.client.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.client.postCode=item.long_name,postCodeSet=!0)}),citySet||(_this3.$scope.client.city=null),streetSet||(_this3.$scope.client.street=null),buildingSet||(_this3.$scope.client.streetAddress=null),postCodeSet||(_this3.$scope.client.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.client.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.client.countryId&&(curCountryCode=country.isoCode)}),this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),ClientEditController}();exports.default=ClientEditController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'clients.edit.title\') : Messages(\'clients.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <form role="form" ng-if="!getDataInProgress">\r\n            <div class="form-group">\r\n                <label for="field-name" class="control-label">{{Messages(\'clients.name\')}}</label>\r\n                <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-short-name" class="control-label">{{Messages(\'clients.shortName\')}}</label>\r\n                <div id="field-short-name" dx-text-box="shortNameSettings" dx-validator="shortNameValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="client-address-field" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                <div id="client-address-field" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n            </div>\r\n            <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="form-group">\r\n                        <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                        <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                        <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                        <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                        <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-industry" class="control-label">{{Messages(\'clients.industry\')}}</label>\r\n                <div id="field-industry" dx-select-box="industrySettings" dx-validator="industryValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-notes" class="control-label">{{Messages(\'clients.notes\')}}:</label>\r\n                <div id="field-notes" dx-text-area="notesSettings"></div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'clients.saving\') : Messages(\'clients.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'clients.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){module.exports='<a ng-click="addNewUser()" ng-if="$ctrl.item === \'user\'" class="add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    <span>{{$ctrl.messages(\'users.new\')}}</span>\r\n</a>\r\n\r\n<a ng-click="addNewBroker()" ng-if="$ctrl.item === \'broker\'" class="add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    <span>{{$ctrl.messages(\'brokers.new\')}}</span>\r\n</a>\r\n\r\n<a ng-click="addNewSet()" ng-if="$ctrl.item === \'asset\'" class="add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    <span>{{$ctrl.messages(\'assets.new\')}}</span>\r\n</a>\r\n\r\n<a ng-click="addNewClient()" ng-if="$ctrl.item === \'client\'" class="add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    <span>{{$ctrl.messages(\'clients.new\')}}</span>\r\n</a>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _imagegallery=__webpack_require__(709),_imagegallery2=_interopRequireDefault(_imagegallery),_imagegalleryTemplate=__webpack_require__(718),_imagegalleryTemplate2=_interopRequireDefault(_imagegalleryTemplate),ImageGalleryComponent={bindings:{images:"=",maxImageWidth:"=?",maxImageHeight:"=?",maxImageCount:"=?",readonly:"=?",imageAddCallback:"=?",imageDeleteCallback:"=?",sortingChangeCallback:"=?"},controller:_imagegallery2.default,template:_imagegalleryTemplate2.default};exports.default=ImageGalleryComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){
if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(411),_messages=(_interopRequireDefault(_array_store),__webpack_require__(670)),_messages2=_interopRequireDefault(_messages),_imagecropper=__webpack_require__(710),_imagecropper2=_interopRequireDefault(_imagecropper),_imagecropperTemplate=__webpack_require__(717),_imagecropperTemplate2=_interopRequireDefault(_imagecropperTemplate),ImageGalleryController=function(){function ImageGalleryController($scope,$uibModal,FileService,ImageService,UtilsService){_classCallCheck(this,ImageGalleryController),this.images=this.images,this.maxImageWidth=this.maxImageWidth||500,this.maxImageHeight=this.maxImageHeight||500,this.maxImageCount=this.maxImageCount||10,this.readonly=this.readonly||!1,this.imageAddCallback=this.imageAddCallback,this.imageDeleteCallback=this.imageDeleteCallback,this.$scope=$scope,this.$uibModal=$uibModal,this.fileService=FileService,this.imageService=ImageService,this.utils=UtilsService,this.init(),this.initComponent()}return ImageGalleryController.$inject=["$scope","$uibModal","FileService","ImageService","UtilsService"],_createClass(ImageGalleryController,[{key:"init",value:function(){for(var self=this,i=0;i<self.images.length;i++)self.images[i].uniqueId||(self.images[i].uniqueId=self.utils.generateGuid());self.enableUpload=!0,self.imageCount=self.images.length,self.$scope.images=self.images,self.$scope.readonly=self.readonly}},{key:"initComponent",value:function(){var self=this;self.addImageBtnConfig={icon:"add",type:"default",text:(0,_messages2.default)("users.images.add"),bindingOptions:{disabled:"!$ctrl.enableUpload"}},self.uploadImage=function(){var self=this;if(!self.readonly){var modal=this.$uibModal.open({controller:_imagecropper2.default,template:_imagecropperTemplate2.default,resolve:{maxImageHeight:self.maxImageHeight,maxImageWidth:self.maxImageWidth,viewPortType:function(){return"square"}}});modal.result.then(function(result){if(self.imageCount>=self.maxImageCount)return void self.checkImageLimit();self.imageCount++;var image=self.createImage(result.file);image.imageFile.imageData=result.raw,self.addImage(image)}),modal.closed.then(function(){})}},self.addImage=function(image){self.readonly||(self.images.push(image),self.$scope.$$phase||self.$scope.$root&&self.$scope.$root.$$phase||self.$scope.$apply(),self.imageAddCallback&&self.imageAddCallback(image),self.updateImageOrder(),self.checkImageLimit())},self.deleteImage=function(image){if(!self.readonly){for(var i=0;i<self.images.length;i++)if(self.images[i].uniqueId==image.uniqueId){self.images.splice(i,1);break}self.imageDeleteCallback&&self.imageDeleteCallback(image),self.imageCount--,self.updateImageOrder(),self.checkImageLimit()}},self.onImageSort=function(){self.updateImageOrder()},self.createImage=function(file){var image={id:0,uniqueId:self.utils.generateGuid(),filePath:"",order:0,originalFileName:file.filename,isMain:0,contentType:file.extension,imageFile:{data:[],imageData:file.data,contentType:file.extension,uniqueFileName:"",originalFileName:file.filename}};return image},self.sortImage=function(){self.images.sort(function(a,b){return a.order>b.order?1:a.order<b.order?-1:0})},self.updateImageOrder=function(){for(var i=0;i<self.images.length;i++)self.images[i].order=i,self.images[i].isMain=!1;self.images.length>0&&(self.images[0].isMain=!0),self.sortingChangeCallback&&self.sortingChangeCallback()},self.checkImageLimit=function(){self.images.length<self.maxImageCount&&!self.readonly?self.enableUpload=!0:self.enableUpload=!1,self.$scope.$$phase||self.$scope.$root&&self.$scope.$root.$$phase||self.$scope.$apply()},self.loadFiles=function(files){self.readonly||self.fileService.uploadFiles(files,function(singleFile){if(self.imageCount>=self.maxImageCount)return void self.checkImageLimit();self.imageCount++;var image=self.createImage(singleFile);self.resizeImage(image,function(imageRaw){image.imageFile.imageData=imageRaw,self.addImage(image)})},function(){self.checkImageLimit()})},self.resizeImage=function(image,imageResizedCallback){var sourceImage=new Image;sourceImage.src=image.imageFile.imageData;var imgWidth=sourceImage.width,imgHeight=sourceImage.height;(sourceImage.width>self.maxImageWidth||sourceImage.height>self.maxImageHeight)&&(sourceImage.width>sourceImage.height?(imgWidth=self.maxImageWidth,imgHeight=sourceImage.height*(self.maxImageWidth/sourceImage.width)):(imgWidth=sourceImage.width*(self.maxImageHeight/sourceImage.height),imgHeight=self.maxImageHeight)),self.imageService.resizeImage(sourceImage,image.contentType,imgWidth,imgHeight,imageResizedCallback)},self.sortImage(),self.$scope.addImageBtnClick=self.addImageBtnClick,self.$scope.deleteImage=self.deleteImage,self.$scope.onImageSort=self.onImageSort,self.$scope.Messages=_messages2.default,angular.element(document).ready(function(){$("#imageUploader").change(function(){self.loadFiles($("#imageUploader")[0].files)}),self.checkImageLimit()})}}]),ImageGalleryController}();exports.default=ImageGalleryController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(411),_messages=(_interopRequireDefault(_array_store),__webpack_require__(670)),_croppie=(_interopRequireDefault(_messages),__webpack_require__(711)),_croppie2=_interopRequireDefault(_croppie);__webpack_require__(715);var ImageCropperController=function(){function ImageCropperController($scope,$rootScope,$uibModalInstance,Upload,maxImageHeight,maxImageWidth,viewPortType){_classCallCheck(this,ImageCropperController),this.$scope=$scope,this.$rootScope=$rootScope,this.$uibModalInstance=$uibModalInstance,this.maxImageHeight=maxImageHeight,this.maxImageWidth=maxImageWidth,this.viewPortType=viewPortType||"square",this.$croppie=null,this.init()}return ImageCropperController.$inject=["$scope","$rootScope","$uibModalInstance","Upload","maxImageHeight","maxImageWidth","viewPortType"],_createClass(ImageCropperController,[{key:"init",value:function(){var self=this;this.$scope.fileSelected=function(files,events,b){if(files&&files.length>0){var reader=new FileReader;reader.onload=function(evt){self.cropImage(evt.target.result)},reader.readAsDataURL(files[0])}},this.$scope.uploadImage=function(){$("#upload").val(null),setTimeout(function(){$("#upload").click()},200)},this.$scope.save=function(){self.$croppie.result({type:"canvas",size:{width:self.maxImageWidth,height:self.maxImageHeight},format:self.getImageType(self.$scope.picFile)}).then(function(resp){self.$uibModalInstance.close({file:self.$scope.picFile,raw:resp})})},this.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},this.cropImage=function(file){var self=this;setTimeout(function(){self.$croppie.bind({url:file,zoom:0})},50)},this.getImageType=function(file){return"png"==file.name.split(".").pop().toLowerCase()?"png":"jpeg"},angular.element(document).ready(function(){var el=document.getElementById("cropPanel");self.$croppie=new _croppie2.default(el,{enableExif:!0,viewport:{width:200,height:200,type:self.viewPortType},boundary:{width:300,height:300},mouseWheelZoom:!0,showZoomer:!0,enableOrientation:!0,enforceBoundary:!0}),$("#upload").change(function(){$("#upload")[0].files&&$("#upload")[0].files.length>0&&(self.$scope.picFile=$("#upload")[0].files[0],self.$scope.fileSelected($("#upload")[0].files),self.$rootScope.$$phase||self.$scope.$apply())})})}}]),ImageCropperController}();exports.default=ImageCropperController}).call(exports,__webpack_require__(162))},,,,,,,function(module,exports){module.exports='<form class="form-horizontal" role="form">\r\n    <div class="inmodal hmodal-info image-cropper">\r\n        <div class="color-line"></div>\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">{{ Messages(\'image.cropper.title\') }}</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="up-buttons">\r\n                <div ngf-drop ng-model="picFile" ngf-change="fileSelected($files, $event, b)" \r\n                        ngf-drag-over-class="{ accept:\'dragover\', reject:\'dragover-err\', delay:100}" \r\n                        ngf-multiple="false" ngf-pattern="image/*">\r\n                    <div ng-show="!picFile" class="upload-msg">\r\n                        <span>{{ Messages(\'image.cropper.placeholder.empty\') }}</span>\r\n                    </div>\r\n                    <div ng-show="picFile" class="upload-image-wrap">\r\n                        <div id="cropPanel"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="upload-button">\r\n                <div class="add-entity-btn" ng-click="uploadImage()">\r\n                    <i class="fa fa-plus"></i>\r\n                    <span>{{ Messages(\'image.cropper.addbutton\') }}</span>\r\n                </div>\r\n            </div>\r\n            <input type="file" class="hidden" id="upload" accept="image/*" />\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary" ng-click="save()">\r\n                {{ saveInProgress ? Messages(\'image.cropper.saving\') : Messages(\'image.cropper.save\') }}\r\n            </button>\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'image.cropper.cancel\') }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>'},function(module,exports){module.exports='<form class="form-horizontal image-gallery" role="form" name="galleryForm">\r\n    <fieldset>\r\n        <div class="sortable-container grid" sv-root sv-part="images" sv-on-sort="onImageSort()">\r\n            <div ng-repeat="image in images" sv-element="opts" class="image-list grid">\r\n                <div class="image-item">\r\n                    <div class="image-base"><img draggable="false" ng-if="image.filePath != \'\'" ng-src="{{image.filePath}}" /></div>\r\n                    <div class="image-base"><img draggable="false" ng-if="image.filePath == \'\'" ng-src="{{image.imageFile.imageData}}" /></div>\r\n                    <div class="image-delete">\r\n                        <span class="fa fa-minus-circle" ng-if="!readonly" ng-click="deleteImage(image);"></span>\r\n                    </div>\r\n                    <div class="image-favourite">\r\n                        <div class="image-favorite-text" draggable="false" ng-if="image.isMain">\r\n                            {{ Messages(\'assets.gallery.main\') }}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="image-gallery-add-btn" ng-if="$ctrl.enableUpload" ng-click="$ctrl.uploadImage();">\r\n            <div class="edge"></div>\r\n            <div class="cont">\r\n                <div>\r\n                    <i class="fa fa-picture-o"></i>\r\n                </div>\r\n                {{ Messages(\'assets.gallery.add\') }}\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n</form>\r\n<input type="file" id="imageUploader" multiple accept="image/*" class="hidden" />'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _imagecropper=__webpack_require__(710),_imagecropper2=_interopRequireDefault(_imagecropper),_imagecropperTemplate=__webpack_require__(717),_imagecropperTemplate2=_interopRequireDefault(_imagecropperTemplate),ImageCropperComponent={bindings:{maxImageHeight:"=",maxImageWidth:"=",viewPortType:"=?"},controller:_imagecropper2.default,template:_imagecropperTemplate2.default};exports.default=ImageCropperComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _attachements=__webpack_require__(721),_attachements2=_interopRequireDefault(_attachements),_attachementsTemplate=__webpack_require__(722),_attachementsTemplate2=_interopRequireDefault(_attachementsTemplate),AttachementsComponent={bindings:{documents:"=",maxAttachementSize:"=?",maxAttachementCount:"=?",readonly:"=?",documentCreateCallback:"=?",documentAddCallback:"=?",documentDeleteCallback:"=?"},controller:_attachements2.default,template:_attachementsTemplate2.default};exports.default=AttachementsComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(670)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),AttachementsController=function(){function AttachementsController($scope,FileService,NotificationService,UtilsService){_classCallCheck(this,AttachementsController),this.documents=this.documents,this.maxAttachementSize=this.maxAttachementSize||5e6,this.maxAttachementCount=this.maxAttachementCount||10,this.readonly=this.readonly||!1,this.documentCreateCallback=this.documentCreateCallback,this.documentAddCallback=this.documentAddCallback,this.documentDeleteCallback=this.documentDeleteCallback,this.$scope=$scope,this.fileService=FileService,this.notificationService=NotificationService,this.utils=UtilsService,this.init(),this.initComponent(),this.initList()}return AttachementsController.$inject=["$scope","FileService","NotificationService","UtilsService"],_createClass(AttachementsController,[{key:"init",value:function(){for(var self=this,i=0;i<self.documents.length;i++)self.documents[i].uniqueId||(self.documents[i].uniqueId=self.utils.generateGuid());self.enableUpload=!0,self.documentsCount=self.documents.length,self.editNotesValue="",self.$scope.Messages=_messages2.default}},{key:"initComponent",value:function(){var self=this;self.editDocumentBtnConfig={icon:"edit",type:"success",bindingOptions:{visible:"!file.isEditMode"},onClick:function(e){e.model.file.isEditMode?self.resetEditMode():(self.resetEditMode(),self.editNotesValue=e.model.file.notes,e.model.file.isEditMode=!0)}},self.deleteDocumentBtnConfig={icon:"trash",type:"danger",bindingOptions:{visible:"!file.isEditMode"},onClick:function(e){self.resetEditMode(),self.deleteDocument(e.model.file)}},self.saveDocumentBtnConfig={icon:"save",type:"default",bindingOptions:{visible:"file.isEditMode"},onClick:function(e){e.model.file.notes=self.editNotesValue,self.resetEditMode()}},self.cancelDocumentBtnConfig={icon:"remove",type:"danger",bindingOptions:{visible:"file.isEditMode"},onClick:function(e){self.resetEditMode()}},self.editDocumentTxbConfig={isValid:!1,bindingOptions:{value:"$ctrl.editNotesValue",visible:"file.isEditMode"}},self.editDocumentTxbValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:"documentNotes"},self.checkFileLimit=function(){self.documents.length<self.maxAttachementCount&&!self.readonly?self.enableUpload=!0:self.enableUpload=!1,self.$scope.$$phase||self.$scope.$root&&self.$scope.$root.$$phase||self.$scope.$apply()},self.loadFiles=function(files){self.fileService.uploadFiles(files,function(singleFile){if(singleFile.size>self.maxAttachementSize)return void self.notificationService.error("Error loading file "+singleFile.filename+". Maximum file size is "+self.maxAttachementSize+" byte");if(self.documentsCount>=self.maxAttachementCount)return void self.checkFileLimit();self.documentsCount++;var document=self.createDocument(singleFile);self.documents.push(document),self.documentAddCallback&&self.documentAddCallback(document)},function(){self.checkFileLimit(),self.refreshList()})},self.createDocument=function(file){var document={id:0,uniqueId:self.utils.generateGuid(),isEditMode:!1,filePath:"",originalFileName:file.filename,notes:"",contentType:file.extension,documentFile:{data:[],fileData:file.data,contentType:file.extension,uniqueFileName:"",originalFileName:file.filename}};return self.documentCreateCallback&&self.documentCreateCallback(document),document},self.deleteDocument=function(file){for(var i=0;i<self.documents.length;i++)if(self.documents[i].uniqueId==file.uniqueId){self.documents.splice(i,1);break}self.documentsCount--,self.documentDeleteCallback&&self.documentDeleteCallback(file),self.checkFileLimit(),self.refreshList()},self.resetEditNotesValue=function(){self.editNotesValue=""},self.resetEditMode=function(){self.resetEditNotesValue();for(var i=0;i<self.documents.length;i++)self.documents[i].isEditMode=!1},angular.element(document).ready(function(){$("#attachementsUploader").change(function(){self.loadFiles($("#attachementsUploader")[0].files)}),self.checkFileLimit()})}},{key:"initList",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.notificationService.error(response.data)}},self.store=new _array_store2.default({data:self.documents,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.listDataSource={store:self.store},self.listOptions={dataSource:self.listDataSource},self.refreshList=function(){$("#listContainer").dxList("instance").reload()}}},{key:"addDocument",value:function(){$("#attachementsUploader").val(null),setTimeout(function(){$("#attachementsUploader").click()},200)}}]),AttachementsController}();exports.default=AttachementsController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<form name="settingsForm">\r\n    <fieldset class="attachments">\r\n        <div class="wrap">\r\n            <div class="btn-group" ng-if="$ctrl.enableUpload">\r\n                <a href="#" class="add-entity-btn" ng-click="$ctrl.addDocument()">\r\n                    <i class="fa fa-plus"></i>\r\n                    <span>{{Messages(\'assets.spaces.documents.add\')}}</span>\r\n                </a>\r\n            </div>\r\n            <div class="form-group">\r\n                <div class="dx-viewport">\r\n                    <div class="list-container">\r\n                        <div dx-list="$ctrl.listOptions" id="listContainer" dx-item-alias="file">\r\n                            <div data-options="dxTemplate: {name: \'item\'}">\r\n                                <div class="col-sm-9 pull-left">\r\n                                    <div class="file-icon pull-left" data-type="{{file.contentType}}"></div>\r\n                                    <div class="file-container">\r\n                                        <a href="{{file.filePath ? file.filePath : \'#\'}}">{{file.originalFileName}}</a>\r\n                                    </div>\r\n                                    <div class="wrapword">\r\n                                        <span class="note-label">Notes: </span>\r\n                                        <span class="note" ng-show="!file.isEditMode"><i>{{file.notes}}</i></span>\r\n                                        <div class="dx-field-value" dx-text-box="$ctrl.editDocumentTxbConfig" dx-validator="$ctrl.editDocumentTxbValidationRules"></div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-3 pull-right" ng-show="!$ctrl.readonly">\r\n                                    <div dx-button="$ctrl.deleteDocumentBtnConfig" class="button-container"></div>\r\n                                    <div dx-button="$ctrl.editDocumentBtnConfig" class="button-container"></div>\r\n                                    <div dx-button="$ctrl.cancelDocumentBtnConfig" class="button-container"></div>\r\n                                    <div dx-button="$ctrl.saveDocumentBtnConfig" class="button-container"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <input type="file" id="attachementsUploader" multiple accept="*" class="hidden" />\r\n</form>\r\n'},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _breadcrumbpanel=__webpack_require__(726),_breadcrumbpanel2=_interopRequireDefault(_breadcrumbpanel),_breadcrumbpanelTemplate=__webpack_require__(727),_breadcrumbpanelTemplate2=_interopRequireDefault(_breadcrumbpanelTemplate),BreadcrumbPanelComponent={bindings:{states:"=",title:"@"},transclude:!0,controller:_breadcrumbpanel2.default,template:_breadcrumbpanelTemplate2.default};exports.default=BreadcrumbPanelComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),BreadcrumbPanel=function(){function BreadcrumbPanel($scope,$state){_classCallCheck(this,BreadcrumbPanel),this.$scope=$scope,this.$state=$state,this.Messages=_messages2.default,this.init()}return BreadcrumbPanel.$inject=["$scope","$state"],_createClass(BreadcrumbPanel,[{key:"init",value:function(){}}]),BreadcrumbPanel}();exports.default=BreadcrumbPanel},function(module,exports){module.exports='<div class="hpanel breadcrumb-panel">\r\n    <div class="panel-body">\r\n        <span ng-repeat="state in $ctrl.states" ng-switch="$last">\r\n            <a ng-if="state.path" href="{{state.path}}" ui-sref="{{state.path}}">{{state.title}}</a>\r\n            <span ng-if="!state.path" ng-class="{active: $last}">{{state.title}}</span>\r\n            <span ng-switch-when="false">/</span>\r\n        </span>\r\n        <ng-transclude></ng-transclude>\r\n        <span class="panel-title">{{$ctrl.title}}</span>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaceDescription=__webpack_require__(729),_spaceDescription2=_interopRequireDefault(_spaceDescription),_spaceDescriptionTemplate=__webpack_require__(730),_spaceDescriptionTemplate2=_interopRequireDefault(_spaceDescriptionTemplate),SpaceDescriptionComponent={bindings:{data:"=",context:"=?"},controller:_spaceDescription2.default,template:_spaceDescriptionTemplate2.default};exports.default=SpaceDescriptionComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),SpaceDescription=function(){function SpaceDescription($scope,$rootScope,uibDateParser,UtilsService){_classCallCheck(this,SpaceDescription),this.$scope=$scope,this.$rootScope=$rootScope,this.messages=_messages2.default,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.init()}return SpaceDescription.$inject=["$scope","$rootScope","uibDateParser","UtilsService"],_createClass(SpaceDescription,[{key:"init",value:function(){this.$scope.data=this.data,this.$scope.context=this.context}},{key:"getOfficeType",value:function(type){var officeType=_constants2.default.spaceTypeStorePlain().find(function(item){return item.value===type});return officeType.text}},{key:"getStatus",value:function(status){switch(status){case 2:return(0,_messages2.default)("assets.spaces.filter.occupied");case 3:return(0,_messages2.default)("assets.spaces.filter.vacant")}}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"closeSidebar",value:function(){this.$rootScope.$broadcast("right-sidebar:close")}}]),SpaceDescription}();exports.default=SpaceDescription},function(module,exports){module.exports='<div class="space-descr">\r\n    <div ng-if="context === \'sidebar\'" class="side-close">\r\n        <button class="btn btn-default pull-left" ng-click="$ctrl.closeSidebar()">\r\n            <i class="fa fa-times"></i>\r\n        </button>\r\n        <div class="cont">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.spaces.status\')}}</span>\r\n            <p class="stat-text" ng-class="data.status === 3 ? \'success\' : \'error\'">{{$ctrl.getStatus(data.status)}}</p>\r\n        </div>\r\n    </div>\r\n    <div class="big">\r\n        {{$ctrl.messages(\'assets.spaces.unit\')}} {{data.number}}\r\n    </div>\r\n    <div>\r\n        <div class="labels_strip">\r\n            <span class="stat-label">{{data.towerName}}</span> <span class="stat-label">{{data.floorName}}</span>\r\n        </div>\r\n        <p class="stat-text">{{$ctrl.utils.generateAddress(data)}}</p>\r\n    </div>\r\n    <div>\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.rentableArea\')}}</span>\r\n        <p class="stat-text">\r\n            <span class="huge">{{data.rentableArea}}</span>\r\n            <span ng-bind-html="$ctrl.messages(\'square.meter\')" />\r\n        </p>\r\n    </div>\r\n    <div>\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.type\')}}</span>\r\n        <p class="stat-text">{{$ctrl.getOfficeType(data.type)}}</p>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-xs-6">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.spaces.availability\')}}</span>\r\n            <p class="stat-text">{{$ctrl.getParsedDate(data.contract && data.contract.endsAt)}}</p>\r\n        </div>\r\n        <div class="col-xs-6">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.spaces.asking_price\')}}</span>\r\n            <p class="stat-text">\r\n                <span ng-if="data.minAskingPrice !== null && data.maxAskingPrice !== null">\r\n                    € {{data.minAskingPrice}} - € {{data.maxAskingPrice}}\r\n                </span>\r\n                <span ng-if="!data.minAskingPrice && !data.maxAskingPrice">€ 0</span>\r\n                <span ng-bind-html="$ctrl.messages(\'square.meter\')"/>\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div class="stats">\r\n        <div class="big">\r\n            {{$ctrl.messages(\'assets.spaces.tenant_name\')}}\r\n        </div>\r\n        <p class="stat-text">{{data.contract && data.contract.tenantName}}</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.lease_start_date\')}}</span>\r\n        <p class="stat-text">{{$ctrl.getParsedDate(data.contract && data.contract.startsAt)}}</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.lease_end_date\')}}</span>\r\n        <p class="stat-text">{{$ctrl.getParsedDate(data.contract && data.contract.endsAt)}}</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.in_place_rent\')}}</span>\r\n        <p class="stat-text">{{data.contract && data.contract.inPlaceRent}} €/<span ng-bind-html="$ctrl.messages(\'square.meter\')"/></p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.net_rent\')}}</span>\r\n        <p class="stat-text">{{data.contract && data.contract.netRent}} €</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.vat\')}} @ {{data.vat_percent || 10}}%</span>\r\n        <p class="stat-text">{{data.contract && data.contract.vatCosts}} €</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.additional_cost\')}}</span>\r\n        <p class="stat-text">{{data.contract && data.contract.additionalCosts}} €</p>\r\n\r\n        <hr class="total_hr">\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.spaces.total_rent\')}}</span>\r\n        <p class="stat-text">{{data.contract && data.contract.totalCosts}} €</p>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _tenantDescription=__webpack_require__(732),_tenantDescription2=_interopRequireDefault(_tenantDescription),_tenantDescriptionTemplate=__webpack_require__(733),_tenantDescriptionTemplate2=_interopRequireDefault(_tenantDescriptionTemplate),TenantDescriptionComponent={bindings:{data:"=",context:"=?"},controller:_tenantDescription2.default,template:_tenantDescriptionTemplate2.default};exports.default=TenantDescriptionComponent;
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),TenantDescription=function(){function TenantDescription($scope,$rootScope,uibDateParser,UtilsService){_classCallCheck(this,TenantDescription),this.$scope=$scope,this.$rootScope=$rootScope,this.messages=_messages2.default,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.init()}return TenantDescription.$inject=["$scope","$rootScope","uibDateParser","UtilsService"],_createClass(TenantDescription,[{key:"init",value:function(){var _this=this;this.$scope.data=this.data,this.$scope.context=this.context,this.$scope.selectedSpace=this.data.spaces[0],this.$scope.vatCosts=0,this.$scope.additionalCosts=0,this.data.spaces.forEach(function(item){_this.$scope.vatCosts=(Number(_this.$scope.vatCosts)+item.vatCost).toFixed(2),_this.$scope.additionalCosts=(Number(_this.$scope.additionalCosts)+item.additionalCost).toFixed(2)})}},{key:"getTowersCount",value:function(){var uniqueTowers=[];return this.$scope.data.spaces.forEach(function(space){uniqueTowers.indexOf(space.towerId)===-1&&uniqueTowers.push(space.towerId)}),uniqueTowers.length}},{key:"getIndustryType",value:function(typeId){var industry=void 0;return _constants2.default.clientsIndustryPlain().forEach(function(item){item.value===typeId&&(industry=item.text)}),industry}},{key:"getStatus",value:function(status){return 0===status?(0,_messages2.default)("assets.tenants.filter.in_place"):(0,_messages2.default)("assets.tenants.filter.expired")}},{key:"selectSpace",value:function(spaceId){var _this2=this;this.data.spaces.forEach(function(item){item.id===spaceId&&(_this2.$scope.selectedSpace=item)})}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"closeSidebar",value:function(){this.$rootScope.$broadcast("right-sidebar:close")}}]),TenantDescription}();exports.default=TenantDescription},function(module,exports){module.exports='<div class="tenant-descr">\r\n    <div ng-if="context === \'sidebar\'" class="side-close">\r\n        <button class="btn btn-default pull-left" ng-click="$ctrl.closeSidebar()">\r\n            <i class="fa fa-times"></i>\r\n        </button>\r\n        <div class="cont">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.tenants.status\')}}</span>\r\n            <p class="stat-text" ng-class="data.status === 0 ? \'success\' : \'error\'">{{$ctrl.getStatus(data.status)}}</p>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-xs-6">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.tenants.name\')}}</span>\r\n            <p class="stat-text">{{data.tenantName}}</p>\r\n        </div>\r\n        <div class="col-xs-6">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.tenants.type\')}}</span>\r\n            <p class="stat-text">{{$ctrl.getIndustryType(data.industryId)}}</p>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-xs-6">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.tenants.contract_number\')}}</span>\r\n            <p class="stat-text">234234</p>\r\n        </div>\r\n        <div class="col-xs-6">\r\n            <span class="stat-label">{{$ctrl.messages(\'assets.tenants.total_area\')}}</span>\r\n            <p class="stat-text">\r\n                <span class="huge">{{data.totalArea}} </span>\r\n                <span ng-bind-html="$ctrl.messages(\'square.meter\')" />\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div class="big">\r\n        {{$ctrl.messages(\'assets.tenants.units\')}}: {{data.spaces.length}} in {{$ctrl.getTowersCount()}} {{$ctrl.messages(\'assets.tenants.towers\')}}\r\n    </div>\r\n    <div class="spaces">\r\n        <span ng-repeat="space in data.spaces" ng-class="space.id === selectedSpace.id ? \'selected\' : \'\'" ng-click="$ctrl.selectSpace(space.id)">\r\n            [{{space.number}}]\r\n        </span>\r\n    </div>\r\n    <div class="space_descr">\r\n        <div class="row">\r\n            <div class="col-xs-6">\r\n                <div class="header">\r\n                    <span class="stat-label">{{selectedSpace.number}}</span>\r\n                    <span class="stat-label">{{selectedSpace.towerName}}</span>\r\n                    <span class="stat-label">{{$ctrl.messages(\'assets.tenants.floor\')}} {{selectedSpace.floorId}}</span>\r\n                </div>\r\n                <p class="stat-text">{{$ctrl.utils.generateAddress(selectedSpace)}}</p>\r\n            </div>\r\n            <div class="col-xs-6">\r\n                <span class="stat-label">{{$ctrl.messages(\'assets.tenants.area_in_unit\')}}</span>\r\n                <p class="stat-text">\r\n                    <span class="huge">{{selectedSpace.rentableArea}} </span>\r\n                    <span ng-bind-html="$ctrl.messages(\'square.meter\')"/>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="stats">\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.lease_start_date\')}}</span>\r\n        <p class="stat-text">{{$ctrl.getParsedDate(data.startDate)}}</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.lease_end_date\')}}</span>\r\n        <p class="stat-text">{{$ctrl.getParsedDate(data.endDate)}}</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.in_place_rent\')}}</span>\r\n        <p class="stat-text">\r\n            {{(data.totalRentCost / data.totalArea).toFixed(2)}} €/<span ng-bind-html="$ctrl.messages(\'square.meter\')"/>\r\n            <span ng-if="data.spaces.length > 1" class="tenants-avg-indicator">\r\n                AVG\r\n            </span>\r\n        </p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.net_rent\')}}</span>\r\n        <p class="stat-text">{{(data.totalRentCost - vatCosts - additionalCosts).toFixed(2)}} €</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.vat\')}} @ {{data.vat_percent || 10}}%</span>\r\n        <p class="stat-text">{{vatCosts}} €</p>\r\n\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.additional_cost\')}}</span>\r\n        <p class="stat-text">{{additionalCosts}} €</p>\r\n\r\n        <hr class="total_hr">\r\n        <span class="stat-label">{{$ctrl.messages(\'assets.tenants.total_rent\')}}</span>\r\n        <p class="stat-text">{{data.totalRentCost}} €</p>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _bodyBlocker=__webpack_require__(735),_bodyBlocker2=_interopRequireDefault(_bodyBlocker),_bodyBlockerTemplate=__webpack_require__(736),_bodyBlockerTemplate2=_interopRequireDefault(_bodyBlockerTemplate),BodyBlockerComponent={bindings:{},controller:_bodyBlocker2.default,template:_bodyBlockerTemplate2.default};exports.default=BodyBlockerComponent},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SpaceDescription=function(){function SpaceDescription($rootScope){_classCallCheck(this,SpaceDescription),this.$rootScope=$rootScope}return SpaceDescription.$inject=["$rootScope"],_createClass(SpaceDescription,[{key:"onClick",value:function(){this.$rootScope.$broadcast("right-sidebar:close")}}]),SpaceDescription}();exports.default=SpaceDescription},function(module,exports){module.exports='<div class="blocker" id="body-blocker" ng-click="$ctrl.onClick()"></div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _usermenu=__webpack_require__(738),_usermenu2=_interopRequireDefault(_usermenu),_usermenuTemplate=__webpack_require__(739),_usermenuTemplate2=_interopRequireDefault(_usermenuTemplate),UserMenuComponent={bindings:{userInfo:"=",brokerInfo:"=?"},controller:_usermenu2.default,template:_usermenuTemplate2.default};exports.default=UserMenuComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),UserMenu=function(){function UserMenu($scope,$state,SecurityService){_classCallCheck(this,UserMenu),this.$scope=$scope,this.$state=$state,this.securityService=SecurityService,this.messages=_messages2.default,this.init()}return UserMenu.$inject=["$scope","$state","SecurityService"],_createClass(UserMenu,[{key:"init",value:function(){}},{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}}]),UserMenu}();exports.default=UserMenu},function(module,exports){module.exports='<!--<ul class="mobile-menu mobile-navbar navbar-left user-menu">\r\n    <div >Test</div>\r\n</ul>-->\r\n<ul class="nav navbar-nav navbar-right user-menu">\r\n    <li class="dropdown">\r\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown">{{$ctrl.userInfo.displayName}}<span class="caret"></span></a>\r\n\r\n        <div class="dropdown-menu dropdown-profile hidden-xs multi-level animated flipInX">\r\n            <div class="media">\r\n            <div class="profile-image pull-left">\r\n                <img class="media-object user-photo" src="img/user.svg" alt="...">\r\n            </div>\r\n            <div class="media-body">\r\n                <div class="profile-name text-overflow">{{$ctrl.userInfo.displayName}}</div>\r\n                <div class="profile-company text-overflow">{{$ctrl.userInfo.roleName}}</div>\r\n                <div class="profile-mail text-overflow small text-muted">{{$ctrl.userInfo.email}}</div>\r\n            </div>\r\n            </div>\r\n            <hr>\r\n            <ul class="nav profile-links">\r\n                <li><a ui-sref="#">{{$ctrl.messages(\'mainheader.settings.account\')}}</a></li>\r\n                <!--<li class="divider"></li>-->\r\n                <li><a ng-click="$ctrl.signOut()">{{$ctrl.messages(\'mainheader.signout\')}}</a></li>\r\n            </ul>\r\n        </div>\r\n    </li>\r\n</ul>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _actionmenu=__webpack_require__(741),_actionmenu2=_interopRequireDefault(_actionmenu),_actionmenuTemplate=__webpack_require__(742),_actionmenuTemplate2=_interopRequireDefault(_actionmenuTemplate),ActionMenuComponent={bindings:{userInfo:"=",brokerInfo:"=?"},controller:_actionmenu2.default,template:_actionmenuTemplate2.default};exports.default=ActionMenuComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),ActionMenu=function(){function ActionMenu($scope,$state,SecurityService,Activities){_classCallCheck(this,ActionMenu),this.$scope=$scope,this.$state=$state,this.securityService=SecurityService,this.activities=Activities,this.messages=_messages2.default,this.init()}return ActionMenu.$inject=["$scope","$state","SecurityService","Activities"],_createClass(ActionMenu,[{key:"init",value:function(){this.applyActivities()}},{key:"applyActivities",value:function(){var _this=this;this.securityService.getActivities().then(function(){_this.securityService.canDo(_this.activities.HomeView).then(function(result){return _this.homeAvailable=result},function(){return _this.homeAvailable=!1}),_this.securityService.canDo(_this.activities.BrokersView).then(function(result){return _this.brokersAvailable=result},function(){return _this.brokersAvailable=!1}),_this.securityService.canDo(_this.activities.UsersView).then(function(result){return _this.usersAvailable=result},function(){return _this.usersAvailable=!1}),_this.securityService.canDo(_this.activities.AssetsManage).then(function(result){return _this.assetsAvailable=result},function(){return _this.assetsAvailable=!1}),_this.securityService.canDo(_this.activities.AssetsView).then(function(result){return _this.assetsViewAvailable=result},function(){return _this.assetsViewAvailable=!1}),_this.securityService.canDo(_this.activities.ClientsManage).then(function(result){return _this.clientsAvailable=result},function(){return _this.clientsAvailable=!1})})}}]),ActionMenu}();exports.default=ActionMenu},function(module,exports){module.exports='<ul class="nav navbar-nav navbar-right user-menu">\r\n    <li class="dropdown">\r\n        <div class="dropdown-toggle header-link" href="#" data-toggle="dropdown" aria-expanded="false">\r\n            <i class="pe-7s-keypad"></i>\r\n        </div>\r\n\r\n        <div class="dropdown-menu hdropdown bigmenu animated flipInX">\r\n            <table>\r\n                <tbody ng-if="$ctrl.userInfo.roleId === 2">\r\n                    <tr>\r\n                        <td ng-show="$ctrl.assetsViewAvailable">\r\n                            <a ui-sref="asset-stats">\r\n                                <i class="pe pe-7s-culture text-info"></i>\r\n                                <h5>{{$ctrl.messages(\'sidebar.assets\')}}</h5>\r\n                            </a>\r\n                        </td>\r\n                        <td ng-show="$ctrl.clientsAvailable">\r\n                            <a <a ui-sref="clients">\r\n                                <i class="pe pe-7s-users text-warning"></i>\r\n                                <h5>{{$ctrl.messages(\'sidebar.clients\')}}</h5>\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody ng-if="$ctrl.userInfo.roleId === 1">\r\n                    <tr>\r\n                        <td ng-show="$ctrl.brokersAvailable">\r\n                            <a <a ui-sref="brokers">\r\n                                <i class="pe pe-7s-users text-warning"></i>\r\n                                <h5>{{$ctrl.messages(\'sidebar.brokers\')}}</h5>\r\n                            </a>\r\n                        </td>\r\n                        <td ng-show="$ctrl.usersAvailable">\r\n                            <a <a ui-sref="users">\r\n                                <i class="pe pe-7s-users text-warning"></i>\r\n                                <h5>{{$ctrl.messages(\'sidebar.users\')}}</h5>\r\n                            </a>\r\n                        </td>\r\n                        <td ng-show="$ctrl.assetsAvailable">\r\n                            <a ui-sref="assets">\r\n                                <i class="pe pe-7s-culture text-info"></i>\r\n                                <h5>{{$ctrl.messages(\'sidebar.assets\')}}</h5>\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </li>\r\n</ul>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _footer=__webpack_require__(744),_footer2=_interopRequireDefault(_footer),_footerTemplate=__webpack_require__(745),_footerTemplate2=_interopRequireDefault(_footerTemplate),FooterComponent={bindings:{},controller:_footer2.default,template:_footerTemplate2.default};exports.default=FooterComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),Footer=function(){function Footer($scope,$state){_classCallCheck(this,Footer),this.$scope=$scope,this.$state=$state,this.messages=_messages2.default,this.init()}return Footer.$inject=["$scope","$state"],_createClass(Footer,[{key:"init",value:function(){}}]),Footer}();exports.default=Footer},function(module,exports){module.exports='<div class="footer fixed-footer">\r\n        <span class="pull-right">\r\n            Tower360 GmBH 2016-17\r\n        </span>\r\n        Powered by <img src="./img/web-logo.svg" style="width: 50px; height: 18px; display: inline-block">\r\n</div>'},function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(162),_jquery2=_interopRequireDefault(_jquery),_custom_store=__webpack_require__(412),_custom_store2=_interopRequireDefault(_custom_store);window.$=_jquery2.default,__webpack_provided_window_dot_jQuery=_jquery2.default,function(){angular.module("tower360.utils",[]),angular.module("tower360.utils").factory("jqPromise",[function(){return function(promise){var jqDeferred=_jquery2.default.Deferred();return promise.then(function(val){jqDeferred.resolve.apply(jqDeferred,val)},function(err){jqDeferred.reject.apply(jqDeferred,err)}),jqDeferred.promise()}}]),angular.module("tower360.utils").factory("StoreAdapter",["jqPromise",function(jqPromise){return{createStore:function(resource,queryParams,errorHandler){queryParams="undefined"!=typeof queryParams?queryParams:{},errorHandler="undefined"!=typeof errorHandler?errorHandler:{requestFailed:function(response){}};var handleError=function(response){errorHandler.requestFailed(response)};return new _custom_store2.default({key:"id",load:function(loadOptions){var params=loadOptions.sort?_jquery2.default.extend({},queryParams,loadOptions.sort[0]):queryParams;return jqPromise(resource.query(params).$promise.then(function(data){return[data,{totalCount:data.length}]},function(response){handleError(response)}))},byKey:function(key){return jqPromise(resource.get({id:key}).$promise.catch(function(response){handleError(response)}))},insert:function(data){return jqPromise(resource.save(data).$promise.catch(function(response){handleError(response)}))},update:function(key,data){return data.id=key,jqPromise(resource.update(data).$promise.catch(function(response){handleError(response)}))},remove:function(key){return jqPromise(resource.delete({id:key}).$promise.catch(function(response){handleError(response)}))},totalCount:function(loadOptions){return jqPromise(resource.count().$promise.then(function(data){return[data.count]},function(response){handleError(response)}))}})}}}])}()}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_paneltoolsTemplate=__webpack_require__(748),_paneltoolsTemplate2=_interopRequireDefault(_paneltoolsTemplate),PanelToolsDirective=function(){function PanelToolsDirective(){_classCallCheck(this,PanelToolsDirective),this.restrict="A",this.scope=!0,this.template=_paneltoolsTemplate2.default}return _createClass(PanelToolsDirective,[{key:"controller",value:["$scope","$element","$timeout",function($scope,$element,$timeout){$scope.showhide=function(){var hpanel=$element.closest("div.hpanel"),icon=$element.find("i:first"),body=hpanel.find("div.panel-body"),footer=hpanel.find("div.panel-footer");body.slideToggle(300),footer.slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),hpanel.toggleClass("").toggleClass("panel-collapse"),$timeout(function(){hpanel.resize(),hpanel.find("[id^=map-]").resize()},50)},$scope.closebox=function(){var hpanel=$element.closest("div.hpanel");hpanel.remove()}}]}],[{key:"activate",value:function(){return PanelToolsDirective.instance=new PanelToolsDirective,PanelToolsDirective.instance}}]),PanelToolsDirective}();exports.default=PanelToolsDirective},function(module,exports){module.exports='<!-- This is template for panel tools -->\r\n<!-- It contains collapse function (showhide) and close function (closebox) -->\r\n<!-- All function is handled from directive panelTools in directives.js file -->\r\n<div class="panel-tools">\r\n    <a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a>\r\n    <!--<a ng-click="closebox()"><i class="fa fa-times"></i></a>-->\r\n</div>'},function(module,exports,__webpack_require__){(function($){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AnimatePanelDirective=function(){function AnimatePanelDirective($timeout,$state){_classCallCheck(this,AnimatePanelDirective),this.restrict="A",this.$state=$state,this.$timeout=$timeout}return AnimatePanelDirective.$inject=["$timeout","$state"],_createClass(AnimatePanelDirective,[{key:"link",value:function(scope,element,attrs){var self=this,startAnimation=0,delay=.06,start=Math.abs(delay)+startAnimation;attrs.effect||(attrs.effect="zoomIn"),delay=attrs.delay?attrs.delay/10:.06,attrs.child?attrs.child="."+attrs.child:attrs.child=".row > div";var panel=element.find(attrs.child);panel.addClass("opacity-0"),self.$timeout(function(){panel.addClass("animated-panel").addClass(attrs.effect);var panelsCount=panel.length+10,animateTime=panelsCount*delay*1e4/10;panel.each(function(i,elm){start+=delay;var rounded=Math.round(10*start)/10;$(elm).css("animation-delay",rounded+"s"),$(elm).removeClass("opacity-0")}),self.$timeout(function(){$(".stagger").css("animation",""),$(".stagger").removeClass(attrs.effect).removeClass("animated-panel").removeClass("stagger"),panel.resize()},animateTime)})}}],[{key:"activate",value:["$timeout","$state",function($timeout,$state){return AnimatePanelDirective.instance=new AnimatePanelDirective($timeout,$state),AnimatePanelDirective.instance}]}]),AnimatePanelDirective}();exports.default=AnimatePanelDirective}).call(exports,__webpack_require__(162))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function($timeout,$window){var _swal=$window.swal;return{swal:function(arg1,arg2,arg3){$timeout(function(){"function"==typeof arg2?_swal(arg1,function(isConfirm){$timeout(function(){arg2(isConfirm)})},arg3):_swal(arg1,arg2,arg3)},200)},success:function(title,message){$timeout(function(){_swal(title,message,"success")},200)},error:function(title,message){$timeout(function(){_swal(title,message,"error")},200)},warning:function(title,message){$timeout(function(){_swal(title,message,"warning")},200)},info:function(title,message){$timeout(function(){_swal(title,message,"info")},200)}}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _homeController=__webpack_require__(752),_homeController2=_interopRequireDefault(_homeController),_module=angular.module("tower360.home",[]).controller("HomeController",_homeController2.default);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HomeController=function(){function HomeController($scope,$state,SecurityService){_classCallCheck(this,HomeController),this.$state=$state,this.securityService=SecurityService,this.init()}return HomeController.$inject=["$scope","$state","SecurityService"],_createClass(HomeController,[{key:"init",value:function(){var _this=this;this.securityService.getUserInfo().then(function(result){var redirectTarget="brokers";2===result.roleId&&(redirectTarget="asset-stats"),_this.$state.go(redirectTarget)})}}]),HomeController}();exports.default=HomeController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _loginController=__webpack_require__(754),_loginController2=_interopRequireDefault(_loginController),_module=angular.module("tower360.login",[]).controller("LoginController",_loginController2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),LoginController=function(){function LoginController($state,$stateParams,SecurityService,NotificationService,localStorageService){_classCallCheck(this,LoginController),this.$state=$state,this.securityService=SecurityService,this.notificationService=NotificationService,this.signInData=new SignInData,$stateParams.automatic?this.error=(0,_messages2.default)("login.automatic.signout"):this.error=null}return LoginController.$inject=["$state","$stateParams","SecurityService","NotificationService","localStorageService"],_createClass(LoginController,[{key:"signIn",value:function(){var _this=this;this.securityService.signIn(this.signInData.userName,this.signInData.password).then(function(response){_this.securityService.reset(),_this.$state.go("home")},function(err){_this.error=err.data.error_description})}}]),LoginController}();exports.default=LoginController;var SignInData=function SignInData(){_classCallCheck(this,SignInData),this.userName=null,this.password=null}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _brokers=__webpack_require__(756),_brokers2=_interopRequireDefault(_brokers),_broker=__webpack_require__(757),_broker2=_interopRequireDefault(_broker);__webpack_require__(324);var _broker3=__webpack_require__(758),_broker4=_interopRequireDefault(_broker3),_module=angular.module("tower360.brokers",["dx"]).controller("BrokersController",_brokers2.default).controller("BrokerController",_broker2.default).factory("Broker",_broker4.default.activate);
exports.default=_module},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_brokerEditModal=__webpack_require__(700),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(701),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),BrokersController=function(){function BrokersController($scope,$state,SecurityService,NotificationService,Broker,sweetAlert,$uibModal,UtilsService){_classCallCheck(this,BrokersController),this.securityService=SecurityService,this.notificationService=NotificationService,this.Broker=Broker,this.$state=$state,this.stateStore=_constants2.default.brokerStateStore(),this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.utils=UtilsService,this.init()}return BrokersController.$inject=["$scope","$state","SecurityService","NotificationService","Broker","sweetAlert","$uibModal","UtilsService"],_createClass(BrokersController,[{key:"init",value:function(){var _this=this,self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.brokers=[],self.Broker.query({},function(result){self.brokers=result,self.brokers.forEach(function(item){item.address=self.utils.generateAddress(item)}),self.store=new _array_store2.default({data:self.brokers,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,columns:[{dataField:"id",visible:!1},{dataField:"name",caption:(0,_messages2.default)("brokers.name"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{href:"/brokers/"+cellInfo.data.id,"ui-sref":"broker"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"address",caption:(0,_messages2.default)("brokers.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"state",caption:(0,_messages2.default)("brokers.state"),width:100,lookup:{dataSource:_this.stateStore,displayExpr:"display",valueExpr:"value"}},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("brokers.edit")+'"></div>',onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:Object.assign({},options.data)}});modal.result.then(function(result){jQuery.extend(options.data,result)})}}).appendTo(container);var isArchived=2===options.data.state;$("<div />").dxButton({type:"custom",template:'<div class="fa '+(isArchived?"fa-undo":"fa-trash-o")+'" title="'+(isArchived?(0,_messages2.default)("brokers.activate"):(0,_messages2.default)("brokers.archive"))+'"></div>',onClick:function(data){isArchived?self.activateBroker(options.data):self.archiveBroker(options.data)}}).appendTo(container)}}]})})}},{key:"archiveBroker",value:function(broker){broker=Object.assign({},broker);var self=this;broker.state=2,this.sweetAlert.swal({title:(0,_messages2.default)("brokers.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.archive.confirmButton")},function(isConfirm){isConfirm&&self.Broker.update({id:broker.id},broker,function(result){self.store.remove(broker.id),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("brokers.message.deleted"))},function(result){self.notificationService.error(result.data)})})}},{key:"activateBroker",value:function(broker){broker=Object.assign({},broker);var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("brokers.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.activate.confirmButton")},function(isConfirm){isConfirm&&(broker.state=1,self.Broker.update({id:broker.id},broker,function(result){self.store.remove(broker.id),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("brokers.message.activated"))},function(result){self.notificationService.error(result.data)}))})}}]),BrokersController}();exports.default=BrokersController}).call(exports,__webpack_require__(162),__webpack_require__(162))},function(module,exports,__webpack_require__){(function(jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_brokerEditModal=__webpack_require__(700),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(701),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),BrokerController=function(){function BrokerController($scope,$state,Broker,brokerObject,NotificationService,sweetAlert,$filter,$uibModal,NgMap,UtilsService){_classCallCheck(this,BrokerController),this.$scope=$scope,this.$state=$state,this.Broker=Broker,this.brokerObject=brokerObject,this.notificationService=NotificationService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.NgMap=NgMap,this.utils=UtilsService,this.$filter=$filter,this.init()}return BrokerController.$inject=["$scope","$state","Broker","brokerObject","NotificationService","sweetAlert","$filter","$uibModal","NgMap","UtilsService"],_createClass(BrokerController,[{key:"init",value:function(){var _this=this;this.$scope.isArchived=2===this.brokerObject.state,this.brokerObject.address=this.utils.generateAddress(this.brokerObject),this.NgMap.getMap().then(function(map){_this.map=map,_this.map.marker||(_this.map.marker=new google.maps.Marker),_this.map.marker.setMap(null);var stylez=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],mapType=new google.maps.StyledMapType(stylez,{name:"Grayscale"});map.mapTypes.set("tehgrayz",mapType),map.setMapTypeId("tehgrayz"),_this.setMapCoordinates()})}},{key:"editBroker",value:function(){var _this2=this,modal=this.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:Object.assign({},this.brokerObject)}});modal.result.then(function(result){var newAddress=_this2.utils.generateAddress(result),newCountry=result.countryId,needToUpdateMap=void 0;newAddress===_this2.brokerObject.address&&newCountry===_this2.brokerObject.countryId||(needToUpdateMap=!0),jQuery.extend(_this2.brokerObject,result),_this2.$scope.isArchived=2===result.state,_this2.brokerObject.address=newAddress,needToUpdateMap&&_this2.setMapCoordinates()})}},{key:"archiveTrigger",value:function(){this.$scope.isArchived?this.activate():this.archive()}},{key:"archive",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("brokers.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.archive.confirmButton")},function(isConfirm){if(isConfirm){var broker=Object.assign({},self.brokerObject);broker.state=2,self.Broker.update({id:broker.id},broker,function(){self.brokerObject.state=2,self.$scope.isArchived=!0,self.notificationService.success((0,_messages2.default)("brokers.message.deleted"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"activate",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("brokers.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.activate.confirmButton")},function(isConfirm){if(isConfirm){var broker=Object.assign({},self.brokerObject);broker.state=1,self.Broker.update({id:broker.id},broker,function(){self.brokerObject.state=1,self.$scope.isArchived=!1,self.notificationService.success((0,_messages2.default)("brokers.message.activated"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"setMapCoordinates",value:function(){var _this3=this;if(this.map.marker.setMap(null),this.brokerObject.address){var geocoder=new google.maps.Geocoder,countries=_constants2.default.countryStorePlain(),country=this.$filter("filter")(countries,{value:this.brokerObject.countryId});country=country&&country[0]?country[0].text+", ":"",geocoder.geocode({address:country+this.brokerObject.address},function(result,status){"OK"===status&&(_this3.map.setCenter(result[0].geometry.location),_this3.map.marker.setPosition(result[0].geometry.location),_this3.map.marker.setMap(_this3.map))})}}}]),BrokerController}();exports.default=BrokerController}).call(exports,__webpack_require__(162))},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Broker=function(){function Broker(ConfigurationService,$resource){return _classCallCheck(this,Broker),$resource(ConfigurationService.getApiBaseUrl()+"api/brokers/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/brokers",isArray:!0},update:{method:"PUT"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/brokers"}})}return Broker.$inject=["ConfigurationService","$resource"],_createClass(Broker,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Broker.instance=new Broker(ConfigurationService,$resource),Broker.instance}]}]),Broker}();exports.default=Broker},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _users=__webpack_require__(760),_users2=_interopRequireDefault(_users),_user=__webpack_require__(761),_user2=_interopRequireDefault(_user),_user3=__webpack_require__(764),_user4=_interopRequireDefault(_user3),_role=__webpack_require__(765),_role2=_interopRequireDefault(_role),_broker=__webpack_require__(766),_broker2=_interopRequireDefault(_broker),_locale=__webpack_require__(767),_locale2=_interopRequireDefault(_locale),_module=angular.module("tower360.users",[]).controller("UsersController",_users2.default).controller("UserController",_user2.default).factory("User",_user4.default.activate).factory("Role",_role2.default.activate).factory("Broker",_broker2.default.activate).factory("Locale",_locale2.default.activate);exports.default=_module},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_userEditModal=__webpack_require__(697),_userEditModal2=_interopRequireDefault(_userEditModal),_userEditModalTemplate=__webpack_require__(699),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),UsersController=function(){function UsersController($scope,$state,User,Broker,Role,StoreAdapter,currentUser,NotificationService,sweetAlert,$uibModal){_classCallCheck(this,UsersController),this.$scope=$scope,this.$state=$state,this.User=User,this.Broker=Broker,this.Role=Role,this.StoreAdapter=StoreAdapter,this.currentUser=currentUser,this.notificationService=NotificationService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.initGrid()}return UsersController.$inject=["$scope","$state","User","Broker","Role","StoreAdapter","currentUser","NotificationService","sweetAlert","$uibModal"],_createClass(UsersController,[{key:"initGrid",value:function(){var _this=this,self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.stateStore=_constants2.default.userStateStore(),self.users=[],self.User.query({},function(result){self.users=result,self.store=new _array_store2.default({data:self.users,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,columns:[{dataField:"id",visible:!1},{dataField:"displayName",caption:(0,_messages2.default)("users.displayname"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{href:"/users/"+cellInfo.data.id,"ui-sref":"user"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"email",caption:(0,_messages2.default)("users.email"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"state",caption:(0,_messages2.default)("users.state"),lookup:{dataSource:self.stateStore,displayExpr:"display",valueExpr:"value"}},{dataField:"roleId",caption:(0,_messages2.default)("users.role"),lookup:{dataSource:_this.StoreAdapter.createStore(_this.Role,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{dataField:"brokerId",caption:(0,_messages2.default)("users.broker"),lookup:{dataSource:_this.StoreAdapter.createStore(_this.Broker,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("users.edit")+'"></div>',disabled:options.data.id===self.currentUser.id,onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:Object.assign({},options.data)}});modal.result.then(function(result){jQuery.extend(options.data,result)})}}).appendTo(container);var isArchived=3===options.data.state;$("<div />").dxButton({type:"custom",template:'<div class="fa '+(isArchived?"fa-undo":"fa-trash-o")+'" title="'+(isArchived?(0,_messages2.default)("users.activate"):(0,_messages2.default)("users.archive"))+'"></div>',disabled:options.data.id===self.currentUser.id,onClick:function(data){isArchived?self.activateUser(options.data):self.archiveUser(options.data)}}).appendTo(container)}}]})})}},{key:"archiveUser",value:function(user){var self=this;user=Object.assign({},user),this.sweetAlert.swal({title:(0,_messages2.default)("users.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("users.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.archive.confirmButton")},function(isConfirm){isConfirm&&(user.state=3,self.User.update({id:user.id},user,function(result){self.store.remove(user.id),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("users.message.archived"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)}))})}},{key:"activateUser",value:function(user){user=Object.assign({},user);var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("users.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("users.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.activate.confirmButton")},function(isConfirm){isConfirm&&(user.state=2,self.User.update({id:user.id},user,function(result){self.store.remove(user.id),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("users.message.activated"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)}))})}}]),UsersController}();exports.default=UsersController}).call(exports,__webpack_require__(162),__webpack_require__(162))},function(module,exports,__webpack_require__){(function(jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_userEditModal=__webpack_require__(697),_userEditModal2=_interopRequireDefault(_userEditModal),_userChangePasswordModal=__webpack_require__(762),_userChangePasswordModal2=_interopRequireDefault(_userChangePasswordModal),_userEditModalTemplate=__webpack_require__(699),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_userChangePasswordModalTemplate=__webpack_require__(763),_userChangePasswordModalTemplate2=_interopRequireDefault(_userChangePasswordModalTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),UserController=function(){function UserController($scope,$state,User,userObject,currentUser,StoreAdapter,Role,Locale,NotificationService,sweetAlert,$uibModal){_classCallCheck(this,UserController),this.$scope=$scope,this.$state=$state,this.User=User,this.userObject=userObject,this.currentUser=currentUser,this.storeAdapter=StoreAdapter,this.Role=Role,this.Locale=Locale,this.notificationService=NotificationService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.init()}return UserController.$inject=["$scope","$state","User","userObject","currentUser","StoreAdapter","Role","Locale","NotificationService","sweetAlert","$uibModal"],_createClass(UserController,[{key:"init",value:function(){var _this=this;this.$scope.isArchived=3===this.userObject.state;var rolesStore=this.storeAdapter.createStore(this.Role,{},{requestFailed:function(response){self.NotificationService.error(response.data)}});rolesStore.load().done(function(result){_this.roles=result,_this.setRole()});var localesStore=this.storeAdapter.createStore(this.Locale,{},{requestFailed:function(response){self.NotificationService.error(response.data)}});localesStore.load().done(function(result){_this.locales=result,_this.setLocale()})}},{key:"setRole",value:function(){var _this2=this,role=this.roles.find(function(item){return item.id===_this2.userObject.roleId});role=role||{},this.$scope.role=role}},{key:"setLocale",value:function(){var _this3=this,locale=this.locales.find(function(item){return item.id===_this3.userObject.localeId});locale=locale||{},this.$scope.locale=locale}},{key:"editUser",value:function(){var _this4=this,modal=this.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:Object.assign({},this.userObject)}});modal.result.then(function(result){jQuery.extend(_this4.userObject,result),_this4.$scope.isArchived=3===result.state,_this4.setRole(),_this4.setLocale()})}},{key:"archiveTrigger",value:function(){this.$scope.isArchived?this.activate():this.archive()}},{key:"archive",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("users.archive.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.archive.confirmButton")},function(isConfirm){if(isConfirm){var user=Object.assign({},self.userObject);user.state=3,self.User.update({id:user.id},user,function(){self.userObject.state=3,self.$scope.isArchived=!0,self.notificationService.success((0,_messages2.default)("users.message.archived"))},function(result){console.error(result),self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"activate",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("users.activate.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.activate.confirmButton")},function(isConfirm){if(isConfirm){var user=Object.assign({},self.userObject);user.state=2,self.User.update({id:user.id},user,function(){self.userObject.state=1,self.$scope.isArchived=!1,self.notificationService.success((0,_messages2.default)("users.message.activated"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"changePassword",value:function(){this.$uibModal.open({controller:_userChangePasswordModal2.default,template:_userChangePasswordModalTemplate2.default,resolve:{userId:this.userObject.id}})}}]),UserController}();exports.default=UserController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),UserChangePasswordController=(_interopRequireDefault(_constants),function(){function UserChangePasswordController($scope,$state,$uibModalInstance,User,userId,NotificationService,sweetAlert){_classCallCheck(this,UserChangePasswordController),this.$scope=$scope,this.$state=$state,this.User=User,this.userId=userId,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="user-change-password",this.sweetAlert=sweetAlert,this.initForm()}return UserChangePasswordController.$inject=["$scope","$state","$uibModalInstance","User","userId","NotificationService","sweetAlert"],_createClass(UserChangePasswordController,[{key:"initForm",value:function(){var _this=this,self=this;this.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},this.$scope.isSaveOperationDisable=!1,this.$scope.changePasswordModel={newPassword:null,confirmPassword:null},self.$scope.isModalChanged=function(){return null!=self.$scope.changePasswordModel.newPassword&&null!=self.$scope.changePasswordModel.confirmPassword},self.comprasionTarget=function(){if(self.$scope.changePasswordModel.newPassword)return self.$scope.changePasswordModel.newPassword},self.$scope.isFormValid=function(){var result=_validation_engine2.default.getGroupConfig(self.validationGroup).validate();return result.isValid},this.$scope.newPasswordSettings={placeholder:(0,_messages2.default)("users.placeholder.newPassword"),bindingOptions:{value:"changePasswordModel.newPassword "},mode:"password"},this.$scope.newPasswordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",min:6,message:(0,_messages2.default)("validation.shortPassword")}],validationGroup:this.validationGroup},this.$scope.confirmPasswordSettings={placeholder:(0,_messages2.default)("users.placeholder.confirmPassword"),bindingOptions:{value:"changePasswordModel.confirmPassword "},mode:"password"},this.$scope.confirmPasswordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"compare",comparisonTarget:self.comprasionTarget,message:(0,_messages2.default)("validation.passwordsNotMatch")}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(_this.validationGroup).validate(),self=_this;result.isValid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,_this.User.changePassword({id:_this.userId},_this.$scope.changePasswordModel,function(result){_this.notificationService.success((0,_messages2.default)("users.message.updated")),self.$scope.saveInProgress=!1,_this.$uibModalInstance.close(_this.$scope.user),_this.sweetAlert.swal({title:(0,_messages2.default)("users.changePassord.title"),text:(0,_messages2.default)("users.changePassword.success"),type:"success"})},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1,self.$scope.isSaveOperationDisable=!1,_this.sweetAlert.swal({title:(0,_messages2.default)("users.changePassord.title"),text:(0,_messages2.default)("users.changePassword.failed"),type:"warning"})}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this.validationGroup),_this.$uibModalInstance.dismiss("cancel")}}}]),UserChangePasswordController}());exports.default=UserChangePasswordController},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ Messages(\'users.changePassord.title\')  }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-new-password" class="control-label">{{Messages(\'users.newPassword\')}}</label>\r\n                    <div id="field-new-password" dx-text-box="newPasswordSettings" dx-validator="newPasswordValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-confirm-password" class="control-label">{{Messages(\'users.confirmPassword\')}}</label>\r\n                    <div id="field-confirm-password" dx-text-box="confirmPasswordSettings" dx-validator="confirmPasswordValidationRules"></div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" ladda="saveInProgress" class="btn btn-primary ladda-button" data-style="expand-left" ng-click="validateAndSave()" \r\n            ng-disabled="!(isModalChanged() && isFormValid()) || isSaveOperationDisable">\r\n            <span class="ladda-label">\r\n                {{ saveInProgress ? Messages(\'users.changingPasswordBtn\') : Messages(\'users.changePasswordBtn\') }}\r\n            </span>\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()" ng-disabled="isSaveOperationDisable">\r\n            {{ Messages(\'users.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),User=function(){function User(ConfigurationService,$resource){return _classCallCheck(this,User),$resource(ConfigurationService.getApiBaseUrl()+"api/users/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/users",
isArray:!0},update:{method:"PUT"},changePassword:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/users/:id/password"}})}return User.$inject=["ConfigurationService","$resource"],_createClass(User,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return User.instance=new User(ConfigurationService,$resource),User.instance}]}]),User}();exports.default=User},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Role=function(){function Role(ConfigurationService,$resource){return _classCallCheck(this,Role),$resource(ConfigurationService.getApiBaseUrl()+"api/roles/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/roles",isArray:!0}})}return Role.$inject=["ConfigurationService","$resource"],_createClass(Role,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Role.instance=new Role(ConfigurationService,$resource),Role.instance}]}]),Role}();exports.default=Role},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Broker=function(){function Broker(ConfigurationService,$resource){return _classCallCheck(this,Broker),$resource(ConfigurationService.getApiBaseUrl()+"api/brokers/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/brokers",isArray:!0},update:{method:"PUT"},archive:{method:"DELETE"}})}return Broker.$inject=["ConfigurationService","$resource"],_createClass(Broker,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Broker.instance=new Broker(ConfigurationService,$resource),Broker.instance}]}]),Broker}();exports.default=Broker},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Locale=function(){function Locale(ConfigurationService,$resource){return _classCallCheck(this,Locale),$resource(ConfigurationService.getApiBaseUrl()+"api/locales/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/locales",isArray:!0}})}return Locale.$inject=["ConfigurationService","$resource"],_createClass(Locale,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Locale.instance=new Locale(ConfigurationService,$resource),Locale.instance}]}]),Locale}();exports.default=Locale},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assets=__webpack_require__(769),_assets2=_interopRequireDefault(_assets),_asset=__webpack_require__(770),_asset2=_interopRequireDefault(_asset),_assetgallary=__webpack_require__(771),_assetgallary2=_interopRequireDefault(_assetgallary),_floor=__webpack_require__(772),_floor2=_interopRequireDefault(_floor),_space=__webpack_require__(778),_space2=_interopRequireDefault(_space),_spaces=__webpack_require__(781),_spaces2=_interopRequireDefault(_spaces),_assetdocuments=__webpack_require__(784),_assetdocuments2=_interopRequireDefault(_assetdocuments),_object=__webpack_require__(785),_object2=_interopRequireDefault(_object),_asset3=__webpack_require__(790),_asset4=_interopRequireDefault(_asset3),_object3=__webpack_require__(791),_object4=_interopRequireDefault(_object3),_floor3=__webpack_require__(792),_floor4=_interopRequireDefault(_floor3),_space3=__webpack_require__(793),_space4=_interopRequireDefault(_space3);__webpack_require__(794),__webpack_require__(795);var _module=angular.module("tower360.assets",["ui.sortable","angular-sortable-view"]).controller("AssetsController",_assets2.default).controller("AssetController",_asset2.default).component("assetgallery",_assetgallary2.default).component("floor",_floor2.default).component("space",_space2.default).component("spaces",_spaces2.default).component("assetdocuments",_assetdocuments2.default).factory("Asset",_asset4.default.activate).factory("AssetObject",_object4.default.activate).factory("Floor",_floor4.default.activate).factory("Space",_space4.default.activate).component("object",_object2.default);exports.default=_module},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_assetEditModal=__webpack_require__(702),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModalTemplate=__webpack_require__(704),_assetEditModalTemplate2=_interopRequireDefault(_assetEditModalTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),AssetsController=function(){function AssetsController($scope,$state,Asset,Broker,StoreAdapter,currentUser,NotificationService,$uibModal,sweetAlert,UtilsService){_classCallCheck(this,AssetsController),this.$scope=$scope,this.$state=$state,this.Asset=Asset,this.Broker=Broker,this.storeAdapter=StoreAdapter,this.currentUser=currentUser,this.notificationService=NotificationService,this.$uibModal=$uibModal,this.sweetAlert=sweetAlert,this.utils=UtilsService,this.initGrid()}return AssetsController.$inject=["$scope","$state","Asset","Broker","StoreAdapter","currentUser","NotificationService","$uibModal","sweetAlert","UtilsService"],_createClass(AssetsController,[{key:"initGrid",value:function(){var _this=this,self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.stateStore=_constants2.default.assetStateStore(),self.countryStore=_constants2.default.countryStore(),self.assets=[],self.Asset.query({},function(result){self.assets=result,self.assets.forEach(function(item){item.address=self.utils.generateAddress(item)}),self.store=new _array_store2.default({data:self.assets,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,editing:{allowAdding:!1,allowUpdate:!1,allowDelete:!1,texts:{confirmDeleteMessage:""}},columns:[{dataField:"id",visible:!1},{dataField:"name",caption:(0,_messages2.default)("assets.name"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{href:"/assets/"+cellInfo.data.id,"ui-sref":"asset"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"address",caption:(0,_messages2.default)("assets.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"countryId",caption:(0,_messages2.default)("assets.country"),lookup:{dataSource:self.countryStore,displayExpr:"display",valueExpr:"value"}},{dataField:"state",caption:(0,_messages2.default)("users.state"),lookup:{dataSource:self.stateStore,displayExpr:"display",valueExpr:"value"},width:100},{dataField:"brokerDatabaseRecordId",caption:(0,_messages2.default)("assets.brokerDatabaseRecordId"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",alignment:"right"},{dataField:"brokerId",caption:(0,_messages2.default)("assets.broker"),lookup:{dataSource:_this.storeAdapter.createStore(_this.Broker,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("assets.edit")+'"></div>',onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModalTemplate2.default,resolve:{assetObject:Object.assign({},options.data)}});modal.result.then(function(result){result.address=self.utils.generateAddress(result),jQuery.extend(options.data,result)})}}).appendTo(container);var isArchived=3===options.data.state;$("<div />").dxButton({type:"custom",template:'<div class="fa '+(isArchived?"fa-undo":"fa-trash-o")+'" title="'+(isArchived?(0,_messages2.default)("assets.activate"):(0,_messages2.default)("assets.archive"))+'"></div>',onClick:function(data){isArchived?self.activateAsset(options.data):self.archiveAsset(options.data)}}).appendTo(container)}}]})})}},{key:"archiveAsset",value:function(asset){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("assets.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.archive.confirmButton")},function(isConfirm){isConfirm&&self.Asset.archive({id:asset.id},function(result){self.store.remove(asset.id),result.address=self.utils.generateAddress(result),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("assets.message.archived"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"activateAsset",value:function(asset){asset=Object.assign({},asset);var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("assets.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.activate.confirmButton")},function(isConfirm){isConfirm&&(asset.state=2,self.Asset.update({id:asset.id},asset,function(result){self.store.remove(asset.id),result.address=self.utils.generateAddress(result),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("assets.message.activated"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)}))})}}]),AssetsController}();exports.default=AssetsController}).call(exports,__webpack_require__(162),__webpack_require__(162))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_assetEditModal=__webpack_require__(702),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModalTemplate=__webpack_require__(704),_assetEditModalTemplate2=_interopRequireDefault(_assetEditModalTemplate);__webpack_require__(703);var _messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),AssetController=function(){function AssetController($scope,$state,Broker,Asset,assetObject,currentUser,ImageService,StoreAdapter,NotificationService,$filter,NgMap,$uibModal,sweetAlert,UtilsService){_classCallCheck(this,AssetController),this.$scope=$scope,this.$state=$state,this.$filter=$filter,this.Broker=Broker,this.Asset=Asset,this.assetObject=assetObject,this.currentUser=currentUser,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.NgMap=NgMap,this.$uibModal=$uibModal,this.sweetAlert=sweetAlert,this.utils=UtilsService,this.imageService=ImageService,this.init(),this.initForm()}return AssetController.$inject=["$scope","$state","Broker","Asset","assetObject","currentUser","ImageService","StoreAdapter","NotificationService","$filter","NgMap","$uibModal","sweetAlert","UtilsService"],_createClass(AssetController,[{key:"init",value:function(){var self=this;self.asset=self.assetObject,self.asset.address=self.utils.generateAddress(self.asset),self.asset.images=[],self.assetObject.mainImageUrl&&(self.asset.images=[{filePath:self.assetObject.mainImageUrl}]),self.$scope.isArchived=3===self.asset.state,self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.updateDataSources=function(initiator){"objects"==initiator?self.$scope.$broadcast("updateAssetObjectDataSource"):"floors"==initiator&&self.$scope.$broadcast("updateFloorDataSource")},self.NgMap.getMap().then(function(map){self.map=map,self.map.marker||(self.map.marker=new google.maps.Marker),self.map.marker.setMap(null);var stylez=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],mapType=new google.maps.StyledMapType(stylez,{name:"Grayscale"});map.mapTypes.set("tehgrayz",mapType),map.setMapTypeId("tehgrayz"),self.setMapCoordinates()}),self.$scope.saveUpdates=function(){self.saveUpdates()},self.$scope.updateImage=function(){self.updateImage()}}},{key:"initForm",value:function(){var self=this;this.stateStore=_constants2.default.assetStateStore(),this.countryStore=_constants2.default.countryStore();var brokersStore=this.storeAdapter.createStore(this.Broker,{},this.errorHandler);brokersStore.load().done(function(result){result.forEach(function(value){self.brokers.push({value:value.id,text:value.name})})}),this.brokers=[],this.brokerId=this.asset.brokerId,this.showBroker=function(){var selected=self.$filter("filter")(self.brokers,{value:self.brokerId});return"number"==typeof self.brokerId&&selected.length?selected[0].text:"Not set"},this.brokerDatabaseRecordId=this.asset.brokerDatabaseRecordId||"",this.brokerDatabaseRecordIdValidation=function(value){if(value.length>10)return(0,_messages2.default)("assets.brokerDatabaseRecordId.errorLength")},this.notes=this.asset.notes||"",this.notesValidation=function(value){if(value.length>500)return(0,_messages2.default)("assets.notes.errorLength")}}},{key:"setMapCoordinates",value:function(){var _this=this;if(this.map.marker.setMap(null),this.assetObject.address){var geocoder=new google.maps.Geocoder,countries=_constants2.default.countryStorePlain(),country=this.$filter("filter")(countries,{value:this.asset.countryId});country=country&&country[0]?country[0].text+", ":"",geocoder.geocode({address:country+this.assetObject.address},function(result,status){"OK"===status&&(_this.map.setCenter(result[0].geometry.location),_this.map.marker.setPosition(result[0].geometry.location),_this.map.marker.setMap(_this.map))})}}},{key:"updateImage",value:function(){var _this2=this,self=this;if(0==self.asset.images.length)self.Asset.resetImage({id:this.asset.id},function(result){self.notificationService.success((0,_messages2.default)("assets.gallery.message.deleted")),self.saveInProgress=!1},function(error){_this2.notificationService.error(error.data),self.saveInProgress=!1});else{var blob=self.imageService.dataURItoBlob(self.asset.images[0].imageFile.imageData),fd=new FormData(document.forms[0]);fd.append("data",blob,self.asset.images[0].originalFileName),self.Asset.setImage({id:this.asset.id},fd,function(result){self.notificationService.success((0,_messages2.default)("assets.gallery.message.added")),self.saveInProgress=!1},function(error){_this2.notificationService.error(error.data),self.saveInProgress=!1})}}},{key:"saveUpdates",value:function(){var _this3=this;for(var i in this.asset)this.asset.hasOwnProperty(i)&&(void 0!==this[i]?this.asset[i]=this[i]:void 0!==this.$scope[i]&&(this.asset[i]=this.$scope[i]));return this.Asset.update({id:this.asset.id},this.asset,function(result){_this3.notificationService.success((0,_messages2.default)("assets.message.updated")),_this3.saveInProgress=!1},function(error){_this3.notificationService.error(error.data),_this3.saveInProgress=!1})}},{key:"tabGridsRefresh",value:function($event){$event.preventDefault();var tab=$event.currentTarget.getAttribute("aria-controls");"floors"===tab&&$("#floorSettings #gridContainer").dxDataGrid("instance").refresh(),"spaces"===tab&&$("#spaceSettings #spacesGridContainer").dxDataGrid("instance").refresh(),"objects"===tab&&$("#objectsSettings #objectsGridContainer").dxDataGrid("instance").refresh()}},{key:"archiveTrigger",value:function(){this.$scope.isArchived?this.activate():this.archive()}},{key:"editAsset",value:function(){var _this4=this,modal=this.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModalTemplate2.default,resolve:{assetObject:Object.assign({},this.asset)}});modal.result.then(function(result){var newAddress=_this4.utils.generateAddress(result),newCountry=result.countryId,needToUpdateMap=void 0;newAddress===_this4.asset.address&&newCountry===_this4.asset.countryId||(needToUpdateMap=!0),$.extend(_this4.asset,result),_this4.asset.address=newAddress,needToUpdateMap&&_this4.setMapCoordinates()})}},{key:"archive",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("assets.archive.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.archive.confirmButton")},function(isConfirm){isConfirm&&self.Asset.archive({id:self.asset.id},function(result){self.$scope.isArchived=!0,self.notificationService.success((0,_messages2.default)("assets.message.archived"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"activate",value:function(){var self=this,asset=Object.assign({},this.asset);this.sweetAlert.swal({title:(0,_messages2.default)("assets.activate.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.activate.confirmButton")},function(isConfirm){isConfirm&&(asset.state=2,self.Asset.update({id:asset.id},asset,function(result){self.$scope.isArchived=!1,self.notificationService.success((0,_messages2.default)("assets.message.activated"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)}))})}}]),AssetController}();exports.default=AssetController}).call(exports,__webpack_require__(162))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AssetGalleryComponent={bindings:{images:"=",maxImageWidth:"=?",maxImageHeight:"=?",maxImageCount:"=?",readonly:"=?",updateImage:"=?"},controller:function(){var self=this;self.maxImageCount=1,self.maxImageHeight=500,self.maxImageWidth=500,self.imageAddCallback=function(){self.updateImage()},self.imageDeleteCallback=function(){self.updateImage()},self.sortingChangeCallback=function(){}},template:"<imagegallery images='$ctrl.images'                         readonly='$ctrl.readonly'                         max-image-count='$ctrl.maxImageCount'                         max-image-height='$ctrl.maxImageHeight'                         max-image-width='$ctrl.maxImageWidth'                         image-add-callback='$ctrl.imageAddCallback'                         image-delete-callback='$ctrl.imageDeleteCallback'                         sorting-change-callback='$ctrl.sortingChangeCallback'                         class='asset-gallery'></imagegallery>"};exports.default=AssetGalleryComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _floor=__webpack_require__(773),_floor2=_interopRequireDefault(_floor),_floorTemplate=__webpack_require__(777),_floorTemplate2=_interopRequireDefault(_floorTemplate),FloorComponent={bindings:{asset:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_floor2.default,template:_floorTemplate2.default};exports.default=FloorComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(670)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_custom_store=__webpack_require__(412),_custom_store2=_interopRequireDefault(_custom_store),_floorsAddRangeModalController=__webpack_require__(774),_floorsAddRangeModalController2=_interopRequireDefault(_floorsAddRangeModalController),_floorsAddRangeModalTemplate=__webpack_require__(775),_floorsAddRangeModalTemplate2=_interopRequireDefault(_floorsAddRangeModalTemplate),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_data_source=__webpack_require__(776),FloorController=(_interopRequireDefault(_data_source),function(){function FloorController($scope,$state,Floor,AssetObject,NotificationService,UtilsService,sweetAlert,$uibModal){var _this=this;_classCallCheck(this,FloorController),this.$scope=$scope,this.$state=$state,this.Floor=Floor,this.AssetObject=AssetObject,this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.loadData(function(t){_this.init(),_this.initGrid()})}return FloorController.$inject=["$scope","$state","Floor","AssetObject","NotificationService","UtilsService","sweetAlert","$uibModal"],_createClass(FloorController,[{key:"loadData",value:function(afterExecuteCallback){var self=this;self.loadAssetObjects(function(){self.loadFloors(function(){afterExecuteCallback&&afterExecuteCallback()})})}},{key:"loadAssetObjects",value:function(afterExecuteCallback){var self=this;self.AssetObject.query({assetId:self.asset.id},function(result){self.objects=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"loadFloors",value:function(afterExecuteCallback){var self=this;self.Floor.getByAssetId({assetId:self.asset.id},function(result){self.floors=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"createStore",value:function(){var self=this;return self.store=new _array_store2.default({data:self.floors,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.store}},{key:"init",value:function(){var self=this;self.isFloorFormVisible=!1,self.isAddFloorRangeDisabled=!1,self.$scope.Messages=_messages2.default,self.$scope.$on("updateAssetObjectDataSource",function(e,data){self.updateDataSources()}),self.updateDataSources=function(){self.loadData(function(t){var dataGrid=$("#gridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.columnOption("assetObjectId","lookup.dataSource",{store:self.assetObjectStore}),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.createStore()}),dataGrid.endUpdate(),self.refreshGrid()})},self.validateFloor=function(oldValue,newValue){var floors=self.floors;if(!newValue||""==newValue.number&&0!=newValue.number)return!1;if(void 0==newValue.number)return!0;for(var i=0;i<floors.length;i++)if((!oldValue||floors[i].number!==oldValue.number)&&newValue.number==floors[i].number&&newValue.assetObjectId==floors[i].assetObjectId)return!1;return!0}}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.createStore(),self.assetObjectStore=new _custom_store2.default({load:function(loadOptions){return self.objects},byKey:function(key){return{id:key}}}),self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},groupPanel:{visible:!1},filterRow:{visible:!1},editing:{texts:{confirmDeleteMessage:""}},columns:[{dataField:"number",caption:(0,_messages2.default)("assets.floors.number"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:10}],width:150,alignment:"right"},{dataField:"description",caption:(0,_messages2.default)("assets.floors.description"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,validationRules:[{type:"stringLength",max:500}]},{dataField:"assetObjectId",caption:(0,_messages2.default)("assets.floors.assetobject"),width:100,allowSorting:!1,lookup:{dataSource:{store:self.assetObjectStore},displayExpr:"name",valueExpr:"id"},alignment:"right",allowEditing:!1},{dataField:"order",visible:!1,sortOrder:"asc"},{dataField:"id",caption:(0,_messages2.default)("actions"),width:100,allowSorting:!1,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){console.log("editing..."),$("#gridContainer").dxDataGrid("instance").editRow(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){options.data.spaces&&options.data.spaces.length>0?self.NotificationService.warning("Please remove spaces from the floor first"):self.sweetAlert.swal({title:(0,_messages2.default)("assets.floors.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.floors.delete.confirmButton")},function(isConfirm){isConfirm&&self.deleteFloor(options.data)})}}).appendTo(container)},editCellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-floppy-o"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").saveEditData(options.rowIndex),self.updateFloor&&self.updateFloor(options.data)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-times"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").cancelEditData(options.rowIndex)}}).appendTo(container)}}],onRowValidating:function(e){var dataGrid=e.component,rowIndex=dataGrid.getRowIndexByKey(e.key);self.validateFloor(e.oldData,e.newData)||(dataGrid.getCellElement(rowIndex,"number").find("input").css("background","rgba(255, 0, 0, 0.5)"),e.isValid=!1)}}),self.refreshGrid=function(){$("#gridContainer").dxDataGrid("instance").refresh()},self.updateFloor=function(floor){self.Floor.update({assetId:self.asset.id,objectId:floor.assetObjectId,id:floor.id},floor,function(result){self.NotificationService.success((0,_messages2.default)("assets.floors.updated")),self.saveInProgress=!1,self.needUpdateDataSources()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})},self.deleteFloor=function(floor){self.Floor.delete({assetId:self.asset.id,assetObjectId:floor.assetObjectId,id:floor.id},function(result){var floorIdx=self.floors.findIndex(function(t){return t.id==floor.id});self.floors.splice(floorIdx,1),self.NotificationService.success((0,_messages2.default)("assets.floors.deleted")),self.saveInProgress=!1,self.needUpdateDataSources(),self.refreshGrid()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})},self.addFloorRange=function(cnt,autoNumerate,assetObjectId){self.Floor.createRange({assetId:self.asset.id,assetObjectId:assetObjectId,count:cnt,autonumerate:autoNumerate},function(result){result.forEach(function(t){self.floors.push(t)}),self.NotificationService.success((0,_messages2.default)("assets.floors.created")),self.saveInProgress=!1,self.needUpdateDataSources(),self.refreshGrid()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})},self.temp=!0}},{key:"addFloorsRange",value:function(){var self=this,modal=this.$uibModal.open({controller:_floorsAddRangeModalController2.default,template:_floorsAddRangeModalTemplate2.default,resolve:{asset:self.asset}});modal.result.then(function(result){self.addFloorRange(result.addRangeFloorCount,result.autoNumerateFloors,result.assetObjectId)})}}]),FloorController}());exports.default=FloorController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){
if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine);__webpack_require__(703);var _messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),FloorsAddRangeModalController=function(){function FloorsAddRangeModalController($scope,asset,Asset,AssetObject,$uibModalInstance,NotificationService){_classCallCheck(this,FloorsAddRangeModalController),this.$scope=$scope,this.asset=asset,this.Asset=Asset,this.AssetObject=AssetObject,this.$uibModalInstance=$uibModalInstance,this.notificationService=NotificationService,this.validationGroup="floors-add-range",this.init(),this.initDataSource()}return FloorsAddRangeModalController.$inject=["$scope","asset","Asset","AssetObject","$uibModalInstance","NotificationService"],_createClass(FloorsAddRangeModalController,[{key:"init",value:function(){var self=this;self.$scope.floorRequest={addRangeFloorCount:1,autoNumerateFloors:!1,assetObjectId:null},self.$scope.getDataInProgress=!1,self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.$scope.cancel=function(){_validation_engine2.default.removeGroup(self.validationGroup),self.$uibModalInstance.dismiss("cancel")}}},{key:"initDataSource",value:function(){var self=this;self.$scope.getDataInProgress=!0,self.AssetObject.query({assetId:self.asset.id},function(result){self.objects=result,self.assetObjectStore=new _array_store2.default({data:self.objects,key:"id",errorHandler:self.errorHandler.requestFailed}),self.$scope.getDataInProgress=!1,self.initForm()},function(error){})}},{key:"initForm",value:function(){var self=this;self.$scope.floorRangeSettings={showSpinButtons:!0,showClearButton:!1,onValueChanged:function(e){var result=_validation_engine2.default.getGroupConfig(self.validationGroup).validate();self.$scope.isAddFloorRangeDisabled=!result.isValid},bindingOptions:{value:"floorRequest.addRangeFloorCount"}},self.$scope.floorRangeValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"numeric"},{type:"range",min:1,max:100}],validationGroup:self.validationGroup},self.$scope.autoNumerateFloorSettings={text:"",type:"default",bindingOptions:{value:"floorRequest.autoNumerateFloors"}},self.$scope.assetObjectSelectSettings={dataSource:self.assetObjectStore,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"floorRequest.assetObjectId"}},self.$scope.assetObjectValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:self.validationGroup},self.$scope.validateAndSaveSettings=function(){var result=_validation_engine2.default.getGroupConfig(self.validationGroup).validate();result.isValid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,self.$uibModalInstance.close({addRangeFloorCount:self.$scope.floorRequest.addRangeFloorCount,autoNumerateFloors:self.$scope.floorRequest.autoNumerateFloors,assetObjectId:self.$scope.floorRequest.assetObjectId}))}}}]),FloorsAddRangeModalController}();exports.default=FloorsAddRangeModalController},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">{{ Messages(\'assets.floors.range.modal.title\') }}</h4>\r\n    </div>\r\n    <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n    </div>\r\n    <div class="modal-body" ng-if="!getDataInProgress">\r\n        <div id="floorRangeForm" class="form-horizontal">\r\n            <h4 class="col-sm-offset-1">{{ Messages(\'assets.floors.range.title\') }}</h4><br>\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-assetobject" class="col-sm-3 control-label">{{ Messages(\'assets.floors.assetobject\') }}:</label>\r\n                    <div class="col-sm-6">\r\n                        <div id="field-assetobject" dx-select-box="assetObjectSelectSettings" dx-validator="assetObjectValidationRules"></div>\r\n                    </div>\r\n                </div>  \r\n                <div class="form-group">\r\n                    <label for="field-floor-number" class="col-sm-3 control-label">{{ Messages(\'assets.floors.range.field\') }}:</label>\r\n                    <div class="col-sm-3">\r\n                        <div id="field-floor-number" dx-number-box="floorRangeSettings" dx-validator="floorRangeValidationRules"></div>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-floor-settings" class="col-sm-3 control-label">{{ Messages(\'assets.floors.range.checkbox\') }}:</label>\r\n                    <div class="col-sm-6">\r\n                        <div id="field-floor-settings" dx-check-box="autoNumerateFloorSettings"></div>\r\n                        <p class="help-block"><small>{{ Messages(\'assets.floors.range.checkbox.help\') }}</small></p>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings()" ng-disabled="isAddFloorRangeDisabled">\r\n            {{ Messages(\'assets.floors.addbutton\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.floors.cancelbutton\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},,function(module,exports){module.exports='<form name="settingsForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.addFloorsRange()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.floors.addrange\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _space=__webpack_require__(779),_space2=_interopRequireDefault(_space),_spaceTemplate=__webpack_require__(780),_spaceTemplate2=_interopRequireDefault(_spaceTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),SpaceComponent={bindings:{asset:"=",listMode:"=",space:"="},controller:_space2.default,template:_spaceTemplate2.default,Messages:_messages2.default};exports.default=SpaceComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_data_source=__webpack_require__(776),_data_source2=_interopRequireDefault(_data_source),SpaceController=function(){function SpaceController($scope,asset,assetObjectId,floorId,spaceId,AssetObject,Floor,Space,NotificationService,UtilsService,$uibModalInstance){var _this=this;_classCallCheck(this,SpaceController),this.$scope=$scope,this.asset=asset,this.assetObjectId=assetObjectId,this.floorId=floorId,this.spaceId=spaceId,this.utils=UtilsService,this.Messages=_messages2.default,this.AssetObject=AssetObject,this.Floor=Floor,this.Space=Space,this.NotificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="spaces-add",this.init(),this.initDataSource(function(t){_this.initForm()}),self.objects=[],self.floors=[]}return SpaceController.$inject=["$scope","asset","assetObjectId","floorId","spaceId","AssetObject","Floor","Space","NotificationService","UtilsService","$uibModalInstance"],_createClass(SpaceController,[{key:"init",value:function(){var _this2=this,self=this;self.$scope.asset=self.asset,self.$scope.Messages=_messages2.default,self.$scope.getDataInProgress=!1,self.$scope.editMode=self.spaceId>0,self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.spaceId>0?(this.$scope.getDataInProgress=!0,self.Space.getFull({assetId:self.asset.id,assetObjectId:self.assetObjectId,floorId:self.floorId,id:self.spaceId},function(result){self.space=result,self.$scope.space=self.space,_this2.$scope.getDataInProgress=!1},function(error){_this2.NotificationService.error(error.data.message?error.data.message:error.data)})):(self.space={id:0,uniqueId:self.utils.generateGuid(),number:"",type:1,rentableArea:null,assetId:self.asset.id,assetObjectId:null,floorId:null,brokerId:self.asset.brokerId,marketingDescription:"",notes:""},self.$scope.space=self.space),self.spaceTypeStore=_constants2.default.spaceTypeStore(),self.spaceStateStore=_constants2.default.spaceStateStore()}},{key:"loadAssetObjects",value:function(callback){var self=this;self.AssetObject.query({assetId:self.asset.id},function(result){self.objects=result,callback&&callback()},function(error){})}},{key:"loadFloors",value:function(assetObjectId,callback){var self=this;self.Floor.query({assetId:self.asset.id,assetObjectId:assetObjectId},function(result){self.floors=result,callback&&callback()},function(error){})}},{key:"initDataSource",value:function(callback){var self=this;self.loadAssetObjects(function(t){self.assetObjectStore=new _array_store2.default({data:self.objects,key:"id",errorHandler:self.errorHandler.requestFailed}),self.floorStore=new _data_source2.default({load:function(loadOptions){return self.floors},byKey:function(key){return{id:key}},errorHandler:self.errorHandler.requestFailed}),callback&&callback()})}},{key:"initForm",value:function(){var self=this;self.$scope.numberSettings={placeholder:(0,_messages2.default)("assets.spaces.placeholder.number"),bindingOptions:{value:"space.number"}},self.$scope.numberValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:20,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:self.validationGroup},self.$scope.typeSelectSettings={dataSource:self.spaceTypeStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"space.type"}},self.$scope.typeValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:self.validationGroup},self.$scope.rentableAreaSettings={placeholder:(0,_messages2.default)("assets.spaces.placeholder.rentableArea"),bindingOptions:{value:"space.rentableArea"},value:1,showSpinButtons:!0,showClearButton:!1,max:1e3,min:1},self.$scope.rentableAreaValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"numeric"},{type:"range",min:0}],validationGroup:self.validationGroup},self.$scope.floorSelectSettings={dataSource:self.floorStore,displayExpr:"number",valueExpr:"id",bindingOptions:{value:"space.floorId",disabled:"editMode"}},self.$scope.floorValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},self.$scope.assetObjectSelectSettings={dataSource:self.assetObjectStore,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"space.assetObjectId",disabled:"editMode"},onSelectionChanged:function(e){self.loadFloors(e.selectedItem.id,function(t){self.floorStore.load().done(function(){self.assetObjectId!=self.space.assetObjectId&&(self.space.floorId=null,self.assetObjectId=self.space.assetObjectId),$("#field-floor").dxSelectBox("instance").repaint()})})}},this.$scope.assetObjectValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},this.$scope.marketingDescriptionSettings={placeholder:(0,_messages2.default)("assets.spaces.placeholder.marketingDescription"),height:180,maxLength:500,bindingOptions:{value:"space.marketingDescription"}},this.$scope.marketingDescriptionValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:this.validationGroup},this.$scope.notesSettings={placeholder:(0,_messages2.default)("assets.spaces.placeholder.notes"),height:180,maxLength:500,bindingOptions:{value:"space.notes"}},this.$scope.notesValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:this.validationGroup},self.$scope.minAskingPriceSettings={placeholder:(0,_messages2.default)("assets.spaces.placeholder.minAskingPrice"),bindingOptions:{value:"space.minAskingPrice"}},self.$scope.minAskingPriceValidationRules={validationRules:[{type:"numeric"},{type:"range",min:0},{type:"custom",validationCallback:function(options){return!options.value||(!self.space.maxAskingPrice||(options.rule.message=(0,_messages2.default)("assets.spaces.validation.maxAskingPrice"),options.value<self.space.maxAskingPrice))}}],validationGroup:self.validationGroup},self.$scope.maxAskingPriceSettings={placeholder:(0,_messages2.default)("assets.spaces.placeholder.maxAskingPrice"),bindingOptions:{value:"space.maxAskingPrice"}},self.$scope.maxAskingPriceValidationRules={validationRules:[{type:"numeric"},{type:"range",min:0},{type:"custom",validationCallback:function(options){return!options.value||(!self.space.minAskingPrice||(options.rule.message=(0,_messages2.default)("assets.spaces.validation.maxAskingPrice"),options.value>self.space.minAskingPrice))}}],validationGroup:self.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(self.validationGroup).validate();result.isValid&&self.$uibModalInstance.close({space:self.$scope.space})},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(self.validationGroup),self.$uibModalInstance.dismiss("cancel")}}}]),SpaceController}();exports.default=SpaceController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">{{ Messages(\'assets.spaces.modal.title\') }}</h4>\r\n    </div>\r\n    <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n    </div>\r\n    <div class="modal-body" ng-if="!getDataInProgress">\r\n        <div class="form-group">\r\n            <label for="field-number" class="control-label">{{ Messages(\'assets.spaces.number\') }}:</label>\r\n            <div id="field-number" dx-text-box="numberSettings" dx-validator="numberValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-type" class="control-label">{{ Messages(\'assets.spaces.type\') }}:</label>\r\n            <div id="field-type" dx-select-box="typeSelectSettings" dx-validator="typeValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-rentable-area" class="control-label">{{ Messages(\'assets.spaces.rentableArea\') }}:</label>\r\n            <div id="field-rentable-area" dx-number-box="rentableAreaSettings" dx-validator="rentableAreaValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-assetobject" class="control-label">{{ Messages(\'assets.spaces.assetobject\') }}:</label>\r\n            <div id="field-assetobject" dx-select-box="assetObjectSelectSettings" dx-validator="assetObjectValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-floor" class="control-label">{{ Messages(\'assets.spaces.floor\') }}:</label>\r\n            <div id="field-floor" dx-select-box="floorSelectSettings" dx-validator="floorValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-min-asking-price" class="control-label">{{ Messages(\'assets.spaces.minAskingPrice\') }}:</label>\r\n            <div id="field-min-asking-price" dx-number-box="minAskingPriceSettings" dx-validator="minAskingPriceValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-max-asking-price" class="control-label">{{ Messages(\'assets.spaces.maxAskingPrice\') }}:</label>\r\n            <div id="field-max-asking-price" dx-number-box="maxAskingPriceSettings" dx-validator="maxAskingPriceValidationRules"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-marketing-description" class="control-label">{{ Messages(\'assets.spaces.marketingDescription\') }}:</label>\r\n            <div id="field-marketing-description" dx-text-area="marketingDescriptionSettings"></div>\r\n        </div>\r\n        <div class="form-group">\r\n            <label for="field-notes" class="control-label">{{ Messages(\'assets.spaces.notes\') }}:</label>\r\n            <div id="field-notes" dx-text-area="notesSettings"></div>\r\n        </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'assets.spaces.saving\') : Messages(\'assets.spaces.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.spaces.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaces=__webpack_require__(782),_spaces2=_interopRequireDefault(_spaces),_spacesTemplate=__webpack_require__(783),_spacesTemplate2=_interopRequireDefault(_spacesTemplate),SpacesComponent={bindings:{asset:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_spaces2.default,template:_spacesTemplate2.default};exports.default=SpacesComponent},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_custom_store=__webpack_require__(412),_custom_store2=_interopRequireDefault(_custom_store),_data_source=__webpack_require__(776),_space=(_interopRequireDefault(_data_source),__webpack_require__(779)),_space2=_interopRequireDefault(_space),_spaceTemplate=__webpack_require__(780),_spaceTemplate2=_interopRequireDefault(_spaceTemplate),SpacesController=function(){function SpacesController($scope,AssetObject,Floor,Space,NotificationService,UtilsService,sweetAlert,$uibModal){var _this=this;_classCallCheck(this,SpacesController),this.asset=this.asset,this.$scope=$scope,this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.AssetObject=AssetObject,this.Floor=Floor,this.Space=Space,this.loadData(function(t){_this.init(),_this.initGrid()})}return SpacesController.$inject=["$scope","AssetObject","Floor","Space","NotificationService","UtilsService","sweetAlert","$uibModal"],_createClass(SpacesController,[{key:"init",value:function(){var self=this;self.$scope.$on("updateAssetObjectDataSource",function(e,data){self.updateDataSources()}),self.$scope.$on("updateFloorDataSource",function(e,data){self.updateDataSources()}),self.updateDataSources=function(){self.loadData(function(t){var dataGrid=$("#spacesGridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.columnOption("floorId","lookup.dataSource",{store:self.floorStore}),dataGrid.columnOption("assetObjectId","lookup.dataSource",{store:self.assetObjectStore}),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.createStore()}),dataGrid.endUpdate(),self.refreshGrid()})}}},{key:"loadData",value:function(afterExecuteCallback){var self=this;self.loadAssetObjects(function(){self.loadFloors(function(){self.loadSpaces(function(){afterExecuteCallback&&afterExecuteCallback()})})})}},{key:"loadAssetObjects",value:function(afterExecuteCallback){var self=this;self.AssetObject.query({assetId:self.asset.id},function(result){self.objects=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"loadFloors",value:function(afterExecuteCallback){var self=this;self.Floor.getByAssetId({assetId:self.asset.id},function(result){self.floors=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"loadSpaces",value:function(afterExecuteCallback){var self=this;self.Space.getByAssetId({assetId:self.asset.id},function(result){self.spaces=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"createStore",value:function(){var self=this;return self.store=new _array_store2.default({data:self.spaces,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.store}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.spaceTypeStore=_constants2.default.spaceTypeStore(),self.createStore(),self.floorStore=new _custom_store2.default({load:function(loadOptions){return self.floors},byKey:function(key){return{id:key}}}),self.assetObjectStore=new _custom_store2.default({load:function(loadOptions){return self.objects},byKey:function(key){return{id:key}}}),self.gridDataSource=self.store,self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},filterRow:{visible:!1},groupPanel:{visible:!1},columns:[{dataField:"number",caption:(0,_messages2.default)("assets.spaces.number"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",sortOrder:"asc",alignment:"right"},{dataField:"type",caption:(0,_messages2.default)("assets.spaces.type"),lookup:{dataSource:self.spaceTypeStore,displayExpr:"display",valueExpr:"value"}},{dataField:"rentableArea",dataType:"number",caption:(0,_messages2.default)("assets.spaces.rentableArea"),filterOperations:[">","<","="],selectedFilterOperation:">",alignment:"right"},{dataField:"floorId",caption:(0,_messages2.default)("assets.spaces.floor"),lookup:{dataSource:{store:self.floorStore},displayExpr:"number",valueExpr:"id"},alignment:"right",allowEditing:!1},{dataField:"assetObjectId",caption:(0,_messages2.default)("assets.spaces.assetobject"),width:100,lookup:{dataSource:{store:self.assetObjectStore},displayExpr:"name",valueExpr:"id"},alignment:"right",allowEditing:!1},{dataField:"id",caption:(0,_messages2.default)("actions"),width:100,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){self.updateSpace(options.data)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.deleteSpace(options.data)}}).appendTo(container)}}]})}},{key:"createSpace",value:function(){var _this2=this,modal=this.$uibModal.open({controller:_space2.default,template:_spaceTemplate2.default,resolve:{asset:this.asset,assetObjectId:null,floorId:null,spaceId:0},size:"lg"});modal.result.then(function(result){_this2.Space.create({assetId:_this2.asset.id,assetObjectId:result.space.assetObjectId,floorId:result.space.floorId},result.space,function(result){_this2.spaces.push(result),_this2.NotificationService.success((0,_messages2.default)("assets.spaces.created")),_this2.saveInProgress=!1,_this2.refreshGrid()},function(error){console.log(error),_this2.NotificationService.error(error.data),_this2.saveInProgress=!1})}),modal.closed.then(function(){}),this.space=null}},{key:"updateSpace",value:function(space){var self=this,modal=self.$uibModal.open({controller:_space2.default,template:_spaceTemplate2.default,resolve:{asset:self.asset,assetObjectId:space.assetObjectId,floorId:space.floorId,spaceId:space.id},size:"lg"});modal.result.then(function(result){jQuery.extend(space,result.space),self.Space.update({assetId:self.asset.id,assetObjectId:result.space.assetObjectId,floorId:result.space.floorId,id:result.space.id},result.space,function(result){self.NotificationService.success((0,_messages2.default)("assets.spaces.updated")),self.saveInProgress=!1},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})}),modal.closed.then(function(){})}},{key:"deleteSpace",value:function(space){var self=this;self.sweetAlert.swal({title:(0,_messages2.default)("assets.spaces.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.spaces.delete.confirmButton")},function(isConfirm){isConfirm&&self.Space.delete({assetId:self.asset.id,assetObjectId:space.assetObjectId,floorId:space.floorId,id:space.id},function(result){var spaceIdx=self.spaces.findIndex(function(t){return t.id==space.id});self.spaces.splice(spaceIdx,1),self.refreshGrid(),self.NotificationService.success((0,_messages2.default)("assets.spaces.deleted")),self.saveInProgress=!1},function(error){console.log(error),self.NotificationService.error(error.data.message?error.data.message:error.data),self.saveInProgress=!1})})}},{key:"refreshGrid",value:function(){$("#spacesGridContainer").dxDataGrid("instance").refresh()}}]),SpacesController}();exports.default=SpacesController}).call(exports,__webpack_require__(162),__webpack_require__(162))},function(module,exports){module.exports='<form name="spacesForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.createSpace()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.spaces.add\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="spacesGridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AssetDocumentsComponent={bindings:{documents:"=",asset:"=",maxAttachementSize:"=?",maxAttachementCount:"=?",readonly:"=?",documentCreateCallback:"=?",saveUpdates:"=?"},controller:function(){var self=this;self.maxAttachementCount=10,self.maxAttachementSize=5e6,self.documentCreateCallback=function(document){document.assetId=self.asset.id,self.saveUpdates()},self.documentDeleteCallback=function(document){self.saveUpdates()}},template:"<attachements documents='$ctrl.documents'                         readonly='$ctrl.readonly'                         max-attachement-count='$ctrl.maxAttachementCount'                         max-attachement-size='$ctrl.maxAttachementSize'                         document-create-callback='$ctrl.documentCreateCallback'                         document-delete-callback='$ctrl.documentDeleteCallback'                         class='asset-documents'></attachements>"};exports.default=AssetDocumentsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _object=__webpack_require__(786),_object2=_interopRequireDefault(_object),_objectTemplate=__webpack_require__(789),_objectTemplate2=_interopRequireDefault(_objectTemplate),AssetObjectComponent={bindings:{asset:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_object2.default,template:_objectTemplate2.default};exports.default=AssetObjectComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(670)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_assetObjectEditModal=__webpack_require__(787),_assetObjectEditModal2=_interopRequireDefault(_assetObjectEditModal),_assetObjectEditModalTemplate=__webpack_require__(788),_assetObjectEditModalTemplate2=_interopRequireDefault(_assetObjectEditModalTemplate),AssetObjectController=function(){function AssetObjectController($scope,$state,AssetObject,NotificationService,UtilsService,sweetAlert,$uibModal){_classCallCheck(this,AssetObjectController),this.$scope=$scope,this.$state=$state,this.AssetObject=AssetObject,
this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.init()}return AssetObjectController.$inject=["$scope","$state","AssetObject","NotificationService","UtilsService","sweetAlert","$uibModal"],_createClass(AssetObjectController,[{key:"init",value:function(){var self=this;self.AssetObject.query({assetId:self.asset.id},function(result){self.objects=result;for(var i=0;i<self.objects.length;i++)self.objects[i].uniqueId||(self.objects[i].uniqueId=self.utils.generateGuid()),self.objects[i].address=self.utils.generateAddress(self.objects[i]);self.initGrid()},function(error){})}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.store=new _array_store2.default({data:self.objects,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,groupPanel:{visible:!1},filterRow:{visible:!1},columns:[{dataField:"name",caption:(0,_messages2.default)("assets.objects.name"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,width:150,alignment:"right"},{dataField:"address",caption:(0,_messages2.default)("assets.objects.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1},{dataField:"isDisplayOnStackingPlan",caption:(0,_messages2.default)("assets.objects.isDisplayOnStackingPlan"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,dataType:"boolean"},{dataField:"id",visible:!1},{dataField:"uniqueId",caption:(0,_messages2.default)("actions"),width:100,allowSorting:!1,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){self.editAssetObject(options.data.id)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.sweetAlert.swal({title:(0,_messages2.default)("assets.objects.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.objects.delete.confirmButton")},function(isConfirm){isConfirm&&self.deleteAssetObject(options.data)})}}).appendTo(container)}}]}),self.refreshGrid=function(){$("#objectsGridContainer").dxDataGrid("instance").refresh()},self.deleteAssetObject=function(assetObject){self.AssetObject.archive({assetId:self.asset.id,id:assetObject.id},function(result){var assetObjectIdx=self.objects.findIndex(function(t){return t.id==assetObject.id});self.objects.splice(assetObjectIdx,1),self.NotificationService.success((0,_messages2.default)("assets.objects.message.deleted")),self.saveInProgress=!1,self.needUpdateDataSources(),self.refreshData()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})}}},{key:"addAssetObject",value:function(){var self=this,modal=this.$uibModal.open({controller:_assetObjectEditModal2.default,template:_assetObjectEditModalTemplate2.default,resolve:{towerObject:null,assetId:self.asset.id}});modal.result.then(function(result){self.needUpdateDataSources(),self.refreshData()})}},{key:"editAssetObject",value:function(objectId){var _this=this,self=this;this.AssetObject.getById({id:objectId,assetId:self.asset.id},function(result){var modal=_this.$uibModal.open({controller:_assetObjectEditModal2.default,template:_assetObjectEditModalTemplate2.default,resolve:{towerObject:result,assetId:self.asset.id}});modal.result.then(function(result){self.needUpdateDataSources(),self.refreshData()})},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"refreshData",value:function(){var self=this;self.AssetObject.query({assetId:self.asset.id},function(result){self.objects=result;for(var i=0;i<self.objects.length;i++)self.objects[i].uniqueId||(self.objects[i].uniqueId=self.utils.generateGuid()),self.objects[i].address=self.utils.generateAddress(self.objects[i]);self.store=new _array_store2.default({data:self.objects,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed});var dataGrid=$("#objectsGridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.store}),dataGrid.endUpdate(),self.refreshGrid()},function(error){})}}]),AssetObjectController}();exports.default=AssetObjectController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),AssetObjectEditController=function(){function AssetObjectEditController($scope,$state,$timeout,AssetObject,towerObject,assetId,NotificationService,$uibModalInstance,UtilsService){_classCallCheck(this,AssetObjectEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.AssetObject=AssetObject,this.towerObject=towerObject,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.validationGroup="asset-object-edit",this.addressValidationGroup="asset-object-edit-address",this.assetId=assetId,this.init(),this.initForm()}return AssetObjectEditController.$inject=["$scope","$state","$timeout","AssetObject","towerObject","assetId","NotificationService","$uibModalInstance","UtilsService"],_createClass(AssetObjectEditController,[{key:"init",value:function(){var _this=this,self=this;this.$timeout(function(){_this.initAutocomplete()}),this.$scope.clearAddress=function(){self.$scope.tower.address=null}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.editMode=null!==this.towerObject,this.isSaveOperationDisable=!0,this.$scope.editMode?this.$scope.tower=this.towerObject:this.$scope.tower={name:"",countryId:1,city:"",street:"",streetAddress:"",postCode:"",isDisplayOnStackingPlan:!1},this.$scope.nameSettings={placeholder:(0,_messages2.default)("assets.objects.placeholder.name"),bindingOptions:{value:"tower.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},this.$scope.displaySettings={bindingOptions:{value:"tower.isDisplayOnStackingPlan"}},this.$scope.displayValidationRules={validationRules:[],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"tower.countryId"}},this.$scope.countryValidationRules={validationRules:[],validationGroup:this.validationGroup,onOptionChanged:function(){self.setAutocompleteCountry()}},this.$scope.tower.address="",this.$scope.addressSettings={bindingOptions:{value:"tower.address",disabled:"!tower.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.tower.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var self=_this2,result=_validation_engine2.default.getGroupConfig(_this2.validationGroup).validate();result.isValid&&(_this2.saveInProgress=!0,_this2.isSaveOperationDisable=!0,_this2.$scope.editMode?_this2.AssetObject.update({id:_this2.$scope.tower.id,assetId:self.assetId},_this2.$scope.tower,function(result){_this2.notificationService.success((0,_messages2.default)("assets.objects.message.updated")),_this2.saveInProgress=!1,_this2.$uibModalInstance.close(_this2.$scope.tower)},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1}):_this2.AssetObject.save({assetId:self.assetId},_this2.$scope.tower,function(result){_this2.saveInProgress=!1,_this2.$uibModalInstance.close(_this2.$scope.tower),_this2.notificationService.success((0,_messages2.default)("assets.objects.message.created"))},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this2.validationGroup),_this2.$uibModalInstance.dismiss("cancel")}}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#tower-address-field input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.tower.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.tower.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.tower.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.tower.postCode=item.long_name,postCodeSet=!0)}),citySet||(_this3.$scope.tower.city=null),streetSet||(_this3.$scope.tower.street=null),buildingSet||(_this3.$scope.tower.streetAddress=null),postCodeSet||(_this3.$scope.tower.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.tower.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.tower.countryId&&(curCountryCode=country.isoCode)}),this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),AssetObjectEditController}();exports.default=AssetObjectEditController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'assets.objects.edit.title\') : Messages(\'assets.objects.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <div class="form-group">\r\n                <label for="field-name" class="control-label">{{Messages(\'assets.objects.create.name\')}}</label>\r\n                <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-display" class="control-label">{{Messages(\'assets.objects.create.isDisplayOnStackingPlan\')}}</label>\r\n                <div id="field-display" dx-check-box="displaySettings" dx-validator="displayValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="tower-address-field" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                <div id="tower-address-field" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n            </div>\r\n            <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="form-group">\r\n                        <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                        <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                        <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                        <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                        <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'assets.objects.saving\') : Messages(\'assets.objects.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.objects.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){module.exports='<form name="assetObjectsForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.addAssetObject()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.objects.add\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="objectsGridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Asset=function(){function Asset(ConfigurationService,$resource){return _classCallCheck(this,Asset),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets",isArray:!0},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/full"},setImage:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/image",transformRequest:angular.identity,headers:{"Content-Type":void 0}},resetImage:{method:"DELETE",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/image"},create:{method:"POST"},update:{method:"PUT"},archive:{method:"DELETE"}})}return Asset.$inject=["ConfigurationService","$resource"],_createClass(Asset,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Asset.instance=new Asset(ConfigurationService,$resource),Asset.instance}]}]),Asset}();exports.default=Asset},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetObject=function(){function AssetObject(ConfigurationService,$resource){return _classCallCheck(this,AssetObject),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:id",{assetId:"@assetId",id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects",isArray:!0},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects"},update:{method:"PUT"},archive:{method:"DELETE"},getById:{method:"GET"}})}return AssetObject.$inject=["ConfigurationService","$resource"],_createClass(AssetObject,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetObject.instance=new AssetObject(ConfigurationService,$resource),AssetObject.instance}]}]),AssetObject}();exports.default=AssetObject},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Floor=function(){function Floor(ConfigurationService,$resource){return _classCallCheck(this,Floor),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:id",{assetId:"@assetId",assetObjectId:"@assetObjectId",id:"@id",count:"@count",autonumerate:"@autonumerate"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors",isArray:!0},createRange:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors?count=:count&autonumerate=:autonumerate",isArray:!0},update:{method:"PUT"},delete:{method:"DELETE"},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:id/full"},getByAssetId:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/floors",isArray:!0}})}return Floor.$inject=["ConfigurationService","$resource"],_createClass(Floor,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Floor.instance=new Floor(ConfigurationService,$resource),Floor.instance}]}]),Floor}();exports.default=Floor},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Space=function(){function Space(ConfigurationService,$resource){return _classCallCheck(this,Space),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:floorId/spaces/:id",{assetId:"@assetId",assetObjectId:"@assetObjectId",floorId:"@floorId",id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:floorId/spaces",isArray:!0},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:floorId/spaces"},update:{method:"PUT"},delete:{method:"DELETE"},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:floorId/spaces/:id/full"},getByAssetId:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces",isArray:!0},getByAssetObjectId:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/spaces",isArray:!0}})}return Space.$inject=["ConfigurationService","$resource"],_createClass(Space,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Space.instance=new Space(ConfigurationService,$resource),Space.instance}]}]),Space}();exports.default=Space},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assetStats=__webpack_require__(797),_assetStats2=_interopRequireDefault(_assetStats),_assetStatSpaces=__webpack_require__(798),_assetStatSpaces2=_interopRequireDefault(_assetStatSpaces),_assetStatTenants=__webpack_require__(801),_assetStatTenants2=_interopRequireDefault(_assetStatTenants),_assetStatStackingPlan=__webpack_require__(804),_assetStatStackingPlan2=_interopRequireDefault(_assetStatStackingPlan),_assetStatStackingPlan3=__webpack_require__(805),_assetStatStackingPlan4=_interopRequireDefault(_assetStatStackingPlan3),_assetStats3=__webpack_require__(806),_assetStats4=_interopRequireDefault(_assetStats3),_assetStatSpaces3=__webpack_require__(807),_assetStatSpaces4=_interopRequireDefault(_assetStatSpaces3),_assetStatTenants3=__webpack_require__(808),_assetStatTenants4=_interopRequireDefault(_assetStatTenants3),_module=angular.module("tower360.assetStats",[]).controller("AssetStatsController",_assetStats2.default).controller("AssetStatSpacesController",_assetStatSpaces2.default).controller("AssetStatTenantsController",_assetStatTenants2.default).controller("AssetStatStackingPlanController",_assetStatStackingPlan4.default).factory("AssetStats",_assetStats4.default.activate).factory("AssetStatSpaces",_assetStatSpaces4.default.activate).factory("AssetStatTenants",_assetStatTenants4.default.activate).factory("AssetStatStackingPlan",_assetStatStackingPlan2.default.activate).directive("resize",["$window",function($window){return function(scope,element){var w=angular.element($window),changeHeight=function(){element.css("height",element.width())};w.bind("resize",function(){changeHeight()}),changeHeight()}}]);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),AssetStatsController=function(){function AssetStatsController($scope,$state,StoreAdapter,AssetStats,NotificationService){_classCallCheck(this,AssetStatsController),this.$scope=$scope,this.$state=$state,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.Messages=_messages2.default,this.assetStats=AssetStats,this.init(),this.isMore=!1,this.page=0,this.pageSize=8,this.loadedImages=[],this.loadedImagesCount=0,this.totalRowsCount=0}return AssetStatsController.$inject=["$scope","$state","StoreAdapter","AssetStats","NotificationService"],_createClass(AssetStatsController,[{key:"init",value:function(){var _this=this;this.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},this.assetStats.query({pageNumber:this.page},function(result){var assets=[],rowIndex=0;result.forEach(function(item,i){i%4===0&&0!==i&&rowIndex++,assets[rowIndex]||(assets[rowIndex]=[]),item.color=_this.getPanelColor(),assets[rowIndex].push(item)}),_this.assets=assets,_this.assetsLength=result.length,_this.totalRowsCount=result.length},function(error){})}},{key:"loadMore",value:function(){var _this2=this;this.page++,this.assetStats.query({pageNumber:this.page},function(result){_this2.assets=_this2.assets.concat(result.items)},function(error){})}},{key:"imageLoad",value:function(){this.loadedImagesCount++,this.loadedImagesCount===this.assetsLength&&(this.loadedImages[this.page]=!0,this.isMore=this.assetsLength<this.totalRowsCount,this.$scope.$apply())}},{key:"isShow",value:function(index){return this.loadedImages[Math.floor(index/this.pageSize)]}},{key:"getPanelColor",value:function(){var panelColors=["hgreen","hblue","hyellow","hviolet","horange","hred","hreddeep","hnavyblue"];return panelColors[Math.floor(Math.random()*panelColors.length)]}}]),AssetStatsController}();exports.default=AssetStatsController},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_spacesFilterModal=__webpack_require__(799),_spacesFilterModal2=_interopRequireDefault(_spacesFilterModal),_spacesFilterModalTemplate=__webpack_require__(800),_spacesFilterModalTemplate2=_interopRequireDefault(_spacesFilterModalTemplate),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(195),_moment2=_interopRequireDefault(_moment),AssetStatSpacesController=function(){function AssetStatSpacesController($scope,$rootScope,$state,asset,assetId,AssetStatSpaces,AssetStatStackingPlan,$uibModal,uibDateParser,$timeout,UtilsService){var _this=this;_classCallCheck(this,AssetStatSpacesController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.asset=asset,this.assetId=assetId,this.AssetStatSpaces=AssetStatSpaces,this.AssetStatStackingPlan=AssetStatStackingPlan,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.utils=UtilsService,this.Messages=_messages2.default,this.init(),$scope.$on("$destroy",function(){$rootScope.$broadcast("right-sidebar:close")}),$scope.$on("right-sidebar:closed",function(){_this.selectSpaceRow([]),_this.selectedSpace=null})}return AssetStatSpacesController.$inject=["$scope","$rootScope","$state","asset","assetId","AssetStatSpaces","AssetStatStackingPlan","$uibModal","uibDateParser","$timeout","UtilsService"],_createClass(AssetStatSpacesController,[{key:"init",value:function(){var _this2=this;this.$scope.greedData=[],this.$scope.statuses=[{id:"all",value:1,name:(0,_messages2.default)("assets.spaces.filter.all")},{id:"vacant",value:3,name:(0,_messages2.default)("assets.spaces.filter.vacant")},{id:"occupied",value:2,name:(0,_messages2.default)("assets.spaces.filter.occupied")},{id:"1_month",value:1,name:(0,_messages2.default)("assets.spaces.filter.in_1_month")},{id:"3_month",value:3,name:(0,_messages2.default)("assets.spaces.filter.in_3_month")},{id:"6_month",value:6,name:(0,_messages2.default)("assets.spaces.filter.in_6_month")},{id:"1_year",value:12,name:(0,_messages2.default)("assets.spaces.filter.in_1_year")},{id:"custom",name:(0,_messages2.default)("assets.spaces.filter.custom_dates")}],this.$scope.selectedStatus=this.$scope.statuses[0],this.$timeout(function(){_this2.customDateElement=$("#spaces-filter-daterangepicker"),$(_this2.customDateElement).daterangepicker({minDate:new Date,autoApply:!0}),$(_this2.customDateElement).on("apply.daterangepicker",function(ev,picker){_this2.customAvailableFrom=picker.startDate,_this2.customAvailableTo=picker.endDate,_this2.$scope.customAvailableFrom=_this2.getParsedDate(picker.startDate),
_this2.$scope.customAvailableTo=_this2.getParsedDate(picker.endDate),_this2.gridUpdate(1)})},1),this.$scope.extraFilters=[],this.$scope.towers=[],this.$scope.sortType="unit",this.$scope.sortDirection=0,this.gridUpdate(1),this.AssetStatStackingPlan.getObjects({asset:this.assetId},function(result){_this2.$scope.towers=result},function(err){}),this.statsLabelsDisctionary={all:"totalSpacesCount",vacant:"totalVacantSpacesCount",occupied:"totalOccupiedSpacesCount","1_month":"expiresInOneMonthCount","3_month":"expiresInThreeMonthCount","6_month":"expiresInSixMonthCount","1_year":"expiresInOneYearCount"}}},{key:"gridUpdate",value:function(page){var _this3=this;this.$scope.update=!0,this.page=page;var extraFilters=this.$scope.extraFilters,status=null,availableFrom=null,availableTo=null,inPlacePriceFrom=extraFilters.find(function(item){return"in_place_rent_from"===item.id}),inPlacePriceTo=extraFilters.find(function(item){return"in_place_rent_to"===item.id}),priceFrom=extraFilters.find(function(item){return"price_from"===item.id}),priceTo=extraFilters.find(function(item){return"price_to"===item.id}),areaFrom=extraFilters.find(function(item){return"area_from"===item.id}),areaTo=extraFilters.find(function(item){return"area_to"===item.id}),floorFrom=extraFilters.find(function(item){return"floor_from"===item.id}),floorTo=extraFilters.find(function(item){return"floor_to"===item.id}),towers=[],spaceTypes=[];switch(extraFilters.forEach(function(item){0===item.id.indexOf("tower_")&&towers.push(item.value.id),0===item.id.indexOf("office_type_")&&spaceTypes.push(item.value.id)}),this.$scope.selectedStatus.id){case"all":case"vacant":case"occupied":status=this.$scope.selectedStatus.value;break;case"1_month":case"3_month":case"6_month":case"1_year":availableFrom=(0,_moment2.default)().format(),availableTo=(0,_moment2.default)().add(this.$scope.selectedStatus.value,"M").format();break;case"custom":availableFrom=(0,_moment2.default)(this.customAvailableFrom).format(),availableTo=(0,_moment2.default)(this.customAvailableTo).format()}this.AssetStatSpaces.search({id:this.assetId,st:status,agte:areaFrom&&areaFrom.value,alte:areaTo&&areaTo.value,apgte:priceFrom&&priceFrom.value,aplte:priceTo&&priceTo.value,ipgte:inPlacePriceFrom&&inPlacePriceFrom.value,iplte:inPlacePriceTo&&inPlacePriceTo.value,expgte:availableFrom,explte:availableTo,fgte:floorFrom&&floorFrom.value,flte:floorTo&&floorTo.value,twr:towers,ot:spaceTypes,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20},function(result){_this3.$scope.update=!1,_this3.floorsMax=result.maxFloor,_this3.floorsMin=result.minFloor,1===page?(_this3.$scope.greedData=result.items,_this3.$scope.disable_infinite_scrolling=!1,_this3.updateStatusLabels(result.stats)):0===result.items.length?_this3.$scope.disable_infinite_scrolling=!0:(_this3.$scope.disable_infinite_scrolling=!1,_this3.$scope.greedData=_this3.$scope.greedData.concat(result.items)),_this3.$timeout(function(){_this3.$scope.load_more=!1},1)},function(error){console.log(error),_this3.$scope.update=!1,_this3.$scope.error=error}),this.$rootScope.$broadcast("right-sidebar:close")}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=1===this.$scope.sortDirection?0:1,this.gridUpdate(1)}},{key:"getOfficeType",value:function(type){var officeType=_constants2.default.spaceTypeStorePlain().find(function(item){return item.value===type});return officeType.text}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"selectStatus",value:function(e,status){e.preventDefault(),this.$scope.selectedStatus=status,"custom"!==status.id?(this.gridUpdate(1),this.$scope.customAvailableFrom=null,this.$scope.customAvailableTo=null,$(this.customDateElement).data("daterangepicker").setStartDate(new Date),$(this.customDateElement).data("daterangepicker").setEndDate(new Date)):this.showDateRangeSelector()}},{key:"showDateRangeSelector",value:function(){$(this.customDateElement).focus()}},{key:"showExtraFilters",value:function(){var _this4=this,modal=this.$uibModal.open({controller:_spacesFilterModal2.default,template:_spacesFilterModalTemplate2.default,resolve:{filter:{data:this.$scope.extraFilters},towers:{data:this.$scope.towers},floors:{min:this.floorsMin,max:this.floorsMax}},size:"lg"});modal.result.then(function(result){_this4.$scope.extraFilters=result,result.length&&_this4.gridUpdate(1)})}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(1)}},{key:"selectSpaceRow",value:function(row){var cl="filtered-spaces-row-selected";$("#filtered-spaces-grid tr").each(function(i,item){item===row[0]?$(item).addClass(cl):$(item).removeClass(cl)})}},{key:"showSpaceInfo",value:function(event,data){if(this.selectedSpace===data.number)return void this.$rootScope.$broadcast("right-sidebar:close");this.selectedSpace=data.number;var result=Object.assign({},data),contract=data.contract;contract&&null!=contract.industryId&&_constants2.default.clientsIndustryStore().byKey(contract.industryId).done(function(dataItem){result.industryId=contract.industryId,result.industry=dataItem.display}),this.$rootScope.$broadcast("right-sidebar:open",{type:"spaceDescription",data:result}),this.selectSpaceRow($(event.target).parent("tr"))}},{key:"updateStatusLabels",value:function(stats){var self=this;this.$scope.statuses.forEach(function(element){var value=Number(stats[self.statsLabelsDisctionary[element.id]]);element.label=this.utils.formatBadgeValue(value)},this)}}]),AssetStatSpacesController}();exports.default=AssetStatSpacesController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),SpacesFilterController=function(){function SpacesFilterController($scope,$state,filter,towers,floors,$uibModalInstance,uibDateParser){_classCallCheck(this,SpacesFilterController),this.$scope=$scope,this.$state=$state,this.filter=filter.data,this.towers=towers.data,this.floors=floors,this.$uibModalInstance=$uibModalInstance,this.uibDateParser=uibDateParser,this.init(),this.initForm()}return SpacesFilterController.$inject=["$scope","$state","filter","towers","floors","$uibModalInstance","uibDateParser"],_createClass(SpacesFilterController,[{key:"init",value:function(){for(var spaceTypes=_constants2.default.spaceTypeStorePlain(),piecesPerRow=Math.round(spaceTypes.length/3),typesRows=[],i=0,l=3;i<l;i++){typesRows[i]=[];for(var j=0,jl=piecesPerRow;j<jl;j++){var item=spaceTypes.shift();if(!item)break;typesRows[i].push(item)}}this.$scope.typesRows=typesRows}},{key:"initForm",value:function(){var _this=this;this.$scope.fromValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[from]>_this.$scope[to]&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[to]<_this.$scope[from]&&(_this.$scope[from]=_this.$scope[to])},this.$scope.fromSelectorChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&Number(_this.$scope[from])>Number(_this.$scope[to])&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toSelectorChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&Number(_this.$scope[to])<Number(_this.$scope[from])&&(_this.$scope[from]=_this.$scope[to])};var price_from=this.filter.find(function(item){return"price_from"===item.id});this.$scope.price_from=price_from&&price_from.value;var price_to=this.filter.find(function(item){return"price_to"===item.id});this.$scope.price_to=price_to&&price_to.value;var area_from=this.filter.find(function(item){return"area_from"===item.id});this.$scope.area_from=area_from&&area_from.value;var area_to=this.filter.find(function(item){return"area_to"===item.id});this.$scope.area_to=area_to&&area_to.value;var floor_from=this.filter.find(function(item){return"floor_from"===item.id});this.$scope.floor_from=floor_from&&floor_from.value;var floor_to=this.filter.find(function(item){return"floor_to"===item.id});this.$scope.floor_to=floor_to&&floor_to.value,this.$scope.floors=[];for(var i=this.floors.min,l=this.floors.max;i<=l;i++){var name=void 0;name=i<0?i+" UG":i>0?i+" OG":"EG",this.$scope.floors.push({id:i,name:name})}var in_place_rent_from=this.filter.find(function(item){return"in_place_rent_from"===item.id});this.$scope.in_place_rent_from=in_place_rent_from&&in_place_rent_from.value;var in_place_rent_to=this.filter.find(function(item){return"in_place_rent_to"===item.id});this.$scope.in_place_rent_to=in_place_rent_to&&in_place_rent_to.value,this.$scope.towers={available:this.towers,selected:[]},this.filter.forEach(function(item){0===item.id.indexOf("tower_")&&_this.$scope.towers.selected.push(item.value)}),this.$scope.office_types=[],this.$scope.office_types_ids=[],this.filter.forEach(function(item){0===item.id.indexOf("office_type_")&&(_this.$scope.office_types.push(item.value),_this.$scope.office_types_ids.push(item.value.id))}),this.$scope.officeTypeToggleSelection=function(type,valueString){var id=_this.$scope.office_types.findIndex(function(item){return item.id===type});id>-1?(_this.$scope.office_types.splice(id,1),_this.$scope.office_types_ids.splice(id,1)):(_this.$scope.office_types.push({id:type,name:valueString}),_this.$scope.office_types_ids.push(type))},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.save=function(){var result=[];if(_this.$scope.price_from&&result.push({id:"price_from",name:(0,_messages2.default)("assets.spaces.filter.asking_price_from"),value:_this.$scope.price_from,text:_this.$scope.price_from+" [€/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.price_to&&result.push({id:"price_to",name:(0,_messages2.default)("assets.spaces.filter.asking_price_to"),value:_this.$scope.price_to,text:_this.$scope.price_to+" [€/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.area_from&&result.push({id:"area_from",name:(0,_messages2.default)("assets.spaces.filter.rentable_area_from"),value:_this.$scope.area_from,text:_this.$scope.area_from+" "+(0,_messages2.default)("square.meter")}),_this.$scope.area_to&&result.push({id:"area_to",name:(0,_messages2.default)("assets.spaces.filter.rentable_area_to"),value:_this.$scope.area_to,text:_this.$scope.area_to+" "+(0,_messages2.default)("square.meter")}),_this.$scope.floor_from){var florFrom=_this.$scope.floors.find(function(item){return item.id===Number(_this.$scope.floor_from)});result.push({id:"floor_from",name:(0,_messages2.default)("assets.spaces.filter.floor_from"),value:_this.$scope.floor_from,text:""+florFrom.name})}if(_this.$scope.floor_to){var florTo=_this.$scope.floors.find(function(item){return item.id===Number(_this.$scope.floor_to)});result.push({id:"floor_to",name:(0,_messages2.default)("assets.spaces.filter.floor_to"),value:_this.$scope.floor_to,text:""+florTo.name})}_this.$scope.in_place_rent_from&&result.push({id:"in_place_rent_from",name:(0,_messages2.default)("assets.spaces.filter.in_place_rent_from"),value:_this.$scope.in_place_rent_from,text:_this.$scope.in_place_rent_from+" [€/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.in_place_rent_to&&result.push({id:"in_place_rent_to",name:(0,_messages2.default)("assets.spaces.filter.in_place_rent_to"),value:_this.$scope.in_place_rent_to,text:_this.$scope.in_place_rent_to+" [€/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.towers.selected.length&&_this.$scope.towers.selected.forEach(function(item){result.push({id:"tower_"+item.name,value:item,text:item.name})}),_this.$scope.office_types.length&&_this.$scope.office_types.forEach(function(item){result.push({id:"office_type_"+item.id,value:item,text:item.name})}),_this.$uibModalInstance.close(result)}}}]),SpacesFilterController}();exports.default=SpacesFilterController},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-body">\r\n        <form role="form" class="o-hidden">\r\n            <div class="col-md-6">\r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.asking_price\')}} [€/<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="asking_price_from"\r\n                            ng-model="price_from"\r\n                            ng-blur="fromValueChanged(\'asking_price_from\', \'asking_price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="price_to"\r\n                            ng-blur="toValueChanged(\'asking_price_from\', \'asking_price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.in_place_rent\')}} [€/<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="price_from"\r\n                            ng-model="in_place_rent_from"\r\n                            ng-blur="fromValueChanged(\'price_from\', \'price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="in_place_rent_to"\r\n                            ng-blur="toValueChanged(\'price_from\', \'price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.rentable_area\')}} [<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="areaFrom"\r\n                            ng-model="area_from"\r\n                            ng-blur="fromValueChanged(\'area_from\', \'area_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="area_to"\r\n                            ng-blur="toValueChanged(\'area_from\', \'area_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.floor\')}}</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <select class="input-sm form-control" ng-model="floor_from" ng-change="fromSelectorChanged(\'floor_from\', \'floor_to\')">\r\n                            <option value="{{floor.id}}" ng-repeat="floor in floors">\r\n                                {{floor.name}}\r\n                            </option>\r\n                        </select>\r\n                        <span class="input-group-addon">-</span>\r\n                        <select class="input-sm form-control" ng-model="floor_to" ng-change="toSelectorChanged(\'floor_from\', \'floor_to\')">\r\n                            <option value="{{floor.id}}" ng-repeat="floor in floors">\r\n                                {{floor.name}}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-12 m-b-xl">\r\n                <p>{{Messages(\'assets.spaces.filter.towers\')}}</p>\r\n                <ui-select multiple ng-model="towers.selected" close-on-select="false" theme="bootstrap">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.spaces.filter.towers.placeholder\')}}">\r\n                        {{$item.name}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in towers.available | filter: $select.search">\r\n                        {{item.name}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="col-md-4 m-b-xl" ng-repeat="row in typesRows">\r\n                <p ng-if="$index === 0">{{Messages(\'assets.spaces.filter.type\')}}</p>\r\n                <p ng-if="$index !== 0">&nbsp;</p>\r\n                <div class="checkbox green" ng-repeat="item in row">\r\n                    <label>\r\n                        <input\r\n                            type="checkbox"\r\n                            class="i-checks"\r\n                            name="office_type"\r\n                            ng-checked="office_types_ids.indexOf(item.value) !== -1"\r\n                            ng-click="officeTypeToggleSelection(item.value, item.text)"\r\n                        >\r\n                        <span class="icheckbox_square"></span>\r\n                        <span class="label">{{item.text}}</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()">\r\n            {{Messages(\'assets.spaces.filter.apply\')}}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{Messages(\'assets.spaces.filter.cancel\')}}\r\n        </button>\r\n       \r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_tenantsFilterModal=__webpack_require__(802),_tenantsFilterModal2=_interopRequireDefault(_tenantsFilterModal),_tenantsFilterModalTemplate=__webpack_require__(803),_tenantsFilterModalTemplate2=_interopRequireDefault(_tenantsFilterModalTemplate),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(195),_moment2=_interopRequireDefault(_moment),AssetStatsTenantsController=function(){function AssetStatsTenantsController($scope,$rootScope,$state,asset,assetId,AssetStatTenants,AssetStatStackingPlan,sweetAlert,$uibModal,uibDateParser,UtilsService,$timeout){var _this=this;_classCallCheck(this,AssetStatsTenantsController),this.$scope=$scope,this.$rootScope=$rootScope,this.asset=asset,this.assetId=assetId,this.$state=$state,this.AssetStatTenants=AssetStatTenants,this.AssetStatStackingPlan=AssetStatStackingPlan,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.$timeout=$timeout,this.init(),$scope.$on("$destroy",function(){$rootScope.$broadcast("right-sidebar:close")}),$scope.$on("right-sidebar:closed",function(){_this.selectSpaceRow([]),_this.selectedTenant=null})}return AssetStatsTenantsController.$inject=["$scope","$rootScope","$state","asset","assetId","AssetStatTenants","AssetStatStackingPlan","sweetAlert","$uibModal","uibDateParser","UtilsService","$timeout"],_createClass(AssetStatsTenantsController,[{key:"init",value:function(){var _this2=this;this.$scope.greedData=[],this.$scope.statuses=[{id:"in_place",value:0,name:(0,_messages2.default)("assets.tenants.filter.in_place")},{id:"expired",value:1,name:(0,_messages2.default)("assets.tenants.filter.expired")},{id:"1_month",value:1,name:(0,_messages2.default)("assets.tenants.filter.within_1_month")},{id:"3_month",value:3,name:(0,_messages2.default)("assets.tenants.filter.within_3_month")},{id:"6_month",value:6,name:(0,_messages2.default)("assets.tenants.filter.within_6_month")},{id:"1_year",value:12,name:(0,_messages2.default)("assets.tenants.filter.within_1_year")},{id:"custom",name:(0,_messages2.default)("assets.tenants.filter.custom_dates")}],this.$scope.selectedStatus=this.$scope.statuses[0],this.$timeout(function(){_this2.customDateElement=$("#spaces-filter-daterangepicker"),$(_this2.customDateElement).daterangepicker({minDate:new Date,autoApply:!0,opens:"left"}),$(_this2.customDateElement).on("apply.daterangepicker",function(ev,picker){_this2.customExpirationFrom=picker.startDate,_this2.customExpirationTo=picker.endDate,_this2.$scope.customExpirationFrom=_this2.getParsedDate(picker.startDate),_this2.$scope.customExpirationTo=_this2.getParsedDate(picker.endDate),_this2.gridUpdate(1)})},1),this.statsLabelsDisctionary={in_place:"totalAreaActiveContract","1_month":"totalAreaExpiresInOneMonth","3_month":"totalAreaExpiresInThreeMonth","6_month":"totalAreaExpiresInSixMonth","1_year":"totalAreaExpiresInOneYear"},this.$scope.extraFilters=[],this.$scope.towers=[],this.AssetStatStackingPlan.getObjects({asset:this.assetId},function(result){_this2.$scope.towers=result},function(err){}),this.gridUpdate(1)}},{key:"selectStatus",value:function(e,status){e.preventDefault(),this.$scope.selectedStatus=status,"custom"!==status.id?(this.gridUpdate(1),this.$scope.customExpirationFrom=null,this.$scope.customExpirationTo=null,$(this.customDateElement).data("daterangepicker").setStartDate(new Date),$(this.customDateElement).data("daterangepicker").setEndDate(new Date)):$(this.customDateElement).focus()}},{key:"gridUpdate",value:function(page){var _this3=this;this.$scope.update=!0,this.page=page;var extraFilters=this.$scope.extraFilters,status=void 0,expirationFrom=void 0,expirationTo=void 0,pricePerMeterFrom=extraFilters.find(function(item){return"area_from"===item.id}),pricePerMeterTo=extraFilters.find(function(item){return"area_to"===item.id}),contractStartDate=extraFilters.find(function(item){return"lease_start"===item.id}),contractEndDate=extraFilters.find(function(item){return"lease_end"===item.id}),towers=[],spaceTypes=[],industries=[];switch(extraFilters.forEach(function(item){0===item.id.indexOf("tower_")&&towers.push(item.value.id),0===item.id.indexOf("office_type_")&&spaceTypes.push(item.value.id),0===item.id.indexOf("industry_")&&industries.push(item.value.value)}),this.$scope.selectedStatus.id){case"in_place":case"expired":status=this.$scope.selectedStatus.value;break;case"1_month":case"3_month":case"6_month":case"1_year":expirationFrom=(0,_moment2.default)().format(),expirationTo=(0,_moment2.default)().add(this.$scope.selectedStatus.value,"M").format();break;case"custom":expirationFrom=(0,_moment2.default)(this.customExpirationFrom).format(),expirationTo=(0,_moment2.default)(this.customExpirationTo).format()}this.AssetStatTenants.query({id:this.assetId,st:status,expgte:expirationFrom,explte:expirationTo,ipgte:pricePerMeterFrom&&pricePerMeterFrom.value,iplte:pricePerMeterTo&&pricePerMeterTo.value,stgte:contractStartDate&&(0,_moment2.default)(contractStartDate.value).format(),stlte:contractEndDate&&(0,_moment2.default)(contractEndDate.value).format(),twr:towers,ot:spaceTypes,ind:industries,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20},function(result){_this3.$scope.update=!1,1===page?(_this3.$scope.greedData=result.items,_this3.$scope.disable_infinite_scrolling=!1,_this3.updateStatusLabels(result.stats)):0===result.items.length?_this3.$scope.disable_infinite_scrolling=!0:(_this3.$scope.disable_infinite_scrolling=!1,_this3.$scope.greedData=_this3.$scope.greedData.concat(result.items)),_this3.$timeout(function(){_this3.$scope.load_more=!1},1)},function(error){console.log(error),_this3.$scope.update=!1,_this3.$scope.error=error}),this.$rootScope.$broadcast("right-sidebar:close")}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=1===this.$scope.sortDirection?0:1,this.gridUpdate(1)}},{key:"showExtraFilters",value:function(){var _this4=this,modal=this.$uibModal.open({controller:_tenantsFilterModal2.default,template:_tenantsFilterModalTemplate2.default,resolve:{filter:{data:this.$scope.extraFilters},towers:{data:this.$scope.towers}},size:"lg"});modal.result.then(function(result){_this4.$scope.extraFilters=result,result.length&&_this4.gridUpdate(1)})}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(1)}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"selectSpaceRow",value:function(row){var cl="filtered-spaces-row-selected";$("#filtered-spaces-grid tr").each(function(i,item){item===row[0]?$(item).addClass(cl):$(item).removeClass(cl)})}},{key:"getOfficeType",value:function(type){var officeType=_constants2.default.spaceTypeStorePlain().find(function(item){return item.value===type});return officeType.text}},{key:"getUniqueSpacesTowers",value:function(spaces){var uniqueSpacesTowers=[];return spaces.forEach(function(item){uniqueSpacesTowers.indexOf(item.towerName)===-1&&uniqueSpacesTowers.push(item.towerName)}),uniqueSpacesTowers}},{key:"showSpaceInfo",value:function(space){var _this5=this;this.$rootScope.$broadcast("right-sidebar:open",{type:"loading"}),this.AssetStatTenants.getSpaceInfo({assetId:this.assetId,assetObjectId:space.assetObjectId,floorId:space.floorId,id:space.id},function(result){var contract=result.contract;result.spaceTypeString=_this5.getOfficeType(result.type),result.spaceNumber=result.number,result.spaceArea=result.rentableArea,contract&&null!=contract.industryId&&_constants2.default.clientsIndustryStore().byKey(contract.industryId).done(function(dataItem){result.industryId=contract.industryId,result.industry=dataItem.display}),result.tenantName=contract&&contract.tenantName,result.leaseStartDate=contract&&contract.startsAt,result.leaseEndDate=contract&&contract.endsAt,result.leaseStartDate&&result.leaseEndDate&&(result.expires=100*((0,_moment2.default)(_moment2.default.utc()).diff((0,_moment2.default)(result.leaseStartDate))/(0,_moment2.default)(result.leaseEndDate).diff((0,_moment2.default)(result.leaseStartDate))).toFixed(2)),result.totalCosts=contract&&contract.totalCosts,result.inPlaceRent=contract&&contract.inPlaceRent,result.netRent=contract&&contract.netRent,result.additionalCosts=contract&&contract.additionalCosts,result.otherCosts=contract&&contract.otherCosts,result.vatCosts=contract&&contract.vatCosts,_this5.$rootScope.$broadcast("right-sidebar:open",{type:"spaceDescription",data:result})})}},{key:"showTenantInfo",value:function(event,tenant){if("A"!==event.target.nodeName){var row=$(event.target).parent("tr");if(this.selectedTenant===row[0])return void this.$rootScope.$broadcast("right-sidebar:close");this.selectedTenant=row[0],this.$rootScope.$broadcast("right-sidebar:open",{type:"tenantDescription",data:tenant}),this.selectSpaceRow(row)}}},{key:"updateStatusLabels",value:function(stats){var _this6=this;stats=stats||[],this.$scope.statuses.forEach(function(element){var value=Number(stats[_this6.statsLabelsDisctionary[element.id]]);element.label=_this6.utils.formatBadgeValue(value)})}}]),AssetStatsTenantsController}();exports.default=AssetStatsTenantsController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_moment=__webpack_require__(195),_moment2=_interopRequireDefault(_moment),SpacesFilterController=function(){function SpacesFilterController($scope,$state,filter,towers,$uibModalInstance,uibDateParser,$timeout){_classCallCheck(this,SpacesFilterController),this.$scope=$scope,this.$state=$state,this.filter=filter.data,this.towers=towers.data,this.$uibModalInstance=$uibModalInstance,
this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.init(),this.initForm()}return SpacesFilterController.$inject=["$scope","$state","filter","towers","$uibModalInstance","uibDateParser","$timeout"],_createClass(SpacesFilterController,[{key:"init",value:function(){for(var spaceTypes=_constants2.default.spaceTypeStorePlain(),piecesPerRow=Math.round(spaceTypes.length/3),typesRows=[],i=0,l=3;i<l;i++){typesRows[i]=[];for(var j=0,jl=piecesPerRow;j<jl;j++){var item=spaceTypes.shift();if(!item)break;typesRows[i].push(item)}}this.$scope.typesRows=typesRows}},{key:"initForm",value:function(){var _this=this;this.$scope.fromValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[from]>_this.$scope[to]&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[to]<_this.$scope[from]&&(_this.$scope[from]=_this.$scope[to])};var area_from=this.filter.find(function(item){return"area_from"===item.id});this.$scope.area_from=area_from&&area_from.value;var area_to=this.filter.find(function(item){return"area_to"===item.id});this.$scope.area_to=area_to&&area_to.value,this.$scope.towers={available:this.towers,selected:[]},this.$scope.industry={available:_constants2.default.clientsIndustryPlain(),selected:[]},this.$scope.office_types=[],this.$scope.office_types_ids=[],this.$scope.officeTypeToggleSelection=function(type,valueString){var id=_this.$scope.office_types.findIndex(function(item){return item.id===type});id>-1?(_this.$scope.office_types.splice(id,1),_this.$scope.office_types_ids.splice(id,1)):(_this.$scope.office_types.push({id:type,name:valueString}),_this.$scope.office_types_ids.push(type))},this.leaseDateStart=null,this.leaseDateEnd=null,this.filter.forEach(function(item){0===item.id.indexOf("tower_")?_this.$scope.towers.selected.push(item.value):0===item.id.indexOf("industry_")?_this.$scope.industry.selected.push(item.value):0===item.id.indexOf("office_type_")?(_this.$scope.office_types.push(item.value),_this.$scope.office_types_ids.push(item.value.id)):0===item.id.indexOf("lease_start")?_this.leaseDateStart=item.value:0===item.id.indexOf("lease_end")&&(_this.leaseDateEnd=item.value)}),this.leaseDateStart&&this.leaseDateEnd&&(this.$scope.lease_date=this.getParsedDate(this.leaseDateStart)+" - "+this.getParsedDate(this.leaseDateEnd)),this.$timeout(function(){var _ranges,pickerField=$("#tenants-filter-daterangepicker");pickerField.daterangepicker({startDate:_this.leaseDateStart||new Date,endDate:_this.leaseDateEnd||new Date,locale:{cancelLabel:(0,_messages2.default)("assets.tenants.filter.datepicker.clear")},autoUpdateInput:!1,ranges:(_ranges={},_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.this_month"),[(0,_moment2.default)().startOf("month"),(0,_moment2.default)().endOf("month")]),_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.last_month"),[(0,_moment2.default)().subtract(1,"month").startOf("month"),(0,_moment2.default)().subtract(1,"month").endOf("month")]),_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.this_year"),[(0,_moment2.default)().startOf("year"),(0,_moment2.default)().endOf("year")]),_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.last_year"),[(0,_moment2.default)().subtract(1,"year").startOf("year"),(0,_moment2.default)().subtract(1,"year").endOf("year")]),_ranges)}),pickerField.on("apply.daterangepicker",function(ev,picker){_this.leaseDateStart=picker.startDate,_this.leaseDateEnd=picker.endDate,pickerField.val(_this.getParsedDate(picker.startDate)+" - "+_this.getParsedDate(picker.endDate))}),pickerField.on("cancel.daterangepicker",function(ev,picker){pickerField.val("");var d=new Date;_this.leaseDateStart=null,_this.leaseDateEnd=null,pickerField.data("daterangepicker").setStartDate(d),pickerField.data("daterangepicker").setEndDate(d)})},10),this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.save=function(){var result=[];_this.$scope.area_from&&result.push({id:"area_from",name:(0,_messages2.default)("assets.tenants.filter.rentable_area_from"),value:_this.$scope.area_from,text:_this.$scope.area_from+" "+(0,_messages2.default)("square.meter")}),_this.$scope.area_to&&result.push({id:"area_to",name:(0,_messages2.default)("assets.tenants.filter.rentable_area_to"),value:_this.$scope.area_to,text:_this.$scope.area_to+" "+(0,_messages2.default)("square.meter")}),_this.$scope.towers.selected.length&&_this.$scope.towers.selected.forEach(function(item){result.push({id:"tower_"+item.name,value:item,text:item.name})}),_this.$scope.industry.selected.length&&_this.$scope.industry.selected.forEach(function(item){result.push({id:"industry_"+item.value,value:item,text:item.text})}),_this.$scope.office_types.length&&_this.$scope.office_types.forEach(function(item){result.push({id:"office_type_"+item.id,value:item,text:item.name})}),_this.leaseDateStart&&result.push({id:"lease_start",name:(0,_messages2.default)("assets.tenants.filter.lease_start_date"),value:_this.leaseDateStart,text:_this.getParsedDate(_this.leaseDateStart)}),_this.leaseDateEnd&&result.push({id:"lease_end",name:(0,_messages2.default)("assets.tenants.filter.lease_end_date"),value:_this.leaseDateEnd,text:_this.getParsedDate(_this.leaseDateEnd)}),_this.$uibModalInstance.close(result)}}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}}]),SpacesFilterController}();exports.default=SpacesFilterController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-body">\r\n        <form role="form" class="o-hidden">\r\n            <div class="col-md-6 m-b-xl">\r\n                <p>{{Messages(\'assets.tenants.filter.towers\')}}</p>\r\n                <ui-select multiple ng-model="towers.selected" close-on-select="false" theme="bootstrap">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.tenants.filter.towers.placeholder\')}}">\r\n                        {{$item.name}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in towers.available | filter: $select.search">\r\n                        {{item.name}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="col-md-6 m-b-xl">\r\n                <p>{{Messages(\'assets.tenants.filter.industry\')}}</p>\r\n                <ui-select multiple ng-model="industry.selected" close-on-select="false" theme="bootstrap">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.tenants.filter.industry.placeholder\')}}">\r\n                        {{$item.text}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in industry.available | filter: $select.search">\r\n                        {{item.text}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="clear">\r\n                <div class="col-md-6">\r\n                    <div class="m-b-xl">\r\n                        <p>{{Messages(\'assets.tenants.filter.lease_date\')}}</p>\r\n                        <div class=\'input-group date\' id=\'datetimepicker1\'>\r\n                            <input type=\'text\' class="input-sm form-control" ng-model="lease_date" id="tenants-filter-daterangepicker">\r\n                            <span class="input-group-addon">\r\n                                <span class="glyphicon glyphicon-calendar"></span>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="m-b-xl">\r\n                        <p>{{Messages(\'assets.tenants.filter.rentable_area\')}} [<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                        <div class="input-group space-filter-range-inputs">\r\n                            <input\r\n                                type="number"\r\n                                class="input-sm form-control"\r\n                                id="areaFrom"\r\n                                ng-model="area_from"\r\n                                ng-blur="fromValueChanged(\'area_from\', \'area_to\')"\r\n                                placeholder="{{Messages(\'assets.tenants.filter.from\')}}"\r\n                            >\r\n                            <span class="input-group-addon">-</span>\r\n                            <input\r\n                                type="number"\r\n                                class="input-sm form-control"\r\n                                ng-model="area_to"\r\n                                ng-blur="toValueChanged(\'area_from\', \'area_to\')"\r\n                                placeholder="{{Messages(\'assets.tenants.filter.to\')}}"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-md-4 m-b-xl" ng-repeat="row in typesRows">\r\n                <p ng-if="$index === 0">{{Messages(\'assets.tenants.filter.type\')}}</p>\r\n                <p ng-if="$index !== 0">&nbsp;</p>\r\n                <div class="checkbox green" ng-repeat="item in row">\r\n                    <label>\r\n                        <input\r\n                            type="checkbox"\r\n                            class="i-checks"\r\n                            name="office_type"\r\n                            ng-checked="office_types_ids.indexOf(item.value) !== -1"\r\n                            ng-click="officeTypeToggleSelection(item.value, item.text)"\r\n                        >\r\n                        <span class="icheckbox_square"></span>\r\n                        <span class="label">{{item.text}}</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()">\r\n            {{Messages(\'assets.tenants.filter.apply\')}}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{Messages(\'assets.tenants.filter.cancel\')}}\r\n        </button>\r\n       \r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStatStackingPlan=function(){function AssetStatStackingPlan(ConfigurationService,$resource){return _classCallCheck(this,AssetStatStackingPlan),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:asset/objects",{asset:"@asset",object:"@object"},{getObjects:{method:"GET",isArray:!0},getObjectData:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:asset/objects/:object/plan"}})}return AssetStatStackingPlan.$inject=["ConfigurationService","$resource"],_createClass(AssetStatStackingPlan,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStatStackingPlan.instance=new AssetStatStackingPlan(ConfigurationService,$resource),AssetStatStackingPlan.instance}]}]),AssetStatStackingPlan}();exports.default=AssetStatStackingPlan},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(195),_moment2=_interopRequireDefault(_moment),AssetStatStackingPlanController=function(){function AssetStatStackingPlanController($scope,$timeout,asset,assetId,AssetStatStackingPlan){_classCallCheck(this,AssetStatStackingPlanController),this.$scope=$scope,this.viewHeight=0,this.assetId=assetId,this.asset=asset,this.AssetStatStackingPlan=AssetStatStackingPlan,this.$timeout=$timeout,this.Messages=_messages2.default,this.onMouseDownOnScrollDriverEventHandler=this.onMouseDownOnScrollDriverEventHandler.bind(this),this.onContentScrollEventHandler=this.onContentScrollEventHandler.bind(this),this.onMouseMoveOnDocumentEventHandler=this.onMouseMoveOnDocumentEventHandler.bind(this),this.onMouseUpOnDocumentEventHandler=this.onMouseUpOnDocumentEventHandler.bind(this),this.breadcrumbStates=[{path:"asset-stats",title:this.Messages("assets.title")},{title:this.Messages("stacking-plan.title")}],this.init()}return AssetStatStackingPlanController.$inject=["$scope","$timeout","asset","assetId","AssetStatStackingPlan"],_createClass(AssetStatStackingPlanController,[{key:"init",value:function(){var _this=this;this.$scope.isTabsLoadingState=!0,this.$scope.noStackingPlan=!1,this.AssetStatStackingPlan.getObjects({asset:this.assetId},function(result){_this.$scope.tabs=result,_this.$scope.isTabsLoadingState=!1,result.length?(_this.$scope.isLoadingState=!0,_this.getFloorData(result[0])):_this.$scope.noStackingPlan=!0},function(err){_this.$scope.isTabsLoadingState=!1,_this.$scope.noStackingPlan=!0,_this.$scope.noStackingPlanMessage=err.data.message}),this.$scope.$on("$destroy",function(){_this.clearScrollHandlers()}),this.legendYears=this.generateYearsList()}},{key:"setSizes",value:function(){this.scrollDriverBlockerEl=$("#plan-scroll-blocker"),this.scrollDriverWrap=$("#plan-scroll-wrap"),this.contentWrap=$("#plan-wrap"),this.scrollDriverBlockerHeight=this.scrollDriverBlockerEl.height(),this.scrollDriverHeight=$("#plan-scroll-cont").outerHeight(),this.contentHeight=$("#plan-cont").height();var wrapperOffset=$("#plan-page-wrap").offset(),height=$(window).height()-wrapperOffset.top-260,scrollDriverTargetHeight=void 0;this.viewHeight=height,this.contentWrap.height(height),scrollDriverTargetHeight=this.scrollDriverHeight>height?height:this.scrollDriverHeight<this.scrollDriverBlockerHeight?this.scrollDriverBlockerHeight:this.scrollDriverHeight,this.scrollDriverWrap.height(scrollDriverTargetHeight),this.scrollDriverWrapHeight=scrollDriverTargetHeight,this.initScrollHandlers()}},{key:"initScrollHandlers",value:function(){var _this2=this;this.scrollDriverWrap.on("mousewheel",this.onMouseWheelOnScrollDriverEventHandler),this.contentWrap.hover(function(){_this2.contentWrap.on("scroll",_this2.onContentScrollEventHandler)},function(){_this2.contentWrap.off("scroll",_this2.onContentScrollEventHandler)}),this.blockerInitialTop=null,this.blockerCurPosition=null,this.scrollDriverBlockerEl.on("mousedown",this.onMouseDownOnScrollDriverEventHandler),$(document.body).on("mousemove",this.onMouseMoveOnDocumentEventHandler),$(document.body).on("mouseup",this.onMouseUpOnDocumentEventHandler)}},{key:"clearScrollHandlers",value:function(){this.scrollDriverWrap&&(this.scrollDriverWrap.off("mousewheel",this.onMouseWheelOnScrollDriverEventHandler),this.scrollDriverBlockerEl.off("mousedown",this.onMouseDownOnScrollDriverEventHandler),$(document.body).off("mousemove",this.onMouseMoveOnDocumentEventHandler),$(document.body).off("mouseup",this.onMouseUpOnDocumentEventHandler))}},{key:"onMouseWheelOnScrollDriverEventHandler",value:function(e){e.originalEvent.preventDefault()}},{key:"onMouseDownOnScrollDriverEventHandler",value:function(e){e=e.originalEvent,this.blockerInitialTop=e.pageY,this.blockerCurPosition=parseInt(this.scrollDriverBlockerEl.css("top"),10)}},{key:"onContentScrollEventHandler",value:function(e){var curScroll=e.target.scrollTop,scrollInPercents=curScroll/((this.contentHeight-this.viewHeight)/100),targetPositionForBlocker=void 0;scrollInPercents>100&&(scrollInPercents=100),this.scrollDriverHeight>this.viewHeight&&(this.scrollDriverWrap[0].scrollTop=(this.scrollDriverHeight-this.viewHeight)/100*scrollInPercents),targetPositionForBlocker=(this.scrollDriverWrapHeight-this.scrollDriverBlockerHeight)/100*scrollInPercents,this.scrollDriverBlockerEl.css({top:targetPositionForBlocker+"px"})}},{key:"onMouseMoveOnDocumentEventHandler",value:function(e){if(null!==this.blockerInitialTop){e=e.originalEvent;var position=this.blockerCurPosition-(this.blockerInitialTop-e.pageY);position<0?position=0:position+this.scrollDriverBlockerHeight>this.scrollDriverWrapHeight&&(position=this.scrollDriverWrapHeight-this.scrollDriverBlockerHeight),this.scrollDriverBlockerEl.css({top:position+"px"});var positionInPercents=position/((this.scrollDriverWrapHeight-this.scrollDriverBlockerHeight)/100);this.contentWrap[0].scrollTop=(this.contentHeight-this.viewHeight)/100*positionInPercents,this.scrollDriverWrap[0].scrollTop=(this.scrollDriverHeight-this.viewHeight)/100*positionInPercents}}},{key:"onMouseUpOnDocumentEventHandler",value:function(){this.blockerInitialTop=null}},{key:"showSpaceDescription",value:function(data){var _this3=this,self=this;self.$scope.description=data,self.$scope.details=null,self.$timeout(function(){self.$scope.details=data,data.leaseStartDate&&data.leaseEndDate?self.$scope.details.expires=100*((0,_moment2.default)(_moment2.default.utc()).diff((0,_moment2.default)(data.leaseStartDate))/(0,_moment2.default)(data.leaseEndDate).diff((0,_moment2.default)(data.leaseStartDate))).toFixed(2):self.$scope.details.expires=null,_constants2.default.spaceTypeStore().byKey(_this3.$scope.details.spaceType).done(function(dataItem){self.$scope.details.spaceTypeString=dataItem.display})},51)}},{key:"hideSpaceDescription",value:function(){var self=this;self.$scope.description=null,self.$scope.details=null}},{key:"tabSelected",value:function(e,data){e.preventDefault(),this.$scope.description=null,this.$scope.isLoadingState=!0,this.clearScrollHandlers(),this.getFloorData(data)}},{key:"getMaxOfFloorArea",value:function(floors){var maxFloorArea=0;return floors.forEach(function(floor){floor.totalFloorArea>maxFloorArea&&(maxFloorArea=floor.totalFloorArea)}),maxFloorArea}},{key:"getFloorData",value:function(object){var _this4=this;this.AssetStatStackingPlan.getObjectData({asset:this.assetId,object:object.id},function(result){var maxFloorArea=_this4.getMaxOfFloorArea(result.floors);result.floors.forEach(function(floor){var floorWidth=void 0;floorWidth="actual"===_this4.$scope.view?floor.totalFloorArea/(maxFloorArea/100)+"%":"100%",floor.width=floorWidth;for(var _loop=function(i,l){var space=floor.spaces[i],spaceInPercents=void 0;null!=space.industryId&&_constants2.default.clientsIndustryStore().byKey(space.industryId).done(function(dataItem){space.industry=dataItem.display}),space.leaseEndYearIndex=_this4.getLeaseEndYearIndex(space.leaseEndDate),spaceInPercents=space.spaceArea/(floor.totalFloorArea/100),space.weight=spaceInPercents},i=0,l=floor.spaces.length;i<l;i++)_loop(i,l);floor.spaces.sort(function(a,b){return!a.tenantId&&b.tenantId?1:a.tenantId&&!b.tenantId?-1:0})}),result.floors.sort(function(a,b){return a.floorOrder>b.floorOrder?-1:a.floorOrder<b.floorOrder?1:0}),_this4.$scope.floors=result.floors,_this4.$scope.isLoadingState=!1,_this4.$timeout(function(){_this4.setSizes()},201)})}},{key:"viewChanged",value:function(e){var _this5=this;e.originalEvent.preventDefault();var target=e.originalEvent.target,activeCl="active",viewType=target.getAttribute("data-type");$(".plan-tabs .view-tab").each(function(key,item){var type=item.getAttribute("data-type");type!==viewType?$(item).removeClass(activeCl):$(item).addClass(activeCl)});var maxFloorArea=this.getMaxOfFloorArea(this.$scope.floors);this.$scope.floors.forEach(function(floor){_this5.$scope.view=viewType;var floorWidth=void 0;floorWidth="actual"===viewType?floor.totalFloorArea/(maxFloorArea/100)+"%":"100%",floor.width=floorWidth}),this.clearScrollHandlers(),this.$timeout(function(){_this5.setSizes()},350)}},{key:"generateYearsList",value:function(){for(var currentYear=(new Date).getFullYear(),result=[],i=0;i<5;i++)result.push({title:currentYear+i,index:i});return result}},{key:"getLeaseEndYearIndex",value:function(leaseEndDate){if(null==leaseEndDate)return null;var date=new Date(leaseEndDate),leaseEndYear=date.getFullYear(),currentYear=(new Date).getFullYear(),result=leaseEndYear-currentYear;return result>4&&(result=4),result}}]),AssetStatStackingPlanController}();exports.default=AssetStatStackingPlanController}).call(exports,__webpack_require__(162))},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStats=function(){function AssetStats(ConfigurationService,$resource){return _classCallCheck(this,AssetStats),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets",isArray:!0}})}return AssetStats.$inject=["ConfigurationService","$resource"],_createClass(AssetStats,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStats.instance=new AssetStats(ConfigurationService,$resource),AssetStats.instance}]}]),AssetStats}();exports.default=AssetStats},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStatSpaces=function(){function AssetStatSpaces(ConfigurationService,$resource){return _classCallCheck(this,AssetStatSpaces),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id/spaces",{id:"@id"},{query:{method:"GET",isArray:!0},search:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/spaces/search"}})}return AssetStatSpaces.$inject=["ConfigurationService","$resource"],_createClass(AssetStatSpaces,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStatSpaces.instance=new AssetStatSpaces(ConfigurationService,$resource),AssetStatSpaces.instance}]}]),AssetStatSpaces}();exports.default=AssetStatSpaces},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStatTenants=function(){function AssetStatTenants(ConfigurationService,$resource){return _classCallCheck(this,AssetStatTenants),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id/contracts/search",{id:"@id"},{query:{method:"GET"},getSpaceInfo:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:floorId/spaces/:id/full"}})}return AssetStatTenants.$inject=["ConfigurationService","$resource"],_createClass(AssetStatTenants,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStatTenants.instance=new AssetStatTenants(ConfigurationService,$resource),AssetStatTenants.instance}]}]),AssetStatTenants}();exports.default=AssetStatTenants},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _client=__webpack_require__(810),_client2=_interopRequireDefault(_client),_clients=__webpack_require__(811),_clients2=_interopRequireDefault(_clients);__webpack_require__(324);var _client3=__webpack_require__(812),_client4=_interopRequireDefault(_client3),_representatives=__webpack_require__(813),_representatives2=_interopRequireDefault(_representatives),_representatives3=__webpack_require__(816),_representatives4=_interopRequireDefault(_representatives3),_module=angular.module("tower360.clients",["dx"]).controller("ClientController",_client2.default).controller("ClientsController",_clients2.default).factory("Client",_client4.default.activate).component("representatives",_representatives2.default).factory("Representative",_representatives4.default.activate);exports.default=_module},function(module,exports,__webpack_require__){(function(jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_clientEditModal=__webpack_require__(705),_clientEditModal2=_interopRequireDefault(_clientEditModal),_clientEditModalTemplate=__webpack_require__(706),_clientEditModalTemplate2=_interopRequireDefault(_clientEditModalTemplate),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),ClientController=function(){function ClientController($scope,$state,Client,clientObject,NotificationService,$filter,$uibModal,NgMap,UtilsService){_classCallCheck(this,ClientController),this.$scope=$scope,this.$state=$state,this.Client=Client,this.clientObject=clientObject,this.notificationService=NotificationService,this.$filter=$filter,this.$uibModal=$uibModal,this.NgMap=NgMap,this.utils=UtilsService,this.init()}return ClientController.$inject=["$scope","$state","Client","clientObject","NotificationService","$filter","$uibModal","NgMap","UtilsService"],_createClass(ClientController,[{key:"init",value:function(){var _this=this,self=this;this.clientObject.address=this.utils.generateAddress(this.clientObject),null!=this.clientObject.industryId&&_constants2.default.clientsIndustryStore().byKey(this.clientObject.industryId).done(function(dataItem){self.clientObject.industry=dataItem.display}),this.NgMap.getMap().then(function(map){_this.map=map,_this.map.marker||(_this.map.marker=new google.maps.Marker),_this.map.marker.setMap(null);var stylez=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],mapType=new google.maps.StyledMapType(stylez,{name:"Grayscale"});map.mapTypes.set("tehgrayz",mapType),map.setMapTypeId("tehgrayz"),_this.setMapCoordinates()})}},{key:"editClient",value:function(){var _this2=this,modal=this.$uibModal.open({controller:_clientEditModal2.default,template:_clientEditModalTemplate2.default,resolve:{clientId:this.clientObject.id}});modal.result.then(function(result){var newAddress=_this2.utils.generateAddress(result),newCountry=result.countryId,needToUpdateMap=void 0;newAddress===_this2.clientObject.address&&newCountry===_this2.clientObject.countryId||(needToUpdateMap=!0),jQuery.extend(_this2.clientObject,result),_this2.clientObject.address=newAddress,needToUpdateMap&&_this2.setMapCoordinates()})}},{key:"setMapCoordinates",value:function(){var _this3=this;if(this.map.marker.setMap(null),this.clientObject.address){var geocoder=new google.maps.Geocoder,countries=_constants2.default.countryStorePlain(),country=this.$filter("filter")(countries,{value:this.clientObject.countryId});country=country&&country[0]?country[0].text+", ":"",geocoder.geocode({address:country+this.clientObject.address},function(result,status){"OK"===status&&(_this3.map.setCenter(result[0].geometry.location),_this3.map.marker.setPosition(result[0].geometry.location),_this3.map.marker.setMap(_this3.map))})}}}]),ClientController}();exports.default=ClientController}).call(exports,__webpack_require__(162))},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),_clientEditModal=__webpack_require__(705),_clientEditModal2=_interopRequireDefault(_clientEditModal),_clientEditModalTemplate=__webpack_require__(706),_clientEditModalTemplate2=_interopRequireDefault(_clientEditModalTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),ClientsController=function(){
function ClientsController($scope,$state,Client,StoreAdapter,currentUser,NotificationService,DialogService,sweetAlert,$uibModal,UtilsService){_classCallCheck(this,ClientsController),this.$scope=$scope,this.$state=$state,this.Client=Client,this.storeAdapter=StoreAdapter,this.currentUser=currentUser,this.notificationService=NotificationService,this.dialogService=DialogService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.utils=UtilsService,this.initGrid()}return ClientsController.$inject=["$scope","$state","Client","StoreAdapter","currentUser","NotificationService","DialogService","sweetAlert","$uibModal","UtilsService"],_createClass(ClientsController,[{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.stateStore=_constants2.default.clientsStateStore(),self.countryStore=_constants2.default.countryStore(),self.clients=[],self.Client.query({},function(result){self.clients=result,self.clients.forEach(function(item){item.address=self.utils.generateAddress(item)}),self.store=new _array_store2.default({data:self.clients,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,columns:[{dataField:"id",visible:!1},{dataField:"name",caption:(0,_messages2.default)("clients.name"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{href:"/clients/"+cellInfo.data.id,"ui-sref":"client"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"address",caption:(0,_messages2.default)("clients.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"countryId",caption:(0,_messages2.default)("clients.country"),lookup:{dataSource:self.countryStore,displayExpr:"display",valueExpr:"value"}},{dataField:"state",caption:(0,_messages2.default)("clients.state"),lookup:{dataSource:self.stateStore,displayExpr:"display",valueExpr:"value"},width:100},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("clients.edit")+'"></div>',onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_clientEditModal2.default,template:_clientEditModalTemplate2.default,resolve:{clientId:options.data.id}});modal.result.then(function(result){result.address=self.utils.generateAddress(result),jQuery.extend(options.data,result)})}}).appendTo(container)}}],selection:{mode:"single"},onSelectionChanged:function(selectedItems){self.selectedClient=selectedItems.selectedRowsData[0]}})})}}]),ClientsController}();exports.default=ClientsController}).call(exports,__webpack_require__(162),__webpack_require__(162))},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Client=function(){function Client(ConfigurationService,$resource){return _classCallCheck(this,Client),$resource(ConfigurationService.getApiBaseUrl()+"api/clients/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients",isArray:!0},update:{method:"PUT"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/clients"},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients/:id/full"}})}return Client.$inject=["ConfigurationService","$resource"],_createClass(Client,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Client.instance=new Client(ConfigurationService,$resource),Client.instance}]}]),Client}();exports.default=Client},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _representatives=__webpack_require__(814),_representatives2=_interopRequireDefault(_representatives),_representativesTemplate=__webpack_require__(815),_representativesTemplate2=_interopRequireDefault(_representativesTemplate),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),RepresentativesComponent={bindings:{client:"="},controller:_representatives2.default,template:_representativesTemplate2.default,Messages:_messages2.default};exports.default=RepresentativesComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(698),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(411),_array_store2=_interopRequireDefault(_array_store),RepresentativesController=function(){function RepresentativesController($scope,NotificationService,UtilsService,Representative,DialogService){_classCallCheck(this,RepresentativesController),this.client=this.client,this.$scope=$scope,this.NotificationService=NotificationService,this.utils=UtilsService,this.messages=_messages2.default,this.dialogService=DialogService,this.Representative=Representative,this.init(),this.initGrid()}return RepresentativesController.$inject=["$scope","NotificationService","UtilsService","Representative","DialogService"],_createClass(RepresentativesController,[{key:"init",value:function(){var self=this;self.client.representatives.forEach(function(rep){rep.uniqueId||(rep.uniqueId=self.utils.generateGuid())})}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.store=new _array_store2.default({data:self.client.representatives,key:"uniqueId",errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,onInitialized:function(e){self.gridInstance=e.component},filterRow:{visible:!1},groupPanel:{visible:!1},editing:{allowUpdate:!0,allowDelete:!0},columns:[{dataField:"name",caption:(0,_messages2.default)("clients.representatives.name"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",sortOrder:"asc",alignment:"left",validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255}]},{dataField:"email",caption:(0,_messages2.default)("clients.representatives.email"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",alignment:"left",validationRules:[{type:"email"}]},{dataField:"phone",caption:(0,_messages2.default)("clients.representatives.phone"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",validationRules:[{type:"pattern",message:(0,_messages2.default)("validation.phone"),pattern:_constants2.default.phonePattern()}]},{dataField:"position",caption:(0,_messages2.default)("clients.representatives.position"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",alignment:"right",validationRules:[{type:"stringLength",max:100}]},{dataField:"id",caption:(0,_messages2.default)("actions"),width:100,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){self.gridInstance.editRow(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.gridInstance.deleteRow(options.rowIndex)}}).appendTo(container)},editCellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-floppy-o"></div>',onClick:function(e){self.gridInstance.saveEditData(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.gridInstance.cancelEditData(options.rowIndex)}}).appendTo(container)}}],onRowInserting:function(e){self.create(e)},onRowUpdating:function(e){self.update(e)},onRowRemoving:function(e){self.delete(e)}})}},{key:"addRow",value:function(){this.gridInstance.addRow()}},{key:"create",value:function(e){var self=this,d=$.Deferred();self.Representative.create({clientId:self.client.id},e.data,function(result){self.NotificationService.success((0,_messages2.default)("clients.representatives.message.created")),e.data.id=result.id,d.resolve()},function(error){self.NotificationService.error(error.data),d.resolve(!0)}),e.cancel=d.promise()}},{key:"update",value:function(e){var data=e.oldData;null!=e.newData.name&&data.name==e.newData.name,null!=e.newData.phone&&data.phone==e.newData.phone,null!=e.newData.position&&data.position==e.newData.position,null!=e.newData.email&&data.email==e.newData.email;var self=this,d=$.Deferred();self.Representative.update({clientId:self.client.id,id:data.id},data,function(result){self.NotificationService.success((0,_messages2.default)("clients.representatives.message.updated")),d.resolve()},function(error){self.NotificationService.error(error.data),d.resolve(!0)}),e.cancel=d.promise()}},{key:"delete",value:function(e){var self=this,d=$.Deferred();self.Representative.delete({clientId:self.client.id,id:e.data.id},function(result){self.NotificationService.success((0,_messages2.default)("clients.representatives.message.deleted")),d.resolve()},function(error){self.NotificationService.error(error.data),d.resolve(!0)}),e.cancel=d.promise()}}]),RepresentativesController}();exports.default=RepresentativesController}).call(exports,__webpack_require__(162))},function(module,exports){module.exports='<form name="representativesForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.addRow()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'clients.representatives.new\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="repsGridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>\r\n'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Representative=function(){function Representative(ConfigurationService,$resource){return _classCallCheck(this,Representative),$resource(ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives/:id",{id:"@id",clientId:"@clientId"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives",isArray:!0},update:{method:"PUT"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives"},delete:{method:"DELETE"}})}return Representative.$inject=["ConfigurationService","$resource"],_createClass(Representative,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Representative.instance=new Representative(ConfigurationService,$resource),Representative.instance}]}]),Representative}();exports.default=Representative},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _registration=__webpack_require__(818),_registration2=_interopRequireDefault(_registration),_registration3=__webpack_require__(819),_registration4=_interopRequireDefault(_registration3),_module=angular.module("tower360.registration",[]).controller("RegistrationController",_registration2.default).factory("Registration",_registration4.default.activate);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(475),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(670),_messages2=_interopRequireDefault(_messages),RegistrationController=function(){function RegistrationController($scope,$state,$stateParams,Registration,registrationObject,NotificationService,SecurityService){_classCallCheck(this,RegistrationController),this.$scope=$scope,this.$state=$state,this.Registration=Registration,this.registrationObject=registrationObject,this.notificationService=NotificationService,this.$stateParams=$stateParams,this.securityService=SecurityService,this.init(),this.initForm()}return RegistrationController.$inject=["$scope","$state","$stateParams","Registration","registrationObject","NotificationService","SecurityService"],_createClass(RegistrationController,[{key:"init",value:function(){var self=this;self.validate=function(){var validateGroup=_validation_engine2.default.getGroupConfig("settings"),result=validateGroup.validate();return result.isValid},self.comprasionTarget=function(){if(self.registrationObject.password)return self.registrationObject.password}}},{key:"initForm",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.nameSettings={bindingOptions:{value:"$ctrl.registrationObject.email"},disabled:!0},self.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:"settings"},self.passwordSettings={bindingOptions:{value:"$ctrl.registrationObject.password"},mode:"password"},self.passwordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",min:6,message:(0,_messages2.default)("validation.shortPassword")}],validationGroup:"settings"},self.confirmPasswordSettings={bindingOptions:{value:"$ctrl.registrationObject.confirmPassword"},mode:"password"},self.confirmPasswordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"compare",comparisonTarget:self.comprasionTarget,message:(0,_messages2.default)("validation.passwordsNotMatch")}],validationGroup:"settings"},self.displayNameSettings={bindingOptions:{value:"$ctrl.registrationObject.displayName"}},self.displayNameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:"settings"},self.saveSettingsBtnConfig={text:(0,_messages2.default)("registration.submit"),type:"default",onClick:self.submit,template:"saveButtonWithLoadIndicator",bindingOptions:{disabled:"$ctrl.isSaveOperationDisabled || $ctrl.saveInProgress"}},self.cancelSettingsBtnConfig={text:(0,_messages2.default)("registration.cancel"),type:"normal",onClick:function(){self.$state.go("home")}},self.$scope.$watch("$ctrl.registrationObject",function(newValue,oldValue){self.isSaveOperationDisabled=!self.validate()},!0)}},{key:"submit",value:function(){var self=this.$ctrl,result=_validation_engine2.default.getGroupConfig("settings").validate();result.isValid&&(self.saveInProgress=!0,self.Registration.confirm({token:self.$stateParams.token},self.registrationObject,function(result){self.notificationService.success((0,_messages2.default)("clients.message.created")),self.saveInProgress=!1,self.signIn(self.registrationObject.email,self.registrationObject.password)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1}))}},{key:"signIn",value:function(login,password){var _this=this;this.$ctrl;this.securityService.signIn(login,password).then(function(response){_this.securityService.reset(),_this.$state.go("home")},function(err){_this.error=err.data.error_description})}}]),RegistrationController}();exports.default=RegistrationController},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Registration=function(){function Registration(ConfigurationService,$resource){return _classCallCheck(this,Registration),$resource(ConfigurationService.getApiBaseUrl()+"api/account/registration/:token",{token:"@token"},{query:{method:"GET"},confirm:{method:"PUT"}})}return Registration.$inject=["ConfigurationService","$resource"],_createClass(Registration,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Registration.instance=new Registration(ConfigurationService,$resource),Registration.instance}]}]),Registration}();exports.default=Registration}]);
//# sourceMappingURL=app.ea0d6faa97e8f86daddb.js.map