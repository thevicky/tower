webpackJsonp([0],[function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}__webpack_require__(127),__webpack_require__(174),__webpack_require__(178),__webpack_require__(179),__webpack_require__(181);var _angular=__webpack_require__(194),_angular2=_interopRequireDefault(_angular),_angularSanitize=__webpack_require__(196);_interopRequireDefault(_angularSanitize);__webpack_require__(198),__webpack_require__(200);var _angularUiRouter=__webpack_require__(202),_angularUiRouter2=_interopRequireDefault(_angularUiRouter),_index=__webpack_require__(203),_index2=_interopRequireDefault(_index),_angularActivityMonitor=__webpack_require__(205);_interopRequireDefault(_angularActivityMonitor);__webpack_require__(206),__webpack_require__(208),__webpack_require__(209),__webpack_require__(211),__webpack_require__(212),__webpack_require__(330),__webpack_require__(331),__webpack_require__(332),__webpack_require__(341),__webpack_require__(343),__webpack_require__(344),__webpack_require__(346),__webpack_require__(347),__webpack_require__(348);var _ngInfiniteScroll=__webpack_require__(349),_ngInfiniteScroll2=_interopRequireDefault(_ngInfiniteScroll);__webpack_require__(350),__webpack_require__(394),__webpack_require__(501),__webpack_require__(546);var _app=__webpack_require__(719),_app2=_interopRequireDefault(_app),_app3=__webpack_require__(760),_app4=_interopRequireDefault(_app3),_app5=__webpack_require__(761),_app6=_interopRequireDefault(_app5),_app7=__webpack_require__(762),_app8=_interopRequireDefault(_app7),_services=__webpack_require__(763),_services2=_interopRequireDefault(_services),_components=__webpack_require__(785),_components2=_interopRequireDefault(_components);__webpack_require__(935),__webpack_require__(936);var _paneltools=__webpack_require__(937),_paneltools2=_interopRequireDefault(_paneltools),_filterpaneltools=__webpack_require__(939),_filterpaneltools2=_interopRequireDefault(_filterpaneltools),_animate=__webpack_require__(941),_animate2=_interopRequireDefault(_animate),_sweetAlert=__webpack_require__(942),_sweetAlert2=_interopRequireDefault(_sweetAlert),_home=__webpack_require__(943),_home2=_interopRequireDefault(_home),_login=__webpack_require__(945),_login2=_interopRequireDefault(_login),_brokers=__webpack_require__(950),_brokers2=_interopRequireDefault(_brokers),_users=__webpack_require__(955),_users2=_interopRequireDefault(_users),_assets=__webpack_require__(966),_assets2=_interopRequireDefault(_assets),_assetStats=__webpack_require__(1002),_assetStats2=_interopRequireDefault(_assetStats),_clients=__webpack_require__(1018),_clients2=_interopRequireDefault(_clients),_registration=__webpack_require__(1021),_registration2=_interopRequireDefault(_registration),_resources=__webpack_require__(1024),_resources2=_interopRequireDefault(_resources),_markets=__webpack_require__(1027),_markets2=_interopRequireDefault(_markets),_dashboard=__webpack_require__(1030),_dashboard2=_interopRequireDefault(_dashboard),_spaces=__webpack_require__(1034),_spaces2=_interopRequireDefault(_spaces),_tenants=__webpack_require__(1042),_tenants2=_interopRequireDefault(_tenants),_deals=__webpack_require__(1044),_deals2=_interopRequireDefault(_deals),_landlords=__webpack_require__(1092),_landlords2=_interopRequireDefault(_landlords);__webpack_require__(1094);var _marketplace=__webpack_require__(1095),_marketplace2=_interopRequireDefault(_marketplace),_compinsights=__webpack_require__(1123),_compinsights2=_interopRequireDefault(_compinsights),app=_angular2.default.module("tower360",[_angularUiRouter2.default,"dx","LocalStorageModule",_index2.default,"ActivityMonitor","ngAnimate","ngOnload","xeditable","ui.bootstrap","ui.scroll","ngMap","angularMoment","angular-ladda","ui.select","ngSanitize",_ngInfiniteScroll2.default,"chart.js",_services2.default.name,_components2.default.name,_resources2.default.name,"tower360.utils","tower360.directives",_home2.default.name,_login2.default.name,_brokers2.default.name,_users2.default.name,_assets2.default.name,_assetStats2.default.name,_clients2.default.name,_registration2.default.name,_markets2.default.name,_dashboard2.default.name,_spaces2.default.name,_tenants2.default.name,_deals2.default.name,_landlords2.default.name,_marketplace2.default.name,_compinsights2.default.name]);app.config(_app2.default),app.config(_app4.default),app.run(_app6.default),app.run(_app8.default),app.run(["editableOptions",function(editableOptions){editableOptions.theme="bs3"}]),app.directive("panelTools",_paneltools2.default.activate).directive("filterPanelTools",_filterpaneltools2.default.activate).directive("animatePanel",_animate2.default.activate).factory("sweetAlert",_sweetAlert2.default),app.filter("shortNumber",function(){return function(number){if(number){var abs=Math.abs(number);return abs>=Math.pow(10,12)?number=(number/Math.pow(10,12)).toFixed(1)+"T":abs<Math.pow(10,12)&&abs>=Math.pow(10,9)?number=(number/Math.pow(10,9)).toFixed(1)+"B":abs<Math.pow(10,9)&&abs>=Math.pow(10,6)?number=(number/Math.pow(10,6)).toFixed(1)+"M":abs<Math.pow(10,6)&&abs>=Math.pow(10,3)&&(number=(number/Math.pow(10,3)).toFixed(1)+"K"),number}}}),app.constant("Activities",{HomeView:"390E3425-970F-4DDF-9ED1-CC39B1F30E50",UsersView:"7A1781A1-E26A-4993-8BC5-09EFAF9D5DE8",BrokersView:"58B4A88A-6728-4DA3-9F3D-0546ABDB4560",BrokerManage:"934871FF-A6DE-4B2C-B863-A378A4A414C8",AssetsView:"D8D389D1-F92A-40A8-ABE5-CC3639D3CFD6",AssetsManage:"AD46C0DF-7009-4EA3-91F6-01C4133FD38C",ClientsManage:"D00F82C9-A412-4010-833A-F78F0DFD10DD",MarketsManage:"EC030392-3F90-41ED-B2C0-1DB68E8D330B",DashboardView:"F9A0998B-6192-4A7A-92A0-A4215653D552",AddHeaderMenu:"D89B9CC5-74E9-4422-8C97-CE7AEE6641B5",AddDealMenuItem:"525D35DC-3468-45E7-ACD6-75D08E98B59B",AddTenantMenuItem:"C7426353-ACC9-42C3-8F09-1CF420401873",AddUnitMenuItem:"877CA21B-D3A6-467F-8FB4-C51AA4060420",AddAssetMenuItem:"7D88C1A7-B5D5-4DD7-9B0C-14D54AAE1D9F",GlobalSpacesView:"FDC3067A-800A-40DE-8649-36A0147A47AE",GlobalTenantsView:"D085962C-C7C5-4112-B3B1-0352746700C4",GlobalDealsView:"E72F23AA-0CF3-44CE-87BA-6E824E52EB7D",AreaPortfolio:"E7A3E647-E359-41E0-9503-AD2244D1084F",AreaMarketplace:"B42B1047-E75D-4D24-BC0C-8CEF14BB0608",AreaCompetetiveInsights:"38827724-AFA8-420D-AFB4-02CAFBB8FB9C",MarketplaceDashboard:"6C44468E-5FB7-46F2-B3A2-4851C6B13994",MarketplaceUnits:"27E430DD-16ED-44A9-B289-DFCD07636DA0",MarketplaceDeals:"35BC64A4-D393-47C4-84BF-B7F5F1E80141",MarketplaceClients:"7815D5EC-A624-4657-9CB4-EF7C3BEEFBB0",CompetetiveInsightsCompetitions:"91CD8B67-7F11-48A1-A3E7-DDECC4AFA57C",CompetetiveInsightsBuildings:"98A4E4B5-6CA0-4435-B15A-063F3F570A1F",AddUserMenuItem:"DDFE22FE-407A-41E1-B632-64822A5F572A",AddBrokerMenuItem:"6DE0562C-869B-41A0-957A-E3456B650BD6"})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";__webpack_require__(128),__webpack_require__(137),__webpack_require__(145),__webpack_require__(147),__webpack_require__(151),__webpack_require__(158),__webpack_require__(160),__webpack_require__(162),__webpack_require__(164),__webpack_require__(166),__webpack_require__(168),__webpack_require__(170),__webpack_require__(172)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,128,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){function webpackContext(req){return __webpack_require__(webpackContextResolve(req))}function webpackContextResolve(req){return map[req]||function(){throw new Error("Cannot find module '"+req+"'.")}()}var map={"./af":215,"./af.js":215,"./ar":216,"./ar-dz":217,"./ar-dz.js":217,"./ar-kw":218,"./ar-kw.js":218,"./ar-ly":219,"./ar-ly.js":219,"./ar-ma":220,"./ar-ma.js":220,"./ar-sa":221,"./ar-sa.js":221,"./ar-tn":222,"./ar-tn.js":222,"./ar.js":216,"./az":223,"./az.js":223,"./be":224,"./be.js":224,"./bg":225,"./bg.js":225,"./bn":226,"./bn.js":226,"./bo":227,"./bo.js":227,"./br":228,"./br.js":228,"./bs":229,"./bs.js":229,"./ca":230,"./ca.js":230,"./cs":231,"./cs.js":231,"./cv":232,"./cv.js":232,"./cy":233,"./cy.js":233,"./da":234,"./da.js":234,"./de":235,"./de-at":236,"./de-at.js":236,"./de-ch":237,"./de-ch.js":237,"./de.js":235,"./dv":238,"./dv.js":238,"./el":239,"./el.js":239,"./en-au":240,"./en-au.js":240,"./en-ca":241,"./en-ca.js":241,"./en-gb":242,"./en-gb.js":242,"./en-ie":243,"./en-ie.js":243,"./en-nz":244,"./en-nz.js":244,"./eo":245,"./eo.js":245,"./es":246,"./es-do":247,"./es-do.js":247,"./es.js":246,"./et":248,"./et.js":248,"./eu":249,"./eu.js":249,"./fa":250,"./fa.js":250,"./fi":251,"./fi.js":251,"./fo":252,"./fo.js":252,"./fr":253,"./fr-ca":254,"./fr-ca.js":254,"./fr-ch":255,"./fr-ch.js":255,"./fr.js":253,"./fy":256,"./fy.js":256,"./gd":257,"./gd.js":257,"./gl":258,"./gl.js":258,"./gom-latn":259,"./gom-latn.js":259,"./he":260,"./he.js":260,"./hi":261,"./hi.js":261,"./hr":262,"./hr.js":262,"./hu":263,"./hu.js":263,"./hy-am":264,"./hy-am.js":264,"./id":265,"./id.js":265,"./is":266,"./is.js":266,"./it":267,"./it.js":267,"./ja":268,"./ja.js":268,"./jv":269,"./jv.js":269,"./ka":270,"./ka.js":270,"./kk":271,"./kk.js":271,"./km":272,"./km.js":272,"./kn":273,"./kn.js":273,"./ko":274,"./ko.js":274,"./ky":275,"./ky.js":275,"./lb":276,"./lb.js":276,"./lo":277,"./lo.js":277,"./lt":278,"./lt.js":278,"./lv":279,"./lv.js":279,"./me":280,"./me.js":280,"./mi":281,"./mi.js":281,"./mk":282,"./mk.js":282,"./ml":283,"./ml.js":283,"./mr":284,"./mr.js":284,"./ms":285,"./ms-my":286,"./ms-my.js":286,"./ms.js":285,"./my":287,"./my.js":287,"./nb":288,"./nb.js":288,"./ne":289,"./ne.js":289,"./nl":290,"./nl-be":291,"./nl-be.js":291,"./nl.js":290,"./nn":292,"./nn.js":292,"./pa-in":293,"./pa-in.js":293,"./pl":294,"./pl.js":294,"./pt":295,"./pt-br":296,"./pt-br.js":296,"./pt.js":295,"./ro":297,"./ro.js":297,"./ru":298,"./ru.js":298,"./sd":299,"./sd.js":299,"./se":300,"./se.js":300,"./si":301,"./si.js":301,"./sk":302,"./sk.js":302,"./sl":303,"./sl.js":303,"./sq":304,"./sq.js":304,"./sr":305,"./sr-cyrl":306,"./sr-cyrl.js":306,"./sr.js":305,"./ss":307,"./ss.js":307,"./sv":308,"./sv.js":308,"./sw":309,"./sw.js":309,"./ta":310,"./ta.js":310,"./te":311,"./te.js":311,"./tet":312,"./tet.js":312,"./th":313,"./th.js":313,"./tl-ph":314,"./tl-ph.js":314,"./tlh":315,"./tlh.js":315,"./tr":316,"./tr.js":316,"./tzl":317,"./tzl.js":317,"./tzm":318,"./tzm-latn":319,"./tzm-latn.js":319,"./tzm.js":318,"./uk":320,"./uk.js":320,"./ur":321,"./ur.js":321,"./uz":322,"./uz-latn":323,"./uz-latn.js":323,"./uz.js":322,"./vi":324,"./vi.js":324,"./x-pseudo":325,"./x-pseudo.js":325,"./yo":326,"./yo.js":326,"./zh-cn":327,"./zh-cn.js":327,"./zh-hk":328,"./zh-hk.js":328,"./zh-tw":329,"./zh-tw.js":329};webpackContext.keys=function(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=214},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function routing($urlRouterProvider,$urlMatcherFactoryProvider,$locationProvider,$stateProvider,Activities){$locationProvider.html5Mode({enabled:!0,requireBase:!1}).hashPrefix("!"),$urlMatcherFactoryProvider.type("slug",{encode:function(str){return str&&str.replace(/ /g,"+")},decode:function(str){return str&&str.replace(/-/g," ")},is:angular.isString,pattern:/[^\/]+/}),$urlRouterProvider.otherwise("/"),$stateProvider.state("private",{template:__webpack_require__(725),abstract:!0}).state("home",{url:"/",parent:"private",template:__webpack_require__(726),controller:"HomeController",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.HomeView,"forbidden","login")}]}}).state("brokers",{url:"/brokers",parent:"private",template:__webpack_require__(727),controller:"BrokersController",controllerAs:"ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.BrokersView,"forbidden","login")}]},params:{area:_constants2.default.Areas.Portfolio}}).state("broker",{url:"/brokers/{id:int}",parent:"private",template:__webpack_require__(728),controller:"BrokerController",controllerAs:"$ctrl",resolve:{brokerObject:["$stateParams","Broker",function($stateParams,Broker){return Broker.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.BrokerManage,"forbidden","login")}]},params:{area:_constants2.default.Areas.Portfolio}}).state("asset-stats",{url:"/asset-stats",parent:"private",template:__webpack_require__(729),controller:"AssetStatsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}]},params:{area:_constants2.default.Areas.Portfolio}}).state("asset-stats-spaces",{url:"/asset-stats/{id:int}/spaces",parent:"private",template:__webpack_require__(730),controller:"AssetStatSpacesController",controllerAs:"$ctrl",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}],availableSpaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("asset-stats-tenants",{url:"/asset-stats/{id:int}/tenants",parent:"private",template:__webpack_require__(731),controller:"AssetStatTenantsController",controllerAs:"$ctrl",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}],availableSpaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("asset-stats-deals",{url:"/asset-stats/{id:int}/deals",parent:"private",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}],dealStages:["DealStageLookupService",function(DealStageLookupService){return DealStageLookupService.all()}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]},views:{"":{template:__webpack_require__(732),controller:"AssetStatDealsController",controllerAs:"$ctrl"},"common@asset-stats-deals":{template:__webpack_require__(733)},"dead@asset-stats-deals":{template:__webpack_require__(734)},"executed@asset-stats-deals":{template:__webpack_require__(735)}},params:{area:_constants2.default.Areas.Portfolio}}).state("asset-stats-stacking-plan",{url:"/asset-stats/{id:int}/stacking-plan",parent:"private",template:__webpack_require__(736),controller:"AssetStatStackingPlanController",controllerAs:"$ctrl",resolve:{asset:["$stateParams","Asset",function($stateParams,Asset){return Asset.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsView,"forbidden","login")}],assetId:["$stateParams",function($stateParams){return $stateParams.id}]},params:{area:_constants2.default.Areas.Portfolio}}).state("users",{url:"/users",parent:"private",template:__webpack_require__(737),controller:"UsersController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.UsersView,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("user",{url:"/users/{id:int}",parent:"private",template:__webpack_require__(738),controller:"UserController",controllerAs:"$ctrl",resolve:{userObject:["$stateParams","User",function($stateParams,User){return User.get({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.UsersView,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("assets",{url:"/assets",parent:"private",template:__webpack_require__(739),controller:"AssetsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsManage,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("asset",{url:"/assets/{id:int}",parent:"private",template:__webpack_require__(740),controller:"AssetController",controllerAs:"$ctrl",resolve:{assetObject:["$stateParams","Asset",function($stateParams,Asset){return Asset.getFull({id:$stateParams.id}).$promise}],canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.AssetsManage,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("markets",{url:"/markets",parent:"private",template:__webpack_require__(741),controller:"MarketsController",controllerAs:"ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.MarketsManage,"forbidden","login")}]},params:{area:_constants2.default.Areas.Portfolio}}).state("dashboard",{url:"/dashboard",parent:"private",template:__webpack_require__(742),controller:"DashboardController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.DashboardView,"forbidden","login")}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("spaces",{url:"/spaces",parent:"private",template:__webpack_require__(743),controller:"SpacesController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.GlobalSpacesView,"forbidden","login")}],availableSpaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("tenants",{url:"/tenants",parent:"private",template:__webpack_require__(744),controller:"TenantsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.GlobalTenantsView,"forbidden","login")}],availableSpaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]},params:{area:_constants2.default.Areas.Portfolio}}).state("deals",{url:"/deals",parent:"private",views:{"":{template:__webpack_require__(745),controller:"DealsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.GlobalDealsView,"forbidden","login")}],dealStages:["DealStageLookupService",function(DealStageLookupService){return DealStageLookupService.all()}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]}},"common@deals":{template:__webpack_require__(733)},"dead@deals":{template:__webpack_require__(734)},"executed@deals":{template:__webpack_require__(735)}},params:{area:_constants2.default.Areas.Portfolio}}).state("marketplace-dashboard",{url:"/marketplace/dashboard",parent:"private",template:__webpack_require__(746),controller:"MarketPlaceDashboardController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.MarketplaceDashboard,"forbidden","login")}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],dealStages:["DealStageLookupService",function(DealStageLookupService){return DealStageLookupService.all()}]},params:{area:_constants2.default.Areas.Marketplace}}).state("marketplace-units",{url:"/marketplace/units",parent:"private",template:__webpack_require__(747),controller:"MarketPlaceUnitsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.MarketplaceUnits,"forbidden","login")}],availableSpaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]},params:{area:_constants2.default.Areas.Marketplace}}).state("marketplace-deals",{url:"/marketplace/deals",parent:"private",views:{"":{template:__webpack_require__(748),controller:"MarketPlaceDealsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.MarketplaceDeals,"forbidden","login")}],dealStages:["DealStageLookupService",function(DealStageLookupService){return DealStageLookupService.all()}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}]}},"common@marketplace-deals":{template:__webpack_require__(733)},"dead@marketplace-deals":{template:__webpack_require__(734)},"executed@marketplace-deals":{template:__webpack_require__(735)}},params:{area:_constants2.default.Areas.Marketplace}}).state("marketplace-clients",{url:"/marketplace/clients",parent:"private",template:__webpack_require__(749),controller:"MarketPlaceClientsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.MarketplaceClients,"forbidden","login")}]},params:{area:_constants2.default.Areas.Marketplace}}).state("compinsights-competitions",{url:"/compinsights/competitions",parent:"private",template:__webpack_require__(750),controller:"CompInsightsCompetitionsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.CompetetiveInsightsCompetitions,"forbidden","login")}]},params:{area:_constants2.default.Areas.CompetetiveInsights}}).state("compinsights-buildings",{url:"/compinsights/buildings",parent:"private",template:__webpack_require__(751),controller:"CompInsightsBuildingsController",controllerAs:"$ctrl",resolve:{canDo:["SecurityService",function(SecurityService){return SecurityService.canDo(Activities.CompetetiveInsightsBuildings,"forbidden","login")}]},params:{area:_constants2.default.Areas.CompetetiveInsights}}).state("public",{template:__webpack_require__(752),abstract:!0}).state("login",{url:"/login",parent:"public",params:{automatic:!1},template:__webpack_require__(753),controller:"LoginController",controllerAs:"$ctrl"}).state("forgot",{url:"/forgot",parent:"public",template:__webpack_require__(754),controller:"ForgotPasswordController",controllerAs:"$ctrl"}).state("resetpassword",{url:"/resetpassword?{email}&{token:slug}",parent:"public",template:__webpack_require__(755),controller:"ResetPasswordController",controllerAs:"$ctrl",resolve:{resetpassword:["$stateParams",function($stateParams){return{email:$stateParams.email,token:$stateParams.token}}]}}).state("confirmpassword",{url:"/confirmpassword",parent:"public",template:__webpack_require__(756),controller:"ConfirmationPasswordController",controllerAs:"$ctrl"}).state("registration",{url:"/registration/{token}",parent:"public",template:__webpack_require__(757),controller:"RegistrationController",controllerAs:"$ctrl"}).state("forbidden",{url:"/forbidden",template:__webpack_require__(758)}).state("notfound",{url:"/notfound",template:__webpack_require__(759)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=routing;var _constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants);routing.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider","$stateProvider","Activities"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),CONSTANTS={devExtremeStoreGenerator:function(values){var store={data:[],key:"value"};return values.forEach(function(item){store.data.push({value:item.value,display:item.text})}),new _array_store2.default(store)},states:[{value:1,text:(0,_messages2.default)("state.pending")},{value:2,text:(0,_messages2.default)("state.active")},{value:3,text:(0,_messages2.default)("state.archived")}],assetStateStore:function(){return this.devExtremeStoreGenerator(this.states)},assetStateStorePlain:function(){return this.states.slice(0)},assetStateIds:{pending:1,active:2,archived:3},userStateStore:function(){return new _array_store2.default({data:[{value:2,display:(0,_messages2.default)("state.active")},{value:3,display:(0,_messages2.default)("state.archived")}],key:"value"})},brokerStateStore:function(){return new _array_store2.default({data:[{value:1,display:(0,_messages2.default)("state.active")},{value:2,display:(0,_messages2.default)("state.archived")}],key:"value"})},countries:[{value:1,text:(0,_messages2.default)("country.germany"),isoCode:"de"},{value:2,text:(0,_messages2.default)("country.austria"),isoCode:"at"},{value:3,text:(0,_messages2.default)("country.switzerland"),isoCode:"ch"},{value:4,text:(0,_messages2.default)("country.france"),isoCode:"fr"}],countryStore:function(){return this.devExtremeStoreGenerator(this.countries)},countryStorePlain:function(){return this.countries.sort(function(a,b){return a.text>b.text?1:b.text>a.text?-1:0}).slice(0)},clientsStateStore:function(){return new _array_store2.default({data:[{value:1,display:(0,_messages2.default)("state.active")},{value:2,display:(0,_messages2.default)("state.archived")}],key:"value"})},attachmentMaxFileSize:5e6,defaultAvailablePageSizes:function(){return[10,20,50]},defaultPageSize:function(){return 10},defaultGridSettings:function(){var settings={allowColumnResizing:!0,showBorders:!0,showRowLines:!0,paging:{enabled:!0,pageSize:this.defaultPageSize()},pager:{showPageSizeSelector:!0,allowedPageSizes:this.defaultAvailablePageSizes(),showInfo:!0},filterRow:{visible:!0},grouping:{contextMenuEnabled:!0},groupPanel:{visible:!0}};return JSON.parse(JSON.stringify(settings))},spaceStateStore:function(){return new _array_store2.default({data:[{value:1,display:(0,_messages2.default)("state.active")},{value:2,display:(0,_messages2.default)("state.archived")}],key:"value"})},maxPhoneLength:20,phonePattern:function(){return/^[0-9+-\s]+$/i},contractOptionsTypes:[{value:1,text:(0,_messages2.default)("assets.tenants.options.types.renewal")}],contractOptionsTypeStore:function(){return this.devExtremeStoreGenerator(this.contractOptionsTypes)},contractOptionsTypeStorePlain:function(){return this.contractOptionsTypes},mapOptions:function(){var stylez=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],mapType=new google.maps.StyledMapType(stylez,{name:"Grayscale"});return{mapType:mapType,markerImage:{url:"/img/icons/marker.svg",size:new google.maps.Size(32,37),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(16,37)},markerSelectedImage:{url:"/img/icons/marker.svg",size:new google.maps.Size(0,0)},clustersImagePath:"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m"}},spaceAvailabilities:{all:"all",available:"available",notAvailable:"notAvailable",archived:"archived"},spaceAvailabilityIds:{all:1,available:3,notAvailable:2,archived:4},marketplaceClientFilter:{all:1,active:2,past:3},spaceStatusIds:{vacant:1,occupied:2,reserved:3},spacesExtraFilters:{inPlaceRentFrom:"in_place_rent_from",inPlaceRentTo:"in_place_rent_to",inPlaceRent:"in_place_rent",priceFrom:"price_from",priceTo:"price_to",price:"price",areaFrom:"area_from",areaTo:"area_to",area:"area",floorFrom:"floor_from",floorTo:"floor_to",status:"status"},spaceSortOptions:{unit:"unit",asset:"asset",tower:"tower",floor:"floor",area:"area",type:"type",price:"price",status:"status",availability:"availability",tenant:"tenant",expiry:"expiry",rent:"rent"},marketplaceClientSortOptions:{tenant:"tenant",industry:"industry",number:"number",area:"area"},contractStatuses:{inPlace:"in_place",incoming:"in_coming",expired:"expired",archived:"archived",in1Month:"1_month",in3Month:"3_month",in6Month:"6_month",in1Year:"1_year",custom:"custom"},contractSortOptions:{endDate:"endDate",name:"name",startDate:"startDate",totalArea:"totalArea",netCost:"netCost",avgMeterCost:"avgMeterCost"},contractStatusIds:{inPlace:0,expired:1,incoming:2,archived:3},contractExtraFilters:{in1Year:"1_year",in2Year:"2_year",in3Year:"3_year",in4Year:"4_year",in5Year:"5_year",custom:"custom",inPlaceRentFrom:"in_place_rent_from",inPlaceRentTo:"in_place_rent_to",inPlaceRent:"in_place_rent",areaFrom:"area_from",areaTo:"area_to",area:"area",expiry_from:"expiry_from",expiry_to:"expiry_to"},dealStatusesIds:{active:"active",executed:"executed",dead:"dead"},dealStatusesValues:{active:1,executed:4,dead:5},dealActiveStagesIds:{inquiry:"inquiry",viewing:"viewing",negotiating:"negotiating",underoffer:"underoffer"},dealActiveStagesValues:{inquiry:1,viewing:2,negotiating:3,underoffer:6},dealsExtraFilters:{areaFrom:"area_from",areaTo:"area_to",area:"area"},extraFilters:{areaFrom:"area_from",areaTo:"area_to"},dealSortOptions:{name:"name",stage:"stage",startDate:"startDate"},dealStages:{inquiry:1,viewing:2,negotiating:3,executed:4,dead:5,underoffer:6},dealStagesOrder:function(){return[this.dealStages.inquiry,this.dealStages.viewing,this.dealStages.negotiating,this.dealStages.underoffer,this.dealStages.executed,this.dealStages.dead]},defaultPageNumber:1,userRoles:{admin:1,user:2,assetManager:3},sortDirection:{asc:0,desc:1},dateRangePickerOptions:{oneMonth:"1 month",threeMonth:"3 month",sixMonth:"6 month",oneYear:"1 year"},dealAttachmentCount:4,dealOptionsCount:4,dealOptionsCountInList:2,dealContactsCountInList:1,dealUnitTypeCountInList:1,sidebarContentType:{space:1,tenant:2,deal:3,marketplaceClient:4,stackingPlan:5},spaceAvailabilityTypes:{unknown:1,immediately:2,specificDate:3},spaceContractsCountInList:2,industryStatItemInList:6,industryStatTenantInList:3,emptyValuePlaceholder:"--",rolloverItemsMaxCount:5,dealViewingStatObjectsInList:5,filterNumericTypes:{range:1,discrete:2},Areas:{Portfolio:1,Marketplace:2,CompetetiveInsights:3},marketplaceClientLimitDeals:2,marketplaceClientLimitContacts:1,dealTopLists:{inquiry:1,active:2},assetSortOptions:{asset:"name",city:"city",totalArea:"totalArea",occupancy:"occupancy",availability:"availability",vacancy:"vacancy"},paymentPeriods:[{value:1,text:(0,_messages2.default)("paymentPeriod.monthly.title")},{value:2,text:(0,_messages2.default)("paymentPeriod.annual.title")}],paymentPeriodStore:function(){return this.devExtremeStoreGenerator(this.paymentPeriods)},paymentPeriodLabels:function(){var result=[];return result[1]=(0,_messages2.default)("paymentPeriod.monthly.short"),
result[2]=(0,_messages2.default)("paymentPeriod.annual.short"),result}};exports.default=CONSTANTS},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Messages(messageId){var locale=_messages_enUs2.default,localeId=_app.LocaleId;return 2===localeId&&(locale=_messages_deGe2.default),locale(messageId)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Messages;var _messages_enUs=__webpack_require__(722),_messages_enUs2=_interopRequireDefault(_messages_enUs),_messages_deGe=__webpack_require__(723),_messages_deGe2=_interopRequireDefault(_messages_deGe),_app=__webpack_require__(724);Messages.$inject=["messageId"]},function(module,exports){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Messages(messageId){var _messages,messages=(_messages={confirmation:"Are you sure?",actions:"Actions",administrator:"Administrator",broker:"Broker","square.meter":"m<sup>2</sup>","validation.required":"The field is required","validation.email":"Enter a valid email here","validation.maxLength":"Too many characters","validation.phone":"Only digits, whitespaces, plus and minus signs are allowed","validation.mobilePhone":"Mobile phone number contains 11 digits","validation.shortPassword":"Password must have at least 6 characters","validation.passwordsNotMatch":"Password and confirmations must be same","validation.date":"Enter a valid date","validation.positiveValue":"Value must ge positive or 0","validation.GTE0Value":"Value must greater than 0","indicator.waiting":"Wait ...","country.germany":"Germany","country.austria":"Austria","country.switzerland":"Switzerland","country.france":"France","paymentPeriod.monthly.title":"Per Month","paymentPeriod.annual.title":"Per Year","paymentPeriod.monthly.short":"mo","paymentPeriod.annual.short":"yr","state.unknown":"Unknown","state.pending":"Pending","state.active":"Active","state.archived":"Archived","filters.extra":"Filters","mainheader.settings.product":"Product Settings","mainheader.settings.notification":"Notification Settings","mainheader.settings.account":"Account Settings","mainheader.language":"Language","mainheader.signout":"Sign Out","mainheader.add.deal":"Deal","mainheader.add.tenant":"Tenant","mainheader.add.space":"Unit","mainheader.add.asset":"Asset","mainheader.add.user":"User","mainheader.add.broker":"Broker","sidebar.brokers":"Asset Managers","sidebar.users":"Users","sidebar.assets":"Assets","sidebar.clients":"Tenants","sidebar.spaces":"Units","sidebar.stackingplan":"Stacking plan","sidebar.markets":"Markets","sidebar.dashboard":"Dashboard","sidebar.deals":"Deals","sidebar.rollover":"Rent rollover","image.cropper.title":"Upload an image","image.cropper.save":"Save","image.cropper.saving":"Saving","image.cropper.cancel":"Cancel","image.cropper.addbutton":"Upload","image.cropper.placeholder.empty":"Drag and drop image here","brokers.new":"Asset Manager","brokers.title":"Asset Managers","brokers.title.general":"General attributes","broker.info.title":"Asset Manager Information","brokers.name":"Display name","brokers.address":"Official address","brokers.state":"State","brokers.currency":"Currency","brokers.message.deleted":"Asset Manager successfully archived","brokers.message.created":"Asset Manager successfully created","brokers.message.updated":"Asset Manager successfully updated","brokers.message.activated":"Asset Manager successfully activated","brokers.placeholder.name":"ex. Colliers International","brokers.placeholder.address":"ex. Germany, Shoenstrasse 23, suite 115","brokers.save":"Save","brokers.cancel":"Cancel","brokers.create":"New","brokers.saving":"Saving","brokers.archive":"Archive Asset Manager","brokers.archive.title":"You are going to archive Asset Manager, their employees will not be able to use Tower360 anymore.","brokers.archive.confirmButton":"Yes, archive it!","brokers.archived":"Archived","brokers.activate":"Activate Asset Manager","brokers.activate.title":"You are going to activate Asset Manager, their employees will be able to use Tower360.","brokers.activate.confirmButton":"Yes, activate it!","brokers.edit":"Edit","brokers.edit.title":"Edit Asset Manager","brokers.create.title":"Create Asset Manager","brokers.projects":"Projects","brokers.messages":"Messages","brokers.views":"Views","brokers.additional.container":"Container for additional information","brokers.gallery.message.deleted":"Broker image successfully deleted","brokers.gallery.message.added":"Broker image successfully added","brokers.paymentPeriod":"Payment Period","users.new":"User","users.title":"Users","users.title.general":"General attributes","users.info.title":"User Information","users.email":"Email","users.displayname":"Display name","users.state":"State","users.locale":"Locale","users.broker":"Associate with","users.broker.help":"Select Asset Manager where this person is working","users.role":"Role in portal","users.role.help":"Select role for new user","users.message.created":"User successfully invited","users.message.updated":"User successfully updated","users.message.archived":"User successfully archived","users.message.activated":"User successfully activated","users.placeholder.email":"Email","users.placeholder.displayname":"ex. Mathias Kohler","users.placeholder.currentPassword":"Current Password","users.placeholder.newPassword":"New Password","users.placeholder.confirmPassword":"Confirm Password","users.images.add":"Select image","users.invite":"Invite","users.save":"Save","users.saving":"Saving","users.cancel":"Cancel","users.create":"Invite new user","users.archive":"Archive user","users.archive.title":"You are going to archive user, this user will not be able use Tower360 anymore.","users.archive.confirmButton":"Yes, archive it!","users.archived":"Archived","users.activate":"Activate user","users.activate.title":"You are going to activate user, this user will be able to user Tower360.","users.activate.confirmButton":"Yes, activate it!","users.edit":"Edit","users.edit.title":"Edit user","users.changePassword":"Change password","users.create.title":"Create user","users.projects":"Projects","users.messages":"Messages","users.views":"Views","users.additional.container":"Container for additional information","users.changePassord.title":"Change Password","users.currentPassword":"Current password","users.newPassword":"New password","users.confirmPassword":"Confirm password","users.changingPasswordBtn":"Changing","users.changePasswordBtn":"Change","users.changePassword.failed":"We were not able to update your password, please try again later","users.changePassword.success":"User's password has been changed","users.invitations.title":"Invitations","users.invitations.operation.resend":"Re-send","users.invitations.table.timestamp":"Send At","users.invitations.operation.success":"Invitiation successfully sent","users.phone":"Mobile Phone","users.placeholder.phone":"Mobile Phone","assets.new":"Asset","assets.add":"Create asset","assets.edit":"Edit asset","assets.title":"Assets","assets.title.address":"Address details","assets.title.other":"Other","assets.name":"Asset name","assets.state":"State","assets.address":"Address","assets.country":"Country:","assets.city":"City","assets.city.help":"ex. Hamburg","assets.street":"Street","assets.street.help":"ex. Fishertwiete","assets.building":"Building","assets.building.help":"ex. 12A","assets.brokerDatabaseRecordId":"Id in Broker database:","assets.brokerDatabaseRecordId.help":"Optionally specify ID in Broker database ","assets.brokerDatabaseRecordId.errorLength":"Id cannot be longer than 10 letters","assets.floorCount":"Floors","assets.filter.extra":"Extra filters","assets.filter.title":"Filter assets by markets","assets.filter.search.placeholder":"Search assets by name or address..","assets.floors.label":"Floors & Units","assets.floors.configure":"Configure","assets.floors.title":"Floors","assets.floors.number":"Number","assets.floors.description":"Description","assets.floors.assetobject":"Tower","assets.floors.addrange":"Floors range","assets.floors.addbutton":"Add","assets.floors.cancelbutton":"Cancel","assets.floors.range.modal.title":"Add range","assets.floors.range.title":"Please specify number of floors to add. They will be added to the end of the list.","assets.floors.range.field":"How many floors to add","assets.floors.range.checkbox":"Numerate automatically","assets.floors.range.checkbox.help":"Enable this button of you want to numerate floors automatically by numbers","assets.floors.deleted":"Floor successfully deleted","assets.floors.created":"Floors range successfully created","assets.floors.updated":"Floor successfully updated","assets.floors.delete.title":"You are going to delete floor with all spaces, this floor will not be able use Tower360 anymore.","assets.floors.delete.confirmButton":"Yes, delete it!","assets.spaces.modal.title":"Add unit","assets.spaces.modal.edit.title":"Edit unit details","assets.spaces.unit.details":"Unit details","assets.spaces.title":"Units","assets.spaces.unit":"Unit","assets.spaces.number":"Unit number","assets.spaces.type":"Type","assets.spaces.details.type":"Area type","assets.spaces.asset":"Asset","assets.spaces.floor":"Floor number","assets.spaces.assetobject":"Tower","assets.spaces.rentableArea":"Rentable Area","assets.spaces.availability":"Availability","assets.spaces.marketingDescription":"Marketing Description","assets.spaces.notes":"Internal notes","assets.spaces.minAskingPrice":"Minimum asking price","assets.spaces.maxAskingPrice":"Maximum asking price","assets.spaces.askingPrice":"Asking price","assets.spaces.placeholder.asset":"Type to select asset here","assets.spaces.placeholder.assetobject":"Type to select asset object here","assets.spaces.placeholder.floor":"Type to select floor here","assets.spaces.placeholder.type":"Select unit type here","assets.spaces.placeholder.number":"Type space number here","assets.spaces.placeholder.rentableArea":"Specify rentable area value","assets.spaces.placeholder.availability":"Specify availability type","assets.spaces.placeholder.availability.date":"Specify availability date","assets.spaces.placeholder.marketingDescription":"Put here some text for marketing materials","assets.spaces.placeholder.notes":"Internal notes","assets.spaces.placeholder.minAskingPrice":"Min","assets.spaces.placeholder.maxAskingPrice":"Max","assets.spaces.saving":"Saving","assets.spaces.save":"Save","assets.spaces.cancel":"Cancel","assets.spaces.add":"Unit","assets.spaces.deleted":"Unit successfully deleted","assets.spaces.created":"Unit successfully created","assets.spaces.updated":"Unit successfully updated","assets.spaces.delete.title":"You are going to delete space, this space will not be able use Tower360 anymore.","assets.spaces.delete.confirmButton":"Yes, delete it!","assets.spaces.validation.maxAskingPrice":"Max asking price has to be greater than min asking price"},_defineProperty(_messages,"assets.spaces.availability","Availability"),_defineProperty(_messages,"assets.spaces.asking_price","Asking Price"),_defineProperty(_messages,"assets.spaces.tenant_name","Tenant Name"),_defineProperty(_messages,"assets.spaces.in_place_rent","In-Place Rent"),_defineProperty(_messages,"assets.spaces.net_rent","Net Rent"),_defineProperty(_messages,"assets.spaces.vat","Vat"),_defineProperty(_messages,"assets.spaces.additional_cost","Additional cost"),_defineProperty(_messages,"assets.spaces.total_rent","Total rent"),_defineProperty(_messages,"assets.spaces.status","Status"),_defineProperty(_messages,"assets.spaces.lease_start_date","Lease Start Date"),_defineProperty(_messages,"assets.spaces.lease_end_date","Lease End Date"),_defineProperty(_messages,"assets.spaces.availability.date","Available from"),_defineProperty(_messages,"assets.spaces.area","Area"),_defineProperty(_messages,"assets.spaces.industry","Industry"),_defineProperty(_messages,"assets.spaces.title.income","Incoming leases"),_defineProperty(_messages,"assets.spaces.title.expired","Expired leases"),_defineProperty(_messages,"assets.spaces.title.in-place","In-place leases"),_defineProperty(_messages,"assets.spaces.contracts.income.empty","There are currently no income leases for this unit"),_defineProperty(_messages,"assets.spaces.contracts.expired.empty","There are currently no expired leases for this unit"),_defineProperty(_messages,"assets.spaces.contracts.in-place.empty","There are currently no in-place leases for this unit"),_defineProperty(_messages,"assets.spaces.contracts.showlessbutton","...less"),_defineProperty(_messages,"assets.spaces.contracts.showmorebutton","more..."),_defineProperty(_messages,"assets.spaces.availability.available","Available"),_defineProperty(_messages,"assets.spaces.status.vacant","Vacant"),_defineProperty(_messages,"assets.spaces.status.occupied","Occupied"),_defineProperty(_messages,"assets.spaces.status.reserved","Reserved"),_defineProperty(_messages,"assets.spaces.filter.status.placeholder","Select Space Status"),_defineProperty(_messages,"assets.spaces.archive.title","Confirm Unit archival"),_defineProperty(_messages,"assets.spaces.archive.cancel","Cancel"),_defineProperty(_messages,"assets.spaces.archive.save","Archive"),_defineProperty(_messages,"assets.spaces.archive.message","Are you sure you want to archive the Unit: "),_defineProperty(_messages,"assets.spaces.archive.label","Archive"),_defineProperty(_messages,"assets.spaces.archive.success","Unit successfully archived"),_defineProperty(_messages,"assets.spaces.restore.label","Restore"),_defineProperty(_messages,"assets.spaces.restore.success","Unit successfully restored"),_defineProperty(_messages,"assets.spaces.restore.save","Restore"),_defineProperty(_messages,"assets.spaces.restore.message","Are you sure you want to restore the Unit: "),_defineProperty(_messages,"assets.spaces.restore.title","Confirm Unit restore"),_defineProperty(_messages,"assets.spaces.restore.save","Restore"),_defineProperty(_messages,"assets.spaces.archive.requirement.checkerror","Space cannot be archived because it has Deals or Contracts associated with it"),_defineProperty(_messages,"assets.list.assets.header","Assets"),_defineProperty(_messages,"assets.list.city.header","City"),_defineProperty(_messages,"assets.list.tla.header","Total lettable area"),_defineProperty(_messages,"assets.list.vacancy.header","Vacancy"),_defineProperty(_messages,"assets.list.availability.header","Availability"),_defineProperty(_messages,"assets.list.occupancy.header","Occupancy"),_defineProperty(_messages,"assets.spaces.filter.title","Filter"),_defineProperty(_messages,"assets.spaces.filter.all","All"),_defineProperty(_messages,"assets.spaces.filter.available","Available"),_defineProperty(_messages,"assets.spaces.filter.notAvailable","Not Available"),_defineProperty(_messages,"assets.spaces.filter.archived","Archived"),_defineProperty(_messages,"assets.spaces.filter.in_1_month","Within 1 month"),_defineProperty(_messages,"assets.spaces.filter.in_3_month","Within 3 month"),_defineProperty(_messages,"assets.spaces.filter.in_6_month","Within 6 month"),_defineProperty(_messages,"assets.spaces.filter.in_1_year","Within 1 year"),_defineProperty(_messages,"assets.spaces.filter.custom_dates","Expiry date"),_defineProperty(_messages,"assets.spaces.filter.status.title","Filter spaces by current status or their availability in future"),_defineProperty(_messages,"assets.spaces.filter.extra","Filters"),_defineProperty(_messages,"assets.spaces.filter.favorites","Favorites"),_defineProperty(_messages,"assets.spaces.filter.empty","Empty response"),_defineProperty(_messages,"assets.spaces.filter.unit","Unit"),_defineProperty(_messages,"assets.spaces.filter.tower","Tower"),_defineProperty(_messages,"assets.spaces.filter.towers","Towers"),_defineProperty(_messages,"assets.spaces.filter.towers.placeholder","Select or search a tower in the list..."),_defineProperty(_messages,"assets.spaces.filter.floor","Floor"),_defineProperty(_messages,"assets.spaces.filter.floor_from","Floor from"),_defineProperty(_messages,"assets.spaces.filter.floor_to","Floor to"),_defineProperty(_messages,"assets.spaces.filter.rentable_area","Rentable Area"),_defineProperty(_messages,"assets.spaces.filter.rentable_area_from","Rentable Area from"),_defineProperty(_messages,"assets.spaces.filter.rentable_area_to","Rentable Area to"),_defineProperty(_messages,"assets.spaces.filter.type","Type"),_defineProperty(_messages,"assets.spaces.filter.asking_price","Asking Price"),_defineProperty(_messages,"assets.spaces.filter.asking_price_from","Asking Price from"),_defineProperty(_messages,"assets.spaces.filter.asking_price_to","Asking Price to"),_defineProperty(_messages,"assets.spaces.filter.status","Status"),_defineProperty(_messages,"assets.spaces.filter.availability","Availability"),_defineProperty(_messages,"assets.spaces.filter.available_from","Available from"),_defineProperty(_messages,"assets.spaces.filter.immediately","Immediately"),_defineProperty(_messages,"assets.spaces.filter.in_place_rent","In-Place Rent"),_defineProperty(_messages,"assets.spaces.filter.in_place_rent_from","In-Place Rent from"),_defineProperty(_messages,"assets.spaces.filter.in_place_rent_to","In-Place Rent to"),_defineProperty(_messages,"assets.spaces.filter.from","From"),_defineProperty(_messages,"assets.spaces.filter.to","To"),_defineProperty(_messages,"assets.spaces.filter.apply","Apply"),_defineProperty(_messages,"assets.spaces.filter.cancel","Cancel"),_defineProperty(_messages,"assets.spaces.filter.asset","Asset"),_defineProperty(_messages,"assets.spaces.filter.assets","Assets"),_defineProperty(_messages,"assets.spaces.filter.tenant","Tenant name"),_defineProperty(_messages,"assets.spaces.filter.vacant","Days Vacant"),_defineProperty(_messages,"assets.spaces.filter.expiry","Expiry Date"),_defineProperty(_messages,"assets.spaces.filter.range","Range"),_defineProperty(_messages,"assets.spaces.filter.discrete","Discrete"),_defineProperty(_messages,"assets.spaces.filter.markets","Markets"),_defineProperty(_messages,"assets.spaces.filter.cities","Cities"),_defineProperty(_messages,"assets.spaces.availability.notAvailable","Not Available"),_defineProperty(_messages,"assets.spaces.availability.immediateAvailable","Immediate"),_defineProperty(_messages,"assets.spaces.availability.available","Available"),_defineProperty(_messages,"assets.spaces.availability.available.title","This unit is available"),_defineProperty(_messages,"assets.spaces.availability.notAvailable.title","This unit is not available"),_defineProperty(_messages,"assets.spaces.daysAvailable","Days Available"),_defineProperty(_messages,"assets.spaces.availability.edit.available.title","This unit is available"),_defineProperty(_messages,"assets.spaces.availability.edit.notAvailable.title","Make this unit available"),_defineProperty(_messages,"assets.spaces.vacant_since","Vacant since"),_defineProperty(_messages,"assets.spaces.placeholder.vacantsince.date","Specify vacant since date"),_defineProperty(_messages,"assets.spaces.daysVacant","Days Vacant"),_defineProperty(_messages,"assets.tenants.title","Tenants"),_defineProperty(_messages,"assets.tenants.contact","Point of contacts"),_defineProperty(_messages,"assets.tenants.company","Company name"),_defineProperty(_messages,"assets.tenants.contact.not_specified","Contact details not specified"),_defineProperty(_messages,"assets.tenants.email","Email"),_defineProperty(_messages,"assets.tenants.mobilephone","Mobile phone"),_defineProperty(_messages,"assets.tenants.officephone","Office phone"),_defineProperty(_messages,"assets.tenants.name","Tenant name"),_defineProperty(_messages,"assets.tenants.industry","Industry"),_defineProperty(_messages,"assets.tenants.contract_number","Contract No"),_defineProperty(_messages,"assets.tenants.total_area","Area"),_defineProperty(_messages,"assets.tenants.units","Units Occupied"),_defineProperty(_messages,"assets.tenants.towers","Tower(s)"),_defineProperty(_messages,"assets.tenants.floor","Floor"),_defineProperty(_messages,"assets.tenants.area_in_unit","Area in unit"),_defineProperty(_messages,"assets.tenants.in_place_rent","In-Place Rent"),_defineProperty(_messages,"assets.tenants.net_rent","Net Rent"),_defineProperty(_messages,"assets.tenants.renewal_strategy","Renewal Strategy"),_defineProperty(_messages,"assets.tenants.vat","Vat"),_defineProperty(_messages,"assets.tenants.additional_cost","Additional cost"),_defineProperty(_messages,"assets.tenants.total_rent","Total rent"),_defineProperty(_messages,"assets.tenants.status","Status"),_defineProperty(_messages,"assets.tenants.lease_start_date","Lease start date"),_defineProperty(_messages,"assets.tenants.lease_end_date","Lease end date"),_defineProperty(_messages,"assets.tenants.archive.title","Confirm Tenant archival"),_defineProperty(_messages,"assets.tenants.archive.cancel","Cancel"),_defineProperty(_messages,"assets.tenants.archive.save","Archive"),_defineProperty(_messages,"assets.tenants.archive.message","Are you sure you want to archive the Tenant: "),_defineProperty(_messages,"assets.tenants.archive.label","Archive"),_defineProperty(_messages,"assets.tenants.archive.success","Tenant successfully archived"),_defineProperty(_messages,"assets.tenants.restore.label","Restore"),_defineProperty(_messages,"assets.tenants.restore.success","Tenant successfully restored"),_defineProperty(_messages,"assets.tenants.restore.save","Restore"),_defineProperty(_messages,"assets.tenants.restore.message","Are you sure you want to restore the Tenant: "),_defineProperty(_messages,"assets.tenants.restore.title","Confirm Tenant restore"),_defineProperty(_messages,"assets.tenants.restore.save","Restore"),_defineProperty(_messages,"assets.tenants.filter.title","Filter"),_defineProperty(_messages,"assets.tenants.filter.in_place","In place"),_defineProperty(_messages,"assets.tenants.filter.expired","Expired"),_defineProperty(_messages,"assets.tenants.filter.incoming","In-Coming"),_defineProperty(_messages,"assets.tenants.filter.archived","Archived"),_defineProperty(_messages,"assets.tenants.filter.within_1_month","Within 1 month"),_defineProperty(_messages,"assets.tenants.filter.within_3_month","Within 3 month"),_defineProperty(_messages,"assets.tenants.filter.within_6_month","Within 6 month"),_defineProperty(_messages,"assets.tenants.filter.within_1_year","1 year from now"),_defineProperty(_messages,"assets.tenants.filter.within_2_year","2 year from now"),_defineProperty(_messages,"assets.tenants.filter.within_3_year","3 year from now"),_defineProperty(_messages,"assets.tenants.filter.within_4_year","4 year from now"),_defineProperty(_messages,"assets.tenants.filter.within_5_year","5 year from now"),_defineProperty(_messages,"assets.tenants.filter.custom_dates","Specific dates"),_defineProperty(_messages,"assets.tenants.filter.start_date","Start date"),_defineProperty(_messages,"assets.tenants.filter.end_date","End date"),_defineProperty(_messages,"assets.tenants.filter.expiry","Expiry date"),_defineProperty(_messages,"assets.tenants.filter.quick.title","Quick filters"),_defineProperty(_messages,"assets.tenants.filter.extra","Extra filters"),_defineProperty(_messages,"assets.tenants.filter.favorites","Favorites"),_defineProperty(_messages,"assets.tenants.filter.empty","Empty response"),_defineProperty(_messages,"assets.tenants.filter.unit","Unit"),_defineProperty(_messages,"assets.tenants.filter.tower","Tower"),_defineProperty(_messages,"assets.tenants.filter.towers","Towers"),_defineProperty(_messages,"assets.tenants.filter.towers.placeholder","Select or search a tower in the list..."),_defineProperty(_messages,"assets.tenants.filter.industry","Industry"),_defineProperty(_messages,"assets.tenants.filter.industry.placeholder","Select or search a industry in the list..."),_defineProperty(_messages,"assets.tenants.filter.lease_date","Contract start dates range"),_defineProperty(_messages,"assets.tenants.filter.lease_start_date","Contract Start Date from"),_defineProperty(_messages,"assets.tenants.filter.lease_end_date","Contract Start Date to"),_defineProperty(_messages,"assets.tenants.filter.tenant_name","Tenant Name"),_defineProperty(_messages,"assets.tenants.filter.size","Size"),_defineProperty(_messages,"assets.tenants.filter.total_rent","Total rent"),_defineProperty(_messages,"assets.tenants.filter.type","Unit Type"),_defineProperty(_messages,"assets.tenants.filter.rent","Rent"),_defineProperty(_messages,"assets.tenants.filter.from","From"),_defineProperty(_messages,"assets.tenants.filter.to","To"),_defineProperty(_messages,"assets.tenants.filter.this_month","This Month"),_defineProperty(_messages,"assets.tenants.filter.last_month","Last Month"),_defineProperty(_messages,"assets.tenants.filter.this_year","This Year"),_defineProperty(_messages,"assets.tenants.filter.last_year","Last Year"),_defineProperty(_messages,"assets.tenants.filter.datepicker.clear","Clear"),_defineProperty(_messages,"assets.tenants.filter.apply","Apply"),_defineProperty(_messages,"assets.tenants.filter.cancel","Cancel"),_defineProperty(_messages,"assets.tenants.filter.asset","Asset"),_defineProperty(_messages,"assets.tenants.filter.area","Area"),_defineProperty(_messages,"assets.tenants.filter.in_place_rent","In-place Rent"),_defineProperty(_messages,"assets.tenants.filter.cloud.within_1_year","Expiring in 1 year"),_defineProperty(_messages,"assets.tenants.filter.cloud.within_2_year","Expiring in 2 year"),_defineProperty(_messages,"assets.tenants.filter.cloud.within_3_year","Expiring in 3 year"),_defineProperty(_messages,"assets.tenants.filter.cloud.within_4_year","Expiring in 4 year"),_defineProperty(_messages,"assets.tenants.filter.cloud.within_5_year","Expiring in 5 year"),_defineProperty(_messages,"assets.tenants.filter.cloud.from","From"),_defineProperty(_messages,"assets.tenants.filter.cloud.to","To"),_defineProperty(_messages,"assets.tenants.filter.markets","Markets"),_defineProperty(_messages,"assets.tenants.filter.cities","Cities"),_defineProperty(_messages,"assets.tenants.list.header.name","Tenant Name"),_defineProperty(_messages,"assets.tenants.list.header.start_date","Contract Start Date"),_defineProperty(_messages,"assets.tenants.list.header.end_date","Contract End Date"),_defineProperty(_messages,"assets.tenants.list.header.size","Size"),_defineProperty(_messages,"assets.tenants.list.header.net_rent","Net Rent"),_defineProperty(_messages,"assets.tenants.list.header.rent","Rent"),_defineProperty(_messages,"assets.tenants.list.header.unit","Unit"),_defineProperty(_messages,"assets.tenants.list.header.towers","Towers"),_defineProperty(_messages,"assets.tenants.list.header.assets","Assets"),_defineProperty(_messages,"assets.tenants.placeholder.details","Tenants Details"),_defineProperty(_messages,"assets.tenants.placeholder.contact-details","Tenants Contact Details"),_defineProperty(_messages,"assets.tenants.placeholder.contract-details","Contract Details"),_defineProperty(_messages,"assets.tenants.placeholder.attachments","Attachments"),_defineProperty(_messages,"assets.tenants.placeholder.unit-details","Occupied buildings & spaces"),_defineProperty(_messages,"assets.tenants.placeholder.options","Options"),_defineProperty(_messages,"assets.tenants.placeholder.comments","Comments"),_defineProperty(_messages,"assets.tenants.comments.nocomments","No comments"),_defineProperty(_messages,"assets.tenants.comments.helper","Add comment..."),_defineProperty(_messages,"assets.tenants.comments.note","Please enter to send your comment"),_defineProperty(_messages,"assets.tenants.comments.sendbutton","Send"),_defineProperty(_messages,"assets.tenants.attachment.showmorebutton","Show more"),_defineProperty(_messages,"assets.tenants.attachment.showlessbutton","Show less"),_defineProperty(_messages,"assets.tenants.attachment.dialog.header","Attachment"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filedetails","File details"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filename","File Name"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filetype","File Type"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filetype.helper","File Type"),_defineProperty(_messages,"assets.tenants.attachment.dialog.upload","Upload"),_defineProperty(_messages,"assets.tenants.attachment.dialog.cancel","Cancel"),_defineProperty(_messages,"assets.tenants.units.occupied","Units Occupied"),_defineProperty(_messages,"assets.tenants.units.details","Details for the selected unit"),_defineProperty(_messages,"assets.tenants.units.details.floor","Floor"),_defineProperty(_messages,"assets.tenants.units.details.area","Area"),_defineProperty(_messages,"assets.tenants.options.types.renewal","Renewal"),_defineProperty(_messages,"assets.tenants.options.types.header","Option Type"),_defineProperty(_messages,"assets.tenants.options.space.header","Spaces"),_defineProperty(_messages,"assets.tenants.options.enddate.header","End Date"),_defineProperty(_messages,"assets.tenants.options.till.header","Renew Till"),_defineProperty(_messages,"assets.tenants.options.value.header","Option 1/2/3"),_defineProperty(_messages,"assets.tenants.options.nodata","No options available."),_defineProperty(_messages,"assets.tenants.statistics.commited","Commited"),_defineProperty(_messages,"assets.tenants.statistics.in-place","In-Place"),_defineProperty(_messages,"assets.deal.title","Deals"),_defineProperty(_messages,"assets.gallery.header","Configure"),_defineProperty(_messages,"assets.gallery.title","Image"),_defineProperty(_messages,"assets.gallery.add","Add photo"),_defineProperty(_messages,"assets.gallery.main","Main"),_defineProperty(_messages,"assets.gallery.message.added","Asset image successfully added"),_defineProperty(_messages,"assets.gallery.message.deleted","Asset image successfully deleted"),_defineProperty(_messages,"assets.broker","Asset Manager:"),_defineProperty(_messages,"assets.broker.help","Select Asset Manager who is managing the Asset"),_defineProperty(_messages,"assets.landlord","Landlord:"),_defineProperty(_messages,"assets.landlord.help","Select Landlord"),_defineProperty(_messages,"assets.market","Market:"),_defineProperty(_messages,"assets.market.help","Select Market"),_defineProperty(_messages,"assets.notes","Internal notes:"),_defineProperty(_messages,"assets.notes.errorLength","Notes cannot be longer than 500 letters"),_defineProperty(_messages,"assets.description","Marketing description:"),_defineProperty(_messages,"assets.message.archived","Asset successfully archived"),_defineProperty(_messages,"assets.message.activated","Asset successfully activated"),_defineProperty(_messages,"assets.message.created","Asset successfully created"),_defineProperty(_messages,"assets.message.updated","Asset successfully updated"),_defineProperty(_messages,"assets.info","Asset information"),_defineProperty(_messages,"assets.info.general","General information"),_defineProperty(_messages,"assets.info.images","Images"),_defineProperty(_messages,"assets.placeholder.broker","Select broker"),_defineProperty(_messages,"assets.placeholder.name","Type name here"),_defineProperty(_messages,"assets.placeholder.country","Select country"),_defineProperty(_messages,"assets.placeholder.city","ex. Hamburg"),_defineProperty(_messages,"assets.placeholder.street","ex. Shoenstrasse"),_defineProperty(_messages,"assets.placeholder.building","ex. 26A"),_defineProperty(_messages,"assets.placeholder.brokerDatabaseRecordId","ex. BLD-123"),_defineProperty(_messages,"assets.placeholder.notes","Internal notes"),_defineProperty(_messages,"assets.placeholder.description","Put here some text for marketing materials"),_defineProperty(_messages,"assets.save","Save"),_defineProperty(_messages,"assets.cancel","Cancel"),_defineProperty(_messages,"assets.saving","Saving"),_defineProperty(_messages,"assets.archive","Archive asset"),_defineProperty(_messages,"assets.archive.title","You are going to archive Asset."),
_defineProperty(_messages,"assets.archive.confirmButton","Yes, archive it!"),_defineProperty(_messages,"assets.archive.requirement.checkerror","Asset cannot be archived because it has Deals or Contracts associated with it"),_defineProperty(_messages,"assets.archived","Archived"),_defineProperty(_messages,"assets.activate","Activate asset"),_defineProperty(_messages,"assets.activate.title","You are going to activate Asset."),_defineProperty(_messages,"assets.activate.confirmButton","Yes, activate it!"),_defineProperty(_messages,"assets.update.broker.requirement.checkerror","Asset owner cannot be changed because it has Deals or Contracts associated with it"),_defineProperty(_messages,"assets.available.space","Available Unit"),_defineProperty(_messages,"assets.occupancy","Occupancy"),_defineProperty(_messages,"assets.total.rentable","Total"),_defineProperty(_messages,"assets.statistics.totalarea","Total Lettable Area"),_defineProperty(_messages,"assets.statistics.area","Area"),_defineProperty(_messages,"assets.statistics.vacancy","Vacancy"),_defineProperty(_messages,"assets.statistics.availability","Availability"),_defineProperty(_messages,"assets.statistics.occupancy","Occupancy"),_defineProperty(_messages,"assets.statistics.assetscount","No of assets"),_defineProperty(_messages,"spaces.statistics.unitscount","Spaces"),_defineProperty(_messages,"spaces.statistics.daysvacancy","Days vacant"),_defineProperty(_messages,"spaces.statistics.daysavailable","Days Available"),_defineProperty(_messages,"spaces.statistics.askingrent","Asking Rent"),_defineProperty(_messages,"assets.objects.title","Objects"),_defineProperty(_messages,"assets.objects.name","Name"),_defineProperty(_messages,"assets.objects.isDisplayOnStackingPlan","Show on Stacking Plan"),_defineProperty(_messages,"assets.objects.add","Tower"),_defineProperty(_messages,"assets.objects.message.deleted","Tower successfully deleted"),_defineProperty(_messages,"assets.objects.message.created","Tower successfully created"),_defineProperty(_messages,"assets.objects.message.updated","Tower successfully updated"),_defineProperty(_messages,"assets.objects.delete.title","You are going to delete tower with all floors, this tower will not be able use Tower360 anymore."),_defineProperty(_messages,"assets.objects.delete.confirmButton","Yes, delete it!"),_defineProperty(_messages,"assets.objects.placeholder.name","Type name here"),_defineProperty(_messages,"assets.objects.create.name","Name:"),_defineProperty(_messages,"assets.objects.save","Save"),_defineProperty(_messages,"assets.objects.cancel","Cancel"),_defineProperty(_messages,"assets.objects.saving","Saving"),_defineProperty(_messages,"assets.objects.create.title","Asset Object"),_defineProperty(_messages,"assets.objects.create.isDisplayOnStackingPlan","Show on Stacking Plan:"),_defineProperty(_messages,"assets.objects.address","Address"),_defineProperty(_messages,"assets.objects.edit.title","Asset Object"),_defineProperty(_messages,"assets.objects.floors","Floors"),_defineProperty(_messages,"assets.validation.countryRequired","Country required"),_defineProperty(_messages,"assets.validation.cityRequired","City required"),_defineProperty(_messages,"assets.validation.streetRequired","Street required"),_defineProperty(_messages,"assets.validation.buildingRequired","Building required"),_defineProperty(_messages,"clients.new","Tenant"),_defineProperty(_messages,"clients.title","Tenants"),_defineProperty(_messages,"clients.name","Public name"),_defineProperty(_messages,"clients.shortName","Short name:"),_defineProperty(_messages,"clients.shortName.formLabel","Short name"),_defineProperty(_messages,"clients.industry","Industry"),_defineProperty(_messages,"clients.address","Address"),_defineProperty(_messages,"clients.address_info","Address Information"),_defineProperty(_messages,"clients.country","Country"),_defineProperty(_messages,"clients.info","Tenant information"),_defineProperty(_messages,"clients.info.general","General information"),_defineProperty(_messages,"clients.info.representatives","Contacts"),_defineProperty(_messages,"clients.user","User"),_defineProperty(_messages,"clients.notes","Internal notes"),_defineProperty(_messages,"clients.state","State"),_defineProperty(_messages,"clients.placeholder.name","Type name here"),_defineProperty(_messages,"clients.placeholder.shortName","Type short name here"),_defineProperty(_messages,"clients.placeholder.notes","Add notes here"),_defineProperty(_messages,"clients.placeholder.description","Add description here"),_defineProperty(_messages,"clients.industry.placeholder","Type to select industry"),_defineProperty(_messages,"clients.country.placeholder","Type to select country"),_defineProperty(_messages,"clients.save","Save"),_defineProperty(_messages,"clients.saving","Saving"),_defineProperty(_messages,"clients.cancel","Cancel"),_defineProperty(_messages,"clients.message.archived","Tenant successfully archived"),_defineProperty(_messages,"clients.message.created","Tenant successfully created"),_defineProperty(_messages,"clients.message.updated","Tenant successfully updated"),_defineProperty(_messages,"clients.view.title","Tenant"),_defineProperty(_messages,"clients.view.notes","Notes"),_defineProperty(_messages,"clients.archive.title","You are going to archive Tenant."),_defineProperty(_messages,"clients.archive.confirmButton","Yes, archive it!"),_defineProperty(_messages,"clients.archived","Archived"),_defineProperty(_messages,"clients.activate","Activate tenant"),_defineProperty(_messages,"clients.activate.title","You are going to activate Tenant."),_defineProperty(_messages,"clients.activate.confirmButton","Yes, activate it!"),_defineProperty(_messages,"clients.edit","Edit"),_defineProperty(_messages,"clients.edit.title","Edit Tenant"),_defineProperty(_messages,"clients.create.title","Create Tenant"),_defineProperty(_messages,"clients.modal.edit.title","Edit Client"),_defineProperty(_messages,"clients.modal.create.title","Create Client"),_defineProperty(_messages,"clients.modal.message.created","Client successfully created"),_defineProperty(_messages,"clients.representatives.new","Contact"),_defineProperty(_messages,"clients.representatives.title","Contacts"),_defineProperty(_messages,"clients.representatives.name","Name"),_defineProperty(_messages,"clients.representatives.email","Email"),_defineProperty(_messages,"clients.representatives.mobilePhone","Mobile phone"),_defineProperty(_messages,"clients.representatives.officePhone","Office phone"),_defineProperty(_messages,"clients.representatives.company","Company"),_defineProperty(_messages,"clients.representatives.position","Designation"),_defineProperty(_messages,"clients.representatives.main","Main"),_defineProperty(_messages,"clients.representatives.personal_details","Personal Details"),_defineProperty(_messages,"clients.representatives.communication_details","Communication Details"),_defineProperty(_messages,"clients.representatives.category","Category"),_defineProperty(_messages,"clients.representatives.category.client","Client"),_defineProperty(_messages,"clients.representatives.category.broker","Broker"),_defineProperty(_messages,"clients.representatives.message.deleted","Contact successfully deleted"),_defineProperty(_messages,"clients.representatives.message.created","Contact successfully created"),_defineProperty(_messages,"clients.representatives.message.updated","Contact successfully updated"),_defineProperty(_messages,"clients.representatives.placeholder.name","Type name here"),_defineProperty(_messages,"clients.representatives.placeholder.email","Type Email here"),_defineProperty(_messages,"clients.representatives.placeholder.mobilePhone","Type Mobile phone here"),_defineProperty(_messages,"clients.representatives.placeholder.officePhone","Type Office phone here"),_defineProperty(_messages,"clients.representatives.placeholder.company","Type Company here"),_defineProperty(_messages,"clients.representatives.placeholder.position","Type designation here"),_defineProperty(_messages,"clients.representatives.modal.header.edit","Edit Contact"),_defineProperty(_messages,"clients.representatives.modal.header.add","Add Contact"),_defineProperty(_messages,"landlords.modal.edit.title","Edit Landlord"),_defineProperty(_messages,"landlords.modal.create.title","Create Landlord"),_defineProperty(_messages,"landlords.modal.message.created","Landlord successfully created"),_defineProperty(_messages,"landlords.new","Tenant"),_defineProperty(_messages,"landlords.title","Tenants"),_defineProperty(_messages,"landlords.name","Public name"),_defineProperty(_messages,"landlords.shortName","Short name:"),_defineProperty(_messages,"landlords.shortName.formLabel","Short name"),_defineProperty(_messages,"landlords.industry","Industry"),_defineProperty(_messages,"landlords.address","Address"),_defineProperty(_messages,"landlords.address_info","Address Information"),_defineProperty(_messages,"landlords.country","Country"),_defineProperty(_messages,"landlords.info","Tenant information"),_defineProperty(_messages,"landlords.info.general","General information"),_defineProperty(_messages,"landlords.info.representatives","Contacts"),_defineProperty(_messages,"landlords.user","User"),_defineProperty(_messages,"landlords.notes","Internal notes"),_defineProperty(_messages,"landlords.placeholder.name","Type name here"),_defineProperty(_messages,"landlords.placeholder.shortName","Type short name here"),_defineProperty(_messages,"landlords.placeholder.notes","Add notes here"),_defineProperty(_messages,"landlords.placeholder.description","Add description here"),_defineProperty(_messages,"landlords.industry.placeholder","Type to select industry"),_defineProperty(_messages,"landlords.country.placeholder","Type to select country"),_defineProperty(_messages,"landlords.save","Save"),_defineProperty(_messages,"landlords.saving","Saving"),_defineProperty(_messages,"landlords.cancel","Cancel"),_defineProperty(_messages,"login.email","Email"),_defineProperty(_messages,"login.password","Password"),_defineProperty(_messages,"login.placeholder.email","Please enter email"),_defineProperty(_messages,"login.placeholder.password","Please enter password"),_defineProperty(_messages,"login.login","Log in"),_defineProperty(_messages,"login.automatic.signout","You were automatically logged off because of inactivity"),_defineProperty(_messages,"forgotpassword.message","Forgot password?"),_defineProperty(_messages,"forgotpassword.comment","Please provide your valid mail id. We will send you an email with instructions on how to reset yout password"),_defineProperty(_messages,"forgotpassword.button","Send to verified email id"),_defineProperty(_messages,"forgotpassword.cancel","Return to sign in"),_defineProperty(_messages,"forgotpassword.email","Email"),_defineProperty(_messages,"forgotpassword.send","If you entered correct email then you'll receive message with instructions to reset your password"),_defineProperty(_messages,"forgotpassword.emailNotValid","Email is not valid"),_defineProperty(_messages,"resetpassword.message","Reset password"),_defineProperty(_messages,"resetpassword.password","Password"),_defineProperty(_messages,"resetpassword.confirmPassword","Confirm password"),_defineProperty(_messages,"resetpassword.button","Reset"),_defineProperty(_messages,"resetpassword.cancel","Return to sign in"),_defineProperty(_messages,"resetpassword.too_short","Password is too short"),_defineProperty(_messages,"resetpassword.not_match","Passwords do not match"),_defineProperty(_messages,"resetpassword.linkNotValid","Provided link is not valid"),_defineProperty(_messages,"resetpassword.ok","Password was successfully reseted"),_defineProperty(_messages,"confirmpassword.button","Skip and return to sign in"),_defineProperty(_messages,"confirmpassword.message","Reset password"),_defineProperty(_messages,"confirmpassword.comment","Your password has been successfully reset. We have sent an email to your account confirming this change"),_defineProperty(_messages,"error.inactive.message","Your invitation is not active or you have provided incorrect token, please contact portal administrator"),_defineProperty(_messages,"stacking-plan.title","Stacking plan"),_defineProperty(_messages,"stacking-plan.empty","There is no stacking plan for this asset"),_defineProperty(_messages,"stacking-plan.towers","Towers"),_defineProperty(_messages,"stacking-plan.space.details","Unit details"),_defineProperty(_messages,"stacking-plan.space.options","Options"),_defineProperty(_messages,"stacking-plan.space.deals","Deals"),_defineProperty(_messages,"stacking-plan.view.actual","Actual"),_defineProperty(_messages,"stacking-plan.view.normalized","Normalized"),_defineProperty(_messages,"stacking-plan.legend.vacant","Vacant"),_defineProperty(_messages,"stacking-plan.legend.available","Available"),_defineProperty(_messages,"stacking-plan.legend.lease.expiration","Lease Expiration"),_defineProperty(_messages,"stacking-plan.expires","Exp"),_defineProperty(_messages,"stacking-plan.expires.2","Expires"),_defineProperty(_messages,"stacking-plan.expired","Expired"),_defineProperty(_messages,"stacking-plan.unit","UNIT"),_defineProperty(_messages,"stacking-plan.nospaces","no spaces"),_defineProperty(_messages,"stacking-plan.details.unit","Unit"),_defineProperty(_messages,"stacking-plan.details.rentable","Rentable Area"),_defineProperty(_messages,"stacking-plan.details.areatype","Area type"),_defineProperty(_messages,"stacking-plan.details.clientname","Client name"),_defineProperty(_messages,"stacking-plan.details.industry","Industry"),_defineProperty(_messages,"stacking-plan.details.leases","In-place leases"),_defineProperty(_messages,"stacking.plan.details.lease.start","Lease Start Date"),_defineProperty(_messages,"stacking.plan.details.lease.end","Lease End Date"),_defineProperty(_messages,"stacking.plan.details.cost.totalmonth","Total month cost"),_defineProperty(_messages,"stacking-plan.details.cost.inplace-rent","In-place rent"),_defineProperty(_messages,"stacking.plan.details.cost.netrent","Net Rent"),_defineProperty(_messages,"stacking.plan.details.cost.additional","Additional costs"),_defineProperty(_messages,"stacking.plan.details.cost.other","Other costs"),_defineProperty(_messages,"stacking.plan.details.cost.vat","VAT costs"),_defineProperty(_messages,"rent-rollover.title","Rent rollover"),_defineProperty(_messages,"rent-rollover.chart.title","Rent rollover chart"),_defineProperty(_messages,"rent-rollover.chart.series","Expiration by quarter"),_defineProperty(_messages,"rent-rollover.tooltip.totalArea","Rent roll"),_defineProperty(_messages,"rent-rollover.tooltip.tenant","Tenant name"),_defineProperty(_messages,"rent-rollover.tooltip.tower","Tower name"),_defineProperty(_messages,"rent-rollover.tooltip.floor","Floor number"),_defineProperty(_messages,"rent-rollover.tooltip.unit","Unit"),_defineProperty(_messages,"rent-rollover.tooltip.area","Rentable Area"),_defineProperty(_messages,"rent-rollover.tooltip.expiration","Expiration"),_defineProperty(_messages,"rent-rollover.tooltip.and","And"),_defineProperty(_messages,"rent-rollover.tooltip.more","more"),_defineProperty(_messages,"registration.username","Username"),_defineProperty(_messages,"registration.password","Password"),_defineProperty(_messages,"registration.confirmPassword","Repeat Password"),_defineProperty(_messages,"registration.displayName","Display Name"),_defineProperty(_messages,"registration.submit","Register"),_defineProperty(_messages,"registration.cancel","Cancel"),_defineProperty(_messages,"registration.saving","Processing"),_defineProperty(_messages,"registration.phone","Mobile Phone"),_defineProperty(_messages,"registration.placeholder.phone","Mobile Phone"),_defineProperty(_messages,"address.autoComplete","Try to find address:"),_defineProperty(_messages,"address.manually","Or specify it manually:"),_defineProperty(_messages,"address.streetAddress","Street Address:"),_defineProperty(_messages,"address.postCode","Post Code:"),_defineProperty(_messages,"address.country","Country"),_defineProperty(_messages,"address.city","City:"),_defineProperty(_messages,"address.street","Street:"),_defineProperty(_messages,"address.placeholder.country","Select country"),_defineProperty(_messages,"address.placeholder.city","ex. Munich"),_defineProperty(_messages,"address.placeholder.street","ex.  Willy Brandt Straße"),_defineProperty(_messages,"address.placeholder.streetAddress","ex. 25"),_defineProperty(_messages,"address.placeholder.postCode","ex. 10117"),_defineProperty(_messages,"address.validation.countryRequired","Country required"),_defineProperty(_messages,"markets.name","Name"),_defineProperty(_messages,"markets.new","New Market"),_defineProperty(_messages,"markets.title","Markets"),_defineProperty(_messages,"markets.message.created","Market successfully created"),_defineProperty(_messages,"markets.message.updated","Market successfully updated"),_defineProperty(_messages,"markets.message.deleted","Market successfully deleted"),_defineProperty(_messages,"dashboard.title","Dashboard"),_defineProperty(_messages,"dashboard.assets.map","Assets map"),_defineProperty(_messages,"dashboard.assets.list","Assets"),_defineProperty(_messages,"dashboard.assets.list.serach.placeholder","Search within your portfolio.."),_defineProperty(_messages,"dashboard.assets.table.name","Asset name"),_defineProperty(_messages,"dashboard.assets.table.total","Total rentable"),_defineProperty(_messages,"dashboard.assets.table.vacanсу","Vacancy"),_defineProperty(_messages,"dashboard.assets.empty","No assets available"),_defineProperty(_messages,"dashboard.rent_rollovert_chart","Rent Rollover chart"),_defineProperty(_messages,"dashboard.rent_rollovert_chart.series","Expiration by quarter"),_defineProperty(_messages,"dashboard.deal_viewing_chart","Tours"),_defineProperty(_messages,"dashboard.deal_viewing_chart.series","Viewed deals"),_defineProperty(_messages,"dashboard.deal_viewing_chart.header.tenant","Tenant"),_defineProperty(_messages,"dashboard.deal_viewing_chart.header.asset","Asset"),_defineProperty(_messages,"dashboard.deal_viewing_chart.header.area","Area"),_defineProperty(_messages,"dashboard.tenant_exposure","Tenant Exposure by industry"),_defineProperty(_messages,"dashboard.tenant_exposure.industry.other","Other"),_defineProperty(_messages,"dashboard.tenant_exposure.industry.notset","Unspecified"),_defineProperty(_messages,"dashboard.tenant_exposure.tooltip.total","Total"),_defineProperty(_messages,"dashboard.funnel-chart.inquiry","Inquiry"),_defineProperty(_messages,"dashboard.funnel-chart.viewing","Viewing"),_defineProperty(_messages,"dashboard.funnel-chart.negotiating","Negotiating"),_defineProperty(_messages,"dashboard.funnel-chart.executed","Executed"),_defineProperty(_messages,"dashboard.funnel-chart.underOffer","Under Offer"),_defineProperty(_messages,"dashboard.funnel_deals_chart","Funnel Chart"),_defineProperty(_messages,"dashboard.vacancy_chart","Availability Chart"),_defineProperty(_messages,"dashboard.vacancy_chart.series","Availabile Area"),_defineProperty(_messages,"dashboard.filter.assets","Assets"),_defineProperty(_messages,"dashboard.filter.markets","Markets"),_defineProperty(_messages,"dashboard.filter.cities","Cities"),_defineProperty(_messages,"contracts.edit.dates.title","Edit Contract Details"),_defineProperty(_messages,"contracts.edit.dates.start-date","Contract Start Date"),_defineProperty(_messages,"contracts.edit.dates.end-date","Contract End Date"),_defineProperty(_messages,"contracts.edit.dates.deal-executed-date","Deal Executing Date"),_defineProperty(_messages,"contracts.edit.dates.placeholder.start-date","Select Start Date"),_defineProperty(_messages,"contracts.edit.dates.placeholder.end-date","Select End Date"),_defineProperty(_messages,"contracts.edit.renewal_strategy","Renewal Strategy"),_defineProperty(_messages,"contracts.edit.renewal_strategy.placeholder","Please select renewal strategy"),_defineProperty(_messages,"contracts.edit.dates.save","Save"),_defineProperty(_messages,"contracts.edit.dates.cancel","Cancel"),_defineProperty(_messages,"contracts.edit.dates.saving","Processing"),_defineProperty(_messages,"contracts.edit.dates.message.updated","Contract successfully updated"),_defineProperty(_messages,"contracts.edit.dates.validation.startDateInvalid","Start Date must be less than End Date"),_defineProperty(_messages,"contracts.edit.space.title","Contract Details"),_defineProperty(_messages,"contracts.edit.space.in-pace-rent","In-Place Rent"),_defineProperty(_messages,"contracts.edit.space.placeholder.in-pace-rent","Type In-Place Rent here"),_defineProperty(_messages,"contracts.edit.space.additional-cost","Additional Costs"),_defineProperty(_messages,"contracts.edit.space.placeholder.additional-cost","Type Additional Costs here"),_defineProperty(_messages,"contracts.edit.space.save","Save"),_defineProperty(_messages,"contracts.edit.space.cancel","Cancel"),_defineProperty(_messages,"contracts.edit.space.saving","Processing"),_defineProperty(_messages,"contracts.edit.space.message.updated","Contract successfully updated"),_defineProperty(_messages,"contracts.create.title","New Tenant"),_defineProperty(_messages,"contracts.tenant.details.title","Tenant Details"),_defineProperty(_messages,"contracts.lease.details.title","Lease Details"),_defineProperty(_messages,"contracts.space.header","SPACE"),_defineProperty(_messages,"contracts.spaces.details.title","Confirm Space details"),_defineProperty(_messages,"contracts.spaces.asset.header","Asset-Building Name"),_defineProperty(_messages,"contracts.spaces.space.header","Select Space"),_defineProperty(_messages,"contracts.spaces.spaceType.header","Space Type"),_defineProperty(_messages,"contracts.spaces.area.header","Rentable Area"),_defineProperty(_messages,"contracts.spaces.price.header","In-Place Rent"),_defineProperty(_messages,"contracts.spaces.netRent.header","Net Rent"),_defineProperty(_messages,"contracts.spaces.add-button","Add"),_defineProperty(_messages,"contracts.spaces.remove-button","Remove"),_defineProperty(_messages,"contracts.spaces.asset","Asset"),_defineProperty(_messages,"contracts.message.created","Contract succesfully created"),_defineProperty(_messages,"contracts.endDate.validation","End Date must be greater then Start Date"),_defineProperty(_messages,"deals.title","Deals"),_defineProperty(_messages,"deals.list.empty","There are no deals"),_defineProperty(_messages,"deals.list.header.name","Client Name"),_defineProperty(_messages,"deals.list.header.contact","Contact"),_defineProperty(_messages,"deals.list.header.stage","Deal Stage"),_defineProperty(_messages,"deals.list.header.lastStage","Last Deal Stage"),_defineProperty(_messages,"deals.list.header.start_date","Start Date"),_defineProperty(_messages,"deals.list.header.requirement","Requirements"),_defineProperty(_messages,"deals.list.header.spaces","Building & Spaces"),_defineProperty(_messages,"deals.list.header.lastUpdate","Last Update"),_defineProperty(_messages,"deals.list.header.lastActivityDate","Last Activity Date"),_defineProperty(_messages,"deals.list.header.outcome","Outcome"),_defineProperty(_messages,"deals.list.header.reason","Reason"),_defineProperty(_messages,"deals.list.header.notes","Notes"),_defineProperty(_messages,"deals.list.header.dateDead","Dead Date"),_defineProperty(_messages,"deals.list.header.dateExecuted","Executed Date"),_defineProperty(_messages,"deals.list.header.dealLead","Deal Lead"),_defineProperty(_messages,"deals.list.options.showlessbutton","...less"),_defineProperty(_messages,"deals.list.options.showmorebutton","more..."),_defineProperty(_messages,"deals.list.contacts.showlessbutton","...less"),_defineProperty(_messages,"deals.list.contacts.showmorebutton","more..."),_defineProperty(_messages,"deals.list.contacts.company","Company"),_defineProperty(_messages,"deals.list.contacts.email","Email ID"),_defineProperty(_messages,"deals.list.contacts.mobileno","Mobile no."),_defineProperty(_messages,"deals.list.contacts.officeno","Office no."),_defineProperty(_messages,"deals.list.unittypes.showlessbutton","...less"),_defineProperty(_messages,"deals.list.unittypes.showmorebutton","more..."),_defineProperty(_messages,"deals.status","Status"),_defineProperty(_messages,"deals.status.message","Deal stage successfully updated"),_defineProperty(_messages,"deals.edit","Edit deal"),_defineProperty(_messages,"deals.add","Create deal"),_defineProperty(_messages,"deals.saving","Saving"),_defineProperty(_messages,"deals.save","Save"),_defineProperty(_messages,"deals.cancel","Cancel"),_defineProperty(_messages,"deals.markets","Market"),_defineProperty(_messages,"deals.markets.placeholder","Type to search for market"),_defineProperty(_messages,"deals.client","Client"),_defineProperty(_messages,"deals.client.placeholder","Type to search for client"),_defineProperty(_messages,"deals.client.add","+ Add New"),_defineProperty(_messages,"deals.dealLead","Deal Lead"),_defineProperty(_messages,"deals.dealLead.placeholder","Type to search for user"),_defineProperty(_messages,"deals.spaceTypes","Area types"),_defineProperty(_messages,"deals.spaceTypes.placeholder","Type to search for area types"),_defineProperty(_messages,"deals.dealType","Deal type"),_defineProperty(_messages,"deals.dealType.placeholder","Select deal type"),_defineProperty(_messages,"deals.start_date","Start Date"),_defineProperty(_messages,"deals.start_date.placeholder","mm/dd/yyyy"),_defineProperty(_messages,"deals.area_required","Area required"),_defineProperty(_messages,"deals.area.range","Range"),_defineProperty(_messages,"deals.area.discrete","Discrete"),_defineProperty(_messages,"deals.area.min","Min"),_defineProperty(_messages,"deals.area.max","Max"),_defineProperty(_messages,"deals.area.discrete.placeholder","Specify required area"),_defineProperty(_messages,"deals.message.created","Deal successfully created"),_defineProperty(_messages,"deals.message.updated","Deal successfully updated"),_defineProperty(_messages,"deals.message.contact_added","Deal contact successfully added"),_defineProperty(_messages,"deals.message.contact_removed","Deal contact successfully removed"),_defineProperty(_messages,"deals.message.attachment_uploaded","File successfully uploaded"),_defineProperty(_messages,"deals.message.attachment.error","Error loading file {0}. Maximum file size is {1} byte"),_defineProperty(_messages,"deals.message.option_deleted","Option successfully deleted"),_defineProperty(_messages,"deals.message.options_updated","Options successfully updated"),_defineProperty(_messages,"deals.filter.status.active","Active"),_defineProperty(_messages,"deals.filter.status.executed","Executed"),_defineProperty(_messages,"deals.filter.status.dead","Dead"),_defineProperty(_messages,"deals.filter.stage.inquiry","Inquiry"),_defineProperty(_messages,"deals.filter.stage.viewing","Viewing"),_defineProperty(_messages,"deals.filter.stage.negotiating","Negotiating"),_defineProperty(_messages,"deals.filter.stage.underoffer","Under Offer"),_defineProperty(_messages,"deals.filter.status.title","Filter deals by current status"),_defineProperty(_messages,"deals.filter.markets","Markets"),_defineProperty(_messages,"deals.filter.cities","Cities"),_defineProperty(_messages,"deals.filter.leadUsers","Deal Leads"),_defineProperty(_messages,"deals.filter.leadUsers.prefix","Lead"),_defineProperty(_messages,"deals.options.title","Selected buildings & spaces"),_defineProperty(_messages,"deals.options.add-button","Add"),_defineProperty(_messages,"deals.options.edit-button","Edit"),_defineProperty(_messages,"deals.options.save-button","Save"),_defineProperty(_messages,"deals.options.cancel-button","Cancel"),_defineProperty(_messages,"deals.optionsform.title","Add Buildings And Spaces"),_defineProperty(_messages,"deals.optionsform.saving","Saving"),_defineProperty(_messages,"deals.optionsform.save","Save"),_defineProperty(_messages,"deals.optionsform.cancel","Cancel"),_defineProperty(_messages,"deals.optionsform.select","Select"),_defineProperty(_messages,"deals.optionsform.combine","Combine"),_defineProperty(_messages,"deals.optionsform.search.help","Search"),_defineProperty(_messages,"deals.optionsform.available","Available"),_defineProperty(_messages,"deals.optionsform.available.title","Total selected area"),_defineProperty(_messages,"deals.optionsform.available.table.unit","Unit"),_defineProperty(_messages,"deals.optionsform.available.table.area","Area"),_defineProperty(_messages,"deals.optionsform.available.table.floor","Floor"),_defineProperty(_messages,"deals.optionsform.available.table.availability","Availability"),_defineProperty(_messages,"deals.optionsform.selected.title","List of selected available options"),_defineProperty(_messages,"deals.optionsform.noptions","There are no spaces matching deal criteria"),_defineProperty(_messages,"deals.filter.extra","Extra filters"),_defineProperty(_messages,"deals.filter.industry","Industry"),_defineProperty(_messages,"deals.filter.type","Unit Type"),_defineProperty(_messages,"deals.filter.apply","Save"),_defineProperty(_messages,"deals.filter.cancel","Cancel"),_defineProperty(_messages,"deals.filter.area","Area required"),_defineProperty(_messages,"deals.filter.area_from","Required Area From"),_defineProperty(_messages,"deals.filter.area_to","Required Area To"),_defineProperty(_messages,"deals.details","Deal details"),_defineProperty(_messages,"deals.filter.area_type","Area Type"),_defineProperty(_messages,"deals.filter.deal_type","Deal Type"),_defineProperty(_messages,"deals.filter.range","Range"),_defineProperty(_messages,"deals.filter.discrete","Discrete"),_defineProperty(_messages,"deals.filter.from","From"),_defineProperty(_messages,"deals.filter.to","To"),_defineProperty(_messages,"deals.filter.assets","Assets"),_defineProperty(_messages,"deals.attachments.title","Attachments"),_defineProperty(_messages,"deals.attachments.add-button","Attach"),_defineProperty(_messages,"deals.attachments.showmorebutton","Show more"),_defineProperty(_messages,"deals.attachments.showlessbutton","Show less"),_defineProperty(_messages,"deals.contacts.title","Contact details"),_defineProperty(_messages,"deals.contact.placeholder","Search and Add from existing contacts"),_defineProperty(_messages,"deals.dead.title","Dead Deal Details"),_defineProperty(_messages,"deals.dead.outcome","Outcome"),_defineProperty(_messages,"deals.dead.date","Dead date"),_defineProperty(_messages,"deals.dead.reason","Reason"),_defineProperty(_messages,"deals.dead.notes","Notes"),_defineProperty(_messages,"deals.dead.label","Mark as dead"),_defineProperty(_messages,"deals.dead.outcome.placeholder","Select Outcome"),_defineProperty(_messages,"deals.dead.reason.placeholder","Select Reason"),_defineProperty(_messages,"deals.comments.title","Comments"),_defineProperty(_messages,"deals.logs.title","Log history"),_defineProperty(_messages,"deals.logs.nologs","No history logs"),_defineProperty(_messages,"deals.delete.label","Delete"),_defineProperty(_messages,"deals.delete.cancel","Cancel"),_defineProperty(_messages,"deals.delete.save","Delete"),_defineProperty(_messages,"deals.delete.message","Are you sure you want to delete the deal"),_defineProperty(_messages,"deals.delete.title","Confirm Delete"),_defineProperty(_messages,"deals.delete.success","Deal successfully deleted"),_defineProperty(_messages,"deals.executed.header","Executed Terms"),_defineProperty(_messages,"deals.executed.nodata","No Executed Terms"),_defineProperty(_messages,"deals.executed.startDate","Start Date"),_defineProperty(_messages,"deals.executed.endDate","End Date"),_defineProperty(_messages,"deals.executed.executedDate","Date Executed"),_defineProperty(_messages,"deals.executed.term","Term"),_defineProperty(_messages,"deals.executed.size","Size"),_defineProperty(_messages,"deals.executed.spaces","Spaces"),_defineProperty(_messages,"deals.executed.permanent","PERM"),_defineProperty(_messages,"marketplace.clients.filter.active","Active"),_defineProperty(_messages,"marketplace.clients.filter.past","Past"),
_defineProperty(_messages,"marketplace.clients.filter.all","All"),_defineProperty(_messages,"marketplace.clients.header.tenant","Company"),_defineProperty(_messages,"marketplace.clients.header.industry","Industry"),_defineProperty(_messages,"marketplace.clients.header.activeDealsNumber","Active Deals"),_defineProperty(_messages,"marketplace.clients.header.pastDealsNumber","Past Deals"),_defineProperty(_messages,"marketplace.clients.header.allDealsNumber","Deals"),_defineProperty(_messages,"marketplace.clients.header.activeDealsArea","Active Area"),_defineProperty(_messages,"marketplace.clients.header.pastDealsArea","Past Area"),_defineProperty(_messages,"marketplace.clients.header.allDealsArea","Area"),_defineProperty(_messages,"marketplace.clients.header.lastUpdated","Last Updated"),_defineProperty(_messages,"marketplace.clients.panel.section.nodata","No Data"),_defineProperty(_messages,"marketplace.clients.panel.general.header","General Info"),_defineProperty(_messages,"marketplace.clients.panel.general.fullName","Full Name"),_defineProperty(_messages,"marketplace.clients.panel.general.shortName","Short Name"),_defineProperty(_messages,"marketplace.clients.panel.general.countryName","Country"),_defineProperty(_messages,"marketplace.clients.panel.general.address","Address"),_defineProperty(_messages,"marketplace.clients.panel.general.industry","Industry"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.header","Active Deals"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.dealStage","Deal Stage"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.startDate","Start Date"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.requirement","Requirement"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.buildings","Building & Spaces"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.lastUpdate","Last Update"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.nodata","No Active Deals"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.header","Executed Deals"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.leaseEndDate","Lease End Date"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.requirement","Requirement"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.buildings","Building & Spaces"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.lastUpdate","Last Update"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.nodata","No Executed Deals"),_defineProperty(_messages,"marketplace.clients.panel.contacts.header","Contacts"),_defineProperty(_messages,"marketplace.clients.panel.contacts.contact","Point of contacts"),_defineProperty(_messages,"marketplace.clients.panel.contacts.company","Company name"),_defineProperty(_messages,"marketplace.clients.panel.contacts.not_specified","Contact details not specified"),_defineProperty(_messages,"marketplace.clients.panel.contacts.email","Email"),_defineProperty(_messages,"marketplace.clients.panel.contacts.mobilephone","Mobile phone"),_defineProperty(_messages,"marketplace.clients.panel.contacts.officephone","Office phone"),_defineProperty(_messages,"marketplace.clients.panel.showlessbutton","...less"),_defineProperty(_messages,"marketplace.clients.panel.showmorebutton","more..."),_defineProperty(_messages,"areas.portfolio","PORTFOLIO"),_defineProperty(_messages,"areas.marketplace","MARKETPLACE"),_defineProperty(_messages,"areas.competetive_insights","COMPETETIVE INSIGHTS"),_defineProperty(_messages,"sidebar.marketplace_dashboard","Dashboard"),_defineProperty(_messages,"sidebar.marketplace_units","Units"),_defineProperty(_messages,"sidebar.marketplace_deals","Deals"),_defineProperty(_messages,"sidebar.marketplace_clients","Clients"),_defineProperty(_messages,"sidebar.compinsights_competitions","Competitions"),_defineProperty(_messages,"sidebar.compinsights_buildings","Buildings"),_defineProperty(_messages,"marketplace.dashboard.topbar.total","Total"),_defineProperty(_messages,"marketplace.dashboard.topbar.inquiry","Inquiry"),_defineProperty(_messages,"marketplace.dashboard.topbar.viewing","Viewing"),_defineProperty(_messages,"marketplace.dashboard.topbar.negotiating","Negotiating"),_defineProperty(_messages,"marketplace.dashboard.topbar.underoffer","Under Offer"),_defineProperty(_messages,"marketplace.dashboard.topbar.executed","Executed"),_defineProperty(_messages,"marketplace.dashboard.empty","There is no deals present"),_defineProperty(_messages,"marketplace.dashboard.activity_stats","Activity Statistics"),_defineProperty(_messages,"marketplace.dashboard.top_inquiries","Top Inquiries"),_defineProperty(_messages,"marketplace.dashboard.top_actives","Top Actives"),_defineProperty(_messages,"stats.deals.total","Total Deals"),_defineProperty(_messages,"stats.deals.inquiry","Inquiry"),_defineProperty(_messages,"stats.deals.viewing","Viewing"),_defineProperty(_messages,"stats.deals.negotiating","Negotiating"),_defineProperty(_messages,"stats.deals.underOffer","Under Offer"),_defineProperty(_messages,"stats.deals.newdeals","New Deals"),_defineProperty(_messages,"stats.deals.renewal","Renewals"),_defineProperty(_messages,"stats.deals.label","Deals"),_defineProperty(_messages,"stats.deals.ofTLA","Of TLA"),_defineProperty(_messages,"stats.deals.closeTime","Time to close"),_defineProperty(_messages,"stats.deals.startingRent","Starting Rent"),_defineProperty(_messages,"stats.deals.outcomeComplitingSpace","Compliting Space"),_defineProperty(_messages,"stats.deals.outcomeRequirement","Requirement"),_defineProperty(_messages,"stats.deals.outcomeTenant","Tenant"),_defineProperty(_messages,"stats.deals.outcomeOther","Other"),_defineProperty(_messages,"stats.deals.reasonLocation","Location"),_defineProperty(_messages,"stats.deals.reasonPrice","Price"),_defineProperty(_messages,"stats.deals.reasonQuality","Quality"),_defineProperty(_messages,"stats.deals.reasonOther","Other"),_defineProperty(_messages,"stats.tenants.leases","Leases"),_defineProperty(_messages,"stats.tenants.area","Area"),_defineProperty(_messages,"stats.tenants.walt","WALT"),_messages),result=messages[messageId];return result?result:"<<<<Missing "+messageId+" >>>>"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Messages},function(module,exports){"use strict";function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Messages(messageId){var _messages,messages=(_messages={confirmation:"Sind Sie sicher?",actions:"Aktionen",administrator:"Administrator",broker:"Makler","square.meter":"m<sup>2</sup>","validation.required":"Dieses Feld ist notwendig","validation.email":"Bitte geben Sie eine gültige E-Mail-Adresse ein.","validation.maxLength":"Zu viele Zeichen","validation.phone":"[DEU] Only digits, whitespaces, plus and minus signs are allowed","validation.mobilePhone":"[DEU] Mobile phone number contains 11 digits","validation.shortPassword":"Ihr Passwort muss mindestens 6 Zeichen lang sein","validation.passwordsNotMatch":"Die Passwörter stimmen nicht überein.","validation.date":"[DEU] Enter a valid date","validation.positiveValue":"[DEU] Value must ge positive or 0","validation.GTE0Value":"[DEU] Value must greater than 0","indicator.waiting":"Bitte warten ...","country.germany":"Deutschland","country.austria":"Österreich","country.switzerland":"Schweiz","country.france":"Frankreich","paymentPeriod.monthly.title":"pro Monat","paymentPeriod.annual.title":"pro Jahr","paymentPeriod.monthly.short":"Mo.","paymentPeriod.annual.short":"Jr.","state.unknown":"Unbekannt","state.pending":"Unerledigt","state.active":"Aktiv","state.archived":"Archiviert","filters.extra":"Filter","mainheader.settings.product":"Produkteinstellungen","mainheader.settings.notification":"Benachrichtigungseinstellungen","mainheader.settings.account":"Account-Einstellungen","mainheader.language":"Sprache","mainheader.signout":"Abmelden","mainheader.add.deal":"Deal","mainheader.add.tenant":"Mietvertrag","mainheader.add.space":"Einheit","mainheader.add.asset":"Objekt","mainheader.add.user":"Nutzer","mainheader.add.broker":"Broker","sidebar.brokers":"Asset Manager","sidebar.users":"Benutzer","sidebar.assets":"Objekte","sidebar.clients":"Mieter","sidebar.spaces":"Flächen","sidebar.stackingplan":"Belegungsplan","sidebar.markets":"Markets","sidebar.dashboard":"Dashboard","sidebar.deals":"Deals","sidebar.rollover":"Rent rollover","image.cropper.title":"Bild hochladen","image.cropper.save":"Speichern","image.cropper.saving":"Speichert","image.cropper.cancel":"Abbrechen","image.cropper.addbutton":"Hochladen","image.cropper.placeholder.empty":"Drag and drop image here","brokers.new":"Asset Manager","brokers.title":"Asset Manager","brokers.title.general":"Allgemeine Attribute","broker.info.title":"Asset Manager Informationen","brokers.name":"Anzeigename","brokers.address":"Offizielle Adresse","brokers.state":"Staat","brokers.currency":"Währung","brokers.message.deleted":"Asset Manager wurde erfolgreich archiviert","brokers.message.created":"Asset Manager wurde erfolgreich erstellt","brokers.message.updated":"Asset Manager wurde erfolgreich aktualisiert","brokers.message.activated":"Asset Manager wurde erfolgreich aktiviert","brokers.placeholder.name":"Bsp. Colliers International","brokers.placeholder.address":"Bsp. Alter Weg 110 a, 12345 Musterdorf","brokers.save":"Speichern","brokers.cancel":"Abbrechen","brokers.create":"Neu","brokers.saving":"Speichernd","brokers.archive":"Archiviere Asset Manager","brokers.archive.title":"Sie werden den Asset Manager archivieren, their employees will not be able to use Tower360 anymore.","brokers.archive.confirmButton":"Ja, archiviere!","brokers.archived":"Archiviert","brokers.activate":"Aktive Asset Manager","brokers.activate.title":"Sie werden den Asset Manager aktivieren","brokers.activate.confirmButton":"Ja, aktiviere es!","brokers.edit":"Editieren","brokers.edit.title":"Editiere Asset Manager","brokers.create.title":"Erstelle Asset Manager","brokers.projects":"Projekte","brokers.messages":"Nachrichten","brokers.views":"Abrufe","brokers.additional.container":"Behälter für zusätzliche Informationen","brokers.gallery.message.deleted":"[DEU] Broker image successfully deleted","brokers.gallery.message.added":"[DEU] Broker image successfully added","brokers.paymentPeriod":"Zahlungszeitraum","users.new":"Benutzer","users.title":"Benutzer","users.title.general":"Allgemeine Attribute","users.info.title":"Benutzerinformationen","users.email":"Email","users.displayname":"Anzeigename","users.state":"Staat","users.locale":"[DEU] Locale","users.broker":"Verbinden mit","users.broker.help":"Selektioniere Asset Manager wo diese Person arbeitet","users.role":"Portalrolle","users.role.help":"Wählen Sie die die Benutzerrolle aus","users.message.created":"Benutzer erfolgreich eingeladen","users.message.updated":"Benutzer erfolgreich aktualisiert","users.message.archived":"Benutzer erfolgreich aktualisiert","users.message.activated":"Benutzer erfolgreich archiviert","users.placeholder.email":"Email","users.placeholder.displayname":"Bsp. Mathias Kohler","users.placeholder.currentPassword":"Aktuelles Kennwort","users.placeholder.newPassword":"Neues Kennwor","users.placeholder.confirmPassword":"Bestätige Kennwort","users.images.add":"Selektioniere Bild","users.invite":"Einladen","users.save":"Speichern","users.saving":"Speichert","users.cancel":"Abbrechen","users.create":"Neuen Benutzer einladen","users.archive":"Archiviere Benutzer","users.archive.title":"Sie werden den Benutzer archivieren. Der Benutzer wird nicht mehr Tower360 benutzen können.","users.archive.confirmButton":"Archivieren","users.archived":"Archiviert","users.activate":"Aktiviere den Benutzer","users.activate.title":"Sie werden den Benutzer aktivieren. Der Benutzer wird Tower360 benutzen können.","users.activate.confirmButton":"Ja, aktiviere den Benutzer","users.edit":"Bearbeiten","users.edit.title":"Bearbeite Benutzer","users.create.title":"Erstelle Benutzer","users.projects":"Projekte","users.messages":"Nachrichten","users.views":"Abrufe","users.additional.container":"Feld für Zusatzinformationen","users.changePassword":"Kennwortänderung","users.changePassord.title":"Kennwortänderung","users.currentPassword":"Aktuelles Kennwort","users.newPassword":"Neues Kennwort","users.confirmPassword":"Bestätige Kennwort","users.changingPasswordBtn":"Kennwort wird geändert","users.changePasswordBtn":"Ändere","users.changePassword.failed":"Wir konnten Ihr Passwort nicht ändern, Versuchen Sie es später nochmals.","users.changePassword.success":"Ihr Kennwort wurde geändert","users.invitations.operation.resend":"Erneut senden","users.invitations.table.timestamp":"[DEU] Sent at","users.invitations.operation.success":"Einladung wurde erfolgreich gesendet","users.phone":"[DEU] Mobile Phone","users.placeholder.phone":"[DEU] Mobile Phone","assets.new":"Neues Objekt","assets.add":"Objekt kreieren","assets.edit":"Objekt editieren","assets.title":"Objekte","assets.title.address":"Adressangaben","assets.title.other":"Sonstiges","assets.name":"Objekt Name","assets.state":"Staat","assets.address":"Adresse","assets.country":"Land","assets.city":"Stadt","assets.city.help":"Bsp. Hamburg","assets.street":"Strasse","assets.street.help":"Bsp. Fishertwiete","assets.building":"Gebäude","assets.building.help":"Bsp. 12A","assets.brokerDatabaseRecordId":"Broker ID in der Datenbank","assets.brokerDatabaseRecordId.help":"[DEU] Optionally specify ID in Broker database","assets.brokerDatabaseRecordId.errorLength":"[DEU] Id cannot be longer than 10 letters","assets.floorCount":"Geschoss","assets.filter.extra":"Extra Filter","assets.filter.title":"Bezirk filtern","assets.filter.search.placeholder":"Objektname oder Adresse suchen..","assets.floors.label":"Geschoss & Flächen","assets.floors.configure":"Konfigurieren","assets.floors.title":"Geschoss","assets.floors.number":"Nummer","assets.floors.description":"Beschreibung","assets.floors.assetobject":"Gebäude","assets.floors.addrange":"Geschoss Abgrenzung","assets.floors.addbutton":"Hinzufügen","assets.floors.cancelbutton":"Abbrechen","assets.floors.range.modal.title":"Spannweite hinzufügen","assets.floors.range.title":"Bitte geben Sie die Anzahl von Geschössen an. Die werden am Ende der Liste hinzugefügt.","assets.floors.range.field":"Wieviel Etagen werden hinzugefügt","assets.floors.range.checkbox":"Numeriere automatisch","assets.floors.range.checkbox.help":"[DEU] Enable this button of you want to numerate floors automatically by numbers","assets.floors.deleted":"Stockwerk erfolgreich gelöscht","assets.floors.created":"Stockwerk erfolgreich kreeirt","assets.floors.updated":"Stockwerk erfolgreich erneuert","assets.floors.delete.title":"[DEU] You are going to delete floor with all units, this floor will not be able use Tower360 anymore.","assets.floors.delete.confirmButton":"Ja, bitte löschen!","assets.spaces.modal.title":"Einheit hinzufügen","assets.spaces.modal.edit.title":"Einheit editieren","assets.spaces.unit.details":"Einheit details","assets.spaces.title":"Einheiten","assets.spaces.unit":"Einheit","assets.spaces.office":"Büro","assets.spaces.number":"Einheitnummer","assets.spaces.type":"Type","assets.spaces.details.type":"[DEU] Area type","assets.spaces.asset":"Objekt","assets.spaces.floor":"Etagennummer","assets.spaces.assetobject":"Gebäude","assets.spaces.rentableArea":"Mietfläche","assets.spaces.availability":"Verfügbarkeit","assets.spaces.marketingDescription":"Marketing Beschreibung","assets.spaces.notes":"Interne Notizen","assets.spaces.minAskingPrice":"Mindestpreis","assets.spaces.maxAskingPrice":"Höchstpreis","assets.spaces.askingPrice":"Angebotspreis","assets.spaces.placeholder.asset":"Objekt auswählen","assets.spaces.placeholder.assetobject":"Objekt auswählen","assets.spaces.placeholder.floor":"Stockwerk auswählen","assets.spaces.placeholder.type":"Einheit auswählen","assets.spaces.placeholder.number":"Geben Sie die Einheitnummer hier ein","assets.spaces.placeholder.rentableArea":"Geben Sie den Mietflächenwert hier ein","assets.spaces.placeholder.availability":"Verfügbarkeits Art angeben","assets.spaces.placeholder.availability.date":"Verfügbarkeitsdatum angeben","assets.spaces.placeholder.marketingDescription":"Geben Sie die Marketingbeschreibung hier ein","assets.spaces.placeholder.notes":"Interne Notizen","assets.spaces.placeholder.minAskingPrice":"Min","assets.spaces.placeholder.maxAskingPrice":"Max","assets.spaces.saving":"Speichern","assets.spaces.save":"Speichern","assets.spaces.cancel":"Abbrechen","assets.spaces.add":"Fläche","assets.spaces.deleted":"Fläche wurde erfolgreich gelöscht","assets.spaces.created":"Fläche wurde erfolgreich kreiert","assets.spaces.updated":"Fläche wurde erfolgreich aktualisiert","assets.spaces.delete.title":"Sie werden diese Fläche löschen. Diese Fläche wird nicht mehr in Tower360 ersichtlich werden.","assets.spaces.delete.confirmButton":"Ja, löschen Sie die Fläche!","assets.spaces.validation.maxAskingPrice":"Der höchstpreis muss grösser als der Mindestpreis sein"},_defineProperty(_messages,"assets.spaces.availability","Verfügbarkeit"),_defineProperty(_messages,"assets.spaces.asking_price","Angebotspreis"),_defineProperty(_messages,"assets.spaces.tenant_name","Mietername"),_defineProperty(_messages,"assets.spaces.in_place_rent","€/m²"),_defineProperty(_messages,"assets.spaces.net_rent","Nettomiete"),_defineProperty(_messages,"assets.spaces.vat","Mwst."),_defineProperty(_messages,"assets.spaces.additional_cost","Nebenkosten"),_defineProperty(_messages,"assets.spaces.total_rent","Gesamt Brutto"),_defineProperty(_messages,"assets.spaces.status","Status"),_defineProperty(_messages,"assets.spaces.lease_start_date","Startdatum"),_defineProperty(_messages,"assets.spaces.lease_end_date","Enddatum"),_defineProperty(_messages,"assets.spaces.availability.date","Verfügbar von"),_defineProperty(_messages,"assets.spaces.area","Fläche"),_defineProperty(_messages,"assets.spaces.industry","Industrie"),_defineProperty(_messages,"assets.spaces.title.income","künftige Mieter"),_defineProperty(_messages,"assets.spaces.title.expired","vorherige Mieter"),_defineProperty(_messages,"assets.spaces.title.in-place","derzeitige Mieter"),_defineProperty(_messages,"assets.spaces.contracts.income.empty","für diese Einheit existieren keine künftigen Mieter"),_defineProperty(_messages,"assets.spaces.contracts.expired.empty","für diese Einheit existieren keine vorherige Mieter"),_defineProperty(_messages,"assets.spaces.contracts.in-place.empty","für diese Einheit existieren zurzeit keine Mieter"),_defineProperty(_messages,"assets.spaces.contracts.showlessbutton","...weniger"),_defineProperty(_messages,"assets.spaces.contracts.showmorebutton","mehr..."),_defineProperty(_messages,"assets.spaces.availability.available","Verfügbar"),_defineProperty(_messages,"assets.spaces.status.vacant","Leerstehend"),_defineProperty(_messages,"assets.spaces.status.occupied","Besetzt"),_defineProperty(_messages,"assets.spaces.status.reserved","Reserviert"),_defineProperty(_messages,"assets.spaces.filter.status.placeholder","Selektiere Flächenstatus"),_defineProperty(_messages,"assets.spaces.archive.title","Konfirmiere archivieren der Einheit"),_defineProperty(_messages,"assets.spaces.archive.cancel","Abbrechen"),_defineProperty(_messages,"assets.spaces.archive.save","Archivieren"),_defineProperty(_messages,"assets.spaces.archive.message","Sind sie sicher sie wollen diese Einheit archivieren: "),_defineProperty(_messages,"assets.spaces.archive.label","Archivieren"),_defineProperty(_messages,"assets.spaces.archive.success","Einheit wurde erfolgreich archiviert"),_defineProperty(_messages,"assets.spaces.restore.label","Wiederherstellen"),_defineProperty(_messages,"assets.spaces.restore.success","Einheit wurde erfolgreich wiederhergestellt"),_defineProperty(_messages,"assets.spaces.restore.save","Wiederherstellen"),_defineProperty(_messages,"assets.spaces.restore.message","Sind Sie sicher, Sie wollen die Einheit wiederherstellen: "),_defineProperty(_messages,"assets.spaces.restore.title","Konfirmiere wiederherstellen der Einheit"),_defineProperty(_messages,"assets.spaces.restore.save","Wiederherstellen"),_defineProperty(_messages,"assets.spaces.archive.requirement.checkerror","[DEU] Space cannot be archived because it has Deals or Contracts associated with it"),_defineProperty(_messages,"assets.list.assets.header","Objekte"),_defineProperty(_messages,"assets.list.city.header","Stadt"),_defineProperty(_messages,"assets.list.tla.header","Gesamtmietfläche"),_defineProperty(_messages,"assets.list.vacancy.header","Leerstand"),_defineProperty(_messages,"assets.list.availability.header","Verfügbarkeit"),_defineProperty(_messages,"assets.list.occupancy.header","Leerstand"),_defineProperty(_messages,"assets.spaces.filter.title","Filter"),_defineProperty(_messages,"assets.spaces.filter.status.title","Einheitsstatus und Verfübarkeit filtern"),_defineProperty(_messages,"assets.spaces.filter.extra","Filter"),_defineProperty(_messages,"assets.spaces.filter.favorites","Favoriten"),_defineProperty(_messages,"assets.spaces.filter.empty","leere Antwort"),_defineProperty(_messages,"assets.spaces.filter.unit","Einheit"),_defineProperty(_messages,"assets.spaces.filter.tower","Gebäude"),_defineProperty(_messages,"assets.spaces.filter.towers","Gebäude"),_defineProperty(_messages,"assets.spaces.filter.floor","Stockwerk"),_defineProperty(_messages,"assets.spaces.filter.all","Alle"),_defineProperty(_messages,"assets.spaces.filter.in_1_month","Innerhalb 1 Monat"),_defineProperty(_messages,"assets.spaces.filter.in_3_month","Innerhalb 3 Monate"),_defineProperty(_messages,"assets.spaces.filter.in_6_month","Innerhalb 6 Monate"),_defineProperty(_messages,"assets.spaces.filter.in_1_year","Innerhalb 1 Jahr"),_defineProperty(_messages,"assets.spaces.filter.custom_dates","Enddatum"),_defineProperty(_messages,"assets.spaces.filter.floor_from","Stockwerk von"),_defineProperty(_messages,"assets.spaces.filter.floor_to","Stockwerk zu"),_defineProperty(_messages,"assets.spaces.filter.rentable_area","Fläche"),_defineProperty(_messages,"assets.spaces.filter.rentable_area_from","Fläche von"),_defineProperty(_messages,"assets.spaces.filter.rentable_area_to","Fläche zu"),_defineProperty(_messages,"assets.spaces.filter.type","Typen"),_defineProperty(_messages,"assets.spaces.filter.vacant","Ausfallzeit (Tage)"),_defineProperty(_messages,"assets.spaces.filter.asking_price","Angebotspreis"),_defineProperty(_messages,"assets.spaces.filter.asking_price_from","Angebotspreis von"),_defineProperty(_messages,"assets.spaces.filter.towers.placeholder","Selektioniere einen Gebäude in der Liste..."),_defineProperty(_messages,"assets.spaces.filter.asking_price_to","Angebotspreis zu"),_defineProperty(_messages,"assets.spaces.filter.status","Status"),_defineProperty(_messages,"assets.spaces.filter.availability","Verfügbarkeit"),_defineProperty(_messages,"assets.spaces.filter.available_from","Verfügbarkeit von"),_defineProperty(_messages,"assets.spaces.filter.available","Verfügbarkeit zu"),_defineProperty(_messages,"assets.spaces.filter.notAvailable","Nicht verfügbar"),_defineProperty(_messages,"assets.spaces.filter.immediately","ab sofort"),_defineProperty(_messages,"assets.spaces.filter.archived","Archiviert"),_defineProperty(_messages,"assets.spaces.filter.in_place_rent","€/m²"),_defineProperty(_messages,"assets.spaces.filter.apply","Ausüben"),_defineProperty(_messages,"assets.spaces.filter.cancel","Abbrechen"),_defineProperty(_messages,"assets.spaces.filter.in_place_rent_from","Miete in €/m² von"),_defineProperty(_messages,"assets.spaces.filter.in_place_rent_to","Miete in €/m² zu"),_defineProperty(_messages,"assets.spaces.filter.from","Von"),_defineProperty(_messages,"assets.spaces.filter.to","Zu"),_defineProperty(_messages,"assets.spaces.filter.asset","Objekt"),_defineProperty(_messages,"assets.spaces.filter.assets","Objekt"),_defineProperty(_messages,"assets.spaces.filter.tenant","Mietername"),_defineProperty(_messages,"assets.spaces.filter.expiry","Vertragsende"),_defineProperty(_messages,"assets.spaces.filter.range","Intervall"),_defineProperty(_messages,"assets.spaces.filter.discrete","Diskret"),_defineProperty(_messages,"assets.spaces.filter.markets","Bezirk"),_defineProperty(_messages,"assets.spaces.filter.cities","Stadt"),_defineProperty(_messages,"assets.spaces.availability.notAvailable","Nicht verfügbar"),_defineProperty(_messages,"assets.spaces.availability.immediateAvailable","Ab sofort"),_defineProperty(_messages,"assets.spaces.availability.available","Verfügbar"),_defineProperty(_messages,"assets.spaces.daysAvailable","Anz. Tage verfügbar"),_defineProperty(_messages,"assets.spaces.availability.edit.available.title","Einheit ist verfügbar"),_defineProperty(_messages,"assets.spaces.availability.edit.notAvailable.title","Einheit als “verfügbar” markieren"),_defineProperty(_messages,"assets.spaces.vacant_since","Leerstehend seit"),_defineProperty(_messages,"assets.spaces.placeholder.vacantsince.date","Spezifiziere Leerstandsdatum"),_defineProperty(_messages,"assets.spaces.daysVacant","Ausfallzeit Tage"),_defineProperty(_messages,"assets.tenants.title","Mietverträge"),_defineProperty(_messages,"assets.tenants.contact","Kontaktperson"),_defineProperty(_messages,"assets.tenants.company","Firmen Name"),_defineProperty(_messages,"assets.tenants.contact.not_specified","Kontaktdetails sind nicht spezfiziert"),_defineProperty(_messages,"assets.tenants.email","Email"),_defineProperty(_messages,"assets.tenants.mobilephone","Mobiltelefon"),_defineProperty(_messages,"assets.tenants.officephone","Büro Telefonnummer"),_defineProperty(_messages,"assets.tenants.name","Mietername"),_defineProperty(_messages,"assets.tenants.industry","Industrie"),_defineProperty(_messages,"assets.tenants.contract_number","Vertragsnummer"),_defineProperty(_messages,"assets.tenants.total_area","Fläche"),_defineProperty(_messages,"assets.tenants.units","Einheit ist besetzt"),_defineProperty(_messages,"assets.tenants.towers","Gebäude"),_defineProperty(_messages,"assets.tenants.floor","Stockwerk"),_defineProperty(_messages,"assets.tenants.area_in_unit","Fläche"),_defineProperty(_messages,"assets.tenants.in_place_rent","€/m²"),_defineProperty(_messages,"assets.tenants.net_rent","Nettomiete"),_defineProperty(_messages,"assets.tenants.renewal_strategy","Erneuerungsstrategie"),_defineProperty(_messages,"assets.tenants.vat","MWst."),_defineProperty(_messages,"assets.tenants.additional_cost","Neben- kosten"),_defineProperty(_messages,"assets.tenants.total_rent","Gesamt brutto"),_defineProperty(_messages,"assets.tenants.status","Status"),_defineProperty(_messages,"assets.tenants.lease_start_date","Startdatum"),_defineProperty(_messages,"assets.tenants.lease_end_date","Enddatum"),_defineProperty(_messages,"assets.tenants.archive.title","Konfirmiere Archivieren des Mietvertrag"),_defineProperty(_messages,"assets.tenants.archive.cancel","Abbrechen"),_defineProperty(_messages,"assets.tenants.archive.save","Archiviere"),_defineProperty(_messages,"assets.tenants.archive.message","Sind Sie sicher, dass Sie den Mitvertrag archivieren wollen: "),_defineProperty(_messages,"assets.tenants.archive.label","Archivieren"),_defineProperty(_messages,"assets.tenants.archive.success","Mieter wurde erfolgreich archiviert"),_defineProperty(_messages,"assets.tenants.restore.label","Wiederherstellen"),_defineProperty(_messages,"assets.tenants.restore.success","Mieter wurde erfolgreich wiederhergestellt"),_defineProperty(_messages,"assets.tenants.restore.save","Wiederherstellen"),_defineProperty(_messages,"assets.tenants.restore.message","Sind Sie sicher, Sie wollen den Mietvertrag wiederherstellen: "),_defineProperty(_messages,"assets.tenants.restore.title","Mieter wiederherstellen"),_defineProperty(_messages,"assets.tenants.restore.save","Wiederherstellen"),_defineProperty(_messages,"assets.tenants.filter.title","Filter"),_defineProperty(_messages,"assets.tenants.filter.in_place","derzeitige Mieter"),_defineProperty(_messages,"assets.tenants.filter.expired","vorherigen Mieter"),_defineProperty(_messages,"assets.tenants.filter.incoming","künftige Mieter"),_defineProperty(_messages,"assets.tenants.filter.archived","Archiviert"),_defineProperty(_messages,"assets.tenants.filter.within_1_month","Innerhalb 1 Monat"),_defineProperty(_messages,"assets.tenants.filter.within_3_month","Innerhalb 3 Monate"),_defineProperty(_messages,"assets.tenants.filter.within_6_month","Innerhalb 6 Monate"),_defineProperty(_messages,"assets.tenants.filter.within_1_year","Innerhalb 1 Jahr"),_defineProperty(_messages,"assets.tenants.filter.within_2_year","Innerhalb 2 Jahr"),_defineProperty(_messages,"assets.tenants.filter.within_3_year","Innerhalb 3 Jahr"),_defineProperty(_messages,"assets.tenants.filter.within_4_year","Innerhalb 4 Jahr"),_defineProperty(_messages,"assets.tenants.filter.within_5_year","Innerhalb 5 Jahr"),_defineProperty(_messages,"assets.tenants.filter.custom_dates","Spezifiere Datum"),_defineProperty(_messages,"assets.tenants.filter.start_date","Startdatum"),_defineProperty(_messages,"assets.tenants.filter.end_date","Enddatum"),_defineProperty(_messages,"assets.tenants.filter.expiry","Enddatum"),_defineProperty(_messages,"assets.tenants.filter.quick.title","Filter"),_defineProperty(_messages,"assets.tenants.filter.extra","Extra Filter"),_defineProperty(_messages,"assets.tenants.filter.favorites","Favoriten"),_defineProperty(_messages,"assets.tenants.filter.empty","Leere Antwort"),_defineProperty(_messages,"assets.tenants.filter.unit","Einheit"),_defineProperty(_messages,"assets.tenants.filter.tower","Gebäude"),_defineProperty(_messages,"assets.tenants.filter.towers","Gebäude"),_defineProperty(_messages,"assets.tenants.filter.towers.placeholder","Selektioniere oder suche ein Gebäude in der Liste..."),_defineProperty(_messages,"assets.tenants.filter.industry","Industrie"),_defineProperty(_messages,"assets.tenants.filter.industry.placeholder","Selektioniere oder suche eine Industrie in der Liste..."),_defineProperty(_messages,"assets.tenants.filter.lease_date","Vertragsstartdatum von bis"),_defineProperty(_messages,"assets.tenants.filter.lease_start_date","Vertragsstartdatum von von"),_defineProperty(_messages,"assets.tenants.filter.lease_end_date","Vertragsstartdatum bis"),_defineProperty(_messages,"assets.tenants.filter.tenant_name","Mietername"),_defineProperty(_messages,"assets.tenants.filter.size","Grösse"),_defineProperty(_messages,"assets.tenants.filter.total_rent","Nettomiete"),_defineProperty(_messages,"assets.tenants.filter.type","Nutzungsfläche"),_defineProperty(_messages,"assets.tenants.filter.rent","Miete"),_defineProperty(_messages,"assets.tenants.filter.from","Von"),_defineProperty(_messages,"assets.tenants.filter.to","Bis"),_defineProperty(_messages,"assets.tenants.filter.this_month","Dieser Monat"),_defineProperty(_messages,"assets.tenants.filter.last_month","Letzter Monat"),_defineProperty(_messages,"assets.tenants.filter.this_year","Dieses Jahr"),_defineProperty(_messages,"assets.tenants.filter.last_year","Letztes Jahr"),_defineProperty(_messages,"assets.tenants.filter.datepicker.clear","löschen"),_defineProperty(_messages,"assets.tenants.filter.apply","Anwenden"),_defineProperty(_messages,"assets.tenants.filter.cancel","Abbrechen"),_defineProperty(_messages,"assets.tenants.filter.asset","Objekt"),_defineProperty(_messages,"assets.tenants.filter.area","Fläche"),_defineProperty(_messages,"assets.tenants.filter.in_place_rent","€/m²"),_defineProperty(_messages,"assets.tenants.filter.cloud.from","Von"),_defineProperty(_messages,"assets.tenants.filter.cloud.to","Bis"),_defineProperty(_messages,"assets.tenants.filter.markets","Bezirk"),_defineProperty(_messages,"assets.tenants.filter.cities","Stadt"),_defineProperty(_messages,"assets.tenants.list.header.name","Mietername"),
_defineProperty(_messages,"assets.tenants.list.header.start_date","Startdatum"),_defineProperty(_messages,"assets.tenants.list.header.end_date","Enddatum"),_defineProperty(_messages,"assets.tenants.list.header.size","Grösse"),_defineProperty(_messages,"assets.tenants.list.header.net_rent","Nettomiete"),_defineProperty(_messages,"assets.tenants.list.header.rent","Miete"),_defineProperty(_messages,"assets.tenants.list.header.unit","Einheit"),_defineProperty(_messages,"assets.tenants.list.header.towers","Gebäude"),_defineProperty(_messages,"assets.tenants.list.header.assets","Objekt"),_defineProperty(_messages,"assets.tenants.placeholder.details","Mieter Details"),_defineProperty(_messages,"assets.tenants.placeholder.contact-details","Mieter Kontaktdetails"),_defineProperty(_messages,"assets.tenants.placeholder.contract-details","Vertragsdetails"),_defineProperty(_messages,"assets.tenants.placeholder.attachments","Anhang"),_defineProperty(_messages,"assets.tenants.placeholder.unit-details","Gebäude und Flächen"),_defineProperty(_messages,"assets.tenants.placeholder.options","Optionen"),_defineProperty(_messages,"assets.tenants.placeholder.comments","Kommentare"),_defineProperty(_messages,"assets.tenants.comments.nocomments","Keine Kommentare"),_defineProperty(_messages,"assets.tenants.comments.helper","Kommentar hinzufügen"),_defineProperty(_messages,"assets.tenants.comments.note","Bitte Kommentar hinzufügen"),_defineProperty(_messages,"assets.tenants.comments.sendbutton","Senden"),_defineProperty(_messages,"assets.tenants.attachment.showmorebutton","Mehr zeigen"),_defineProperty(_messages,"assets.tenants.attachment.showlessbutton","Weniger zeigen"),_defineProperty(_messages,"assets.tenants.attachment.dialog.header","[DEU] Attachment"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filedetails","[DEU] File details"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filename","Dateiname"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filetype","Dateiname spezifizieren"),_defineProperty(_messages,"assets.tenants.attachment.dialog.filetype.helper","Dateityp"),_defineProperty(_messages,"assets.tenants.attachment.dialog.upload","Hochladen"),_defineProperty(_messages,"assets.tenants.attachment.dialog.cancel","Abbrechen"),_defineProperty(_messages,"assets.tenants.units.occupied","Leerstehende Flächen"),_defineProperty(_messages,"assets.tenants.units.details","Details für die selektionierte Einheit"),_defineProperty(_messages,"assets.tenants.units.details.floor","Stockwerk"),_defineProperty(_messages,"assets.tenants.units.details.area","Fläche"),_defineProperty(_messages,"assets.tenants.options.types.renewal","Erneuerung"),_defineProperty(_messages,"assets.tenants.options.types.header","Optiontype"),_defineProperty(_messages,"assets.tenants.options.space.header","Flächen"),_defineProperty(_messages,"assets.tenants.options.enddate.header","Enddatum"),_defineProperty(_messages,"assets.tenants.options.till.header","Verl bis"),_defineProperty(_messages,"assets.tenants.options.value.header","Option 1/2/3"),_defineProperty(_messages,"assets.tenants.options.nodata","Derzeit keine Option"),_defineProperty(_messages,"assets.tenants.statistics.commited","Künftig"),_defineProperty(_messages,"assets.tenants.statistics.in-place","Derzeitig"),_defineProperty(_messages,"assets.deal.title","Deals"),_defineProperty(_messages,"assets.gallery.header","Konfiguriere"),_defineProperty(_messages,"assets.gallery.title","Bild"),_defineProperty(_messages,"assets.gallery.add","Bild hinzufügen"),_defineProperty(_messages,"assets.gallery.main","Hauptbereicht"),_defineProperty(_messages,"assets.gallery.message.added","Objekt Bild wurde erfolgreich hinzugefügt"),_defineProperty(_messages,"assets.gallery.message.deleted","Objekt Bild wurde erfolgreich gelöscht"),_defineProperty(_messages,"assets.broker","Asset Manager"),_defineProperty(_messages,"assets.broker.help","Selektionieren Sie den Asset Manager der das Asset verwaltet"),_defineProperty(_messages,"assets.landlord","Eigentümer:"),_defineProperty(_messages,"assets.landlord.help","Eigentümer selektionieren"),_defineProperty(_messages,"assets.market","Bezirk:"),_defineProperty(_messages,"assets.market.help","Bezirk selektionieren"),_defineProperty(_messages,"assets.notes","Interne Notizen"),_defineProperty(_messages,"assets.notes.errorLength","Notizen können nicht länger als  500 Charaktäre sein"),_defineProperty(_messages,"assets.description","Marketing Beschreibung:"),_defineProperty(_messages,"assets.message.archived","Objekt wurde erfolgreich archiviert"),_defineProperty(_messages,"assets.message.activated","Objekt wurde erfolgreich aktiviert"),_defineProperty(_messages,"assets.message.created","Objekt wurde erfolgreich kreiert"),_defineProperty(_messages,"assets.message.updated","Objekt wurde erfolgreich aktualisiert"),_defineProperty(_messages,"assets.info","Objekt Information"),_defineProperty(_messages,"assets.info.general","Generelle Information"),_defineProperty(_messages,"assets.info.images","Bilder"),_defineProperty(_messages,"assets.placeholder.broker","Selektioniere Broker"),_defineProperty(_messages,"assets.placeholder.name","Name hier eintragen"),_defineProperty(_messages,"assets.placeholder.country","Land auswählen"),_defineProperty(_messages,"assets.placeholder.city","Bsp. Hamburg"),_defineProperty(_messages,"assets.placeholder.street","Bsp. Shönestrasse"),_defineProperty(_messages,"assets.placeholder.building","Bsp. 26A"),_defineProperty(_messages,"assets.placeholder.brokerDatabaseRecordId","Bsp. BLD-123"),_defineProperty(_messages,"assets.placeholder.notes","Bsp. Interne Notizen"),_defineProperty(_messages,"assets.placeholder.description","Texteingabe für Marketing Materialien"),_defineProperty(_messages,"assets.save","Speichern"),_defineProperty(_messages,"assets.cancel","Abbrechen"),_defineProperty(_messages,"assets.saving","Vorgang wird gespeichert"),_defineProperty(_messages,"assets.archive","Objekt archivieren"),_defineProperty(_messages,"assets.archive.title","Sie werden das Objekt archivieren"),_defineProperty(_messages,"assets.archive.confirmButton","Ja, archivieren Sie bitte"),_defineProperty(_messages,"assets.archive.requirement.checkerror","Objekt kann nicht archiviert werden weil es dazugehörige Deals oder Verträge existieren"),_defineProperty(_messages,"assets.archived","Der Vorgang wurde gespeichert"),_defineProperty(_messages,"assets.activate","Objekt archivieren"),_defineProperty(_messages,"assets.activate.title","Sie werden das Objekt archivieren."),_defineProperty(_messages,"assets.activate.confirmButton","Ja, archivieren Sie bitte!"),_defineProperty(_messages,"assets.update.broker.requirement.checkerror","Objekt Eigentümer kann nicht geändert werden weil es dazugehörige Deals oder Verträge existieren"),_defineProperty(_messages,"assets.available.space","Vorhandene Objekte"),_defineProperty(_messages,"assets.occupancy","Belegungszustand"),_defineProperty(_messages,"assets.total.rentable","Total"),_defineProperty(_messages,"assets.statistics.totalarea","Gesamtmietfläche"),_defineProperty(_messages,"assets.statistics.area","Fläche"),_defineProperty(_messages,"assets.statistics.vacancy","Leerstand"),_defineProperty(_messages,"assets.statistics.availability","Verfügbarkeit"),_defineProperty(_messages,"assets.statistics.occupancy","Leerstand"),_defineProperty(_messages,"assets.statistics.assetscount","Anz Objekte"),_defineProperty(_messages,"spaces.statistics.unitscount","Flächen"),_defineProperty(_messages,"spaces.statistics.daysvacancy","Ausfallzeit Tage"),_defineProperty(_messages,"spaces.statistics.daysavailable","Verfügb. Tage"),_defineProperty(_messages,"spaces.statistics.askingrent","Angebotspreis"),_defineProperty(_messages,"assets.objects.title","Objekt"),_defineProperty(_messages,"assets.objects.name","Name"),_defineProperty(_messages,"assets.objects.isDisplayOnStackingPlan","Auf dem Belegungsplan zeigen"),_defineProperty(_messages,"assets.objects.add","Objekt"),_defineProperty(_messages,"assets.objects.message.deleted","Gebäude wurde erfolgreich gelöscht"),_defineProperty(_messages,"assets.objects.message.created","Gebäude wurde erfolgreich kreiert"),_defineProperty(_messages,"assets.objects.message.updated","Gebäude wurde erfolgreich aktualisiert"),_defineProperty(_messages,"assets.objects.delete.title","Sie werden das Gebäude zusammen mit allen Etagen löschen. Das Objekt wird nach diesem Vorgang nicht mehr in Tower360 existieren."),_defineProperty(_messages,"assets.objects.delete.confirmButton","Ja, löschen Sie es!"),_defineProperty(_messages,"assets.objects.placeholder.name","Name eingeben"),_defineProperty(_messages,"assets.objects.create.name","Name:"),_defineProperty(_messages,"assets.objects.save","Speichern"),_defineProperty(_messages,"assets.objects.cancel","Abbrechen"),_defineProperty(_messages,"assets.objects.saving","Speichern"),_defineProperty(_messages,"assets.objects.create.title","Objekt"),_defineProperty(_messages,"assets.objects.create.isDisplayOnStackingPlan","Auf dem Belegungsplan zeigen"),_defineProperty(_messages,"assets.objects.edit.title","Objekt"),_defineProperty(_messages,"assets.objects.address","Adresse"),_defineProperty(_messages,"assets.validation.countryRequired","Land erforderlich"),_defineProperty(_messages,"assets.validation.cityRequired","Stadt benötigt"),_defineProperty(_messages,"assets.validation.streetRequired","Straße erforderlich"),_defineProperty(_messages,"assets.validation.buildingRequired","Gebäude erforderlich"),_defineProperty(_messages,"clients.new","Mieter"),_defineProperty(_messages,"clients.title","Mieter"),_defineProperty(_messages,"clients.name","öffentlicher Name"),_defineProperty(_messages,"clients.shortName","Kurzer Name"),_defineProperty(_messages,"clients.shortName.formLabel","Kurzer Name"),_defineProperty(_messages,"clients.industry","Industrie"),_defineProperty(_messages,"clients.address","Adresse"),_defineProperty(_messages,"clients.address_info","Adresse Informationen"),_defineProperty(_messages,"clients.country","Land"),_defineProperty(_messages,"clients.info","Mieterinformationen"),_defineProperty(_messages,"clients.info.general","Generelle Informationen"),_defineProperty(_messages,"clients.info.representatives","Kontakte"),_defineProperty(_messages,"clients.user","Benutzer"),_defineProperty(_messages,"clients.notes","Interne Notizen"),_defineProperty(_messages,"clients.state","Staat"),_defineProperty(_messages,"clients.placeholder.name","Name eingeben"),_defineProperty(_messages,"clients.placeholder.shortName","Kurzname eingeben"),_defineProperty(_messages,"clients.placeholder.notes","Notizen eingeben"),_defineProperty(_messages,"clients.placeholder.description","Beschreibung eingeben"),_defineProperty(_messages,"clients.industry.placeholder","Industrie auswählen"),_defineProperty(_messages,"clients.country.placeholder","Land auswählen"),_defineProperty(_messages,"clients.save","Speichern"),_defineProperty(_messages,"clients.saving","Vorgang wird gespeichert"),_defineProperty(_messages,"clients.cancel","Abbrechen"),_defineProperty(_messages,"clients.message.archived","Mieter wurde erfolgreich archiviert"),_defineProperty(_messages,"clients.message.created","Mieter wurde erfolgreich kreiert"),_defineProperty(_messages,"clients.message.updated","Mieter wurde erfolgreich aktualisiert"),_defineProperty(_messages,"clients.view.title","Mieter"),_defineProperty(_messages,"clients.view.notes","Notizen"),_defineProperty(_messages,"clients.archive.title","Sie werden den Mieter archivieren"),_defineProperty(_messages,"clients.archive.confirmButton","Ja, archivieren Sie den Mieter"),_defineProperty(_messages,"clients.archived","Mieter wurde archiviert"),_defineProperty(_messages,"clients.activate","Mieter archivieren"),_defineProperty(_messages,"clients.activate.title","Sie werden den Mieter aktivieren."),_defineProperty(_messages,"clients.activate.confirmButton","Ja, aktivieren Sie den Mieter!"),_defineProperty(_messages,"clients.edit","Editieren"),_defineProperty(_messages,"clients.edit.title","Mieter editieren"),_defineProperty(_messages,"clients.create.title","Mieter kreieren"),_defineProperty(_messages,"clients.modal.edit.title","Mieter editieren"),_defineProperty(_messages,"clients.modal.create.title","Mieter kreieren"),_defineProperty(_messages,"clients.modal.message.created","Mieter wurde erfolgreich kreiert"),_defineProperty(_messages,"clients.representatives.new","Vertrag"),_defineProperty(_messages,"clients.representatives.title","Verträge"),_defineProperty(_messages,"clients.representatives.name","Name"),_defineProperty(_messages,"clients.representatives.email","Email"),_defineProperty(_messages,"clients.representatives.mobilePhone","Mobile telephonnummer"),_defineProperty(_messages,"clients.representatives.officePhone","Office telephonnummer"),_defineProperty(_messages,"clients.representatives.company","Company"),_defineProperty(_messages,"clients.representatives.position","Bezeichnung"),_defineProperty(_messages,"clients.representatives.main","Mein"),_defineProperty(_messages,"clients.representatives.personal_details","Persönliche Details"),_defineProperty(_messages,"clients.representatives.communication_details","Kommunikationsdaten"),_defineProperty(_messages,"clients.representatives.category","Kategorie"),_defineProperty(_messages,"clients.representatives.category.client","Kunde"),_defineProperty(_messages,"clients.representatives.category.broker","Broker"),_defineProperty(_messages,"clients.representatives.message.deleted","Kontakt wurde erfolgreich gelöscht"),_defineProperty(_messages,"clients.representatives.message.created","Kontakt wurde erfolgreich kreiert"),_defineProperty(_messages,"clients.representatives.message.updated","Kontakt wurde erfolgreich aktualisiert"),_defineProperty(_messages,"clients.representatives.placeholder.name","Name"),_defineProperty(_messages,"clients.representatives.placeholder.email","Email"),_defineProperty(_messages,"clients.representatives.placeholder.mobilePhone","Mobile telephonnummer"),_defineProperty(_messages,"clients.representatives.placeholder.officePhone","Office telephonnummer"),_defineProperty(_messages,"clients.representatives.placeholder.company","Firma"),_defineProperty(_messages,"clients.representatives.placeholder.position","Bezeichnung hier eingeben"),_defineProperty(_messages,"clients.representatives.modal.header.edit","Kontakt editieren"),_defineProperty(_messages,"clients.representatives.modal.header.add","Kontakt hinzufügen"),_defineProperty(_messages,"landlords.modal.edit.title","Eigentümer editieren"),_defineProperty(_messages,"landlords.modal.create.title","Eigentümer erstellen"),_defineProperty(_messages,"landlords.modal.message.created","Eigentümer wurde erfolgreich erstellt"),_defineProperty(_messages,"landlords.new","Eigentümer"),_defineProperty(_messages,"landlords.title","Eigentümer"),_defineProperty(_messages,"landlords.name","öffentlicher Name"),_defineProperty(_messages,"landlords.shortName","Kurzer Name"),_defineProperty(_messages,"landlords.shortName.formLabel","Kurzer Name"),_defineProperty(_messages,"landlords.industry","Industrie"),_defineProperty(_messages,"landlords.address","Adresse"),_defineProperty(_messages,"landlords.address_info","Adresse Informationen"),_defineProperty(_messages,"landlords.country","Land"),_defineProperty(_messages,"landlords.info","Mieterinformationen"),_defineProperty(_messages,"landlords.info.general","Generelle Informationen"),_defineProperty(_messages,"landlords.info.representatives","Kontakte"),_defineProperty(_messages,"landlords.user","Benutzer"),_defineProperty(_messages,"landlords.notes","Interne Notizen"),_defineProperty(_messages,"landlords.placeholder.name","Name eingeben"),_defineProperty(_messages,"landlords.placeholder.shortName","Kurzname eingeben"),_defineProperty(_messages,"landlords.placeholder.notes","Notizen eingeben"),_defineProperty(_messages,"landlords.placeholder.description","Beschreibung eingeben"),_defineProperty(_messages,"landlords.industry.placeholder","Industrie auswählen"),_defineProperty(_messages,"landlords.country.placeholder","Land auswählen"),_defineProperty(_messages,"landlords.save","Speichern"),_defineProperty(_messages,"landlords.saving","Vorgang wird gespeichert"),_defineProperty(_messages,"landlords.cancel","Abbrechen"),_defineProperty(_messages,"login.email","Email"),_defineProperty(_messages,"login.password","Kennwort"),_defineProperty(_messages,"login.placeholder.email","Geben Sie Ihre E-Mail-Adresse ein"),_defineProperty(_messages,"login.placeholder.password","Geben Sie Ihr Kennwort ein"),_defineProperty(_messages,"login.login","Einlogen"),_defineProperty(_messages,"login.automatic.signout","Sie wurden aufgrund längerer Inaktivität automatisch vom System abgemeldet."),_defineProperty(_messages,"forgotpassword.message","Password vergessen?"),_defineProperty(_messages,"forgotpassword.comment","Bitte geben Sie eine gültige E-Mail-Adresse. Wir senden Ihnen per Email einen Link zu, mit dem Sie Ihr Passwort neu setzen können"),_defineProperty(_messages,"forgotpassword.button","An verfifizierte Email senden"),_defineProperty(_messages,"forgotpassword.cancel","Zur Anmeldung zurückkehren"),_defineProperty(_messages,"forgotpassword.email","Email"),_defineProperty(_messages,"forgotpassword.send","[DEU]If you entered correct email then you'll receive message with instructions to reset your password"),_defineProperty(_messages,"forgotpassword.emailNotValid","Email ist nicht valid"),_defineProperty(_messages,"resetpassword.message","Password erneuen"),_defineProperty(_messages,"resetpassword.password","Password"),_defineProperty(_messages,"resetpassword.confirmPassword","Password bestätigen"),_defineProperty(_messages,"resetpassword.button","Zurücksetzen"),_defineProperty(_messages,"resetpassword.cancel","Zur Anmeldung zurückkehren"),_defineProperty(_messages,"resetpassword.too_short","Password ist zu kurz"),_defineProperty(_messages,"resetpassword.not_match","Passwords übereinstimmen nicht"),_defineProperty(_messages,"resetpassword.linkNotValid","Link ist nicht valid"),_defineProperty(_messages,"resetpassword.ok","Password wurde nicht erfolgreich erneuert"),_defineProperty(_messages,"confirmpassword.button","Übergehen und zur Anmeldung zurückkehren"),_defineProperty(_messages,"confirmpassword.message","Password erneuern"),_defineProperty(_messages,"confirmpassword.comment","Ihr Password wurde erfolgreich wiederhergestellt. Wir haben Ihnen eine Email geschickt."),_defineProperty(_messages,"error.inactive.message","[DEU]Your invitation is not active or you have provided incorrect token, please contact portal administrator"),_defineProperty(_messages,"stacking-plan.title","Belegungsplan"),_defineProperty(_messages,"stacking-plan.empty","Es gibt kein Belegungsplan für dieses Objekt"),_defineProperty(_messages,"stacking-plan.towers","Gebäude"),_defineProperty(_messages,"stacking-plan.space.details","Flächenangaben"),_defineProperty(_messages,"stacking-plan.space.options","Optionen"),_defineProperty(_messages,"stacking-plan.space.deals","Kundengesuche"),_defineProperty(_messages,"stacking-plan.view.actual","Tatsächlich"),_defineProperty(_messages,"stacking-plan.view.normalized","Normalisiert"),_defineProperty(_messages,"stacking-plan.legend.vacant","Leerstand"),_defineProperty(_messages,"stacking-plan.legend.available","[DEU] Available"),_defineProperty(_messages,"stacking-plan.legend.lease.expiration","Vertrag Ende"),_defineProperty(_messages,"stacking-plan.expires","VE"),_defineProperty(_messages,"stacking-plan.expires.2","VE"),_defineProperty(_messages,"stacking-plan.expired","Expired"),_defineProperty(_messages,"stacking-plan.unit","Fläche"),_defineProperty(_messages,"stacking-plan.nospaces","Keine Fläche"),_defineProperty(_messages,"stacking-plan.details.unit","Einheit"),_defineProperty(_messages,"stacking-plan.details.rentable","Fläche"),_defineProperty(_messages,"stacking-plan.details.areatype","Nutzungsart"),_defineProperty(_messages,"stacking-plan.details.clientname","Kundenname"),_defineProperty(_messages,"stacking-plan.details.industry","Industrie"),_defineProperty(_messages,"stacking-plan.details.leases","€/m²"),_defineProperty(_messages,"stacking.plan.details.lease.start","Startdatum"),_defineProperty(_messages,"stacking.plan.details.lease.end","VB"),_defineProperty(_messages,"stacking.plan.details.cost.totalmonth","Gesamt brutto"),_defineProperty(_messages,"stacking-plan.details.cost.inplace-rent","€/m²"),_defineProperty(_messages,"stacking.plan.details.cost.netrent","Nettomiete mtl."),_defineProperty(_messages,"stacking.plan.details.cost.additional","Neben- kosten"),_defineProperty(_messages,"stacking.plan.details.cost.other","Sonstige kosten"),_defineProperty(_messages,"stacking.plan.details.cost.vat","MWst."),_defineProperty(_messages,"rent-rollover.title","Übersicht zu Mietvertragslaufzeiten"),_defineProperty(_messages,"rent-rollover.chart.title","Übersicht zu Mietvertragslaufzeiten"),_defineProperty(_messages,"rent-rollover.chart.series","Mietauslaufzeiten per Quartal"),_defineProperty(_messages,"rent-rollover.tooltip.totalArea","Mieterliste"),_defineProperty(_messages,"rent-rollover.tooltip.tenant","Mietername"),_defineProperty(_messages,"rent-rollover.tooltip.tower","Gebäude Name"),_defineProperty(_messages,"rent-rollover.tooltip.floor","Stockwerk Name"),_defineProperty(_messages,"rent-rollover.tooltip.unit","Einheit"),_defineProperty(_messages,"rent-rollover.tooltip.area","Fläche"),_defineProperty(_messages,"rent-rollover.tooltip.expiration","Auslauszeiten"),_defineProperty(_messages,"rent-rollover.tooltip.and","Und"),_defineProperty(_messages,"rent-rollover.tooltip.more","Mehr"),_defineProperty(_messages,"registration.username","Benutzername"),_defineProperty(_messages,"registration.password","Kennwort"),_defineProperty(_messages,"registration.confirmPassword","Kennwort wiederholen"),_defineProperty(_messages,"registration.displayName","Anzeigename"),_defineProperty(_messages,"registration.submit","Registrieren"),_defineProperty(_messages,"registration.cancel","Abbrechen"),_defineProperty(_messages,"registration.saving","Bearbeiten"),_defineProperty(_messages,"registration.phone","[DEU] Mobile Phone"),_defineProperty(_messages,"registration.placeholder.phone","[DEU] Mobile Phone"),_defineProperty(_messages,"address.autoComplete","Versucht Adresse zu finden:"),_defineProperty(_messages,"address.manually","Gebe manuel ein:"),_defineProperty(_messages,"address.streetAddress","Strassen addresse:"),_defineProperty(_messages,"address.postCode","Postleitzahl"),_defineProperty(_messages,"address.country","Land:"),_defineProperty(_messages,"address.city","Stadt:"),_defineProperty(_messages,"address.street","Strasse:"),_defineProperty(_messages,"address.placeholder.country","Land auswählen"),_defineProperty(_messages,"address.placeholder.city","Bsp. München"),_defineProperty(_messages,"address.placeholder.street","Bsp.  Willy Brandt Straße"),_defineProperty(_messages,"address.placeholder.streetAddress","Bsp. 25"),_defineProperty(_messages,"address.placeholder.postCode","Bsp. 10117"),_defineProperty(_messages,"address.validation.countryRequired","Land ist erforderlich"),_defineProperty(_messages,"markets.name","Name"),_defineProperty(_messages,"markets.new","Neuer Bezirk"),_defineProperty(_messages,"markets.title","Bezirke"),_defineProperty(_messages,"markets.message.created","Bezirk wurde erfolgreich erstellt"),_defineProperty(_messages,"markets.message.updated","Bezirk wurde erfolgreich geändert"),_defineProperty(_messages,"markets.message.deleted","Bezirk wurde erfolgreich gelöscht"),_defineProperty(_messages,"dashboard.title","Dashboard"),_defineProperty(_messages,"dashboard.assets.map","Übersich der Objekte"),_defineProperty(_messages,"dashboard.assets.list","Objekte"),_defineProperty(_messages,"dashboard.assets.list.serach.placeholder","Portfolio durchsuchen.."),_defineProperty(_messages,"dashboard.assets.table.name","Objektname"),_defineProperty(_messages,"dashboard.assets.table.total","Gesamtmietfläche"),_defineProperty(_messages,"dashboard.assets.table.vacanсу","Leerstand"),_defineProperty(_messages,"dashboard.assets.empty","Anz. Objekte"),_defineProperty(_messages,"dashboard.rent_rollovert_chart","Mietauslauf Chart"),_defineProperty(_messages,"dashboard.rent_rollovert_chart.series","Mietauslauf per Quartal"),_defineProperty(_messages,"dashboard.deal_viewing_chart","Besichtigungen"),_defineProperty(_messages,"dashboard.deal_viewing_chart.series","Besichtigungen"),_defineProperty(_messages,"dashboard.deal_viewing_chart.header.tenant","Mieter"),_defineProperty(_messages,"dashboard.deal_viewing_chart.header.asset","Objekt"),_defineProperty(_messages,"dashboard.deal_viewing_chart.header.area","Fläche"),_defineProperty(_messages,"dashboard.tenant_exposure","Mietermix"),_defineProperty(_messages,"dashboard.tenant_exposure.industry.other","Andere"),_defineProperty(_messages,"dashboard.tenant_exposure.industry.notset","Nicht spezifiziert"),_defineProperty(_messages,"dashboard.tenant_exposure.tooltip.total","Total"),_defineProperty(_messages,"dashboard.funnel-chart.inquiry","Gesuch"),_defineProperty(_messages,"dashboard.funnel-chart.viewing","Besichtigung"),_defineProperty(_messages,"dashboard.funnel-chart.negotiating","Verhandlung"),_defineProperty(_messages,"dashboard.funnel-chart.executed","Abgeschlossen"),_defineProperty(_messages,"dashboard.funnel-chart.underOffer","Im Angebot"),_defineProperty(_messages,"dashboard.funnel_deals_chart","Funnel Analyse"),_defineProperty(_messages,"dashboard.vacancy_chart","Verfügbarkeitsgraphik"),_defineProperty(_messages,"dashboard.vacancy_chart.series","Verfügbare Fläche"),_defineProperty(_messages,"dashboard.filter.assets","Objekte"),_defineProperty(_messages,"dashboard.filter.markets","Bezirke"),_defineProperty(_messages,"dashboard.filter.cities","Städte"),_defineProperty(_messages,"contracts.edit.dates.title","Vertragsdetails bearbeiten"),_defineProperty(_messages,"contracts.edit.dates.start-date","Vertrag Startdatum"),_defineProperty(_messages,"contracts.edit.dates.end-date","Vertrags Enddatum"),_defineProperty(_messages,"contracts.edit.dates.deal-executed-date","Deal Ausführungsdatum"),_defineProperty(_messages,"contracts.edit.dates.placeholder.start-date","Startdatum auswählen"),_defineProperty(_messages,"contracts.edit.dates.placeholder.end-date","Enddatum auswählen"),_defineProperty(_messages,"contracts.edit.renewal_strategy","Erneuerungsstrategie"),_defineProperty(_messages,"contracts.edit.renewal_strategy.placeholder","Erneuerungsstrategie auswählen"),_defineProperty(_messages,"contracts.edit.dates.save","Speichern"),_defineProperty(_messages,"contracts.edit.dates.cancel","Abbrechen"),_defineProperty(_messages,"contracts.edit.dates.saving","In bearbeitung"),_defineProperty(_messages,"contracts.edit.dates.message.updated","Vertrag wurde erfolgreich aktualisiert"),_defineProperty(_messages,"contracts.edit.dates.validation.startDateInvalid","[DEU] Start Date must be less than End Date"),_defineProperty(_messages,"contracts.edit.space.title","Vertragsdetails"),_defineProperty(_messages,"contracts.edit.space.in-pace-rent","€/m²"),_defineProperty(_messages,"contracts.edit.space.placeholder.in-pace-rent","€/m² hinzufügen"),_defineProperty(_messages,"contracts.edit.space.additional-cost","Zusätzliche Kosten"),_defineProperty(_messages,"contracts.edit.space.placeholder.additional-cost","Zusätzliche Kosten hinzufügen"),_defineProperty(_messages,"contracts.edit.space.save","Speichern"),_defineProperty(_messages,"contracts.edit.space.cancel","Abbrechen"),_defineProperty(_messages,"contracts.edit.space.saving","in Bearbeitung"),_defineProperty(_messages,"contracts.edit.space.message.updated","Vertrag wurde erfolgreich atkualisiert"),_defineProperty(_messages,"contracts.create.title","Neuer Mieter"),_defineProperty(_messages,"contracts.tenant.details.title","Mieter Details"),_defineProperty(_messages,"contracts.lease.details.title","Vertrag Details"),_defineProperty(_messages,"contracts.space.header","Fläche"),_defineProperty(_messages,"contracts.spaces.details.title","Bestätige Flächen Details"),_defineProperty(_messages,"contracts.spaces.asset.header","Objekt Name"),_defineProperty(_messages,"contracts.spaces.space.header","Fläche auswählen"),_defineProperty(_messages,"contracts.spaces.spaceType.header","Nutzungsart"),_defineProperty(_messages,"contracts.spaces.area.header","Fläche"),_defineProperty(_messages,"contracts.spaces.price.header","€/m²"),_defineProperty(_messages,"contracts.spaces.netRent.header","Nettomiete"),_defineProperty(_messages,"contracts.spaces.add-button","Hinzufügen"),_defineProperty(_messages,"contracts.spaces.remove-button","Entfernen"),_defineProperty(_messages,"contracts.spaces.asset","Objekt"),_defineProperty(_messages,"contracts.message.created","Vertrag wurde erfolgreich hinzugefügt"),_defineProperty(_messages,"contracts.endDate.validation","[DEU] End Date must be greater then Start Date"),_defineProperty(_messages,"deals.title","Deals"),_defineProperty(_messages,"deals.grid.empty","Es existieren zurzeit keine deals"),_defineProperty(_messages,"deals.list.header.name","Kundenname"),_defineProperty(_messages,"deals.list.header.contact","Kontakt"),_defineProperty(_messages,"deals.list.header.stage","Deal-Phase"),_defineProperty(_messages,"deals.list.header.lastStage","Letzte Deal-Phase"),_defineProperty(_messages,"deals.list.header.start_date","Startdatum"),_defineProperty(_messages,"deals.list.header.requirement","Anforderung"),_defineProperty(_messages,"deals.list.header.spaces","Gebäude & Flächen"),_defineProperty(_messages,"deals.list.header.lastUpdate","letzte Aktualisierung"),_defineProperty(_messages,"deals.list.header.lastActivityDate","Letztes Vorgangsdatum"),_defineProperty(_messages,"deals.list.header.outcome","Ergebnis"),_defineProperty(_messages,"deals.list.header.reason","Grund"),_defineProperty(_messages,"deals.list.header.notes","Notizen"),_defineProperty(_messages,"deals.list.header.dateDead","Endtermin"),_defineProperty(_messages,"deals.list.header.dateExecuted","Ausführungsdatum"),_defineProperty(_messages,"deals.list.header.dealLead","Deal Lead"),_defineProperty(_messages,"deals.list.options.showlessbutton","...weniger"),_defineProperty(_messages,"deals.list.options.showmorebutton","mehr..."),_defineProperty(_messages,"deals.list.contacts.showlessbutton","...weniger"),_defineProperty(_messages,"deals.list.contacts.showmorebutton","mehr..."),_defineProperty(_messages,"deals.list.contacts.company","Firma"),_defineProperty(_messages,"deals.list.contacts.email","Email ID"),_defineProperty(_messages,"deals.list.contacts.mobileno","Mobile no."),_defineProperty(_messages,"deals.list.contacts.officeno","Office no."),_defineProperty(_messages,"deals.list.unittypes.showlessbutton","...weniger"),_defineProperty(_messages,"deals.list.unittypes.showmorebutton","mehr..."),_defineProperty(_messages,"deals.status","Status"),_defineProperty(_messages,"deals.status.message","Dealstatus aktualisiert"),_defineProperty(_messages,"deals.edit","Editiere deal"),_defineProperty(_messages,"deals.add","Kreire deal"),_defineProperty(_messages,"deals.saving","Speichern"),_defineProperty(_messages,"deals.save","Speichern"),_defineProperty(_messages,"deals.cancel","Abbrechen"),_defineProperty(_messages,"deals.markets","Market"),_defineProperty(_messages,"deals.markets.placeholder","Durchsuche Bezirke"),_defineProperty(_messages,"deals.client","Kunde"),_defineProperty(_messages,"deals.client.placeholder","Durchsuche Kunden"),_defineProperty(_messages,"deals.client.add","+ Neu hinzufügen"),_defineProperty(_messages,"deals.dealLead","Deal Lead"),_defineProperty(_messages,"deals.dealLead.placeholder","Durchsuche Benutzer"),_defineProperty(_messages,"deals.spaceTypes","Nutzungsart"),_defineProperty(_messages,"deals.spaceTypes.placeholder","Durchsuche Benutzerfläche"),_defineProperty(_messages,"deals.dealType","Dealtyp"),_defineProperty(_messages,"deals.dealType.placeholder","Durchsuche Dealtyp"),
_defineProperty(_messages,"deals.start_date","Startdatum"),_defineProperty(_messages,"deals.start_date.placeholder","MM/TT/JJJJ"),_defineProperty(_messages,"deals.area_required","Flächenbedarf"),_defineProperty(_messages,"deals.area.range","Bereich"),_defineProperty(_messages,"deals.area.discrete","Diskret"),_defineProperty(_messages,"deals.area.min","Min"),_defineProperty(_messages,"deals.area.max","Max"),_defineProperty(_messages,"deals.area.discrete.placeholder","Flächenbedarf angeben"),_defineProperty(_messages,"deals.message.created","Deal wurde erfolgreich erstellt"),_defineProperty(_messages,"deals.message.updated","Deal wurde erfolgreich aktualisiert"),_defineProperty(_messages,"deals.message.contact_added","Deal Kontakt erfolgreich hinzugefügt"),_defineProperty(_messages,"deals.message.contact_removed","Deal Kontakt erfolgreich entfernt"),_defineProperty(_messages,"deals.message.attachment_uploaded","Datei erfolgreich hochgeladen"),_defineProperty(_messages,"deals.message.attachment.error","Fehler beim Hochladen der Dateil {0}. Dateigrösse ist maximal {1} byte"),_defineProperty(_messages,"deals.message.option_deleted","Optionen erfolgreich gelöscht"),_defineProperty(_messages,"deals.message.options_updated","Optionen erfolgreich geändert"),_defineProperty(_messages,"deals.filter.status.active","Aktiv"),_defineProperty(_messages,"deals.filter.status.executed","Ausgeführt"),_defineProperty(_messages,"deals.filter.status.dead","Dead"),_defineProperty(_messages,"deals.filter.stage.inquiry","Gesuch"),_defineProperty(_messages,"deals.filter.stage.viewing","Besichtigung"),_defineProperty(_messages,"deals.filter.stage.negotiating","Verhandlung"),_defineProperty(_messages,"deals.filter.stage.underoffer","Angebot"),_defineProperty(_messages,"deals.filter.status.title","Deals durchsuchen"),_defineProperty(_messages,"deals.filter.markets","Bezirk"),_defineProperty(_messages,"deals.filter.cities","Stadt"),_defineProperty(_messages,"deals.filter.leadUsers","Deal Leads"),_defineProperty(_messages,"deals.filter.leadUsers.prefix","Lead"),_defineProperty(_messages,"deals.options.title","Gebäude & Flächen auswählen"),_defineProperty(_messages,"deals.options.add-button","Hinzufügen"),_defineProperty(_messages,"deals.options.edit-button","Editieren"),_defineProperty(_messages,"deals.options.save-button","Speichern"),_defineProperty(_messages,"deals.options.cancel-button","Abbrechen"),_defineProperty(_messages,"deals.optionsform.title","Gebäude und Flächen hinzufügen"),_defineProperty(_messages,"deals.optionsform.saving","Speichern"),_defineProperty(_messages,"deals.optionsform.save","Speichern"),_defineProperty(_messages,"deals.optionsform.cancel","Abbrechen"),_defineProperty(_messages,"deals.optionsform.select","Auswählen"),_defineProperty(_messages,"deals.optionsform.combine","Kombinieren"),_defineProperty(_messages,"deals.optionsform.search.help","Suchen"),_defineProperty(_messages,"deals.optionsform.available","Verfügbar"),_defineProperty(_messages,"deals.optionsform.available.title","Ausgewählte Fläche"),_defineProperty(_messages,"deals.optionsform.available.table.unit","Einheit"),_defineProperty(_messages,"deals.optionsform.available.table.area","Fläche"),_defineProperty(_messages,"deals.optionsform.available.table.floor","Stockwerk"),_defineProperty(_messages,"deals.optionsform.available.table.availability","Verfügbarkeit"),_defineProperty(_messages,"deals.optionsform.selected.title","Liste aller verfügbaren Optionen"),_defineProperty(_messages,"deals.optionsform.noptions","Keine Deals entsprechen diesen Kriterien"),_defineProperty(_messages,"deals.filter.extra","Extra Filter"),_defineProperty(_messages,"deals.filter.industry","Industrie"),_defineProperty(_messages,"deals.filter.type","Nutzungsart"),_defineProperty(_messages,"deals.filter.apply","Speichern"),_defineProperty(_messages,"deals.filter.cancel","Abbrechen"),_defineProperty(_messages,"deals.filter.area","Flächenbedarf"),_defineProperty(_messages,"deals.filter.area_from","Flächenbedarf von"),_defineProperty(_messages,"deals.filter.area_to","Flächenbedarf zu"),_defineProperty(_messages,"deals.filter.area_type","Nutzungsart"),_defineProperty(_messages,"deals.filter.deal_type","Dealtyp"),_defineProperty(_messages,"deals.filter.range","Bereich"),_defineProperty(_messages,"deals.filter.discrete","Diskret"),_defineProperty(_messages,"deals.filter.from","Von"),_defineProperty(_messages,"deals.filter.to","Zu"),_defineProperty(_messages,"deals.filter.assets","Objekte"),_defineProperty(_messages,"deals.details","Deal Details"),_defineProperty(_messages,"deals.attachments.title","Anhang"),_defineProperty(_messages,"deals.attachments.add-button","Anhängen"),_defineProperty(_messages,"deals.attachments.showmorebutton","Mehr zeigen"),_defineProperty(_messages,"deals.attachments.showlessbutton","Weniger"),_defineProperty(_messages,"deals.contacts.title","Kontakt Details"),_defineProperty(_messages,"deals.contact.placeholder","Existierende Kontakte hinzufügen"),_defineProperty(_messages,"deals.dead.title","Dead Deal Details"),_defineProperty(_messages,"deals.dead.outcome","Resultat"),_defineProperty(_messages,"deals.dead.reason","Grund"),_defineProperty(_messages,"deals.dead.date","Dead Datum"),_defineProperty(_messages,"deals.dead.notes","Notizen"),_defineProperty(_messages,"deals.dead.label",'Als "Dead" markieren'),_defineProperty(_messages,"deals.dead.outcome.placeholder","Ergebnis aussuchen"),_defineProperty(_messages,"deals.dead.reason.placeholder","Grund aussuchen"),_defineProperty(_messages,"deals.comments.title","Kommentare"),_defineProperty(_messages,"deals.logs.title","Log-historie"),_defineProperty(_messages,"deals.logs.nologs","Keine Log-historie"),_defineProperty(_messages,"deals.delete.label","Löschen"),_defineProperty(_messages,"deals.delete.cancel","Abbrechen"),_defineProperty(_messages,"deals.delete.save","Löschen"),_defineProperty(_messages,"deals.delete.message","Sind Sie sicher, sie wollen den Deal löschen"),_defineProperty(_messages,"deals.delete.title","Löschen bestätigen"),_defineProperty(_messages,"deals.delete.success","Deal erfolgreich gelöscht"),_defineProperty(_messages,"deals.executed.header","Ausgeführte Terms"),_defineProperty(_messages,"deals.executed.nodata","Keine ausgeführte Terms"),_defineProperty(_messages,"deals.executed.startDate","Startdatum"),_defineProperty(_messages,"deals.executed.endDate","Enddatum"),_defineProperty(_messages,"deals.executed.executedDate","Ausführdatum"),_defineProperty(_messages,"deals.executed.term","Term"),_defineProperty(_messages,"deals.executed.size","Grösse"),_defineProperty(_messages,"deals.executed.spaces","Flächen"),_defineProperty(_messages,"deals.executed.permanent","PERM"),_defineProperty(_messages,"marketplace.clients.filter.active","Aktiv"),_defineProperty(_messages,"marketplace.clients.filter.past","Vergangen"),_defineProperty(_messages,"marketplace.clients.filter.all","Alle"),_defineProperty(_messages,"marketplace.clients.header.tenant","Firma"),_defineProperty(_messages,"marketplace.clients.header.industry","Industrie"),_defineProperty(_messages,"marketplace.clients.header.activeDealsNumber","Active Deals"),_defineProperty(_messages,"marketplace.clients.header.pastDealsNumber","Vergangene Deals"),_defineProperty(_messages,"marketplace.clients.header.allDealsNumber","Deals"),_defineProperty(_messages,"marketplace.clients.header.activeDealsArea","Active Bereich"),_defineProperty(_messages,"marketplace.clients.header.pastDealsArea","Vergangene Bereich"),_defineProperty(_messages,"marketplace.clients.header.allDealsArea","Bereich"),_defineProperty(_messages,"marketplace.clients.header.lastUpdated","Letzte Aktualisierung"),_defineProperty(_messages,"marketplace.clients.panel.section.nodata","Keine Daten"),_defineProperty(_messages,"marketplace.clients.panel.general.header","Generelle Infos"),_defineProperty(_messages,"marketplace.clients.panel.general.fullName","vollständiger Name"),_defineProperty(_messages,"marketplace.clients.panel.general.shortName","Kurzer Name"),_defineProperty(_messages,"marketplace.clients.panel.general.countryName","Land"),_defineProperty(_messages,"marketplace.clients.panel.general.address","Adresse"),_defineProperty(_messages,"marketplace.clients.panel.general.industry","Industrie"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.header","Active Deals"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.dealStage","Deal-Phase"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.startDate","Startdatum"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.requirement","Anforderung"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.buildings","Gebäude & Flächen"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.lastUpdate","letzte Aktualisierung"),_defineProperty(_messages,"marketplace.clients.panel.activedeals.nodata","Keine Aktive Deals"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.header","Ausgeführte Deals"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.leaseEndDate","Enddatum"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.requirement","Anforderung"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.buildings","Gebäude & Flächen"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.lastUpdate","Letzte Aktualisierung"),_defineProperty(_messages,"marketplace.clients.panel.executeddeals.nodata","Keine ausgeführte Deals"),_defineProperty(_messages,"marketplace.clients.panel.contacts.header","Kontakte"),_defineProperty(_messages,"marketplace.clients.panel.contacts.contact","Kontaktperson"),_defineProperty(_messages,"marketplace.clients.panel.contacts.company","Firmen Name"),_defineProperty(_messages,"marketplace.clients.panel.contacts.not_specified","Kontaktperson nicht definiert"),_defineProperty(_messages,"marketplace.clients.panel.contacts.email","Email"),_defineProperty(_messages,"marketplace.clients.panel.contacts.mobilephone","Mobile phone"),_defineProperty(_messages,"marketplace.clients.panel.contacts.officephone","Office phone"),_defineProperty(_messages,"marketplace.clients.panel.showlessbutton","...weniger"),_defineProperty(_messages,"marketplace.clients.panel.showmorebutton","mehr..."),_defineProperty(_messages,"areas.portfolio","PORTFOLIO"),_defineProperty(_messages,"areas.marketplace","MARKETPLACE"),_defineProperty(_messages,"areas.competetive_insights","COMPETITIVE INSIGHTS"),_defineProperty(_messages,"sidebar.marketplace_dashboard","Dashboard"),_defineProperty(_messages,"sidebar.marketplace_units","Flächen"),_defineProperty(_messages,"sidebar.marketplace_deals","Deals"),_defineProperty(_messages,"sidebar.marketplace_clients","Kunden"),_defineProperty(_messages,"sidebar.compinsights_competitions","Wettbewerb"),_defineProperty(_messages,"sidebar.compinsights_buildings","Gebäude"),_defineProperty(_messages,"marketplace.dashboard.topbar.total","Total"),_defineProperty(_messages,"marketplace.dashboard.topbar.inquiry","Inquiry"),_defineProperty(_messages,"marketplace.dashboard.topbar.viewing","Viewing"),_defineProperty(_messages,"marketplace.dashboard.topbar.negotiating","Negotiating"),_defineProperty(_messages,"marketplace.dashboard.topbar.underoffer","Under Offer"),_defineProperty(_messages,"marketplace.dashboard.topbar.executed","Executed"),_defineProperty(_messages,"marketplace.dashboard.empty","Es existieren zurzeit keine Deals"),_defineProperty(_messages,"marketplace.dashboard.activity_stats","Aktivitäten Statistiken"),_defineProperty(_messages,"marketplace.dashboard.top_inquiries","Top Anfragen"),_defineProperty(_messages,"marketplace.dashboard.top_actives","Top Aktivitäten"),_defineProperty(_messages,"stats.deals.total","Anz. Deals"),_defineProperty(_messages,"stats.deals.inquiry","Anfrage"),_defineProperty(_messages,"stats.deals.viewing","Besichtigung"),_defineProperty(_messages,"stats.deals.negotiating","Verhandlung"),_defineProperty(_messages,"stats.deals.underOffer","In Angebot"),_defineProperty(_messages,"stats.deals.newdeals","Neue Deals"),_defineProperty(_messages,"stats.deals.renewal","Verlängerung"),_defineProperty(_messages,"stats.deals.label","Deals"),_defineProperty(_messages,"stats.deals.ofTLA","Of TLA"),_defineProperty(_messages,"stats.deals.closeTime","Time to close"),_defineProperty(_messages,"stats.deals.startingRent","Anfangsmiete"),_defineProperty(_messages,"stats.tenants.leases","Mietverträge"),_defineProperty(_messages,"stats.tenants.area","Fläche"),_defineProperty(_messages,"stats.tenants.walt","WALT"),_messages),result=messages[messageId];return result?result:"<<<<Missing "+messageId+" >>>>"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Messages},function(module,exports){"use strict";function updateLocale(localeId){exports.LocaleId=LocaleId=localeId}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateLocale=updateLocale;var LocaleId=exports.LocaleId=1},function(module,exports){module.exports='<body class="page-index">\r\n  <div class="page page-sidebar">\r\n      <!-- sliding_sidebar -->\r\n      <right-sidebar></right-sidebar>\r\n      <!-- /sliding_sidebar -->\r\n      <!-- header -->\r\n      <mainheader></mainheader>\r\n      <!-- /header -->\r\n      <!-- main_area -->\r\n      <div class="container-fluid full-height">\r\n          <div class="row row-main">\r\n                  <!-- left_sidebar -->\r\n                  <div class="col-md-2 col-sidebar">\r\n                    <aside id="left-sidebar" class="region region-sidebar">\r\n                      <sidebar></sidebar>\r\n                    </aside>\r\n                  </div>\r\n                  <!-- /left_sidebar -->\r\n                  <!-- content -->\r\n                  <div class="col-md-10 col-content">\r\n                    <div ui-view class="main-content" ss-container></div>\r\n                  </div>\r\n                  <!-- /content -->\r\n          </div>\r\n      </div>\r\n      <!-- /main_area -->\r\n  </div>\r\n  <toaster-container toaster-options="{\'position-class\': \'toast-bottom-center\'}"></toaster-container>\r\n  <body-blocker></body-blocker>\r\n</body>\r\n'},function(module,exports){module.exports='<div class="hpanel">\r\n    <div class="panel-body">\r\n        <h2>Dashboard</h2>\r\n    </div>\r\n</div>\r\n<div ng-show="true" class="modal-loader">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw" ></i>\r\n</div>'},function(module,exports){module.exports='\r\n\ufeff<div class="row">\r\n    <div class="col-lg-12">\r\n        <navigation-internal></navigation-internal>\r\n    </div>\r\n</div>\r\n\r\n<div class="clearfix">\r\n\t<navigation-create-items item="\'broker\'" class="pull-right"></navigation-create-items>    \r\n</div>\r\n\r\n<div dx-data-grid="ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'brokers\', \'title\': Messages(\'brokers.title\') }, { \'title\': $ctrl.brokerObject.name }]" title="{{$ctrl.brokerObject.name}}">\r\n    </breadcrumb-panel>\r\n</div>\r\n\r\n<div class="row" child="hpanel">\r\n    <div class="col-lg-4">\r\n        <div class="hpanel horange">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editBroker()" title="{{Messages(\'brokers.edit\')}}"></i>\r\n                        <i class="fa btn btn-default btn-xs" ng-class="isArchived ? \'fa-undo\' : \'fa-trash-o\'" title="{{isArchived ? Messages(\'brokers.activate\') : Messages(\'brokers.archive\')}}" ng-click="$ctrl.archiveTrigger()"></i>\r\n                    </div>\r\n                </div>\r\n                <div class="broker-avatar">\r\n                    <img alt="" class="img-circle m-b m-t-md" src="img/user.svg" />\r\n                </div>\r\n                <h3 class="broker-name">\r\n                    {{$ctrl.brokerObject.name}}\r\n                    <span ng-if="isArchived" class="small archived-marker">{{Messages(\'brokers.archived\')}}</span>\r\n                </h3>\r\n            </div>\r\n            <div class="panel-footer">\r\n                <div class="row">\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="broker-stat">\r\n                            <span>{{Messages(\'brokers.projects\')}}: </span>\r\n                            <strong>200</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="broker-stat">\r\n                            <span>{{Messages(\'brokers.messages\')}}: </span>\r\n                            <strong>300</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                        <div class="broker-stat">\r\n                            <span>{{Messages(\'brokers.views\')}}: </span>\r\n                            <strong>400</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ng-map class="client-map" center="52.520468, 13.407234" zoom="11" disable-default-u-i="true" zoom-control="true" scrollwheel="false"></ng-map>\r\n        </div>\r\n        <div class="hpanel-title">{{ Messages(\'assets.gallery.title\') }}</div>\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <brokergallery images="$ctrl.brokerObject.images" update-image="updateImage"></brokergallery>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-8">\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <div class="fish-container">\r\n                    <i class="edge"></i>\r\n                    <span class="cont">{{Messages(\'brokers.additional.container\')}}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='\r\n<div class="row row-sticky t360-sticky" data-sticky="84">\r\n    <div class="col-xs-6">\r\n        <navigation-internal></navigation-internal>\r\n    </div>\r\n    <div class="col-xs-6">\r\n        <global-stats stats="$ctrl.globalStats" />\r\n    </div>\r\n</div>\r\n\r\n<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status">\r\n                <li class="spaces-filter-status-item active" role="presentation">\r\n                    <a href="#" id="grid-assets">\r\n                        <span>\r\n                            <img src="/img/icons/gridview.png" srcset="/img/icons/gridview@2x.png 2x" class="icon-inactive">\r\n                            <img src="/img/icons/gridview-active.png" srcset="/img/icons/gridview-active@2x.png 2x" class="icon-active">\r\n                            Grid View\r\n                        </span>\r\n                    </a>\r\n                </li><li class="spaces-filter-status-item" role="presentation">\r\n                    <a href="#" id="list-assets">\r\n                        <span>\r\n                            <img src="/img/icons/listview.png" srcset="/img/icons/listview@2x.png 2x" class="icon-inactive">\r\n                            <img src="/img/icons/listview-active.png" srcset="/img/icons/listview-active@2x.png 2x" class="icon-active">\r\n                            List View\r\n                        </span>\r\n                    </a>\r\n                </li>                \r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div class="pull-right">            \r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search" ng-model="$ctrl.tableFilter" placeholder="{{Messages(\'assets.filter.search.placeholder\')}}" ng-keypress="$ctrl.onSearchPress($event)">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="extraFilters.length" class="m-t-l asset-stats-extra-filter">\r\n    <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n        <span ng-if="item.name">{{item.name}}: </span>\r\n        <strong ng-bind-html="item.text" />\r\n        <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n    </div>\r\n</div>\r\n\r\n<div class="block block-content content-items assets-grid">\r\n    <div class="row" ng-repeat="row in $ctrl.assets track by $index">\r\n        <div class="assets-item grid-group-item col-lg-3" ng-repeat="item in row" animate-panel child="asset-panel">\r\n            <a ui-sref="asset-stats-stacking-plan({id: item.id})">\r\n            <div class="thumbnail" style="background-image: url({{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}})">\r\n                <div class="asset-info">\r\n                    <div class="asset-name">\r\n                        {{item.name}}\r\n                    </div>\r\n                    <div class="asset-location">\r\n                        {{item.location.street}} \r\n                        {{item.location.streetAddress}}\r\n                    </div>\r\n                    <div class="asset-info-line">\r\n                        <div class="asset-info-left-side">\r\n                            <div class="asset-stats-col">\r\n                                <div>OCCUPANCY</div>\r\n                                {{$ctrl.formatAreaValue(item.occupancy)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                            </div>\r\n                            <div class="percentage asset-stats-col">\r\n                                {{$ctrl.getPercents(item.occupancy, item.totalRentableArea)}}% \r\n                            </div>\r\n                        </div>                        \r\n                        <div class="asset-info-right-side">\r\n                            <div class="asset-stats-col">\r\n                                <div>VACANCY</div>\r\n                                {{$ctrl.formatAreaValue(item.vacancy)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                            </div>\r\n                            <div class="percentage asset-stats-col">\r\n                                {{$ctrl.getPercents(item.vacancy, item.totalRentableArea)}}% \r\n                            </div>                            \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            </a>         \r\n        </div>\r\n    </div>\r\n\r\n    <div ng-if="dataLoading" class="text-center">\r\n        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n    </div>\r\n\r\n    <div class="row text-center">\r\n        <span ng-if="$ctrl.hasMore" class="animate-if">\r\n            <button class="btn has-more" ng-click="$ctrl.loadMore()">Load More...</button>\r\n        </span>\r\n    </div>\r\n    <div class="row" ng-if="(!$ctrl.assets || $ctrl.assetsLength === 0) && !dataLoading">\r\n        <div class="col-sm-6 col-md-1">\r\n            No data.\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="content-items table-data-area assets-table">\r\n    <table ng-if="$ctrl.assetsLength" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="filtered-spaces-grid" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n        <colgroup>\r\n            <col width="32%">\r\n            <col width="13%">\r\n            <col width="16%">\r\n            <col width="13%">\r\n            <col width="13%">\r\n            <col width="13%">\r\n        </colgroup>\r\n        <thead>\r\n            <tr>\r\n                <th ng-click="$ctrl.sortList($ctrl.Constants.assetSortOptions.asset)">\r\n                    {{Messages(\'assets.list.assets.header\')}}&nbsp;&nbsp;\r\n                    <i ng-if="sortType !== $ctrl.Constants.assetSortOptions.asset" class="fa fa-sort"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.asset && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.asset && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                </th>\r\n                <th ng-click="$ctrl.sortList($ctrl.Constants.assetSortOptions.city)">\r\n                   {{Messages(\'assets.list.city.header\')}}&nbsp;&nbsp;\r\n                    <i ng-if="sortType !== $ctrl.Constants.assetSortOptions.city" class="fa fa-sort"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.city && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.city && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                </th>\r\n                <th ng-click="$ctrl.sortList($ctrl.Constants.assetSortOptions.totalArea)" class="text-right">\r\n                    {{Messages(\'assets.list.tla.header\')}}&nbsp;&nbsp;\r\n                    <i ng-if="sortType !== $ctrl.Constants.assetSortOptions.totalArea" class="fa fa-sort"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.totalArea && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.totalArea && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                </th>\r\n                <th ng-click="$ctrl.sortList($ctrl.Constants.assetSortOptions.vacancy)" class="text-right">\r\n                    {{Messages(\'assets.list.vacancy.header\')}}&nbsp;&nbsp;\r\n                    <i ng-if="sortType !== $ctrl.Constants.assetSortOptions.vacancy" class="fa fa-sort"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.vacancy && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.vacancy && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                </th>\r\n                <th class="text-right">\r\n                    {{Messages(\'assets.list.availability.header\')}}&nbsp;&nbsp;\r\n                </th>\r\n                <th ng-click="$ctrl.sortList($ctrl.Constants.assetSortOptions.occupancy)" class="text-right">\r\n                    {{Messages(\'assets.list.occupancy.header\')}}&nbsp;&nbsp;\r\n                    <i ng-if="sortType !== $ctrl.Constants.assetSortOptions.occupancy" class="fa fa-sort"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.occupancy && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                    <i ng-if="sortType === $ctrl.Constants.assetSortOptions.occupancy && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                </th>\r\n            </tr>\r\n        </thead>\r\n        <tr ng-repeat="item in $ctrl.assetsList" ng-click="openStackingPlan(item)">\r\n            <td>\r\n                <div class="asset-table-image">\r\n                    <img class="list-image" src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}" alt="">\r\n                </div>\r\n                <div class="asset-table-name-block">\r\n                    <div class="asset-table-name">{{item.name}}</div>\r\n                    <div class="asset-table-address">{{item.location.street}} {{item.location.streetAddress}}</div>\r\n                </div>\r\n            </td>\r\n            <td>{{item.location.city}}</td>\r\n            <td class="text-right">\r\n                {{$ctrl.formatAreaValue(item.totalRentableArea)}}\r\n                <span ng-bind-html="Messages(\'square.meter\')"/>\r\n            </td>\r\n            <td class="text-right">\r\n                {{$ctrl.formatAreaValue(item.vacancy)}}\r\n                <span ng-bind-html="Messages(\'square.meter\')"/>\r\n            </td>\r\n            <td class="text-right">\r\n                - <!-- to do: no server support? -->\r\n            </td>\r\n            <td class="text-right">\r\n                {{$ctrl.formatAreaValue(item.occupancy)}}\r\n                <span ng-bind-html="Messages(\'square.meter\')"/>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n        <div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n    <div class="row" ng-if="(!$ctrl.assets || $ctrl.assetsLength === 0) && !dataLoading">\r\n        <div class="col-sm-6 col-md-1">\r\n            No data.\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/javascript">\r\n\r\n    $(\'.search-box input\').focusin(function() {\r\n        $(this).parent(\'.search-box\').addClass("active");\r\n    });\r\n\r\n    $(\'.search-box input\').focusout(function() {\r\n        $(this).parent(\'.search-box\').removeClass("active");\r\n    });\r\n\r\n    $(document).ready(function() {\r\n        $(\'#list-assets\').click(function(event) {\r\n            event.preventDefault();        \r\n            $(\'.spaces-filter-status-item\').removeClass(\'active\');\r\n            $(this).parent(\'.spaces-filter-status-item\').addClass(\'active\');\r\n            $(\'.assets-grid\').hide();\r\n            $(\'.assets-table\').show();\r\n        });\r\n        $(\'#grid-assets\').click(function(event) {\r\n            event.preventDefault();\r\n            $(\'.spaces-filter-status-item\').removeClass(\'active\');\r\n            $(this).parent(\'.spaces-filter-status-item\').addClass(\'active\');\r\n            $(\'.assets-table\').hide();\r\n            $(\'.assets-grid\').show();            \r\n        });\r\n    });\r\n\r\n</script>'},function(module,exports){module.exports='\r\n<breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'assets.spaces.title\')}]" title="{{Messages(\'assets.spaces.title\')}}"></breadcrumb-panel>\r\n\r\n<div class="row">\r\n    <div class="col-sm-3" ng-if="$ctrl.asset.name">\r\n        <div class="asset-info-panel">\r\n            <div class="asset-info-main">\r\n                <div class="asset-name">\r\n                    {{ $ctrl.asset.name }}\r\n                </div>\r\n                <div class="asset-address">\r\n                    {{ $ctrl.asset.location.city }}<span ng-if="$ctrl.asset.location.city && $ctrl.asset.location.streetAddress">, </span>{{ $ctrl.asset.location.street }}<span ng-if="$ctrl.asset.location.streetAddress">, {{ $ctrl.asset.location.streetAddress }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-sm-9" ng-class="$ctrl.asset.name ? \'col-sm-9\' : \'col-sm-12\'">\r\n        <assets-statistics asset-id="$ctrl.asset.id" />\r\n    </div>\r\n</div>\r\n\r\n<navigation-internal></navigation-internal>\r\n\r\n<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status">  <!-- nav nav-pills  -->\r\n                <li class="spaces-filter-status-item" ng-repeat="item in availabilities" role="presentation" ng-class="selectedAvailability.id === item.id ? \'active\' : \'\'">\r\n                    <a href="#" ng-click="$ctrl.selectAvailability($event, item)">\r\n                        <span>\r\n                            {{ item.name }}\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div ng-if="selectedAvailability.value !== $ctrl.const.spaceAvailabilityIds.archived" class="pull-right">\r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="extraFilters.length" class="m-t-l">\r\n    <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n        <span ng-if="item.name">{{item.name}}: </span>\r\n        <strong ng-bind-html="item.text" />\r\n        <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n    </div>\r\n</div>\r\n\r\n        <div ng-if="!greedData.length && !update" class="text-center">\r\n            {{Messages(\'assets.spaces.filter.empty\')}}\r\n        </div>\r\n        <table ng-if="greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="filtered-spaces-grid" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n            <colgroup ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available">\r\n                <col width="5%">\r\n                <col width="10%">\r\n                <col width="12%">\r\n                <col width="12%">\r\n                <col width="12%">\r\n                <col width="16%">\r\n                <col width="12%">\r\n                <col width="12%">\r\n                <col width="9%">\r\n            </colgroup>\r\n            <colgroup ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable">\r\n                <col width="5%">\r\n                <col width="15%">\r\n                <col width="12%">\r\n                <col width="12%">\r\n                <col width="13%">\r\n                <col width="14%">\r\n                <col width="14%">\r\n                <col width="14%">\r\n            </colgroup>\r\n            <colgroup ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all">\r\n                <col width="5%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n                <col width="15%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n            </colgroup>\r\n            <thead class="t360-sticky" data-sticky="136">\r\n                <tr>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.unit)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.unit\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.unit" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.unit && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.unit && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.tower)">\r\n                        {{Messages(\'assets.spaces.filter.tower\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.tower" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.tower && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.tower && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.floor)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.floor\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.floor" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.floor && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.floor && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.area)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.rentable_area\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.area" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.area && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.area && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.type)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.type\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.type" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.type && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.type && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.tenant)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.tenant\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.tenant" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.tenant && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.tenant && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.price)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.asking_price\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.price" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.price && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.price && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.rent)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.in_place_rent\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.rent" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.rent && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.rent && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.expiry)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.expiry\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.expiry" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.expiry && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.expiry && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                     <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.availability)" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.availability\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.spaceSortOptions.availability" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.availability && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.spaceSortOptions.availability && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available" class="text-right">\r\n                        {{Messages(\'assets.spaces.filter.vacant\')}}&nbsp;&nbsp;\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tr ng-repeat="item in greedData" ng-click="$ctrl.showSpaceInfo($event, item)">\r\n                <td class="text-right"><span class="unit-square">{{item.number}}</span></td>\r\n                <td>{{item.towerName}}</td>\r\n                <td class="text-right">{{item.floorName}}</td>\r\n                <td class="text-right">\r\n                    {{item.rentableArea.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                </td>\r\n                <td class="text-right">{{$ctrl.getOfficeType(item.type)}}</td>\r\n                <td class="text-right">{{$ctrl.getTenantName(item.contract)}}</td>\r\n                <td class="text-right" ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && (item.minAskingPrice || item.maxAskingPrice)">\r\n                    {{$ctrl.getAskingPrice(item)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                </td>\r\n                \r\n                <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && (!item.minAskingPrice && !item.maxAskingPrice)" class="text-right">--</td>\r\n                <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && item.contract" class="text-right">\r\n                    {{item.contract && item.contract.inPlaceRent.toFixed(2)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                </td>\r\n                <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && !item.contract" class="text-right">--</td>\r\n                 <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all)" class="text-right">\r\n                    {{$ctrl.getExpiryDate(item.contract)}}\r\n                </td>\r\n                <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all)" class="text-right">\r\n                    {{$ctrl.getSpaceAvailability(item)}}\r\n                </td>\r\n                <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available)" class="text-right">\r\n                    {{item.daysVacant? item.daysVacant : $ctrl.const.emptyValuePlaceholder}}\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n\r\n<script type="text/javascript">\r\n$(\'.search-box input\').focusin(function() {\r\n    $(this).parent(\'.search-box\').addClass("active");\r\n});\r\n\r\n$(\'.search-box input\').focusout(function() {\r\n    $(this).parent(\'.search-box\').removeClass("active");\r\n});    \r\n</script>';
},function(module,exports){module.exports='\r\n<breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'assets.tenants.title\')}]" title="{{Messages(\'assets.tenants.title\')}}"></breadcrumb-panel>\r\n\r\n<div class="row">\r\n    <div class="col-sm-3" ng-if="$ctrl.asset.name">\r\n        <div class="asset-info-panel">\r\n            <div class="asset-info-main">\r\n                <div class="asset-name">\r\n                    {{ $ctrl.asset.name }}\r\n                </div>\r\n                <div class="asset-address">\r\n                    {{ $ctrl.asset.location.city }}<span ng-if="$ctrl.asset.location.city && $ctrl.asset.location.streetAddress">, </span>{{ $ctrl.asset.location.street }}<span ng-if="$ctrl.asset.location.streetAddress">, {{ $ctrl.asset.location.streetAddress }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-sm-9" ng-class="$ctrl.asset.name ? \'col-sm-9\' : \'col-sm-12\'">\r\n        <assets-statistics asset-id="$ctrl.asset.id" />\r\n    </div>\r\n</div>\r\n\r\n<navigation-internal></navigation-internal>\r\n\r\n<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status"> \r\n                <li class="spaces-filter-status-item" ng-repeat="status in statuses" role="presentation" ng-class="selectedStatus.id === status.id ? \'active\' : \'\'">\r\n                    <input ng-if="status.id === \'custom\'" type="text" id="spaces-filter-daterangepicker" />\r\n                    <a href="#" ng-click="$ctrl.selectStatus($event, status)">\r\n                        <span ng-if="status.id !== \'custom\' || !customExpirationFrom && !customExpirationTo">\r\n                                {{ status.name }}\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div class="pull-right">\r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-if="extraFilters.length" class="m-t-l">\r\n        <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n            <span ng-if="item.name">{{item.name}}: </span>\r\n            <strong ng-bind-html="item.text" />\r\n            <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n        <div ng-if="!greedData.length && !update" class="text-center">\r\n            {{Messages(\'assets.spaces.filter.empty\')}}\r\n        </div>\r\n        <table ng-if="greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid"  infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-disabled="load_more || disable_infinite_scrolling" id="filtered-spaces-grid">\r\n            <colgroup>\r\n                <col width="16%">\r\n                <col width="12%">\r\n                <col width="12%">\r\n                <col width="10%">\r\n                <col width="10%">\r\n                <col width="12%">\r\n                <col width="14%">\r\n                <col width="14%">\r\n            </colgroup>\r\n            <thead class="t360-sticky" data-sticky="136">\r\n                <tr>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.name)">\r\n                        {{Messages(\'assets.tenants.list.header.name\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.contractSortOptions.name" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.name && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.name && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.towers\')}}&nbsp;&nbsp;\r\n                    </th>                    \r\n                    <th class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.unit\')}}\r\n                    </th>                    \r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.startDate)" class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.start_date\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.contractSortOptions.startDate" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.startDate && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.startDate && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.endDate)" class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.end_date\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.contractSortOptions.endDate" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.endDate && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.endDate && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.totalArea)" class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.size\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.contractSortOptions.totalArea" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.totalArea && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.totalArea && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.netCost)" class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.net_rent\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.contractSortOptions.netCost" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.netCost && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.netCost && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                    <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.avgMeterCost)" class="text-right">\r\n                        {{Messages(\'assets.tenants.list.header.rent\')}}&nbsp;&nbsp;\r\n                        <i ng-if="sortType !== $ctrl.const.contractSortOptions.avgMeterCost" class="fa fa-sort"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.avgMeterCost && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                        <i ng-if="sortType === $ctrl.const.contractSortOptions.avgMeterCost && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n                    </th>\r\n                </tr>\r\n            </thead>\r\n            <tr id="row{{item.id}}" ng-repeat="item in greedData" ng-click="$ctrl.showTenantInfo($event, item)">\r\n                <td>\r\n                    <div><strong>{{item.tenantName}}</strong></div>\r\n                    <div ng-if="industries">{{$ctrl.getIndustry(item)}}</div>\r\n                </td>\r\n                <td class="text-right">\r\n                    <span ng-repeat="(key, towerName) in $ctrl.getUniqueSpacesTowers(item.spaces)" ng-if="key < 3">\r\n                        {{towerName}}\r\n                    </span>\r\n                </td>                \r\n                <td class="text-right">\r\n                    <span ng-repeat="(key, space) in item.spaces" ng-if="key < 3" ng-click="$ctrl.showSpaceInfo(space); $event.stopPropagation()">\r\n                        <span class="unit-square">{{space.number}}</span>\r\n                    </span>\r\n                    <span ng-if="item.spaces.length > 3" class="tenants-additional-units-indicator">\r\n                        +{{item.spaces.length - 3}}\r\n                    </span>\r\n                </td>\r\n                <td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n                <td class="text-right">\r\n                    {{$ctrl.getParsedDate(item.endDate)}}\r\n                    <div ng-if="item.endDate && item.status !== $ctrl.const.contractStatusIds.expired">\r\n                        {{Messages(\'stacking-plan.expires.2\')}} <span am-time-ago="item.endDate"></span>\r\n                    </div>\r\n                    <div ng-if="item.endDate && item.status === $ctrl.const.contractStatusIds.expired">\r\n                        {{Messages(\'stacking-plan.expired\')}}\r\n                    </div>\r\n                </td>\r\n                <td class="text-right">\r\n                    {{item.totalArea.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                </td>\r\n                <td class="text-right">{{item.netRentCost.toFixed(2)}} {{$ctrl.Settings.getCurrency()}} /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</td>\r\n                <td class="text-right">\r\n                    {{item.averageMeterCost.toFixed(2)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                    <span ng-if="item.spaces.length > 1" class="tenants-avg-indicator">\r\n                        <img src="/img/icons/avg.svg" alt="Average">\r\n                    </span>\r\n                </td>\r\n            </tr>\r\n        </table>\r\n        <div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n\r\n<script type="text/javascript">\r\n$(\'.search-box input\').focusin(function() {\r\n    $(this).parent(\'.search-box\').addClass("active");\r\n});\r\n\r\n$(\'.search-box input\').focusout(function() {\r\n    $(this).parent(\'.search-box\').removeClass("active");\r\n});    \r\n</script>'},function(module,exports){module.exports='<div class="t360-sticky-base"></div>\r\n\r\n<breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'assets.deal.title\')}]" title="{{Messages(\'assets.deal.title\')}}"></breadcrumb-panel>\r\n\r\n<div class="row" ng-if="$ctrl.assetId">\r\n    <div class="col-sm-3" ng-if="$ctrl.asset.name">\r\n        <div class="asset-info-panel">\r\n            <div class="asset-info-main">\r\n                <div class="asset-name">\r\n                    {{ $ctrl.asset.name }}\r\n                </div>\r\n                <div class="asset-address">\r\n                    {{ $ctrl.asset.location.city }}<span ng-if="$ctrl.asset.location.city && $ctrl.asset.location.streetAddress">, </span>{{ $ctrl.asset.location.street }}<span ng-if="$ctrl.asset.location.streetAddress">, {{ $ctrl.asset.location.streetAddress }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-sm-9" ng-class="$ctrl.asset.name ? \'col-sm-9\' : \'col-sm-12\'">\r\n        <assets-statistics asset-id="$ctrl.assetId" />\r\n    </div>\r\n</div>\r\n<navigation-internal></navigation-internal>\r\n<deals-list asset-id="$ctrl.assetId" deal-stages="$ctrl.dealStages" space-types="$ctrl.spaceTypes"/>\r\n'},function(module,exports){module.exports='<table ng-if="showData && greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="filtered-deals-grid" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-container="\'.main-content .ss-content\'" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n    <colgroup>\r\n        <col width="19%">\r\n        <col width="10%">\r\n        <col width="9%">\r\n        <col width="13%">\r\n        <col width="11%">\r\n        <col width="15%">\r\n        <col width="24%">\r\n    </colgroup>\r\n    <thead class="t360-sticky" data-sticky="136">\r\n        <tr>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.name)">\r\n                {{Messages(\'deals.list.header.name\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.name" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.name && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.name && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.contact\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.stage)" class="text-right">\r\n                {{Messages(\'deals.list.header.stage\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.stage" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.stage && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.stage && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.startDate)" class="text-right">\r\n                {{Messages(\'deals.list.header.start_date\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.startDate" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.startDate && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.startDate && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th class="text-right">\r\n                {{Messages(\'deals.list.header.requirement\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.spaces\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.lastUpdate\')}}&nbsp;&nbsp;\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tr id="row{{item.$$hashKey}}" ng-repeat="item in greedData" ng-click="$ctrl.showDealInfo($event, item)" ng-class="item == $ctrl.selectedDeal ? \'filtered-spaces-row-selected\' : \'\'">\r\n        <td class="deal-contacts-column">\r\n            <span class="font-bold">{{item.clientName}}</span>\r\n        </td>\r\n        <td class="deal-contacts-column">\r\n            <div class="deal-grid-contacts-container">\r\n                <div ng-repeat="contact in item.representatives | limitTo: item.showAllContacts ? \'Infinity\' : $ctrl.Constants.dealContactsCountInList" uib-popover-template="dynamicPopover.templateContactsUrl" popover-trigger="\'mouseenter\'"  popover-placement="auto bottom-left" class="contact">\r\n                    <div>\r\n                        <p>{{contact.name}}</p>\r\n                        <p>{{contact.mobilePhone}}</p>\r\n                    </div>\r\n                </div>\r\n                <script type="text/ng-template" id="dealContactsPopoverTemplate.html">\r\n                    <div style="width: 100%">\r\n                        <table cellpadding="1" cellspacing="1">\r\n                            <colgroup>\r\n                                <col class="column">\r\n                                <col class="column">\r\n                            </colgroup>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{contact.name}}</p>\r\n                                    <p class="font-bold">{{contact.position}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.company\')}}</p>\r\n                                    <p>{{contact.companyName}}</p>\r\n                                </td>\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.email\')}}</p>\r\n                                    <p>{{contact.email}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.mobileno\')}}</p>\r\n                                    <p>{{contact.mobilePhone}}</p>\r\n                                </td>\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.officeno\')}}</p>\r\n                                    <p>{{contact.officePhone}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </script>\r\n                <div ng-if="item.representatives.length > $ctrl.Constants.dealContactsCountInList" class="showmore">\r\n                    <a ng-click="$ctrl.showAllContacts(item); $event.stopPropagation()">\r\n                        <span ng-if="item.showAllContacts">\r\n                            <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                        </span>\r\n                        <span ng-if="!item.showAllContacts">\r\n                            <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </td>\r\n        <td>{{$ctrl.getDealStage(item.dealStageId).name}}</td>\r\n        <td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n        <td class="text-right deal-requirement-column">\r\n            <span class="font-bold">{{$ctrl.formatRequirements(item)}}<span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n            <div ng-repeat="spaceType in item.spaceTypes | limitTo: item.showAllUnitTypes ? \'Infinity\' : $ctrl.Constants.dealUnitTypeCountInList">\r\n                {{spaceType}}\r\n            </div>\r\n            <div ng-if="item.spaceTypes.length > $ctrl.Constants.dealUnitTypeCountInList" class="showmore">\r\n                <a ng-click="$ctrl.showAllUnitTypes(item); $event.stopPropagation()">\r\n                    <span ng-if="item.showAllUnitTypes">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                    <span ng-if="!item.showAllUnitTypes">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                </a>\r\n            </div>\r\n        </td>\r\n        <td class="deal-options-column">\r\n            <div>\r\n                <div ng-repeat="asset in item.assets | limitTo: item.showAllOptions ? \'Infinity\' : $ctrl.Constants.dealOptionsCountInList" uib-popover-template="dynamicPopover.templateOptionsUrl" popover-trigger="\'mouseenter\'" popover-placement="bottom-left" class="asset">\r\n                    <span>{{asset.assetName}}</span>\r\n                </div>\r\n                <script type="text/ng-template" id="dealOptionsPopoverTemplate.html">\r\n                    <div ng-repeat="obj in asset.objects" ng-switch="$last" class="deal-options-popover">\r\n                        <div ng-class="!$last ? \'tower-container\' : \'\'">\r\n                            <span class="tower">{{obj.assetObjectName}}</span>\r\n                            <div style="display: flex; flex-direction: row" ng-if="obj.options.length > 0">\r\n                                <span style="flex-basis: 30%">Units: </span>\r\n                                <div style="flex-basis: 70%;display-flex; flex-direction: row; flex-wrap: wrap; justify-content: flex-end">\r\n                                    <span ng-repeat="option in obj.options">\r\n                                        <span ng-repeat="space in option.spaces" ng-switch="$last" class="unit-square">{{space.numericNumber ? space.numericNumber : space.textNumber}}<span ng-switch-when="false">, </span></span>\r\n                                    <span>\r\n                                </div>\r\n                            </div\r\n                        </div>\r\n                    </div>\r\n                </script>\r\n            </div>\r\n            <div ng-if="item.assets.length > $ctrl.Constants.dealOptionsCountInList" class="showmore">\r\n                <a ng-click="$ctrl.showAllOptions(item); $event.stopPropagation()">\r\n                    <span ng-if="item.showAllOptions">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                    <span ng-if="!item.showAllOptions">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                </a>\r\n            </div>\r\n        </td>\r\n        <td class="deal-last-update-column">\r\n            <div class="description" ng-if="item.lastUpdate">\r\n                <div class="image">\r\n                    <img class="message-avatar" ng-src="/img/user.svg" alt="">\r\n                </div>\r\n                <div class="last-update-body">\r\n                    <div class="row">\r\n                        <div class="col-xs-6 username">\r\n                            {{item.lastUpdate.userName}}\r\n                        </div>\r\n                        <div class="col-xs-5 timestamp text-right">\r\n                            {{$ctrl.moment.utc(item.lastUpdate.timestamp).fromNow()}}\r\n                        </div>\r\n                    </div>\r\n                    <div class="content" ng-if="item.lastUpdate" ng-bind-html="item.lastUpdate.content"></div>\r\n                </div>\r\n            </div>\r\n        </td>\r\n    </tr>\r\n</table>\r\n'},function(module,exports){module.exports='<table ng-if="showData && greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid deal-dead-list" id="filtered-deals-grid" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-container="\'.main-content .ss-content\'" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n    <colgroup>\r\n        <col width="19%">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="10%">\r\n        <col width="8%">\r\n        <col width="22%">\r\n        <col width="12%">\r\n        <col width="8%">\r\n    </colgroup>\r\n    <thead class="t360-sticky" data-sticky="136">\r\n        <tr>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.name)">\r\n                {{Messages(\'deals.list.header.name\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.name" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.name && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.name && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.stage)"  class="text-right">\r\n                {{Messages(\'deals.list.header.lastStage\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.stage" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.stage && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.stage && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th  class="text-right">\r\n                {{Messages(\'deals.list.header.lastActivityDate\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th  class="text-right">\r\n                {{Messages(\'deals.list.header.requirement\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.outcome\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.reason\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.notes\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th class="text-right">\r\n                {{Messages(\'deals.list.header.dateDead\')}}&nbsp;&nbsp;\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tr id="row{{item.$$hashKey}}" ng-repeat="item in greedData" ng-click="$ctrl.showDealInfo($event, item)" ng-class="item == $ctrl.selectedDeal ? \'filtered-spaces-row-selected\' : \'\'">\r\n        <td class="deal-contacts-column">\r\n            <span class="font-bold">{{item.clientName}}</span>\r\n            <div class="deal-grid-contacts-container">\r\n                <div ng-repeat="contact in item.representatives | limitTo: item.showAllContacts ? \'Infinity\' : $ctrl.Constants.dealContactsCountInList" uib-popover-template="dynamicPopover.templateContactsUrl" popover-trigger="\'mouseenter\'"  popover-placement="auto bottom-left" class="contact">\r\n                    <div>\r\n                        <p>{{contact.name}}</p>\r\n                        <p>{{contact.mobilePhone}}</p>\r\n                    </div>\r\n                </div>\r\n                <script type="text/ng-template" id="dealContactsPopoverTemplate.html">\r\n                    <div style="width:100%">\r\n                        <table cellpadding="1" cellspacing="1">\r\n                            <colgroup>\r\n                                <col class="column">\r\n                                <col class="column">\r\n                            </colgroup>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{contact.name}}</p>\r\n                                    <p class="font-bold">{{contact.position}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.company\')}}</p>\r\n                                    <p>{{contact.companyName}}</p>\r\n                                </td>\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.email\')}}</p>\r\n                                    <p>{{contact.email}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.mobileno\')}}</p>\r\n                                    <p>{{contact.mobilePhone}}</p>\r\n                                </td>\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.officeno\')}}</p>\r\n                                    <p>{{contact.officePhone}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </script>\r\n                <div ng-if="item.representatives.length > $ctrl.Constants.dealContactsCountInList" class="showmore">\r\n                    <a ng-click="$ctrl.showAllContacts(item); $event.stopPropagation()">\r\n                        <span ng-if="item.showAllContacts">\r\n                            <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                        </span>\r\n                        <span ng-if="!item.showAllContacts">\r\n                            <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </td>\r\n        <td>{{$ctrl.getDealStage(item.dealStageId).name}}</td>\r\n        <td class="text-right">\r\n            {{$ctrl.getParsedDate(item.lastUpdate.timestamp)}}\r\n        </td>\r\n        <td class="text-right deal-requirement-column">\r\n            <span class="font-bold">{{$ctrl.formatRequirements(item)}}<span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n            <div ng-repeat="spaceType in item.spaceTypes | limitTo: item.showAllUnitTypes ? \'Infinity\' : $ctrl.Constants.dealUnitTypeCountInList">\r\n                {{spaceType}}\r\n            </div>\r\n            <div ng-if="item.spaceTypes.length > $ctrl.Constants.dealUnitTypeCountInList" class="showmore">\r\n                <a ng-click="$ctrl.showAllUnitTypes(item); $event.stopPropagation()">\r\n                    <span ng-if="item.showAllUnitTypes">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                    <span ng-if="!item.showAllUnitTypes">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                </a>\r\n            </div>\r\n        </td>\r\n        <td>{{item.deadStageInformation.outcome}}</td>\r\n        <td>{{item.deadStageInformation.reason}}</td>\r\n        <td>\r\n            <div class="notes-placeholder">\r\n                <img class="message-avatar" ng-src="{{item.deadStageInformation.userAvatarUrl ? item.deadStageInformation.userAvatarUrl : \'/img/user.svg\'}}" alt="">\r\n                <div class="notes-container">\r\n                    <div class="user-data">\r\n                        <span class="text-label text-bold name"> {{item.deadStageInformation.userName}}</span>\r\n                        <span am-time-ago="item.deadStageInformation.timeStamp" class="small-label">\r\n                    </div>\r\n                    <div class="notes">\r\n                        <span>{{item.deadStageInformation.notes}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </td>\r\n        <td class="text-right">{{$ctrl.getParsedDate(item.dateDead)}}</td>\r\n    </tr>\r\n</table>\r\n';
},function(module,exports){module.exports='<table ng-if="showData && greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="filtered-deals-grid" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-container="\'.main-content .ss-content\'" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n    <colgroup>\r\n        <col width="20%">\r\n        <col width="10%">\r\n        <col width="14%">\r\n        <col width="10%">\r\n        <col width="15%">\r\n        <col width="19%">\r\n        <col width="12%">\r\n    </colgroup>\r\n    <thead class="t360-sticky" data-sticky="136">\r\n        <tr>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.name)">\r\n                {{Messages(\'deals.list.header.name\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.name" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.name && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.name && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.stage)"  class="text-right">\r\n                {{Messages(\'deals.list.header.stage\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.stage" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.stage && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.stage && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.dealSortOptions.startDate)" class="text-right">\r\n                {{Messages(\'deals.list.header.start_date\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.dealSortOptions.startDate" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.startDate && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.dealSortOptions.startDate && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th class="text-right">\r\n                {{Messages(\'deals.list.header.requirement\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.spaces\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th>\r\n                {{Messages(\'deals.list.header.lastUpdate\')}}&nbsp;&nbsp;\r\n            </th>\r\n            <th class="text-right">\r\n                {{Messages(\'deals.list.header.dateExecuted\')}}&nbsp;&nbsp;\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tr id="row{{item.$$hashKey}}" ng-repeat="item in greedData" ng-click="$ctrl.showDealInfo($event, item)" ng-class="item == $ctrl.selectedDeal ? \'filtered-spaces-row-selected\' : \'\'">\r\n        <td class="deal-contacts-column">\r\n            <span class="font-bold">{{item.clientName}}</span>\r\n            <div class="deal-grid-contacts-container">\r\n                <div ng-repeat="contact in item.representatives | limitTo: item.showAllContacts ? \'Infinity\' : $ctrl.Constants.dealContactsCountInList" uib-popover-template="dynamicPopover.templateContactsUrl" popover-trigger="\'mouseenter\'"  popover-placement="auto bottom-left" class="contact">\r\n                    <div>\r\n                        <p>{{contact.name}}</p>\r\n                        <p>{{contact.mobilePhone}}</p>\r\n                    </div>\r\n                </div>\r\n                <script type="text/ng-template" id="dealContactsPopoverTemplate.html">\r\n                    <div style="width:100%">\r\n                        <table cellpadding="1" cellspacing="1">\r\n                            <colgroup>\r\n                                <col class="column">\r\n                                <col class="column">\r\n                            </colgroup>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{contact.name}}</p>\r\n                                    <p class="font-bold">{{contact.position}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.company\')}}</p>\r\n                                    <p>{{contact.companyName}}</p>\r\n                                </td>\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.email\')}}</p>\r\n                                    <p>{{contact.email}}</p>\r\n                                </td>\r\n                            </tr>\r\n                            <tr class="contact-row row">\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.mobileno\')}}</p>\r\n                                    <p>{{contact.mobilePhone}}</p>\r\n                                </td>\r\n                                <td class="column">\r\n                                    <p class="label">{{Messages(\'deals.list.contacts.officeno\')}}</p>\r\n                                    <p>{{contact.officePhone}}</p>\r\n                                </td>\r\n                            </tr>\r\n                        </table>\r\n                    </div>\r\n                </script>\r\n                <div ng-if="item.representatives.length > $ctrl.Constants.dealContactsCountInList" class="showmore">\r\n                    <a ng-click="$ctrl.showAllContacts(item); $event.stopPropagation()">\r\n                        <span ng-if="item.showAllContacts">\r\n                            <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                        </span>\r\n                        <span ng-if="!item.showAllContacts">\r\n                            <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                        </span>\r\n                    </a>                    \r\n                </div>\r\n            </div>\r\n        </td>\r\n        <td>{{$ctrl.getDealStage(item.dealStageId).name}}</td>\r\n        <td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n        <td class="text-right deal-requirement-column">\r\n            <span class="font-bold">{{$ctrl.formatRequirements(item)}}<span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n            <div ng-repeat="spaceType in item.spaceTypes | limitTo: item.showAllUnitTypes ? \'Infinity\' : $ctrl.Constants.dealUnitTypeCountInList">\r\n                {{spaceType}}\r\n            </div>\r\n            <div ng-if="item.spaceTypes.length > $ctrl.Constants.dealUnitTypeCountInList" class="showmore">\r\n                <a ng-click="$ctrl.showAllUnitTypes(item); $event.stopPropagation()">\r\n                    <span ng-if="item.showAllUnitTypes">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                    <span ng-if="!item.showAllUnitTypes">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                </a>                \r\n            </div>\r\n        </td>\r\n        <td class="deal-options-column">\r\n            <div>\r\n                <div ng-repeat="asset in item.assets | limitTo: item.showAllOptions ? \'Infinity\' : $ctrl.Constants.dealOptionsCountInList" uib-popover-template="dynamicPopover.templateOptionsUrl" popover-trigger="\'mouseenter\'"  popover-placement="bottom-left" class="asset">\r\n                    <span>{{asset.assetName}}</span>\r\n                </div>\r\n                <script type="text/ng-template" id="dealOptionsPopoverTemplate.html">\r\n                    <div ng-repeat="obj in asset.objects" ng-switch="$last" class="deal-options-popover">\r\n                        <div ng-class="!$last ? \'tower-container\' : \'\'">\r\n                            <span class="tower">{{obj.assetObjectName}}</span>\r\n                            <div style="display:flex; flex-direction: row" ng-if="obj.options.length > 0">\r\n                                <span style="flex-basis:30%">Units: </span>\r\n                                <div style="flex-basis:70%;display-flex; flex-direction:row; flex-wrap: wrap; justify-content:flex-end">\r\n                                    <span ng-repeat="option in obj.options">\r\n                                        [<span ng-repeat="space in option.spaces" ng-switch="$last">{{space.numericNumber ? space.numericNumber : space.textNumber}}<span ng-switch-when="false">, </span></span>]\r\n                                    <span>\r\n                                </div>\r\n                            </div\r\n                        </div>\r\n                    </div>\r\n                </script>\r\n            </div>\r\n            <div ng-if="item.assets.length > $ctrl.Constants.dealOptionsCountInList" class="showmore">\r\n                <a ng-click="$ctrl.showAllOptions(item); $event.stopPropagation()">\r\n                    <span ng-if="item.showAllOptions">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                    <span ng-if="!item.showAllOptions">\r\n                        <img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n                    </span>\r\n                </a>                  \r\n            </div>\r\n        </td>\r\n        <td class="deal-last-update-column">\r\n            <div class="description" ng-if="item.lastUpdate">\r\n                <div class="image">\r\n                    <img class="message-avatar" ng-src="/img/user.svg" alt="">\r\n                </div>\r\n                <div class="last-update-body">\r\n                    <div class="username">\r\n                        {{item.lastUpdate.userName}}\r\n                    </div>\r\n                    <div class="timestamp">\r\n                        {{$ctrl.moment.utc(item.lastUpdate.timestamp).fromNow()}}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="content" ng-if="item.lastUpdate" ng-bind-html="item.lastUpdate.content">\r\n            </div>\r\n        </td>\r\n        <td class="text-right">{{$ctrl.getParsedDate(item.dateExecuted)}}</td>\r\n    </tr>\r\n</table>\r\n'},function(module,exports){module.exports='<breadcrumb-panel states="[{ \'path\':\'asset-stats\', \'title\': Messages(\'assets.title\') } , {\'title\': $ctrl.asset.name} , {\'title\': Messages(\'stacking-plan.title\')}]" title="{{Messages(\'stacking-plan.title\')}}"></breadcrumb-panel>\r\n\r\n<div class="row">\r\n    <div class="col-sm-3" ng-if="$ctrl.asset.name">\r\n        <div class="asset-info-panel">\r\n            <div class="asset-info-main">\r\n                <div class="asset-name">\r\n                    {{ $ctrl.asset.name }}\r\n                </div>\r\n                <div class="asset-address">\r\n                    {{ $ctrl.asset.location.city }}<span ng-if="$ctrl.asset.location.city && $ctrl.asset.location.streetAddress">, </span>{{ $ctrl.asset.location.street }}<span ng-if="$ctrl.asset.location.streetAddress">, {{ $ctrl.asset.location.streetAddress }}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-sm-9" ng-class="$ctrl.asset.name ? \'col-sm-9\' : \'col-sm-12\'">\r\n        <assets-statistics asset-id="$ctrl.asset.id" />\r\n    </div>\r\n</div>\r\n\r\n<navigation-internal></navigation-internal>\r\n\r\n<div class="row" style="width: 100%">\r\n    <div class="col-md-7 stacking-plan-legend">\r\n        <div class="lease-expiration-title">\r\n            {{ Messages(\'stacking-plan.legend.lease.expiration\') }}\r\n        </div>\r\n        <div ng-repeat="year in $ctrl.legendYears" class="expiration-item">\r\n            <span class="expiration-year-legend" ng-class="\'year-\'+year.index"></span>\r\n            <span class="expiration-year-title">{{year.title}}</span>\r\n        </div>\r\n        <div class="expiration-item">\r\n            <span class="vacant-legend"></span>\r\n            <span class="vacant-title">{{ Messages(\'stacking-plan.legend.vacant\') }}</span>\r\n        </div>\r\n        <div class="expiration-item">\r\n            <span class="available-legend"></span>\r\n            <span class="available-title">{{ Messages(\'stacking-plan.legend.available\') }}</span>\r\n        </div>\r\n    </div>\r\n    <div class="col-sm-5 quick-buttons">        \r\n        <div class="pull-right">\r\n            <a href="#" ng-click="$ctrl.exportData()">\r\n                <span>\r\n                    <img src="/img/icons/download.svg" alt="Export">\r\n                    <span class="tooltip">Export</span>\r\n                </span>\r\n            </a>\r\n        </div>\r\n        <div class="pull-right search-container">\r\n            <div class="search-box has-feedback">\r\n                <input type="text" class="form-control" name="search">\r\n                <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="isLoadingState || isTabsLoadingState" class="text-center">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n\r\n<div class="plan-container">\r\n    <div id="plan-cont" ng-if="!isLoadingState && !noStackingPlan">\r\n        <div class="plan-item" ng-repeat="floor in floors">\r\n            <div class="floor-name-wrapper">\r\n                <div class="floor-name">{{ floor.floorName }}</div>\r\n                <div class="floor-space-total">{{ floor.totalFloorArea | number:2 }} <span ng-bind-html="Messages(\'square.meter\')"/></div>\r\n            </div>\r\n            <div class="plan-item-table-wrap" ng-style="{width: floor.width}">\r\n                <table class="plan-item-table" >\r\n                    <tr>\r\n                        <td\r\n                            ng-repeat="space in floor.spaces"\r\n                            class="plan-item-space" ng-class="{\'space-content-{{space.leaseEndYearIndex}}\': space.leaseEndYearIndex >= 0, \'space-content-vacant\': !space.leaseEndYearIndex && space.leaseEndYearIndex !== 0, \'space-available\': space.isAvailable}"\r\n                            ng-style="{width: space.weight + \'%\'}"\r\n                            ng-click="$ctrl.showSpaceDescription(space)"\r\n                        >\r\n                            <div class="plan-item-space-cont">\r\n                                <div class="space-cont-header" ng-if="space.tenantId">\r\n                                    <div class="name">\r\n                                        {{ space.tenantName }}\r\n                                    </div>\r\n                                    <div class="price">\r\n                                        {{space.inPlaceRent}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="space-lease-expiration" ng-if="space.tenantId">\r\n                                    {{ Messages(\'stacking-plan.expires\') }}: {{space.leaseEndDate | date:\'MM/dd/yyyy\'}}\r\n                                </div>\r\n                                <div class="space-area" ng-if="!space.tenantId">\r\n                                    {{ space.spaceArea | number:2 }} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                </div>\r\n                                <div class="space-lease-expiration-free" ng-if="!space.tenantId">&nbsp;</div>\r\n\r\n                                <div class="space-cont-footer">\r\n                                    <div class="unit">\r\n                                        <span class="space-unit-title">\r\n                                            {{Messages(\'stacking-plan.unit\')}}\r\n                                        </span>\r\n                                        <br>\r\n                                        <span class="space-unit-legend">\r\n                                            {{space.spaceNumber}}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div class="space-area" ng-if="space.tenantId">\r\n                                        {{ space.spaceArea | number:2 }} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </td>\r\n                        <td ng-if="floor.spaces.length === 0" class="plan-item-space plan-item-space-empty">\r\n                            <div class="plan-item-space-cont">{{Messages(\'nospaces\')}}</div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div ng-if="noStackingPlan" class="plan-empty">\r\n        <div class="edge"></div>\r\n        <div class="cont">\r\n            {{ noStackingPlanMessage || Messages(\'stacking-plan.empty\') }}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<script type="text/javascript">\r\n    $(\'.search-box input\').focusin(function() {\r\n        $(this).parent(\'.search-box\').addClass("active");\r\n    });\r\n\r\n    $(\'.search-box input\').focusout(function() {\r\n        $(this).parent(\'.search-box\').removeClass("active");\r\n    });    \r\n</script>\r\n'},function(module,exports){module.exports='\ufeff<div class="row">\r\n    <div class="col-lg-12">\r\n        <navigation-internal></navigation-internal>\r\n    </div>\r\n</div>\r\n<div class="clearfix">\r\n    <navigation-create-items item="\'user\'" class="pull-right"></navigation-create-items>\r\n</div>\r\n<div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <breadcrumb-panel states="[{ \'path\':\'users\', \'title\': Messages(\'users.title\') }, { \'title\': $ctrl.userObject.displayName }]" title="{{$ctrl.userObject.displayName}}">\r\n    </breadcrumb-panel>\r\n</div>\r\n\r\n<div class="row" child="hpanel">\r\n    <div class="col-lg-4">\r\n        <div class="hpanel" ng-class="role.id === 1 ? \'hred\' : \'hgreen\'">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group" ng-if="$ctrl.userObject.id !== $ctrl.currentUser.id">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editUser()" title="{{Messages(\'users.edit\')}}"></i>\r\n                        <i class="fa fa-key btn btn-default btn-xs" ng-click="$ctrl.changePassword()" title="{{Messages(\'users.changePassword\')}}"></i>\r\n                        <i class="fa btn btn-default btn-xs" ng-class="isArchived ? \'fa-undo\' : \'fa-trash-o\'" title="{{isArchived ? Messages(\'users.activate\') : Messages(\'users.archive\')}}" ng-click="$ctrl.archiveTrigger()"></i>\r\n                    </div>\r\n                    <div class="btn-group" ng-if="$ctrl.userObject.id === $ctrl.currentUser.id">\r\n                        <i class="fa fa-key btn btn-default btn-xs" ng-click="$ctrl.changePassword()" title="{{Messages(\'users.changePassword\')}}"></i>\r\n                    </div>\r\n                    <div class="user-locale-placeholder">\r\n                        <span class="user-locale-name">{{locale.localeName}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="user-avatar">\r\n                    <img alt="" class="img-circle m-b m-t-md" src="img/user.svg" />\r\n                </div>\r\n                <h3 class="user-name">\r\n                    {{$ctrl.userObject.displayName}}\r\n                    <span ng-if="isArchived" class="small archived-marker">{{Messages(\'users.archived\')}}</span>\r\n                </h3>\r\n                <div class="user-status" ng-class="role.id === 1 ? \'administrator\' : \'user\'">\r\n                    {{role.name}}\r\n                </div>\r\n            </div>\r\n            <div class="panel-footer contact-footer">\r\n                <div class="row">\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="contact-stat">\r\n                            <span>{{Messages(\'users.projects\')}}: </span>\r\n                            <strong>200</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4 border-right">\r\n                        <div class="contact-stat">\r\n                            <span>{{Messages(\'users.messages\')}}: </span>\r\n                            <strong>300</strong>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-md-4">\r\n                        <div class="contact-stat">\r\n                            <span>{{Messages(\'users.views\')}}: </span>\r\n                            <strong>400</strong>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-lg-8">\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <ul class="nav nav-tabs" role="tablist" id="myTabs">\r\n                    <li class="active" role="presentation">\r\n                        <a href="#" id="invitations-tab" role="tab" data-toggle="tab" aria-controls="invitations" aria-expanded="true" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                            {{ Messages(\'users.invitations.title\') }}\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n                <div class="tab-content">\r\n                    <div id="invitations" class="tab-pane active">\r\n                        <div class="panel-body">\r\n                            <user-invitation-history user-id="$ctrl.userObject.id"></user-invitation-history>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div class="t360-sticky-base"></div>\r\n\r\n<navigation-internal></navigation-internal>\r\n\r\n<div child="hpanel" id="plan-page-breadcrumb">\r\n    <navigation-create-items item="\'asset\'" class="pull-right"></navigation-create-items>\r\n</div>\r\n\r\n<div child="hpanel">\r\n    <div class="hpanel">\r\n        <div class="panel-body">\r\n            <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n            <div id="loadpanel"></div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='\r\n<breadcrumb-panel states="[{ \'path\':\'assets\', \'title\': Messages(\'assets.title\') }, { \'title\': $ctrl.asset.name }]" title="{{$ctrl.asset.name}}">\r\n</breadcrumb-panel>\r\n\r\n<navigation-internal></navigation-internal>\r\n\r\n<div class="row" child="hpanel">\r\n    <div class="col-md-4">\r\n        <div class="hpanel hblue">\r\n            <div class="panel-body">\r\n                <div class="pull-right text-right">\r\n                    <div class="btn-group">\r\n                        <i class="fa fa-pencil btn btn-default btn-xs" ng-click="$ctrl.editAsset()" title="{{Messages(\'assets.edit\')}}"></i>\r\n                        <i class="fa btn btn-default btn-xs" ng-class="isArchived ? \'fa-undo\' : \'fa-trash-o\'" title="{{isArchived ? Messages(\'assets.activate\') : Messages(\'assets.archive\')}}" ng-click="$ctrl.archiveTrigger()"></i>\r\n                    </div>\r\n                </div>\r\n                <h2 class="asset-name">\r\n                    {{ $ctrl.asset.name }}\r\n                    <span ng-if="isArchived" class="small archived-marker">{{Messages(\'assets.archived\')}}</span>\r\n                </h2>\r\n                <div class="asset-address">{{ $ctrl.asset.address }}</div>\r\n                <p class="asset-description">{{ $ctrl.asset.description }}</p>\r\n            </div>\r\n            <ng-map class="asset-map" center="52.520468, 13.407234" zoom="11"  zoom="11" disable-default-u-i="true" zoom-control="true" scrollwheel="false"></ng-map>\r\n            <div class="panel-body">\r\n                <table class="table table-bordered table-striped asset-editable">\r\n                    <colgroup>\r\n                        <col width="40%">\r\n                        <col width="60%">\r\n                    </colgroup>\r\n                    <tr>\r\n                        <td>\r\n                            {{ Messages(\'assets.broker\') }}\r\n                            <p class="help-note">{{ Messages(\'assets.broker.help\') }}</p>\r\n                        </td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-select="$ctrl.brokerId" e-required e-ng-options="s.value as s.text for s in $ctrl.brokers" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.showBroker() }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            {{ Messages(\'assets.brokerDatabaseRecordId\') }}\r\n                            <p class="help-note">{{ Messages(\'assets.brokerDatabaseRecordId.help\') }}</p>\r\n                        </td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-text="$ctrl.brokerDatabaseRecordId" onbeforesave="$ctrl.brokerDatabaseRecordIdValidation($data)" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.brokerDatabaseRecordId || \'empty\' }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>{{ Messages(\'assets.notes\') }}</td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-textarea="$ctrl.notes" onbeforesave="$ctrl.notesValidation($data)" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.notes || \'empty\' }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>\r\n                            {{ Messages(\'assets.market\') }}\r\n                            <p class="help-note">{{ Messages(\'assets.market.help\') }}</p>\r\n                        </td>\r\n                        <td>\r\n                            <div class="popover-wrapper">\r\n                                <a href="#" class="editable editable-click" editable-select="$ctrl.marketId" e-required e-ng-options="s.value as s.text for s in $ctrl.markets" onaftersave="$ctrl.saveUpdates()">\r\n                                    {{ $ctrl.showMarket() }}\r\n                                </a>\r\n                            </div>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div class="hpanel-title">{{ Messages(\'assets.gallery.title\') }}</div>\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <assetgallery images="$ctrl.asset.images" update-image="updateImage"></assetgallery>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-8">\r\n        <div class="hpanel">\r\n            <ul class="nav nav-tabs" role="tablist" id="myTabs">\r\n                <li class="active" role="presentation">\r\n                    <a href="#spaces" id="spaces-tab" role="tab" data-toggle="tab" aria-controls="spaces" aria-expanded="true" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                        {{ Messages(\'assets.spaces.title\') }}\r\n                    </a>\r\n                </li>\r\n                <li role="presentation">\r\n                    <a href="#floors" id="floors-tab" role="tab" data-toggle="tab" aria-controls="floors" aria-expanded="false" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                        {{ Messages(\'assets.floors.title\') }}\r\n                    </a>\r\n                </li>\r\n                <li role="presentation">\r\n                    <a href="#objects" id="objects-tab" role="tab" data-toggle="tab" aria-controls="objects" aria-expanded="false" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                        {{ Messages(\'assets.objects.title\') }}\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n            <div class="tab-content">\r\n                <div id="spaces" class="tab-pane active">\r\n                    <div class="panel-body">\r\n                        <spaces id="spaceSettings" class="form-group" asset="$ctrl.asset" save-updates="saveUpdates" need-update-data-sources="$ctrl.updateDataSources(\'spaces\');"></spaces>\r\n                    </div>\r\n                </div>\r\n                <div id="floors" class="tab-pane">\r\n                    <div class="panel-body">\r\n                        <floor id="floorSettings" class="form-group" asset="$ctrl.asset" save-updates="saveUpdates" need-update-data-sources="$ctrl.updateDataSources(\'floors\');"></floor>\r\n                    </div>\r\n                </div>\r\n                <div id="objects" class="tab-pane">\r\n                    <div class="panel-body">\r\n                        <object id="objectsSettings" class="form-group" asset="$ctrl.asset" save-updates="saveUpdates" need-update-data-sources="$ctrl.updateDataSources(\'objects\');"></object>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='<div child="hpanel" id="plan-page-breadcrumb">\r\n    <navigation-create-items item="\'market\'" class="pull-right"></navigation-create-items>\r\n</div>\r\n<div child="hpanel">\r\n    <div>\r\n        <div class="hpanel">\r\n            <div class="panel-body">\r\n                <div dx-data-grid="ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-big"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n';
},function(module,exports){module.exports='<div class="t360-sticky-base"></div>\r\n\r\n<breadcrumb-panel states="[{ \'path\':\'dashboard\', \'title\': Messages(\'dashboard.title\') }]" title="{{Messages(\'dashboard.title\')}}">\r\n</breadcrumb-panel>\r\n\r\n<navigation-internal></navigation-internal>\r\n\r\n<assets-statistics />\r\n\r\n<div class="row">\r\n    <div class="col-md-7">\r\n        <div id="assets-map"></div>\r\n    </div>\r\n    <div class="col-md-5">\r\n        <div class="dashboard-panel dashboard-assets-list assets-list-body">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{Messages(\'dashboard.assets.list\')}}\r\n                </div>\r\n                <div class="line"></div>\r\n            </div>\r\n            <div>\r\n                <input ng-model="tableFilter" class="form-control no-highlight" type="text" placeholder="{{Messages(\'dashboard.assets.list.serach.placeholder\')}}">\r\n            </div>\r\n            <div ng-if="!$ctrl.assets.length" class="text-center no-assets-message">\r\n                <h4>{{Messages(\'dashboard.assets.empty\')}}</h4>\r\n            </div>\r\n            <div ng-if="$ctrl.assets.length" class="dashboard-assets-table table-responsive project-list">\r\n                <table class="table dashboard-table">\r\n                    <thead>\r\n                    <tr>\r\n                        <th>{{Messages(\'dashboard.assets.table.name\')}}</th>\r\n                        <th>{{Messages(\'dashboard.assets.table.total\')}}</th>\r\n                        <th>{{Messages(\'dashboard.assets.table.vacanсу\')}}</th>\r\n                    </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr ng-repeat="asset in $ctrl.assets | filter:$ctrl.filterAsset">\r\n                            <td>\r\n                                <a href ng-click="$ctrl.navigateToAsset(asset.id)">{{asset.name}}</a>\r\n                            </td>\r\n                            <td>\r\n                                {{$ctrl.UtilsService.formatBadgeValue(asset.totalRentableArea)}}\r\n                            </td>\r\n                            <td ng-if="asset.totalRentableArea">\r\n                                <div>\r\n                                    <div class="vacancy-value">\r\n                                        [{{((asset.totalRentableArea - asset.occupancy)/asset.totalRentableArea*100).toFixed(1)}}%]\r\n                                    </div>                                    \r\n                                    <uib-progressbar value="((asset.totalRentableArea - asset.occupancy)/asset.totalRentableArea*100).toFixed(0)"></uib-progressbar>\r\n                                </div>\r\n                            </td>\r\n                            <td ng-if="!asset.totalRentableArea">\r\n                                N/A\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="row">\r\n    <div class="col-md-12">\r\n        <div class="dashboard-panel">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{Messages(\'dashboard.vacancy_chart\')}}\r\n                </div>\r\n                <div class="line"></div>\r\n            </div>\r\n            <div>\r\n                <div ng-if="$ctrl.vacancyInProgress" class="modal-loader">\r\n                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                </div>\r\n                <div class="canvas-holder">\r\n                    <canvas ng-if="!$ctrl.vacancyInProgress"\r\n                        id="vacancyl-chart"\r\n                        class="chart chart-line" \r\n                        chart-data="$ctrl.vacancyModel.data" \r\n                        chart-labels="$ctrl.vacancyModel.labels" \r\n                        chart-series="$ctrl.vacancyModel.series" \r\n                        chart-colors="$ctrl.vacancyModel.colors"\r\n                        chart-options="$ctrl.vacancyModel.options">\r\n                    </canvas>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="row">\r\n    <div class="col-md-6">\r\n        <div class="dashboard-panel">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{Messages(\'dashboard.deal_viewing_chart\')}}\r\n                </div>\r\n                <div class="line"></div>\r\n            </div>\r\n            <div>\r\n                <div ng-if="$ctrl.dealViewingInProgress" class="modal-loader">\r\n                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                </div>\r\n                <div class="canvas-holder">\r\n                    <canvas ng-if="!$ctrl.dealViewingInProgress"\r\n                        id="dealviewing-chart"\r\n                        class="chart chart-bar" \r\n                        chart-data="$ctrl.dealsViewingStatsModel.data" \r\n                        chart-labels="$ctrl.dealsViewingStatsModel.labels" \r\n                        chart-series="$ctrl.dealsViewingStatsModel.series" \r\n                        chart-colors="$ctrl.dealsViewingStatsModel.colors" \r\n                        chart-options="$ctrl.dealsViewingStatsModel.options">\r\n                    </canvas>\r\n                </div>\r\n            </div>\r\n            <div id="chartjs-dealviewings-tooltip"></div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-6">\r\n        <div class="dashboard-panel">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{Messages(\'dashboard.funnel_deals_chart\')}}\r\n                </div>\r\n                <div class="line"></div>\r\n            </div>\r\n            <div class="funnel-chart-block">\r\n                <div ng-if="$ctrl.funnelInProgress" class="modal-loader">\r\n                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                </div>\r\n                <div class="canvas-holder canvas-funnel">\r\n                    <canvas ng-if="!$ctrl.funnelInProgress"\r\n                        id="funnel-chart"\r\n                        class="chart chart-horizontal-bar" \r\n                        chart-data="$ctrl.funnelModel.data" \r\n                        chart-labels="$ctrl.funnelModel.labels" \r\n                        chart-series="$ctrl.funnelModel.series"\r\n                        chart-options="$ctrl.funnelModel.options"\r\n                        chart-colors="$ctrl.funnelModel.colors">\r\n                    </canvas>\r\n                </div>\r\n                <div class="funnel-chart-values">\r\n                </div>                \r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="row">\r\n    <div class="col-md-6">\r\n        <div class="dashboard-panel">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{Messages(\'dashboard.rent_rollovert_chart\')}}\r\n                </div>\r\n                <div class="line"></div>\r\n            </div>\r\n            <div>\r\n                <div ng-if="$ctrl.rolloverInProgress" class="modal-loader">\r\n                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                </div>\r\n                <div class="canvas-holder">\r\n                    <canvas ng-if="!$ctrl.rolloverInProgress"\r\n                        id="rollover-chart"\r\n                        class="chart chart-bar" \r\n                        chart-data="$ctrl.rolloverModel.data" \r\n                        chart-labels="$ctrl.rolloverModel.labels" \r\n                        chart-series="$ctrl.rolloverModel.series"\r\n                        chart-colors="$ctrl.rolloverModel.colors" \r\n                        chart-options="$ctrl.rolloverModel.options">\r\n                    </canvas>\r\n                </div>\r\n                <div id="chartjs-rollover-tooltip"></div>\r\n            </div>\r\n        </div>\r\n        <div ng-hide="true" class="infobox-wrapper">\r\n            <div id="infobox" class="infobox">\r\n                <div class="inner">\r\n                    <a class="photo pull-left" href ng-click="$ctrl.navigateToAsset($ctrl.infoBoxAsset.id)">\r\n                        <img ng-src="{{$ctrl.infoBoxAsset.mainImageUrl ? $ctrl.infoBoxAsset.mainImageUrl: \'../../img/building-placeholder.png\'}}"\r\n                            alt="asset-picture">\r\n                    </a>\r\n                    <div class="media-body">\r\n                        <a href ng-click="$ctrl.closeInfoBox()" class="close-box pull-right text-muted"><i class="fa fa-times"></i></a>\r\n                        <a href ng-click="$ctrl.navigateToAsset($ctrl.infoBoxAsset.id)">\r\n                            <h5>{{$ctrl.infoBoxAsset.name}}</h5>\r\n                        </a>\r\n                        <small class="text-muted">{{$ctrl.infoBoxAsset.fullAddress}}</small>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="col-md-6">    \r\n        <div class="dashboard-panel">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{Messages(\'dashboard.tenant_exposure\')}}\r\n                </div>\r\n                <div class="line"></div>\r\n            </div>\r\n            <div>\r\n                <div ng-if="$ctrl.industryStatsLoading" class="modal-loader">\r\n                    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                </div>\r\n                <div class="canvas-holder">\r\n                    <canvas id="chart-area2" \r\n                        class="chart chart-doughnut" \r\n                        chart-data="$ctrl.industryChartModel.data" \r\n                        chart-labels="$ctrl.industryChartModel.labels" \r\n                        chart-series="$ctrl.industryChartModel.series"\r\n                        chart-colors="$ctrl.industryChartModel.colors"\r\n                        chart-options="$ctrl.industryChartModel.options"\r\n                        ng-if="!$ctrl.industryStatsLoading">\r\n                    </canvas>\r\n                </div>\r\n                <div id="chartjs-tooltip"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports){module.exports='\r\n<breadcrumb-panel states="[{ \'path\':\'spaces\', \'title\': Messages(\'assets.spaces.title\')}]" title="{{Messages(\'assets.spaces.title\')}}"></breadcrumb-panel>\r\n\r\n<div class="row row-sticky t360-sticky" data-sticky="84">\r\n    <div class="col-xs-6">\r\n        <navigation-internal></navigation-internal>\r\n    </div>\r\n    <div class="col-xs-6">\r\n        <global-stats stats="$ctrl.globalStats" />\r\n    </div>\r\n</div>\r\n\r\n<global-spaces-list available-space-types="$ctrl.availableSpaceTypes" global-stats="$ctrl.globalStats" stats-filter="$ctrl.statsFilter" ></global-spaces-list>'},function(module,exports){module.exports='\r\n<breadcrumb-panel states="[{ \'path\':\'tenants\', \'title\': Messages(\'assets.tenants.title\')}]" title="{{Messages(\'assets.tenants.title\')}}"></breadcrumb-panel>\r\n<div class="row row-sticky t360-sticky" data-sticky="84">\r\n    <div class="col-xs-6">\r\n        <navigation-internal></navigation-internal>\r\n    </div>\r\n    <div class="col-xs-6">\r\n        <tenants-global-stats stats="$ctrl.globalStats" />\r\n    </div>\r\n</div>\r\n\r\n<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status">  <!-- nav nav-pills  -->\r\n                <li class="spaces-filter-status-item" ng-repeat="status in statuses" role="presentation" ng-class="selectedStatus.id === status.id ? \'active\' : \'\'">\r\n                    <input ng-if="status.id === \'custom\'" type="text" id="spaces-filter-daterangepicker" />\r\n                    <a href="#" ng-click="$ctrl.selectStatus($event, status)">\r\n                        <span ng-if="status.id !== \'custom\' || !customExpirationFrom && !customExpirationTo">\r\n                                {{ status.name }}\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div class="pull-right">\r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <active-tenants-stats ng-show="!$ctrl.assetId && (selectedStatus.id == $ctrl.const.contractStatuses.inPlace || selectedStatus.id == $ctrl.const.contractStatuses.incoming)"></active-tenants-stats>    \r\n    <div ng-if="extraFilters.length" class="m-t-l">\r\n        <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n            <span ng-if="item.name">{{item.name}}: </span>\r\n            <strong ng-bind-html="item.text" />\r\n            <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n        </div>\r\n        <div class="stats-top-space"></div>\r\n    </div>\r\n</div>\r\n<div ng-if="!greedData.length && !update" class="text-center">\r\n    {{Messages(\'assets.spaces.filter.empty\')}}\r\n</div>\r\n<table ng-if="greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid"  infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-disabled="load_more || disable_infinite_scrolling" id="filtered-spaces-grid">\r\n    <colgroup>\r\n        <col width="16%">\r\n        <col width="12%">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="10%">\r\n        <col width="12%">\r\n        <col width="14%">\r\n        <col width="14%">\r\n    </colgroup>\r\n    <thead class="t360-sticky" data-sticky="136">\r\n        <tr>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.name)">\r\n                {{Messages(\'assets.tenants.list.header.name\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.contractSortOptions.name" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.name && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.name && sortDirection === 0" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.assets\')}}&nbsp;&nbsp;\r\n            </th>                    \r\n            <th class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.unit\')}}\r\n            </th>                    \r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.startDate)" class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.start_date\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.contractSortOptions.startDate" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.startDate && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.startDate && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.endDate)" class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.end_date\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.contractSortOptions.endDate" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.endDate && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.endDate && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.totalArea)" class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.size\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.contractSortOptions.totalArea" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.totalArea && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.totalArea && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.netCost)" class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.net_rent\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.contractSortOptions.netCost" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.netCost && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.netCost && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.contractSortOptions.avgMeterCost)" class="text-right">\r\n                {{Messages(\'assets.tenants.list.header.rent\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.contractSortOptions.avgMeterCost" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.avgMeterCost && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.contractSortOptions.avgMeterCost && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tr id="row{{item.id}}" ng-repeat="item in greedData" ng-click="$ctrl.showTenantInfo($event, item)" ng-class="item == $ctrl.selectedTenant ? \'filtered-spaces-row-selected\' : \'\'">\r\n        <td>\r\n            <div><strong>{{item.tenantName}}</strong></div>\r\n            <div ng-if="industries">{{$ctrl.getIndustry(item)}}</div>\r\n        </td>\r\n        <td class="text-right">\r\n            <span ng-repeat="(key, elem) in $ctrl.getUniqueSpacesTowers(item.spaces)" ng-if="key < 3">\r\n                {{elem.assetName}}-{{elem.towerName}}\r\n            </span>\r\n        </td>                \r\n        <td class="text-right">\r\n            <span ng-repeat="(key, space) in item.spaces" ng-if="key < 3" ng-click="$ctrl.showSpaceInfo(space); $event.stopPropagation()">\r\n                <span class="unit-square">{{space.number}}</span>\r\n            </span>\r\n            <span ng-if="item.spaces.length > 3" class="tenants-additional-units-indicator">\r\n                +{{item.spaces.length - 3}}\r\n            </span>\r\n        </td>\r\n        <td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n        <td class="text-right">\r\n            {{$ctrl.getParsedDate(item.endDate)}}\r\n            <div ng-if="item.endDate && item.status !== $ctrl.const.contractStatusIds.expired">\r\n                {{Messages(\'stacking-plan.expires.2\')}} <span am-time-ago="item.endDate"></span>\r\n            </div>\r\n            <div ng-if="item.endDate && item.status === $ctrl.const.contractStatusIds.expired">\r\n                {{Messages(\'stacking-plan.expired\')}}\r\n            </div>\r\n        </td>\r\n        <td class="text-right">\r\n            {{item.totalArea.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n        </td>\r\n        <td class="text-right">{{item.netRentCost.toFixed(2)}} {{$ctrl.Settings.getCurrency()}} /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</td>\r\n        <td class="text-right">\r\n            {{item.averageMeterCost.toFixed(2)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n            <span ng-if="item.spaces.length > 1" class="tenants-avg-indicator">\r\n                <img src="/img/icons/avg.svg" alt="Average">\r\n            </span>\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n<div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n\r\n<script type="text/javascript">\r\n    $(\'.search-box input\').focusin(function() {\r\n        $(this).parent(\'.search-box\').addClass("active");\r\n    });\r\n\r\n    $(\'.search-box input\').focusout(function() {\r\n        $(this).parent(\'.search-box\').removeClass("active");\r\n    });\r\n</script>\r\n'},function(module,exports){module.exports='<breadcrumb-panel states="[{ \'path\':\'deals\', \'title\': Messages(\'deals.title\') }]" title="{{Messages(\'deals.title\')}}"></breadcrumb-panel>\r\n\r\n<div class="row row-sticky t360-sticky" data-sticky="84">\r\n    <div class="col-xs-6">\r\n        <navigation-internal></navigation-internal>\r\n    </div>\r\n    <div class="col-xs-6">\r\n        <global-stats ng-if="!$ctrl.assetId" stats="$ctrl.globalStats" />\r\n    </div>\r\n</div>\r\n\r\n<deals-list deal-stages="$ctrl.dealStages" space-types="$ctrl.spaceTypes" global-stats="$ctrl.globalStats"/>\r\n'},function(module,exports){module.exports='<navigation-internal></navigation-internal>\r\n<marketplace-dashboard-topbar></marketplace-dashboard-topbar>\r\n<div class="row">\r\n    <div class="col-sm-12">\r\n        <marketplace-dashboard-activity-stats></marketplace-dashboard-activity-stats>\r\n    </div>\r\n    <div class="col-sm-12">\r\n        <marketplace-dashboard-top-inquiries space-types="$ctrl.spaceTypes" deal-stages="$ctrl.dealStages" top-list-type="$ctrl.Constants.dealTopLists.inquiry"></marketplace-dashboard-top-inquiries>\r\n    </div>\r\n    <div class="col-sm-12"> \r\n        <marketplace-dashboard-top-actives space-types="$ctrl.spaceTypes" deal-stages="$ctrl.dealStages" top-list-type="$ctrl.Constants.dealTopLists.active"></marketplace-dashboard-top-actives>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<navigation-internal></navigation-internal>\r\n\r\n<global-spaces-list available-space-types="$ctrl.availableSpaceTypes" global-stats="$ctrl.globalStats" stats-filter="$ctrl.statsFilter" style="height: 100%"></global-spaces-list>'},function(module,exports){module.exports='<navigation-internal></navigation-internal>\r\n<deals-list deal-stages="$ctrl.dealStages" space-types="$ctrl.spaceTypes" global-stats="null"/>'},function(module,exports){module.exports='<navigation-internal></navigation-internal>\r\n\r\n<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status">\r\n                <li class="spaces-filter-status-item" ng-repeat="item in availabilities" role="presentation" ng-class="selectedAvailability.id === item.id ? \'active\' : \'\'">\r\n                    <a href="#" ng-click="$ctrl.selectAvailability($event, item)">\r\n                        <span>\r\n                            {{ item.name }}\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div class="pull-right">\r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="extraFilters.length" class="m-t-l">\r\n    <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n        <span ng-if="item.name">{{item.name}}: </span>\r\n        <strong ng-bind-html="item.text" />\r\n        <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="!greedData.length && !update" class="text-center">\r\n    {{Messages(\'assets.spaces.filter.empty\')}}\r\n</div>\r\n<table ng-if="greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="filtered-spaces-grid" infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n    <colgroup>\r\n        <col width="30%">\r\n        <col width="20%">\r\n        <col width="12%">\r\n        <col width="12%">\r\n        <col width="16%">\r\n    </colgroup>\r\n    <thead class="t360-sticky" data-sticky="136">\r\n        <tr>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.marketplaceClientSortOptions.tenant)" class="text-left">\r\n                {{Messages(\'marketplace.clients.header.tenant\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.marketplaceClientSortOptions.tenant" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.tenant && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.tenant && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.marketplaceClientSortOptions.industry)" class="text-left">\r\n                {{Messages(\'marketplace.clients.header.industry\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.marketplaceClientSortOptions.industry" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.industry && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.industry && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.marketplaceClientSortOptions.number)" class="text-right">\r\n                {{$ctrl.getNumberHeader()}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.marketplaceClientSortOptions.number" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.number && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.number && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.Constants.marketplaceClientSortOptions.area)" class="text-right">\r\n                {{$ctrl.getAreaHeader()}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.Constants.marketplaceClientSortOptions.area" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.area && sortDirection === $ctrl.Constants.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.Constants.marketplaceClientSortOptions.area && sortDirection === $ctrl.Constants.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th class="text-right">\r\n                {{Messages(\'marketplace.clients.header.lastUpdated\')}}&nbsp;&nbsp;\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tr ng-repeat="item in greedData" ng-click="$ctrl.showClientInfo($event, item)" ng-class="item === $ctrl.selectedClient ? \'filtered-spaces-row-selected\' : \'\'">\r\n        <td class="text-left">{{item.tenantName}}</td>\r\n        <td class="text-left">{{item.industryName}}</td>\r\n        <td class="text-right" >{{item.dealsNumber}}</td>\r\n        <td class="text-right">\r\n            {{item.totalArea != null ? item.totalArea.toFixed(2): 0}} <span ng-bind-html="Messages(\'square.meter\')"/>\r\n        </td>\r\n        <td class="text-right"></td>\r\n    </tr>\r\n</table>\r\n<div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n<div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n\r\n\r\n<script type="text/javascript">\r\n$(\'.search-box input\').focusin(function() {\r\n    $(this).parent(\'.search-box\').addClass("active");\r\n});\r\n\r\n$(\'.search-box input\').focusout(function() {\r\n    $(this).parent(\'.search-box\').removeClass("active");\r\n});    \r\n</script>'},function(module,exports){module.exports="Competitions"},function(module,exports){module.exports="Buildings"},function(module,exports){module.exports='<div class="fullpage-scroll-box" ss-container>\r\n\r\n    <!-- header -->\r\n    <div class="region region-header text-center">\r\n        <div class="site-logo">\r\n            <a href=""><img src="/img/logo.png" alt="Tower 360 Logo"></a>\r\n        </div>\r\n        <hr>\r\n        <h1>Big Data Platform For Commercial Real Estate</h1>\r\n        <h3>Log in with your details to access tower360.co</h3>\r\n    </div>\r\n    <!-- /header -->\r\n\r\n    <!-- content -->\r\n    <div ui-view>\r\n    </div>\r\n    <!-- /content -->\r\n\r\n</div>'},function(module,exports){module.exports='<div class="region region-content">\r\n    <div class="row">\r\n        <div class="form-login-wrapper">\r\n            <div class="well well-lg">\r\n                <form class="form form-login" name="form" novalidate>\r\n                    <div ng-if="$ctrl.error" class="alert alert-danger" role="alert"> {{$ctrl.error}} </div>\r\n                    <div class="form-group" ng-class="{ \'has-error\' : form.email.$invalid && (form.$submitted || form.email.$touched)}">\r\n                        <label for="inputEmail">Email</label>\r\n                        <input type="email" id="inputEmail" class="form-control" name="email" required="" autofocus="" ng-model="$ctrl.signInData.userName">\r\n                    </div>\r\n                    <div class="form-group" ng-class="{ \'has-error\' : form.password.$invalid && (form.$submitted || form.password.$touched)}">\r\n                        <label for="inputPassword">Password</label>\r\n                        <input type="password" id="inputPassword" class="form-control" name="password" required="" ng-model="$ctrl.signInData.password">\r\n                        <p class="help-block small"><a href="/forgot">Forgot your password?</a></p>\r\n                    </div>\r\n                    <button ng-show="!$ctrl.isInProgress" class="btn btn-lg btn-primary btn-block" ng-click="$ctrl.signIn()" ng-disabled="form.$invalid">Log in</button>\r\n                    <div ng-show="$ctrl.isInProgress" class="text-center">\r\n                        <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports){module.exports='<div class="region region-content">\r\n    <div class="row">\r\n        <div class="form-login-wrapper">\r\n            <div class="well well-lg">\r\n                <h3 style="text-align: center">{{$ctrl.messages(\'forgotpassword.message\')}}</h3>\r\n                <h5 style="text-align: center">{{$ctrl.messages(\'forgotpassword.comment\')}}</h5>\r\n                <form class="form form-login" name="form" novalidate>\r\n                    <div ng-if="$ctrl.error != null" class="alert alert-danger" role="alert"> {{$ctrl.error}} </div>\r\n                    <div ng-if="$ctrl.success != null" class="alert alert-success" role="alert"> {{$ctrl.success}} </div>\r\n                    <div class="form-group" ng-class="{ \'has-error\' : form.email.$invalid && (form.$submitted || form.email.$touched) || $ctrl.invaliedEmailError}">\r\n                        <label for="inputEmail">{{$ctrl.messages(\'forgotpassword.email\')}}</label>\r\n                        <input type="email" id="inputEmail" class="form-control" name="email" required autofocus="" ng-model="$ctrl.email"\r\n                            ng-model-options=\'{ debounce: 1000 }\'\r\n                            ng-change="$ctrl.passwordChange($ctrl.email)">\r\n                        <label for="newPassword" class="alert-danger" ng-if="$ctrl.invaliedEmailError">{{$ctrl.messages(\'forgotpassword.emailNotValid\')}}</label>\r\n                    </div>\r\n                    <button class="btn btn-lg btn-primary btn-block" style="text-transform: uppercase" ng-click="$ctrl.forgot()">{{$ctrl.messages(\'forgotpassword.button\')}}</button>\r\n                    <button class="btn btn-lg btn-primary btn-block" style="text-transform: uppercase" ng-click="$ctrl.cancel()">{{$ctrl.messages(\'forgotpassword.cancel\')}}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div class="region region-content">\r\n    <div class="row">\r\n        <div class="form-login-wrapper">\r\n            <div class="well well-lg">\r\n                <h3 style="text-align: center">{{$ctrl.messages(\'resetpassword.message\')}}</h3>\r\n                <form class="form form-login" name="form" novalidate>\r\n                    <div ng-if="$ctrl.error != null" class="alert alert-danger" role="alert"> {{$ctrl.error}} </div>\r\n                    <div ng-if="$ctrl.success != null" class="alert alert-success" role="alert"> {{$ctrl.success}} </div>\r\n                    <fieldset>\r\n                        <div ng-show="checkToken && validToken">\r\n                            <div class="form-group" ng-class="{ \'has-error\' : $ctrl.isShort()}">\r\n                                <label for="newPassword">{{$ctrl.messages(\'resetpassword.password\')}}</label>\r\n                                <input type="password" id="newPassword" class="form-control" name="newPassword" autofocus="" ng-model="newPassword">\r\n                                <label for="newPassword" class="alert-danger" ng-if="$ctrl.isShort()">{{$ctrl.messages(\'resetpassword.too_short\')}}</label>\r\n                            </div>\r\n                            <div class="form-group" ng-class="{ \'has-error\' : $ctrl.isNotMatch()}">\r\n                                <label for="confirmPassword">{{$ctrl.messages(\'resetpassword.confirmPassword\')}}</label>\r\n                                <input type="password" id="confirmPassword" class="form-control" name="confirmPassword" autofocus="" ng-model="confirmPassword">\r\n                                <label for="newPassword" class="alert-danger" ng-if="$ctrl.isNotMatch()">{{$ctrl.messages(\'resetpassword.not_match\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </fieldset>\r\n                    <h4 ng-show="checkToken && !validToken" style="text-align: center">{{$ctrl.messages(\'resetpassword.linkNotValid\')}}</h4>\r\n                    <div style="text-align: center; padding-bottom: 10px" ng-show="!checkToken">\r\n                        <span dx-load-indicator></span>\r\n                    </div>\r\n                    <button class="btn btn-lg btn-primary btn-block" style="text-transform: uppercase" ng-show="checkToken && validToken" ng-disabled="!$ctrl.validate()" ng-click="$ctrl.reset()">{{$ctrl.messages(\'resetpassword.button\')}}</button>\r\n                    <button class="btn btn-lg btn-primary btn-block" style="text-transform: uppercase" ng-click="$ctrl.cancel()">{{$ctrl.messages(\'forgotpassword.cancel\')}}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div class="region region-content">\r\n    <div class="row">\r\n        <div class="form-login-wrapper">\r\n            <div class="well well-lg">\r\n                <h3 style="text-align: center">{{$ctrl.messages(\'confirmpassword.message\')}}</h3>\r\n                <h5 style="text-align: center; margin-bottom: 50px;">{{$ctrl.messages(\'confirmpassword.comment\')}}</h5>\r\n                <form class="form form-login" name="form" novalidate>\r\n                    <button class="btn btn-lg btn-primary btn-block" style="text-transform: uppercase" ng-click="$ctrl.ok()">{{$ctrl.messages(\'confirmpassword.button\')}}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div class="container">\r\n    <!-- content -->\r\n    <div ui-view>\r\n        <h2 ng-if="$ctrl.error">{{Messages(\'error.inactive.message\')}}</h2>\r\n        <div ng-if="$ctrl.form" class="region region-content">\r\n            <div class="row">\r\n                <div class="form-login-wrapper">\r\n                    <div class="well well-lg">\r\n                        <form class="form-horizontal" role="form" name="settingsForm">\r\n                            <div class="row">\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-name">{{Messages(\'registration.username\')}}</label>\r\n                                    <div id="field-name" dx-text-box="$ctrl.nameSettings" dx-validator="$ctrl.nameValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-displayName">{{Messages(\'registration.displayName\')}}</label>\r\n                                    <div id="field-displayName" dx-text-box="$ctrl.displayNameSettings" dx-validator="$ctrl.displayNameValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-password">{{Messages(\'registration.password\')}}</label>\r\n                                    <div id="field-password" dx-text-box="$ctrl.passwordSettings" dx-validator="$ctrl.passwordValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-confirmPassword">{{Messages(\'registration.confirmPassword\')}}</label>\r\n                                    <div id="field-confirmPassword" dx-text-box="$ctrl.confirmPasswordSettings" dx-validator="$ctrl.confirmPasswordValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="form-group col-lg-12">\r\n                                    <label for="field-phone">{{Messages(\'registration.phone\')}}</label>\r\n                                    <div id="field-phone" dx-text-box="$ctrl.phoneSettings" dx-validator="$ctrl.phoneValidationRules">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="text-center">\r\n                                <div dx-button="$ctrl.saveSettingsBtnConfig" ng-style="{opacity: $ctrl.saveInProgress ? 100 : inherit}">\r\n                                    <div data-options="dxTemplate: { name:\'saveButtonWithLoadIndicator\' }">\r\n                                        <span dx-load-indicator="{ bindingOptions: {visible: \'$ctrl.saveInProgress\'} }"></span>\r\n                                        <span class="dx-button-text" ng-style="{opacity: $ctrl.saveInProgress ? 100 : inherit}">{{$ctrl.saveInProgress?Messages(\'registration.saving\'):Messages(\'registration.submit\')}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div dx-button="$ctrl.cancelSettingsBtnConfig"></div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <!-- /content -->\r\n</div>'},function(module,exports){module.exports="Forbidden"},function(module,exports){module.exports="Not found"},function(module,exports){"use strict";function interceptors($httpProvider){$httpProvider.interceptors.push("AuthInterceptorService")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=interceptors,interceptors.$inject=["$httpProvider"]},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function run($rootScope,SecurityService){SecurityService.fillAuthData(),$rootScope.Messages=_messages2.default,$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){toState&&"public"==toState.parent||(_validation_engine2.default.initGroups(),SecurityService.getUserInfo().then(function(result){(0,_app.updateLocale)(result.localeId)}))});var checkSticky=function(el){var $stickers=$(el).find(".t360-sticky");el.scrollTop()>0?$.each($stickers,function(i,sticker){var $sticker=$(sticker);$sticker[0].getBoundingClientRect().top<$sticker.data("sticky")&&($sticker.hasClass("t360-sticky-active")||($sticker.addClass("t360-sticky-active"),$sticker.css("top",$sticker.data("sticky")),$(".t360-sticky-base").show("slow")))}):($stickers.removeClass("t360-sticky-active"),$stickers.css("top","auto"),$(".t360-sticky-base").hide("slow"))};document.body.addEventListener("scroll",function(event){var $elm=$(event.target);$elm.hasClass("ss-content")&&checkSticky($elm)},!0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=run;var _messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine),_app=__webpack_require__(724);run.$inject=["$rootScope","SecurityService"]}).call(exports,__webpack_require__(178))},function(module,exports){"use strict";function activityMonitor($state,ActivityMonitor){ActivityMonitor.options.inactive=1800}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=activityMonitor,activityMonitor.$inject=["$state","ActivityMonitor"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(206);var _authInterceptorService=__webpack_require__(764),_authInterceptorService2=_interopRequireDefault(_authInterceptorService),_configurationService=__webpack_require__(765),_configurationService2=_interopRequireDefault(_configurationService),_dialog=__webpack_require__(766),_dialog2=_interopRequireDefault(_dialog),_notificationService=__webpack_require__(767),_notificationService2=_interopRequireDefault(_notificationService),_securityService=__webpack_require__(768),_securityService2=_interopRequireDefault(_securityService),_image=__webpack_require__(769),_image2=_interopRequireDefault(_image),_file=__webpack_require__(770),_file2=_interopRequireDefault(_file),_utils=__webpack_require__(771),_utils2=_interopRequireDefault(_utils),_compare=__webpack_require__(772),_compare2=_interopRequireDefault(_compare),_industryLookup=__webpack_require__(773),_industryLookup2=_interopRequireDefault(_industryLookup),_spacetypeLookup=__webpack_require__(774),_spacetypeLookup2=_interopRequireDefault(_spacetypeLookup),_contractdocumenttypeLookup=__webpack_require__(775),_contractdocumenttypeLookup2=_interopRequireDefault(_contractdocumenttypeLookup),_dealdeadstageoutcomeLookup=__webpack_require__(776),_dealdeadstageoutcomeLookup2=_interopRequireDefault(_dealdeadstageoutcomeLookup),_dealdeadstagereasonLookup=__webpack_require__(777),_dealdeadstagereasonLookup2=_interopRequireDefault(_dealdeadstagereasonLookup),_location=__webpack_require__(778),_location2=_interopRequireDefault(_location),_dealstageLookup=__webpack_require__(779),_dealstageLookup2=_interopRequireDefault(_dealstageLookup),_renewalstrategyLookup=__webpack_require__(780),_renewalstrategyLookup2=_interopRequireDefault(_renewalstrategyLookup),_dealtypeLookup=__webpack_require__(781),_dealtypeLookup2=_interopRequireDefault(_dealtypeLookup),_exportdata=__webpack_require__(782),_exportdata2=_interopRequireDefault(_exportdata),_settingsService=__webpack_require__(783),_settingsService2=_interopRequireDefault(_settingsService),_brokerService=__webpack_require__(784),_brokerService2=_interopRequireDefault(_brokerService),_module=angular.module("tower360.services",["toaster"]).factory("AuthInterceptorService",["$q","$location","localStorageService",function($q,location,localStorageService){return new _authInterceptorService2.default($q,location,localStorageService)}]).service("ConfigurationService",_configurationService2.default).service("DialogService",_dialog2.default).service("NotificationService",_notificationService2.default).service("SecurityService",_securityService2.default).service("ImageService",_image2.default).service("FileService",_file2.default).service("UtilsService",_utils2.default).service("CompareObjectService",_compare2.default).service("IndustryLookupService",_industryLookup2.default).service("SpaceTypeLookupService",_spacetypeLookup2.default).service("ContractDocumentTypeLookupService",_contractdocumenttypeLookup2.default).service("LocationService",_location2.default).service("DealStageLookupService",_dealstageLookup2.default).service("DealTypeLookupService",_dealtypeLookup2.default).service("DealDeadStageOutcomeLookupService",_dealdeadstageoutcomeLookup2.default).service("DealDeadStageReasonLookupService",_dealdeadstagereasonLookup2.default).service("RenewalStrategyLookupService",_renewalstrategyLookup2.default).service("ExportDataService",_exportdata2.default).service("Settings",_settingsService2.default).service("BrokerService",_brokerService2.default);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var AuthInterceptorService=function AuthInterceptorService($q,$location,localStorageService){var _this=this;_classCallCheck(this,AuthInterceptorService),this.$q=$q,this.$location=$location,this.localStorageService=localStorageService,this.request=function(config){if(config.url.includes("/api/")){var token=_this.localStorageService.get("authenticationData");null!=token&&token.access_token&&(config.headers.Authorization="Bearer "+token.access_token)}return config},this.requestError=function(rejection){return _this.$q.reject(rejection)},this.response=function(response){return"401"==response.status&&(_this.localStorageService.remove("authenticationData"),"/login"!=window.location.pathname&&(window.location.href="/login")),response},this.responseError=function(rejection){return"401"==rejection.status&&(_this.localStorageService.remove("authenticationData"),"/login"!=window.location.pathname&&(window.location.href="/login")),_this.$q.reject(rejection)}};AuthInterceptorService.$inject=["$q","$location","localStorageService"],exports.default=AuthInterceptorService},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ConfigurationService=function(){function ConfigurationService(){_classCallCheck(this,ConfigurationService)}return _createClass(ConfigurationService,[{key:"getApiBaseUrl",value:function(){return"/"}},{key:"getClientId",value:function(){return"F003FEBA-3CB3-4457-B115-DA05F21E6943"}}]),ConfigurationService}();exports.default=ConfigurationService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_dialog=__webpack_require__(597),_dialog2=_interopRequireDefault(_dialog),DialogService=function(){function DialogService(){_classCallCheck(this,DialogService)}return _createClass(DialogService,[{key:"confirmation",value:function(msg,confirmAction){var result=_dialog2.default.confirm(msg,"Please confirm");result.done(function(dialogResult){dialogResult&&confirmAction()})}}]),DialogService}();exports.default=DialogService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NotificationService=function(){function NotificationService(toaster){_classCallCheck(this,NotificationService),this.toaster=toaster}return NotificationService.$inject=["toaster"],_createClass(NotificationService,[{key:"info",value:function(text){this.toaster.pop({type:"info",body:text,timeout:3e3})}},{key:"warning",value:function(text){this.toaster.pop({type:"warning",body:text,timeout:5e3})}},{key:"error",value:function(text){this.toaster.pop({type:"error",body:text,timeout:1e4})}},{key:"success",value:function(text){this.toaster.pop({type:"success",body:text,timeout:3e3,"position-class":"toast-bottom-center"})}}]),NotificationService}();exports.default=NotificationService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SecurityService=function(){function SecurityService($http,$q,$state,NotificationService,ConfigurationService,localStorageService,ActivityMonitor,Role,BrokerService){_classCallCheck(this,SecurityService),this.$http=$http,this.$q=$q,this.$state=$state,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.localStorageService=localStorageService,this.ActivityMonitor=ActivityMonitor,this.Role=Role,this.BrokerService=BrokerService,this.authentication=new Authentication,this.activities=null,this.userInfo=null,this.userInfoPromise=null}return SecurityService.$inject=["$http","$q","$state","NotificationService","ConfigurationService","localStorageService","ActivityMonitor","Role","BrokerService"],_createClass(SecurityService,[{key:"fillAuthData",value:function(){var authData=this.localStorageService.get("authenticationData");authData&&this.authentication.set(authData.userName)}},{key:"signOut",value:function(){this.localStorageService.remove("authenticationData"),this.authentication.clear(),this.reset(),this.ActivityMonitor.off("inactive")}},{key:"signIn",value:function(userName,password){var _this=this,self=this,data="grant_type=password&username="+userName+"&password="+password+"&client_id="+this.configurationService.getClientId(),deferred=this.$q.defer();return this.$http.post(this.configurationService.getApiBaseUrl()+"api/token",data,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(response){_this.localStorageService.set("authenticationData",{access_token:response.data.access_token,userName:userName}),_this.authentication.set(userName),self.ActivityMonitor.on("inactive",function(){self.signOut(),self.$state.go("login",{automatic:!0},{reload:!0})}),deferred.resolve(response)},function(err,status){_this.signOut(),deferred.reject(err,status)}),deferred.promise}},{key:"forgotPassword",value:function(email){var self=this,deferred=self.$q.defer();return self.$http.post(self.configurationService.getApiBaseUrl()+"api/users/sendpassword",{email:email}).then(function(response){deferred.resolve(response)},function(err,status){deferred.reject(err,status)}),deferred.promise}},{key:"checkPasswordToken",value:function(email,token){var self=this,deferred=self.$q.defer();return self.$http.post(self.configurationService.getApiBaseUrl()+"api/users/checkresettoken",{email:email,token:token}).then(function(response){deferred.resolve(response)},function(err,status){deferred.reject(err,status)}),deferred.promise}},{key:"resetPassword",value:function(email,token,password){var self=this,deferred=self.$q.defer();return self.$http.post(self.configurationService.getApiBaseUrl()+"api/users/resetpassword",{email:email,token:token,newPassword:password,confirmPassword:password}).then(function(response){deferred.resolve(response)},function(err,status){deferred.reject(err,status)}),deferred.promise}},{key:"canDo",value:function(activityId,failedState,notLoggedInState){var _this2=this,deferred=this.$q.defer();return this.getActivities().then(function(data){data.indexOf(activityId.toUpperCase())>=0?deferred.resolve(!0):failedState&&notLoggedInState?data.length>0?_this2.$state.go(failedState):_this2.$state.go(notLoggedInState):deferred.reject("Forbidden")}),deferred.promise}},{key:"getActivities",value:function(){var _this3=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.activities?deferred.resolve(this.activities):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/account/activities"}).then(function(result){_this3.activities=result.data,deferred.resolve(_this3.activities)}),promise}},{key:"reset",value:function(){this.activities=null,this.userInfo=null,this.userInfoPromise=null,this.BrokerService.reset()}},{key:"getToken",value:function(){var authData=this.localStorageService.get("authenticationData");return null==authData?null:authData.access_token}},{key:"getUserInfo",value:function(){var self=this,deferred=self.$q.defer();return null!==self.userInfo?(deferred.resolve(self.userInfo),deferred.promise):self.userInfoPromise?self.userInfoPromise:(self.$http.get(self.configurationService.getApiBaseUrl()+"api/account/userinfo").then(function(result){self.Role.get({id:result.data.roleId},function(role){self.userInfo=new UserInfo(result.data.id,result.data.email,result.data.displayName,result.data.roleId,role.name,result.data.brokerId,result.data.state,result.data.localeId),deferred.resolve(self.userInfo)})}),self.userInfoPromise=deferred.promise,self.userInfoPromise)}}]),SecurityService}();exports.default=SecurityService;var Authentication=function(){function Authentication(){_classCallCheck(this,Authentication),this.authenticated=!1,this.username=null}return _createClass(Authentication,[{key:"set",value:function(userName){this.authenticated=!0,this.username=userName}},{key:"clear",value:function(){this.authenticated=!1,this.username=null}}]),Authentication}(),UserInfo=function UserInfo(id,email,displayName,roleId,roleName,brokerId,state,localeId){_classCallCheck(this,UserInfo),this.id=id,this.email=email,this.displayName=displayName,this.roleId=roleId,this.roleName=roleName,this.brokerId=brokerId,this.state=state,this.localeId=localeId}},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ImageService=function(){function ImageService(){_classCallCheck(this,ImageService)}return _createClass(ImageService,[{key:"resizeImage",value:function(sourceImage,fileExt,width,height,postProcess){var outputImage=new Image;outputImage.width=width,outputImage.height=height;var self=this;sourceImage.onload=function(){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");ctx.clearRect(0,0,canvas.width,canvas.height),canvas.width=width,canvas.height=height,ctx.drawImage(sourceImage,0,0,width,height),outputImage.src=canvas.toDataURL(self.getMIMEType(fileExt),.92),postProcess&&postProcess(outputImage.src)}}},{key:"getMIMEType",value:function(fileExt){return"gif"==fileExt?"image/gif":"png"==fileExt?"image/png":"image/jpeg"}},{key:"dataURItoBlob",value:function(dataURI){var byteString;byteString=dataURI.split(",")[0].indexOf("base64")>=0?atob(dataURI.split(",")[1]):unescape(dataURI.split(",")[1]);for(var mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0],ia=new Uint8Array(byteString.length),i=0;i<byteString.length;i++)ia[i]=byteString.charCodeAt(i);return new Blob([ia],{type:mimeString})}}]),ImageService}();exports.default=ImageService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defaultFileName="download.bin",FileService=function(){function FileService($http){_classCallCheck(this,FileService),this.$http=$http,this.init()}return FileService.$inject=["$http"],_createClass(FileService,[{key:"init",value:function(){var self=this;self.readSingleFile=function(file,readCompleted){var reader=new FileReader;reader.onload=function(f){return function(evt){var uploadedFile={filename:f.name,extension:f.name.split(".").pop().toLowerCase(),size:f.size,data:evt.target.result,mime:file.type};readCompleted&&readCompleted(uploadedFile)}}(file),reader.readAsDataURL(file)},self.readSingleFileByteArray=function(file,readCompleted){var reader=new FileReader;reader.onload=function(f){return function(evt){var uploadedFile={filename:f.name,extension:f.name.split(".").pop().toLowerCase(),size:f.size,data:Array.from(new Uint8Array(evt.target.result)),mime:file.type};readCompleted&&readCompleted(uploadedFile)}}(file),reader.readAsArrayBuffer(file)}}},{key:"uploadFile",value:function(file,fileReadComplete){var self=this;self.readSingleFileByteArray(file,function(e){fileReadComplete&&fileReadComplete(e)})}},{key:"uploadFiles",value:function(sourceFileArray,singleFileReadCallBack,readCompletedCallback){var self=this,filesCount=sourceFileArray.length,readedFilesCount=0,destFileArray=[],readFile=function readFile(fileIndex){var file=sourceFileArray[fileIndex];self.readSingleFile(file,function(e){singleFileReadCallBack&&singleFileReadCallBack(e),destFileArray.push(e),readedFilesCount++,readedFilesCount<filesCount?readFile(readedFilesCount):readCompletedCallback&&readCompletedCallback(destFileArray)})};filesCount>0&&readFile(0)}},{key:"downloadFile",value:function(url){this.$http.get(url,{responseType:"arraybuffer"}).success(function(data,status,headers){var octetStreamMime="application/octet-stream";headers=headers();var filename=headers["x-file-name"]||defaultFileName,contentType=headers["content-type"]||octetStreamMime,blob=new Blob([data],{type:contentType}),url=window.URL.createObjectURL(blob),link=document.createElement("a");link.setAttribute("href",url),link.setAttribute("download",filename);var clickEvent=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});link.dispatchEvent(clickEvent)})}}]),FileService}();exports.default=FileService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UtilsService=function(){function UtilsService(){_classCallCheck(this,UtilsService)}return _createClass(UtilsService,[{key:"generateGuid",value:function(){function s4(){
return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4()}},{key:"generateAddress",value:function(data){var city=data.city,street=data.street,building=data.streetAddress;return(city&&city+", ")+(street&&street+", ")+(building&&""+building)||""}},{key:"alignStatusLabelsLength",value:function(value){var integerPart=Math.floor(value);return integerPart<10?value.toFixed(2):integerPart<100?value.toFixed(1):Math.round(value)}},{key:"formatBadgeValue",value:function(value,roundOriginalValue){return value>0&&value<1e3?value=void 0===roundOriginalValue||roundOriginalValue===!0?this.alignStatusLabelsLength(value):value:value>=1e3&&value<1e6?value=this.alignStatusLabelsLength(value/1e3)+"K":value>=1e6&&value<1e9?value=this.alignStatusLabelsLength(value/1e6)+"M":value>=1e9&&(value=this.alignStatusLabelsLength(value/1e9)+"B"),value}},{key:"splitArray",value:function(originalArray,partsCount){for(var piecesPerRow=Math.round(originalArray.length/partsCount),result=[],startIndex=0,i=0;i<partsCount;i++){var endIndex=startIndex+piecesPerRow;result[i]=originalArray.slice(startIndex,endIndex),startIndex=endIndex}return result}},{key:"compareIntArrays",value:function(arr1,arr2){if(!arr1||!arr2)return!1;if(arr1.length!==arr2.length)return!1;for(var i=0;i>arr1.length;i++)if(arr1[i]!==arr2[i])return!1;return!0}}]),UtilsService}();exports.default=UtilsService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),CompareObjectService=function(){function CompareObjectService(){_classCallCheck(this,CompareObjectService)}return _createClass(CompareObjectService,[{key:"compareSimpleAssets",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.state==obj2.state&&obj1.name==obj2.name&&obj1.countryId==obj2.countryId&&obj1.city==obj2.city&&obj1.street==obj2.street&&obj1.building==obj2.building&&obj1.brokerDatabaseRecordId==obj2.brokerDatabaseRecordId&&obj1.description==obj2.description&&obj1.notes==obj2.notes&&obj1.floorCount==obj2.floorCount&&obj1.brokerId==obj2.brokerId)}},{key:"compareAssets",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleAssets(obj1,obj2);if(res&&void 0!=obj1.images&&void 0!=obj2.images){if(obj1.images.length!=obj2.images.length)return!1;for(var i=0;i<obj1.images.length&&res;i++)res=this.compareImages(obj1.images[i],obj2.images[i])}if(res&&void 0!=obj1.documents&&void 0!=obj2.documents){if(obj1.documents.length!=obj2.documents.length)return!1;for(var i=0;i<obj1.documents.length&&res;i++)res=this.compareDocuments(obj1.documents[i],obj2.documents[i])}if(res&&void 0!=obj1.floors&&void 0!=obj2.floors){if(obj1.floors.length!=obj2.floors.length)return!1;for(var i=0;i<obj1.floors.length&&res;i++)res=this.compareFloors(obj1.floors[i],obj2.floors[i])}if(res&&void 0!=obj1.spaces&&void 0!=obj2.spaces){if(obj1.spaces.length!=obj2.spaces.length)return!1;for(var i=0;i<obj1.spaces.length&&res;i++)res=this.compareSpaces(obj1.spaces[i],obj2.spaces[i])}return res}},{key:"compareImages",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.assetId==obj2.assetId&&obj1.filePath==obj2.filePath&&obj1.order==obj2.order&&obj1.originalFileName==obj2.originalFileName&&obj1.isMain==obj2.isMain&&obj1.contentType==obj2.contentType&&obj1.imageFile==obj2.imageFile)}},{key:"compareDocuments",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.assetId==obj2.assetId&&obj1.filePath==obj2.filePath&&obj1.originalFileName==obj2.originalFileName&&obj1.contentType==obj2.contentType&&obj1.documentFile==obj2.documentFile&&obj1.notes==obj2.notes)}},{key:"compareSimpleSpaces",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.assetId==obj2.assetId&&obj1.floorId==obj2.floorId&&obj1.brokerId==obj2.brokerId&&obj1.number==obj2.number&&obj1.type==obj2.type&&obj1.rentableArea==obj2.rentableArea&&obj1.state==obj2.state&&obj1.marketingDescription==obj2.marketingDescription&&obj1.notes==obj2.notes)}},{key:"compareSpaces",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleSpaces(obj1,obj2);if(res&&void 0!=obj1.images&&void 0!=obj2.images){if(obj1.images.length!=obj2.images.length)return!1;for(var i=0;i<obj1.images.length&&res;i++)res=this.compareImages(obj1.images[i],obj2.images[i])}if(res&&void 0!=obj1.documents&&void 0!=obj2.documents){if(obj1.documents.length!=obj2.documents.length)return!1;for(var i=0;i<obj1.documents.length&&res;i++)res=this.compareDocuments(obj1.documents[i],obj2.documents[i])}return res}},{key:"compareSimpleFloors",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.number==obj2.number&&obj1.description==obj2.description&&obj1.assetId==obj2.assetId&&obj1.brokerId==obj2.brokerId)}},{key:"compareFloors",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleFloors(obj1,obj2);if(res&&void 0!=obj1.spaces&&void 0!=obj2.spaces){if(obj1.spaces.length!=obj2.spaces.length)return!1;for(var i=0;i<obj1.spaces.length&&res;i++)res=this.compareSpaces(obj1.spaces[i],obj2.spaces[i])}return res}},{key:"compareClients",value:function(obj1,obj2){if(void 0==obj1||void 0==obj2)return!1;var res=this.compareSimpleClients(obj1,obj2);if(res&&void 0!=obj1.representatives&&void 0!=obj2.representatives){if(obj1.representatives.length!=obj2.representatives.length)return!1;for(var i=0;i<obj1.representatives.length&&res;i++)res=this.compareRepresentatives(obj1.representatives[i],obj2.representatives[i])}return res}},{key:"compareSimpleClients",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.name==obj2.name&&obj1.state==obj2.state&&obj1.countryId==obj2.countryId&&obj1.city==obj2.city&&obj1.street==obj2.street&&obj1.building==obj2.building&&obj1.notes==obj2.notes)}},{key:"compareRepresentatives",value:function(obj1,obj2){return void 0!=obj1&&void 0!=obj2&&(obj1.id==obj2.id&&obj1.name==obj2.name&&obj1.mobileNumber==obj2.mobileNumber&&obj1.officeNumber==obj2.officeNumber&&obj1.email==obj2.email)}}]),CompareObjectService}();exports.default=CompareObjectService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),IndustryLookupService=function(){function IndustryLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,IndustryLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.industries=null}return IndustryLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(IndustryLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.id===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.industries?deferred.resolve(this.industries):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/industries"}).then(function(result){_this.industries=result.data,deferred.resolve(_this.industries)}),promise}}]),IndustryLookupService}();exports.default=IndustryLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SpaceTypeLookupService=function(){function SpaceTypeLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,SpaceTypeLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.spaceTypes=null}return SpaceTypeLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(SpaceTypeLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.value===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.spaceTypes?deferred.resolve(angular.copy(this.spaceTypes)):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/spacetypes"}).then(function(result){_this.spaceTypes=result.data,deferred.resolve(angular.copy(_this.spaceTypes))}),promise}}]),SpaceTypeLookupService}();exports.default=SpaceTypeLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ContractDocumentTypeLookupService=function(){function ContractDocumentTypeLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,ContractDocumentTypeLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.documentTypes=null}return ContractDocumentTypeLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(ContractDocumentTypeLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.id===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.documentTypes?deferred.resolve(this.documentTypes):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/mastercontractfiletypes"}).then(function(result){_this.documentTypes=result.data,deferred.resolve(_this.documentTypes)}),promise}}]),ContractDocumentTypeLookupService}();exports.default=ContractDocumentTypeLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DealDeadStageOutcomeLookupService=function(){function DealDeadStageOutcomeLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,DealDeadStageOutcomeLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.outcomes=null}return DealDeadStageOutcomeLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(DealDeadStageOutcomeLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.value===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.outcomes?deferred.resolve(angular.copy(this.outcomes)):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/dealstageoutcomes"}).then(function(result){_this.outcomes=result.data,deferred.resolve(angular.copy(_this.outcomes))}),promise}}]),DealDeadStageOutcomeLookupService}();exports.default=DealDeadStageOutcomeLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DealDeadStageReasonLookupService=function(){function DealDeadStageReasonLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,DealDeadStageReasonLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.reasons=null}return DealDeadStageReasonLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(DealDeadStageReasonLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.value===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.reasons?deferred.resolve(angular.copy(this.reasons)):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/dealstagereasons"}).then(function(result){_this.reasons=result.data,deferred.resolve(angular.copy(_this.reasons))}),promise}}]),DealDeadStageReasonLookupService}();exports.default=DealDeadStageReasonLookupService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),Location=function Location(){_classCallCheck(this,Location),this.countryId=null,this.country=null,this.city=null,this.street=null,this.streetAddress=null,this.postCode=null,this.latitude=null,this.longitude=null},LocationService=function(){function LocationService($filter){_classCallCheck(this,LocationService),this.$filter=$filter}return LocationService.$inject=["$filter"],_createClass(LocationService,[{key:"getAddress",value:function(data){if(null==data||""===data)return"";var city=data.city,street=data.street,building=data.streetAddress,address="";return city&&""!=city&&(address+=city),street&&""!=street&&(address+=(city&&""!=city?", ":"")+street),street&&""!=street&&building&&(address+=", "+building),address}},{key:"getGoogleAddress",value:function(data){if(null==data||""===data)return"";var city=data.city,street=data.street,building=data.streetAddress,address="";return street&&""!=street&&(address+=street),street&&""!=street&&building&&(address+=" "+building+(city&&""!=city?",":"")),city&&""!=city&&(address+=" "+city),data.country&&null!=data.country&&(address=""!=address?address+", "+data.country:data.country),address}},{key:"getEmptyLocation",value:function(){return new Location}},{key:"setLocationCoordinates",value:function(location,callback){var geocoder=new google.maps.Geocoder,countries=_constants2.default.countryStorePlain(),country=this.$filter("filter")(countries,{value:location.countryId});country=country&&country[0]?country[0].text+", ":"",geocoder.geocode({address:country+this.getGoogleAddress(location)},function(result,status){"OK"===status?(location.latitude=result[0].geometry.location.lat(),location.longitude=result[0].geometry.location.lng()):(location.latitude=null,location.longitude=null),callback&&callback()})}}]),LocationService}();exports.default=LocationService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DealStageLookupService=function(){function DealStageLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,DealStageLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.dealStages=null}return DealStageLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(DealStageLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.value===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.dealStages?deferred.resolve(angular.copy(this.dealStages)):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/dealstages"}).then(function(result){_this.dealStages=result.data,deferred.resolve(angular.copy(_this.dealStages))}),promise}}]),DealStageLookupService}();exports.default=DealStageLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),RenewalStrategyLookupService=function(){function RenewalStrategyLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,RenewalStrategyLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.renewalStrategies=null}return RenewalStrategyLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(RenewalStrategyLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.id===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.renewalStrategies?deferred.resolve(this.renewalStrategies):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/renewalstrategies"}).then(function(result){_this.renewalStrategies=result.data,deferred.resolve(_this.renewalStrategies)}),promise}}]),RenewalStrategyLookupService}();exports.default=RenewalStrategyLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),DealTypeLookupService=function(){function DealTypeLookupService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,DealTypeLookupService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService,this.dealTypes=null}return DealTypeLookupService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(DealTypeLookupService,[{key:"byKey",value:function(id){var deferred=this.$q.defer();return this.all().then(function(data){data.forEach(function(item){item.value===id&&deferred.resolve(item)}),deferred.reject()}),deferred.promise}},{key:"all",value:function(){var _this=this,deferred=this.$q.defer(),promise=deferred.promise;return null!=this.dealTypes?deferred.resolve(angular.copy(this.dealTypes)):this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/dealtypes"}).then(function(result){_this.dealTypes=result.data,deferred.resolve(angular.copy(_this.dealTypes))}),promise}}]),DealTypeLookupService}();exports.default=DealTypeLookupService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),defaultFileName="DataExport.xlsx",ExportDataService=function(){function ExportDataService($http,$q,NotificationService,ConfigurationService){_classCallCheck(this,ExportDataService),this.$http=$http,this.$q=$q,this.notificationService=NotificationService,this.configurationService=ConfigurationService}return ExportDataService.$inject=["$http","$q","NotificationService","ConfigurationService"],_createClass(ExportDataService,[{key:"exportActiveDeals",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/activedeals",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportExecutedDeals",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/executeddeals",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportDeadDeals",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/deaddeals",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportAllUnits",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/allunits",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportAvailableUnits",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/availableunits",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportUnavailableUnits",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/unavailableunits",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportInPlaceContracts",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/inplacecontracts",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportInComingContracts",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/incomingcontracts",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportExpiredContracts",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/expiredcontracts",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportArchivedContracts",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/archivedcontracts",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportMarketplaceActiveClients",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/marketplace/clients/active",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportMarketplacePastClients",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/marketplace/clients/past",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"exportMarketplaceAllClients",value:function(searchParams){this.$http({method:"GET",url:this.configurationService.getApiBaseUrl()+"api/exportdata/marketplace/clients/all",responseType:"arraybuffer",params:searchParams}).success(this.saveData)}},{key:"saveData",value:function(data,status,headers){var octetStreamMime="application/octet-stream";headers=headers();var filename=defaultFileName,contentType=headers["content-type"]||octetStreamMime;if(headers["content-disposition"]&&null!=headers["content-disposition"]){var f=headers["content-disposition"].split(/filename=/gi);null!=f&&f.length>1&&(filename=f[f.length-1].replace(/"/g,""))}var blob=new Blob([data],{type:contentType}),url=window.URL.createObjectURL(blob),link=document.createElement("a");link.setAttribute("href",url),link.setAttribute("download",filename);var clickEvent=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});link.dispatchEvent(clickEvent)}}]),ExportDataService}();exports.default=ExportDataService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SettingsService=function(){function SettingsService($http,$q,$state,ConfigurationService,localStorageService,SecurityService){_classCallCheck(this,SettingsService),this.$http=$http,this.$q=$q,this.$state=$state,this.configurationService=ConfigurationService,this.localStorageService=localStorageService,this.securityService=SecurityService,this.settings=null,this.defaultSettings={currency:"€"},this.reloadSettings()}return SettingsService.$inject=["$http","$q","$state","ConfigurationService","localStorageService","SecurityService"],_createClass(SettingsService,[{key:"getCurrency",value:function(){var currency=this.getSettings().currency;return currency}},{key:"getSettings",value:function(){var self=this;return null!=self.settings?self.settings:self.defaultSettings}},{key:"loadSettings",value:function(){var self=this;null==self.settings&&this.reloadSettings()}},{key:"reloadSettings",value:function(){var self=this;self.$http.get(self.configurationService.getApiBaseUrl()+"api/account/settings").then(function(result){return self.settings=result.data,self.settings})}},{key:"getPaymentPeriodType",value:function(){var result=this.getSettings().paymentPeriodType;return result}}]),SettingsService}();exports.default=SettingsService},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),
Constructor}}(),BrokerService=function(){function BrokerService($http,$q,$state,Broker){_classCallCheck(this,BrokerService),this.$http=$http,this.$q=$q,this.$state=$state,this.Broker=Broker,this.brokerInfo=[],this.brokerPromise=null}return BrokerService.$inject=["$http","$q","$state","Broker"],_createClass(BrokerService,[{key:"getBrokerInfo",value:function(id){var self=this,deferred=self.$q.defer();return null!=self.brokerInfo[id]?(deferred.resolve(self.brokerInfo[id]),deferred.promise):self.brokerPromise?self.brokerPromise:(self.Broker.get({id:id}).$promise.then(function(result){self.brokerInfo[id]=result,deferred.resolve(self.brokerInfo[id])}),self.brokerPromise=deferred.promise,self.brokerPromise)}},{key:"reset",value:function(){this.brokerInfo=[],this.brokerPromise=null}}]),BrokerService}();exports.default=BrokerService},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mainheader=__webpack_require__(786),_mainheader2=_interopRequireDefault(_mainheader),_addmenu=__webpack_require__(789),_addmenu2=_interopRequireDefault(_addmenu),_sidebar=__webpack_require__(817),_sidebar2=_interopRequireDefault(_sidebar),_rightSidebar=__webpack_require__(820),_rightSidebar2=_interopRequireDefault(_rightSidebar),_navigationCreateItems=__webpack_require__(823),_navigationCreateItems2=_interopRequireDefault(_navigationCreateItems),_navigationInternal=__webpack_require__(826),_navigationInternal2=_interopRequireDefault(_navigationInternal),_imagegallery=__webpack_require__(829),_imagegallery2=_interopRequireDefault(_imagegallery),_imagecropper=__webpack_require__(840),_imagecropper2=_interopRequireDefault(_imagecropper),_attachements=__webpack_require__(841),_attachements2=_interopRequireDefault(_attachements);__webpack_require__(844);var _breadcrumbpanel=__webpack_require__(846),_breadcrumbpanel2=_interopRequireDefault(_breadcrumbpanel),_spaceDescription=__webpack_require__(849),_spaceDescription2=_interopRequireDefault(_spaceDescription),_spaceContractItem=__webpack_require__(858),_spaceContractItem2=_interopRequireDefault(_spaceContractItem),_tenantDescription=__webpack_require__(861),_tenantDescription2=_interopRequireDefault(_tenantDescription),_stackingplanDetails=__webpack_require__(872),_stackingplanDetails2=_interopRequireDefault(_stackingplanDetails),_bodyBlocker=__webpack_require__(875),_bodyBlocker2=_interopRequireDefault(_bodyBlocker),_usermenu=__webpack_require__(878),_usermenu2=_interopRequireDefault(_usermenu),_actionmenu=__webpack_require__(881),_actionmenu2=_interopRequireDefault(_actionmenu),_footer=__webpack_require__(884),_footer2=_interopRequireDefault(_footer),_chat=__webpack_require__(887),_chat2=_interopRequireDefault(_chat),_addComment=__webpack_require__(890),_addComment2=_interopRequireDefault(_addComment),_extraFilters=__webpack_require__(893),_extraFilters2=_interopRequireDefault(_extraFilters),_spacesExtraFilters=__webpack_require__(896),_spacesExtraFilters2=_interopRequireDefault(_spacesExtraFilters),_contractsExtraFilters=__webpack_require__(899),_contractsExtraFilters2=_interopRequireDefault(_contractsExtraFilters),_dealsExtraFilters=__webpack_require__(902),_dealsExtraFilters2=_interopRequireDefault(_dealsExtraFilters),_dashboardExtraFilters=__webpack_require__(905),_dashboardExtraFilters2=_interopRequireDefault(_dashboardExtraFilters),_marketplaceClientsExtraFilters=__webpack_require__(908),_marketplaceClientsExtraFilters2=_interopRequireDefault(_marketplaceClientsExtraFilters),_areasmenu=__webpack_require__(911),_areasmenu2=_interopRequireDefault(_areasmenu),_globalStats=__webpack_require__(914),_globalStats2=_interopRequireDefault(_globalStats),_tenantsGlobalStats=__webpack_require__(917),_tenantsGlobalStats2=_interopRequireDefault(_tenantsGlobalStats),_assetsExtraFilters=__webpack_require__(920),_assetsExtraFilters2=_interopRequireDefault(_assetsExtraFilters),_activeDealsStats=__webpack_require__(923),_activeDealsStats2=_interopRequireDefault(_activeDealsStats),_executedDealsStats=__webpack_require__(926),_executedDealsStats2=_interopRequireDefault(_executedDealsStats),_deadDealsStats=__webpack_require__(929),_deadDealsStats2=_interopRequireDefault(_deadDealsStats),_activeTenantsStats=__webpack_require__(932),_activeTenantsStats2=_interopRequireDefault(_activeTenantsStats),_module=angular.module("tower360.components",["ngFileUpload"]).component("mainheader",_mainheader2.default).component("addMenu",_addmenu2.default).component("sidebar",_sidebar2.default).component("rightSidebar",_rightSidebar2.default).component("navigationCreateItems",_navigationCreateItems2.default).component("navigationInternal",_navigationInternal2.default).component("imagegallery",_imagegallery2.default).component("imagecropper",_imagecropper2.default).component("attachements",_attachements2.default).component("breadcrumbPanel",_breadcrumbpanel2.default).component("spaceDescription",_spaceDescription2.default).component("spaceContractItem",_spaceContractItem2.default).component("stackingPlanDetails",_stackingplanDetails2.default).component("tenantDescription",_tenantDescription2.default).component("bodyBlocker",_bodyBlocker2.default).component("userMenu",_usermenu2.default).component("actionMenu",_actionmenu2.default).component("chat",_chat2.default).component("addComment",_addComment2.default).component("footer",_footer2.default).component("extraFilters",_extraFilters2.default).component("spacesExtraFilters",_spacesExtraFilters2.default).component("contractsExtraFilters",_contractsExtraFilters2.default).component("dealsExtraFilters",_dealsExtraFilters2.default).component("dashboardExtraFilters",_dashboardExtraFilters2.default).component("marketplaceClientsExtraFilters",_marketplaceClientsExtraFilters2.default).component("areasMenu",_areasmenu2.default).component("globalStats",_globalStats2.default).component("tenantsGlobalStats",_tenantsGlobalStats2.default).component("assetsExtraFilters",_assetsExtraFilters2.default).component("activeDealsStats",_activeDealsStats2.default).component("executedDealsStats",_executedDealsStats2.default).component("deadDealsStats",_deadDealsStats2.default).component("activeTenantsStats",_activeTenantsStats2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _mainheader=__webpack_require__(787),_mainheader2=_interopRequireDefault(_mainheader),_mainheaderTemplate=__webpack_require__(788),_mainheaderTemplate2=_interopRequireDefault(_mainheaderTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),MainHeaderComponent={bindings:{},controller:_mainheader2.default,template:_mainheaderTemplate2.default,Messages:_messages2.default};exports.default=MainHeaderComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),MainHeaderController=function(){function MainHeaderController($scope,$state,User,BrokerService,SecurityService,Activities){_classCallCheck(this,MainHeaderController),this.$scope=$scope,this.$state=$state,this.securityService=SecurityService,this.activities=Activities,this.User=User,this.BrokerService=BrokerService,this.messages=_messages2.default,this.loadUserInfo(),this.applyActivities()}return MainHeaderController.$inject=["$scope","$state","User","BrokerService","SecurityService","Activities"],_createClass(MainHeaderController,[{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}},{key:"loadUserInfo",value:function(){var self=this;this.securityService.getUserInfo().then(function(result){self.userInfo=result,2!==result.roleId&&3!==result.roleId||self.loadBrokerInfo()})}},{key:"loadBrokerInfo",value:function(){var _this=this;this.BrokerService.getBrokerInfo(this.userInfo.brokerId).then(function(br){_this.brokerInfo=br})}},{key:"applyActivities",value:function(){var _this2=this;this.securityService.getActivities().then(function(){_this2.securityService.canDo(_this2.activities.HomeView).then(function(result){return _this2.homeAvailable=result},function(){return _this2.homeAvailable=!1}),_this2.securityService.canDo(_this2.activities.BrokersView).then(function(result){return _this2.brokersAvailable=result},function(){return _this2.brokersAvailable=!1}),_this2.securityService.canDo(_this2.activities.UsersView).then(function(result){return _this2.usersAvailable=result},function(){return _this2.usersAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsManage).then(function(result){return _this2.assetsAvailable=result},function(){return _this2.assetsAvailable=!1}),_this2.securityService.canDo(_this2.activities.AddHeaderMenu).then(function(result){return _this2.addHeaderAvailable=result},function(){return _this2.addHeaderAvailable=!1})})}}]),MainHeaderController}();exports.default=MainHeaderController},function(module,exports){module.exports='<div class="container-fluid navbar-custom">\r\n    <div class="row">\r\n        <div class="col-lg-2">\r\n            <div id="logo" class="navbar-header">\r\n                <div class="navbar-brand">\r\n                    <div ng-if="$ctrl.brokerInfo && !$ctrl.brokerInfo.logoImageUrl">\r\n                        {{ $ctrl.brokerInfo.name }}\r\n                    </div>\r\n                    <div ng-if="$ctrl.brokerInfo && $ctrl.brokerInfo.logoImageUrl">\r\n                        <a ui-sref="home" class="broker-logo">\r\n                            <div class="centered">\r\n                                <img ng-src="{{$ctrl.brokerInfo.logoImageUrl}}"/>\r\n                            </div>\r\n                        </a>\r\n                    </div>\r\n                    <div ng-if="!$ctrl.brokerInfo && $ctrl.userInfo.roleId === 1">\r\n                        {{ $ctrl.messages(\'administrator\') }}\r\n                    </div>\r\n                </div>\r\n            </div>            \r\n        </div>\r\n        <div class="col-lg-5">\r\n            <areas-menu></areas-menu>\r\n        </div>\r\n        <div class="col-lg-5" id="navbar">\r\n            <user-menu user-info="$ctrl.userInfo" broker-info="$ctrl.brokerInfo"/>  \r\n            <action-menu user-info="$ctrl.userInfo" broker-info="$ctrl.brokerInfo"/>\r\n            <add-menu ng-if="$ctrl.addHeaderAvailable"/>  \r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _addmenu=__webpack_require__(790),_addmenu2=_interopRequireDefault(_addmenu),_addmenuTemplate=__webpack_require__(816),_addmenuTemplate2=_interopRequireDefault(_addmenuTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),AddMenuComponent={bindings:{},controller:_addmenu2.default,template:_addmenuTemplate2.default,Messages:_messages2.default};exports.default=AddMenuComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_dealEditModal=__webpack_require__(792),_dealEditModal2=_interopRequireDefault(_dealEditModal),_dealEditModalTemplate=__webpack_require__(797),_dealEditModalTemplate2=_interopRequireDefault(_dealEditModalTemplate),_contractCreateModal=__webpack_require__(798),_contractCreateModal2=_interopRequireDefault(_contractCreateModal),_contractCreateModalTemplate=__webpack_require__(801),_contractCreateModalTemplate2=_interopRequireDefault(_contractCreateModalTemplate),_space=__webpack_require__(802),_space2=_interopRequireDefault(_space),_spaceTemplate=__webpack_require__(804),_spaceTemplate2=_interopRequireDefault(_spaceTemplate),_assetEditModal=__webpack_require__(805),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModal2Template=__webpack_require__(811),_assetEditModal2Template2=_interopRequireDefault(_assetEditModal2Template),_userEditModal=__webpack_require__(812),_userEditModal2=_interopRequireDefault(_userEditModal),_userEditModalTemplate=__webpack_require__(813),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_brokerEditModal=__webpack_require__(814),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(815),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),AddMenuController=function(){function AddMenuController($uibModal,$rootScope,Space,SecurityService,Activities,NotificationService){_classCallCheck(this,AddMenuController),this.$uibModal=$uibModal,this.$rootScope=$rootScope,this.Space=Space,this.securityService=SecurityService,this.activities=Activities,this.NotificationService=NotificationService,this.messages=_messages2.default,this.applyActivities()}return AddMenuController.$inject=["$uibModal","$rootScope","Space","SecurityService","Activities","NotificationService"],_createClass(AddMenuController,[{key:"createDeal",value:function(){var modal=this.$uibModal.open({controller:_dealEditModal2.default,template:_dealEditModalTemplate2.default,resolve:{dealObject:null,spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],dealTypes:["DealTypeLookupService",function(DealTypeLookupService){return DealTypeLookupService.all()}]}});modal.result.then(function(result){})}},{key:"createContract",value:function(){var modal=this.$uibModal.open({controller:_contractCreateModal2.default,template:_contractCreateModalTemplate2.default,resolve:{assetObjects:["AssetObject",function(AssetObject){return AssetObject.getAllObjects({onlyAvailable:!0})}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],assets:["Asset",function(Asset){return Asset.query()}],dealId:null,dealObjects:null,dealClient:null,dealDate:null,dealSpaceTypes:null},windowClass:"tenant-create-modal"});modal.result.then(function(result){})}},{key:"createSpace",value:function(){var _this=this,modal=this.$uibModal.open({controller:_space2.default,template:_spaceTemplate2.default,resolve:{asset:null,tower:null,space:null,spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}],assets:["Asset",function(Asset){return Asset.query()}]},size:"lg"});modal.result.then(function(result){_this.Space.create({assetId:result.space.assetId},result.space,function(res){_this.NotificationService.success((0,_messages2.default)("assets.spaces.created")),_this.$rootScope.$broadcast(_events2.default.UnitCreated,{space:result.space})},function(error){_this.NotificationService.error(error.data)})})}},{key:"createAsset",value:function(){var modal=this.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModal2Template2.default,resolve:{assetObject:null},size:"lg"});modal.result.then(function(result){})}},{key:"createUser",value:function(){this.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:null}})}},{key:"createBroker",value:function(){this.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:null}})}},{key:"applyActivities",value:function(){var _this2=this;this.securityService.getActivities().then(function(){_this2.securityService.canDo(_this2.activities.AddDealMenuItem).then(function(result){return _this2.addDealMenuItemAvailable=result},function(){return _this2.addDealMenuItemAvailable=!1}),_this2.securityService.canDo(_this2.activities.AddAssetMenuItem).then(function(result){return _this2.addAssetMenuItemAvailable=result},function(){return _this2.addAssetMenuItemAvailable=!1}),_this2.securityService.canDo(_this2.activities.AddTenantMenuItem).then(function(result){return _this2.addTenantMenuItemAvailable=result},function(){return _this2.addTenantMenuItemAvailable=!1}),_this2.securityService.canDo(_this2.activities.AddUnitMenuItem).then(function(result){return _this2.addUnitMenuItemAvailable=result},function(){return _this2.addUnitMenuItemAvailable=!1}),_this2.securityService.canDo(_this2.activities.AddUserMenuItem).then(function(result){return _this2.addUserMenuItemAvailable=result},function(){return _this2.addUserMenuItemAvailable=!1}),_this2.securityService.canDo(_this2.activities.AddBrokerMenuItem).then(function(result){return _this2.addBrokerMenuItemAvailable=result},function(){return _this2.addBrokerMenuItemAvailable=!1})})}}]),AddMenuController}();exports.default=AddMenuController},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var EVENTS={ContractDatesChanged:"ContractDatesChangedEvent",ContractTenantNameChanged:"ContractTenantNameChangedEvent",ContractSpaceCostsChanged:"ContractSpaceCostsChanged",ContractCreated:"ContractCreated",ContractArchived:"ContractArchived",ContractRestored:"ContractRestored",DateRangePickerApplied:"apply.daterangepicker",DateRangePickerHided:"hide.daterangepicker",RightSideBarClose:"right-sidebar:close",RightSideBarClosed:"right-sidebar:closed",RightSideBarOpen:"right-sidebar:open",SpaceBasicDataChanged:"SpaceBasicDataChanged",DealUpdated:"DealUpdated",DealExecuted:"DealExecuted",DealDeleted:"DealDeleted",UnitCreated:"UnitCreated",SpacesExtraFilterUpdated:"SpacesExtraFilterUpdated",SpacesExtraFilterItemRemoved:"SpacesExtraFilterItemRemoved",ContractExtraFilterUpdated:"ContractExtraFilterUpdated",ContractExtraFilterItemRemoved:"ContractExtraFilterItemRemoved",DealExtraFilterUpdated:"DealExtraFilterUpdated",DealExtraFilterItemRemoved:"DealExtraFilterItemRemoved",MarketplaceClientsExtraFilterUpdated:"MarketplaceClientsExtraFilterUpdated",MarketplaceClientsExtraFilterItemRemoved:"MarketplaceClientsExtraFilterItemRemoved",MarketplaceDealExtraFilterUpdated:"DealExtraFilterUpdated",MarketplaceDealExtraFilterItemRemoved:"DealExtraFilterItemRemoved",MarketplaceSpacesExtraFilterUpdated:"SpacesExtraFilterUpdated",MarketplaceSpacesExtraFilterItemRemoved:"SpacesExtraFilterItemRemoved",MarketplaceDealStatsReload:"MarketplaceDealStatsReload",AssetsExtraFilterUpdated:"AssetsExtraFilterUpdated",AssetsExtraFilterItemRemoved:"AssetsExtraFilterItemRemoved",TowersTabsCreated:"TowersTabsCreated",TowersTabsChoosed:"TowersTabsChoosed",AddComment:"AddComment",ActiveDealsStatsReload:"ActiveDealsStatsReload",ExecutedDealsStatsReload:"ExecutedDealsStatsReload",DeadDealsStatsReload:"DeadDealsStatsReload",SpaceStatsReload:"SpaceStatsReload",ActiveTenantsStatsReload:"ActiveTenantsStatsReload",DashboardExtraFilterUpdated:"DashboardExtraFilterUpdated"};exports.default=EVENTS},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_optionsEditModal=__webpack_require__(793),_optionsEditModal2=_interopRequireDefault(_optionsEditModal),_optionsEditModalTemplate=__webpack_require__(794),_optionsEditModalTemplate2=_interopRequireDefault(_optionsEditModalTemplate),_representativeEditModal=__webpack_require__(795),_representativeEditModalTemplate=(_interopRequireDefault(_representativeEditModal),__webpack_require__(796)),DealEditModalController=(_interopRequireDefault(_representativeEditModalTemplate),function(){function DealEditModalController($scope,$uibModal,$uibModalInstance,$timeout,$state,NotificationService,dealObject,spaceTypes,dealTypes,Client,Market,Deal,User,Representative,ImageService){_classCallCheck(this,DealEditModalController),this.$scope=$scope,this.$scope.ctrl=this,this.$uibModal=$uibModal,this.$uibModalInstance=$uibModalInstance,this.$timeout=$timeout,this.$state=$state,this.messages=_messages2.default,this.notificationService=NotificationService,this.dealObject=this.$scope.dealObject=dealObject,this.editMode=null!=dealObject,this.spaceTypes=this.$scope.spaceTypes=spaceTypes,this.dealTypes=this.$scope.dealTypes=dealTypes,this.Client=Client,this.Market=Market,this.Deal=Deal,this.User=User,this.Representative=Representative,this.ImageService=ImageService,this.addAttachment=null,this.initModel(),this.initActions()}return DealEditModalController.$inject=["$scope","$uibModal","$uibModalInstance","$timeout","$state","NotificationService","dealObject","spaceTypes","dealTypes","Client","Market","Deal","User","Representative","ImageService"],_createClass(DealEditModalController,[{key:"initModel",value:function(){var self=this;self.$scope.submitted=!1,self.$scope.model={clients:{available:[],selected:null},leadUsers:{available:[],selected:null},spaceTypes:{available:self.spaceTypes,selected:[]},dealTypes:{available:self.dealTypes,selected:null},startDate:null,markets:{available:[],selected:[]},areas:{range:!0,rentableAreaMin:null,rentableAreaMax:null,rentableAreaDiscrete:null},contacts:{available:self.contacts,currentSelection:null,selected:[]},options:[],attachments:[]},self.$scope.constants=_constants2.default}},{key:"initActions",value:function(){var self=this;self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.$scope.validateAndSaveSettings=function(form){if(self.$scope.submitted=!0,form.$valid){self.$scope.saveInProgress=!0;var model={clientId:self.$scope.model.clients.selected.id,startDate:self.$scope.model.startDate,markets:self.$scope.model.markets.selected.map(function(elem){return elem.id}),spaceTypes:self.$scope.model.spaceTypes.selected.map(function(elem){return elem.value}),dealTypeId:self.$scope.model.dealTypes.selected.id,rentableAreaMin:self.$scope.model.areas.range?self.$scope.model.areas.rentableAreaMin:null,rentableAreaMax:self.$scope.model.areas.range?self.$scope.model.areas.rentableAreaMax:null,rentableAreaDiscrete:self.$scope.model.areas.range?null:self.$scope.model.areas.rentableAreaDiscrete,options:self.$scope.model.options,attachments:self.$scope.model.attachments,representatives:self.$scope.model.contacts.selected.map(function(elem){return elem.id}),leadUserId:null!=self.$scope.model.leadUsers.selected?self.$scope.model.leadUsers.selected.id:null},files=[];self.$scope.model.attachments.forEach(function(t){files.push({id:t.uniqueId,data:self.ImageService.dataURItoBlob(t.documentFile.data)}),t.documentFile.data=null}),self.$scope.editMode||self.Deal.create({},{model:model,files:files},function(result){self.notificationService.success((0,_messages2.default)("deals.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(),self.$state.go("deals",{},{reload:!0})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1})}},self.$scope.editOptions=function(){var markets=self.$scope.model.markets.selected,spaceTypes=self.$scope.model.spaceTypes.selected.map(function(elem){return elem.value}),modal=self.$uibModal.open({controller:_optionsEditModal2.default,template:_optionsEditModalTemplate2.default,resolve:{dealObject:self.$scope.model,markets:{data:markets.length>0?markets:null},spaceTypes:{data:spaceTypes.length>0?spaceTypes:null},areaFrom:self.$scope.model.areas.rentableAreaMin,areaTo:self.$scope.model.areas.rentableAreaMax},size:"lg"});modal.result.then(function(result){self.$scope.model.options=result})}}},{key:"initMultiSelects",value:function(){var self=this;self.$scope.clients={available:[],selected:null},self.$scope.refreshClients=function(name){return self.Client.search({name:name,maxResults:self.maxResults},function(result){self.$scope.clients.available=result})},self.$scope.refreshUsers=function(name){return self.User.search({name:name},function(result){self.$scope.leadUsers.available=result})},self.$scope.createClient=function(){var self=this.ctrl,modal=self.$uibModal.open({controller:ClientEdit2Controller,template:ClientEdit2Template,resolve:{clientObject:null,industries:["IndustryLookupService",function(IndustryLookupService){return IndustryLookupService.all()}]}});modal.result.then(function(result){self.$scope.clientSelect.search=result.name,self.$scope.clientSelect.selected=result})},self.$scope.spaceTypes={available:self.spaceTypes,selected:[]},self.$scope.markets={available:[],selected:[]},this.$scope.refreshMarkets=function(name){return self.Market.search({name:name,maxResults:self.maxResults},function(result){self.$scope.markets.available=result})}}},{key:"initDatePicker",value:function(){var self=this;self.$timeout(function(){var pickerField=$("#edit-deal-datepicker");pickerField.datepicker({format:"mm/dd/yyyy",autoclose:!0})},10),self.$scope.openDatePicker=function(){$("#edit-deal-datepicker").datepicker("show")}}},{key:"initRangeSelection",value:function(){var _this=this,self=this;self.$scope.areas={range:!0,rentableAreaMin:null,rentableAreaMax:null,rentableAreaDiscrete:null},self.$scope.minValueChanged=function(min,max){_this.$scope.areas.rentableAreaMin&&_this.$scope.areas.rentableAreaMax&&_this.$scope.areas.rentableAreaMin>=_this.$scope.areas.rentableAreaMax&&(_this.$scope.areas.rentableAreaMax=_this.$scope.areas.rentableAreaMin+1)},self.$scope.maxValueChanged=function(min,max){_this.$scope.areas.rentableAreaMin&&_this.$scope.areas.rentableAreaMax&&_this.$scope.areas.rentableAreaMax<=_this.$scope.areas.rentableAreaMin&&(_this.$scope.areas.rentableAreaMin=_this.$scope.areas.rentableAreaMax-1)}}}]),DealEditModalController}());exports.default=DealEditModalController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_moment=(_interopRequireDefault(_constants),__webpack_require__(212)),_moment2=_interopRequireDefault(_moment),OptionsEditModalController=function(){function OptionsEditModalController($scope,$uibModalInstance,$timeout,$state,$anchorScroll,NotificationService,Deal,dealObject,markets,spaceTypes,areaFrom,areaTo){_classCallCheck(this,OptionsEditModalController),this.$scope=$scope,this.$uibModalInstance=$uibModalInstance,this.$timeout=$timeout,this.$state=$state,this.$anchorScroll=$anchorScroll,this.$scope.dealObject=dealObject,this.$scope.options=$.extend(!0,[],dealObject.options),this.$scope.markets=markets.data,this.$scope.spaceTypes=spaceTypes.data,this.$scope.areaFrom=areaFrom,this.$scope.areaTo=areaTo,this.Deal=Deal,this.notificationService=NotificationService,this.init(this.$scope.options),this.initScrollbar()}return OptionsEditModalController.$inject=["$scope","$uibModalInstance","$timeout","$state","$anchorScroll","NotificationService","Deal","dealObject","markets","spaceTypes","areaFrom","areaTo"],_createClass(OptionsEditModalController,[{key:"init",value:function(){var self=this;self.$scope.objects={selected:[],available:[],cities:[]},this.Deal.objects({marketIds:null!=self.$scope.markets?self.$scope.markets.map(function(elem){return elem.id}):null,unitTypeIds:null,areaFrom:self.$scope.areaFrom,areaTo:self.$scope.areaTo},function(result){self.$scope.objects.available=result,self.$scope.objects.allavailable=result,self.$scope.objects.filter=[],self.$scope.objects.allavailable.forEach(function(t){null!=t.location&&null!=t.location.city&&self.$scope.objects.filter.findIndex(function(k){return k==t.location.city})==-1&&self.$scope.objects.filter.push(t.location.city)}),self.$scope.unSelectOption(),self.$scope.options.length>0&&self.$scope.selectOption(self.$scope.options[0])},function(error){console.log(error)}),self.$scope.addFilter=function($item){self.$scope.applyFilter()},self.$scope.removeFilter=function($item){var cities=self.$scope.objects.cities;cities.splice(cities.findIndex(function(t){return t==$item}),1),self.$scope.applyFilter()},self.$scope.applyFilter=function(){var cities=self.$scope.objects.cities;return 0==cities.length?void self.$scope.clearFilter():(self.$scope.objects.available=[],void cities.forEach(function(t){var ao=self.$scope.objects.allavailable.find(function(a){return null!=a.location&&null!=a.location.city&&a.location.city==t});ao&&self.$scope.objects.available.push(ao)}))},self.$scope.clearFilter=function($item,$model){self.$scope.objects.selected=[],self.$scope.objects.available=self.$scope.objects.allavailable,self.$scope.cities=[]},self.$scope.refreshCities=function(name){return self.$scope.objects.filter=[],self.$scope.objects.allavailable&&self.$scope.objects.allavailable.forEach(function(t){null!=t.location&&null!=t.location.city&&t.location.city.toLowerCase().indexOf(name.toLowerCase())!=-1&&self.$scope.objects.filter.findIndex(function(k){
return k==t.location.city})==-1&&self.$scope.objects.filter.push(t.location.city)}),self.$scope.objects.filter},self.$scope.processSpace=function(object,space){space.isSelected?self.$scope.selectSpace(object,space):self.$scope.unSelectSpace(object,space)},self.$scope.selectSpace=function(object,space){space.isSelected=!0,0!=object.selectedSpaces.length||object.isSelected||self.$scope.selectedObjects.push(object),object.selectedSpaces.push(space),self.$scope.totalSelectedArea+=space.rentableArea},self.$scope.unSelectSpace=function(object,space){space.isSelected=!1;var index=object.selectedSpaces.indexOf(space);if(object.selectedSpaces.splice(index,1),0==object.selectedSpaces.length){var idx=self.$scope.selectedObjects.indexOf(object);self.$scope.selectedObjects.splice(idx,1)}self.$scope.totalSelectedArea-=space.rentableArea},self.$scope.selectOption=function(option){var _this=this;return self.$scope.clearFilter(),self.$scope.selectedOption==option?void self.$scope.unSelectOption():(self.$scope.unSelectOption(),self.$scope.selectedOption=option,void option.objects.forEach(function(obj){obj.object=self.$scope.objects.available.find(function(t){return t.assetObjectId==obj.assetObjectId}),obj.spaces||(obj.spaces=[]),obj.spaces.forEach(function(t){t.space=obj.object.units.find(function(r){return r.spaceId==t.spaceId}),self.$scope.selectSpace(obj.object,t.space)},_this)}))},self.$scope.unSelectOption=function(){self.$scope.selectedFullObjects=[],self.$scope.selectedObjects=[],self.$scope.selectedOption=null,self.$scope.totalSelectedArea=0,self.$scope.objects.available.forEach(function(t){t.expand=!1,t.isSelected=!1,t.selectedSpaces=[],t.units.forEach(function(k){k.isSelected=!1})})},self.$scope.save=function(){var option;null!=self.$scope.selectedOption?(option=self.$scope.selectedOption,option.objects=[]):option=self.$scope.createOption(),0==self.$scope.selectedObjects.length&&self.$uibModalInstance.close([]),option.dealId=self.$scope.dealObject.id,option.id=0,self.$scope.selectedObjects.forEach(function(obj){var optionObject=self.$scope.createOptionObject();optionObject.assetObjectId=obj.assetObjectId,optionObject.dealOptionId=option.id,optionObject.object=obj,obj.selectedSpaces.forEach(function(unit){var space=self.$scope.createOptionSpace();space.dealOptionObjectId=optionObject.id,space.spaceId=unit.spaceId,space.unit=unit,optionObject.spaces.push(space)}),option.objects.push(optionObject)},this),self.$scope.options=[],self.$scope.options.push(option),self.$uibModalInstance.close(self.$scope.options)},self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.$scope.expand=function(object){object.expand=!object.expand},self.$scope.getDate=function(unit){return null!=unit.availabilty&&(0,_moment2.default)(unit.availabilty)>(0,_moment2.default)()?(0,_moment2.default)(unit.availabilty).local().format("DD/MM/YYYY"):(0,_messages2.default)("assets.spaces.filter.immediately")},self.$scope.getOptionTotalArea=function(option){var area=0;return option.objects.forEach(function(object){object.isFullyAssigned?area+=self.$scope.getObjectTotalArea(object.object):object.spaces.forEach(function(space){area+=space.unit.rentableArea})}),area},self.$scope.getObjectTotalArea=function(object){var area=0;return object.units.forEach(function(item){area+=item.rentableArea}),area},self.$scope.createOption=function(){return{id:0,dealId:0,objects:[]}},self.$scope.createOptionObject=function(){return{id:0,dealOptionId:0,assetObjectId:0,isFullyAssigned:!1,spaces:[]}},self.$scope.createOptionSpace=function(){return{id:0,dealOptionObjectId:0,spaceId:0}}}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}}]),OptionsEditModalController}();exports.default=OptionsEditModalController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal modal-deal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <form class="form form-deal-options" name="form" novalidate>\r\n        <div class="modal-header text-center">\r\n            <img src="/img/icons/modal-options-header.svg">\r\n            <h4 class="modal-title">\r\n                {{ Messages(\'deals.optionsform.title\') }}\r\n            </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n             <div class="details-content" ng-class="{\'edit-mode\': inEditMode}">\r\n                <div class="row">\r\n                    <div class="col-sm-12 m-b-m">\r\n                        <div class="filter-container">\r\n                            <div class="filter-item" ng-repeat="city in objects.cities">\r\n                                <span>{{city}} <a href="#" ng-click="removeFilter(city)">&nbsp;×</a></span>\r\n                            </div>\r\n                        </div>\r\n                        <ui-select multiple ng-model="objects.cities" close-on-select="true" theme="bootstrap" id="search" name="search" on-select="addFilter($item)" on-remove="removeFilter($item)">\r\n                            <ui-select-match class="text-muted" placeholder="{{Messages(\'deals.optionsform.search.help\')}}" style="display: none">\r\n                                {{city}}\r\n                            </ui-select-match>\r\n                            <ui-select-choices repeat="city in objects.filter | filter: $select.search">\r\n                                {{city}}\r\n                            </ui-select-choices>\r\n                        </ui-select>\r\n                    </div>\r\n                </div>\r\n                <div class="row deal-options" ng-if="objects.available.length > 0">\r\n                    <div class="col-sm-12" style="margin-top: 6px;">\r\n                        <div class="available-options-container" id="available-options-container" ss-container>\r\n                            <div ng-repeat="object in objects.available" class="available-options-item">\r\n                                <div style="display: flex">\r\n                                    <div class="option-column" style="flex-basis: 45%">\r\n                                        <p>{{object.assetName}} - {{object.assetObjectName}}</p>\r\n                                        <p>{{object.location.city}}</p>\r\n                                    </div>\r\n                                    <div class="option-column units">\r\n                                        <div class="selected-unit-container">\r\n                                            <span ng-repeat="space in object.selectedSpaces" ng-if="!object.isSelected" class="selected-unit-item">\r\n                                                {{space.unitNumber ? space.unitNumber : space.textNumber}}\r\n                                            </span>\r\n                                        </div>\r\n                                        <div class="area">\r\n                                            <p class="text-uppercase pull-right text-grey text-sm">{{Messages(\'deals.optionsform.available\')}}</p>\r\n                                            <p class="pull-right">{{getObjectTotalArea(object).toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/></p>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="expand">\r\n                                        <i ng-class="object.expand ? \'fa fa-angle-up\' : \'fa fa-angle-down\'" class="pull-right text-grey" style="font-size: 28px" ng-click="expand(object)"/>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class="details" ng-if="object.expand">\r\n                                    <table cellpadding="1" cellspacing="1" class="table options-table">\r\n                                        <colgroup>\r\n                                            <col width="8%">\r\n                                            <col width="21%">\r\n                                            <col width="21%">\r\n                                            <col width="21%">\r\n                                            <col width="29%">\r\n                                        </colgroup>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th></th>\r\n                                                <th class="text-right">{{Messages(\'deals.optionsform.available.table.unit\')}}</th>\r\n                                                <th class="text-right">{{Messages(\'deals.optionsform.available.table.floor\')}}</th>\r\n                                                <th class="text-right">{{Messages(\'deals.optionsform.available.table.area\')}}</th>\r\n                                                <th class="text-right" style="padding-right: 21px;">{{Messages(\'deals.optionsform.available.table.availability\')}}</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tr ng-repeat="unit in object.units" class="text-dark-grey">\r\n                                            <td style="padding-left: 21px;">\r\n                                                <input type="checkbox" id="cbunit_{{object.assetObjectId}}_{{$index}}" ng-model="unit.isSelected" ng-click="processSpace(object, unit)" ng-disabled="object.isSelected">\r\n                                                <label for="cbunit_{{object.assetObjectId}}_{{$index}}"></label>\r\n                                            </td>\r\n                                            <td class="text-right">{{unit.unitNumber ? unit.unitNumber : unit.textNumber}}</td>\r\n                                            <td class="text-right">{{unit.floor}}</td>\r\n                                            <td class="text-right">{{unit.rentableArea}} <span ng-bind-html="Messages(\'square.meter\')"/></td>\r\n                                            <td class="text-right" style="padding-right: 21px;">{{getDate(unit)}}</td>\r\n                                        </tr>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div class="break-line"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row deal-options" ng-if="objects.available.length == 0">\r\n                    <div class="no-options">\r\n                        <span> {{Messages(\'deals.optionsform.noptions\')}} </span>\r\n                    </div>\r\n                </div>\r\n             </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'deals.cancel\') }}\r\n            </button>\r\n            <button type="button" class="btn btn-primary" ng-click="save()">\r\n                {{ saveInProgress ? Messages(\'deals.saving\') : Messages(\'deals.save\') }}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),RepresentativeEditModalController=function(){function RepresentativeEditModalController($scope,$state,$timeout,Representative,representativeObject,clientId,NotificationService,$uibModalInstance,UtilsService){_classCallCheck(this,RepresentativeEditModalController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.Representative=Representative,this.originalRepresentativeObject=representativeObject,this.representativeObject=angular.copy(representativeObject),this.clientId=clientId,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.init(),this.initForm()}return RepresentativeEditModalController.$inject=["$scope","$state","$timeout","Representative","representativeObject","clientId","NotificationService","$uibModalInstance","UtilsService"],_createClass(RepresentativeEditModalController,[{key:"init",value:function(){var self=this;self.$scope.phonePattern=new RegExp(_constants2.default.phonePattern())}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.editMode=!!this.representativeObject,this.$scope.categories=[{value:!1,label:(0,_messages2.default)("clients.representatives.category.client")},{value:!0,label:(0,_messages2.default)("clients.representatives.category.broker")}],this.$scope.editMode?(this.$scope.representative=self.representativeObject,this.$scope.representative.categories=[{value:"",label:""},{value:!1,label:(0,_messages2.default)("clients.representatives.category.client")},{value:!0,label:(0,_messages2.default)("clients.representatives.category.broker")}]):this.$scope.representative={name:null,mobilePhone:null,officePhone:null,position:null,email:null,companyName:null,isBroker:null},this.$scope.validateAndSave=function(form){_this.$scope.submitted=!0,form.$valid&&(_this.saveInProgress=!0,_this.$scope.representative.isMain=!0,""==_this.$scope.representative.email&&(_this.$scope.representative.email=null),self.$scope.editMode?self.Representative.update({id:_this.$scope.representative.id,clientId:_this.clientId},_this.$scope.representative,function(result){self.notificationService.success((0,_messages2.default)("clients.representatives.message.updated")),self.saveInProgress=!1,self.$timeout(function(){angular.copy(result,self.originalRepresentativeObject)}),_this.$uibModalInstance.close(result)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1}):self.Representative.create({clientId:_this.clientId},_this.$scope.representative,function(result){self.saveInProgress=!1,_this.$uibModalInstance.close(result),_this.notificationService.success((0,_messages2.default)("clients.representatives.message.updated"))},function(error){self.notificationService.error(error.data),self.saveInProgress=!1}))},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")}}}]),RepresentativeEditModalController}();exports.default=RepresentativeEditModalController},function(module,exports){module.exports='<div class="inmodal modal-representative" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <form role="form" name="submitForm" novalidate>\r\n        <div class="color-line"></div>\r\n        <div class="modal-header text-center">\r\n            <img src="/img/icons/modal-contact-header.svg">\r\n            <h4 class="modal-title">\r\n                {{ editMode ? Messages(\'clients.representatives.modal.header.edit\') : Messages(\'clients.representatives.modal.header.add\')\r\n                }}\r\n            </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'clients.representatives.personal_details\')}}</div>\r\n                    <div class="line"></div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-sm-6">\r\n                        <div class="avatar-block">\r\n                            <div class="avatar-image"></div>\r\n                            <div class="avatar-upload">\r\n                                <img src="/img/icons/modal-avatar-upload.svg"> Upload Photo\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.name\')}}</div>\r\n                            <input type="text" class="input-sm form-control" id="name" ng-model="representative.name" ng-class="{ \'has-error\' : submitForm.name.$invalid && (submitted || submitForm.name.$touched)}"\r\n                                required maxlength="255" name="name" />\r\n                            <label ng-if="submitForm.name.$error.required && (submitted || submitForm.name.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                            <label ng-if="submitForm.name.$error.maxlength && (submitted || submitForm.name.$touched)" class="error" for="name">{{Messages(\'validation.maxLength\')}}</label>\r\n                        </div>\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.position\')}}</div>\r\n                            <input type="text" class="input-sm form-control" id="position" ng-model="representative.position" ng-class="{ \'has-error\' : submitForm.position.$invalid && (submitted || submitForm.position.$touched)}"\r\n                                maxlength="100" />\r\n                            <label ng-if="submitForm.position.$error.maxlength && (submitted || submitForm.position.$touched)" class="error" for="position">{{Messages(\'validation.maxLength\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.category\')}}</div>\r\n                            <select class="input-sm form-control" id="category" name="category" ng-model="representative.isBroker" ng-options="o.value as o.label for o in categories"\r\n                                ng-class="{ \'has-error\' : submitForm.category.$invalid && (submitted || submitForm.category.$touched)}"\r\n                                required>\r\n                            </select>\r\n                            <label ng-if="submitForm.category.$error.required && (submitted || submitForm.category.$touched)" class="error" for="category">{{Messages(\'validation.required\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.company\')}}</div>\r\n                            <input type="text" class="input-sm form-control" id="company" ng-model="representative.companyName" ng-class="{ \'has-error\' : submitForm.company.$invalid && (submitted || submitForm.company.$touched)}"\r\n                                maxlength="100" />\r\n                            <label ng-if="submitForm.company.$error.maxlength && (submitted || submitForm.company.$touched)" class="error" for="company">{{Messages(\'validation.maxLength\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'clients.representatives.communication_details\')}}</div>\r\n                    <div class="line"></div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.email\')}}</div>\r\n                            <input type="email" class="input-sm form-control" id="email" ng-model="representative.email" name="email" ng-class="{ \'has-error\' : submitForm.email.$invalid && (submitted || submitForm.email.$touched)}"\r\n                            />\r\n                            <label ng-if="submitForm.email.$error.email && (submitted || submitForm.email.$touched)" class="error" for="email">{{Messages(\'validation.email\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.mobilePhone\')}}</div>\r\n                            <input type="text" class="input-sm form-control" id="mobile-phone" ng-model="representative.mobilePhone" name="mobilePhone"\r\n                                ng-pattern="phonePattern" ng-class="{ \'has-error\' : submitForm.mobilePhone.$invalid && (submitted || submitForm.mobilePhone.$touched)}"\r\n                                maxlength="20" />\r\n                            <label ng-if="submitForm.mobilePhone.$error.pattern && (submitted || submitForm.mobilePhone.$touched)" class="error" for="mobilePhone">{{Messages(\'validation.phone\')}}</label>\r\n                            <label ng-if="submitForm.mobilePhone.$error.maxlength && (submitted || submitForm.mobilePhone.$touched)" class="error" for="mobilePhone">{{Messages(\'validation.maxLength\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'clients.representatives.officePhone\')}}</div>\r\n                            <input type="text" class="input-sm form-control" id="field-office-phone" ng-model="representative.officePhone" name="officePhone"\r\n                                ng-pattern="phonePattern" ng-class="{ \'has-error\' : submitForm.officePhone.$invalid && (submitted || submitForm.officePhone.$touched)}"\r\n                                maxlength="20" />\r\n                            <label ng-if="submitForm.officePhone.$error.pattern && (submitted || submitForm.officePhone.$touched)" class="error" for="officePhone">{{Messages(\'validation.phone\')}}</label>\r\n                            <label ng-if="submitForm.officePhone.$error.maxlength && (submitted || submitForm.officePhone.$touched)" class="error" for="officePhone">{{Messages(\'validation.maxLength\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'clients.cancel\') }}\r\n            </button>\r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSave(submitForm)">\r\n                {{ saveInProgress ? Messages(\'clients.saving\') : Messages(\'clients.save\') }}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports){module.exports='<div class="inmodal modal-deal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <form class="form form-deal" name="form" novalidate>\r\n        <div class="modal-header text-center">\r\n            <img src="/img/icons/modal-deal-header.svg">\r\n            <h4 class="modal-title">\r\n                {{ editMode ? Messages(\'deals.edit\') : Messages(\'deals.add\') }}\r\n            </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <deal-create-details \r\n                deal-object="dealObject" \r\n                model="model"\r\n                form="form"\r\n                editable="false"\r\n                disabled="false">\r\n            </deal-create-details>\r\n            <div class="deal-options options-list modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'deals.options.title\')}}</div>\r\n                    <div class="line"></div>\r\n                    <div class="tool">\r\n                        <a href="#" ng-click="editOptions()">\r\n                            <img src="/img/icons/modal-add.svg" width="24" height="24" alt="{{Messages(\'deals.options.add-button\')}}">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <deal-create-options class="options-list-container" model="model" disabled="false">\r\n                </deal-create-options>\r\n            </div>\r\n            <deal-create-contacts \r\n                deal-object="dealObject" \r\n                model="model"\r\n                form="form"\r\n                disabled="false">\r\n            </deal-create-contacts>            \r\n            <div class="deal-attachments attachment-list modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'deals.attachments.title\')}}</div>\r\n                    <div class="line"></div>\r\n                    <div class="tool">\r\n                        <a href="#" ng-click="$ctrl.addAttachment()">\r\n                            <img src="/img/icons/modal-attachment.svg" width="24" height="24" alt="{{Messages(\'deals.attachments.add-button\')}}">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <deal-create-attachment-list attachments="model.attachments" add-attachment="$ctrl.addAttachment"></deal-create-attachment-list> \r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'deals.cancel\') }}\r\n            </button>        \r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings(form)">\r\n                {{ saveInProgress ? Messages(\'deals.saving\') : Messages(\'deals.save\') }}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_clientEditModal=__webpack_require__(799),_clientEditModal2=_interopRequireDefault(_clientEditModal),_clientEditModalTemplate=__webpack_require__(800),_clientEditModalTemplate2=_interopRequireDefault(_clientEditModalTemplate),_moment=__webpack_require__(212),ContractCreateModalController=(_interopRequireDefault(_moment),function(){function ContractCreateModalController($scope,$rootScope,$state,$timeout,Contract,Client,NotificationService,SecurityService,Settings,$uibModalInstance,$uibModal,UtilsService,assetObjects,Space,spaceTypes,dealId,dealObjects,dealClient,dealDate,dealSpaceTypes){_classCallCheck(this,ContractCreateModalController),this.$scope=$scope,this.$rootScope=$rootScope,this.$scope.ctrl=this,this.$state=$state,this.$timeout=$timeout,this.Contract=Contract,this.Client=Client,this.Space=Space,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.$uibModal=$uibModal,this.securityService=SecurityService,this.utils=UtilsService,this.assetObjects=assetObjects,this.spaceTypes=spaceTypes,this.dealId=dealId,this.dealObjects=dealObjects,this.dealClient=dealClient,this.dealDate=dealDate,this.$scope.Settings=Settings,this.const=_constants2.default,this.dealSpaceTypes=dealSpaceTypes,this.init(),this.initForm(),this.maxResults=100}return ContractCreateModalController.$inject=["$scope","$rootScope","$state","$timeout","Contract","Client","NotificationService","SecurityService","Settings","$uibModalInstance","$uibModal","UtilsService","assetObjects","Space","spaceTypes","dealId","dealObjects","dealClient","dealDate","dealSpaceTypes"],_createClass(ContractCreateModalController,[{key:"init",value:function(){var self=this;self.securityService.getUserInfo().then(function(user){self.currentUser=user}),self.$scope.clients={available:[],selected:self.dealClient},self.$scope.towers=self.assetObjects,self.$scope.refreshClients=function(name){return self.Client.search({name:name,maxResults:self.maxResults},function(result){self.$scope.clients.available=result})},self.$scope.datetimePicker2={opened:!1},self.$scope.datetimePicker1={opened:!1},self.$scope.dateOptions={showWeeks:!1},self.$scope.contract={startsAt:self.dealDate,endsAt:null},this.$timeout(function(){var pickerField1=$("#datepicker1");if(pickerField1.datepicker({autoclose:!0}),self.dealDate){var date=new Date(self.dealDate);pickerField1.datepicker("setDate",new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0))}var pickerField2=$("#datepicker2");pickerField2.datepicker({autoclose:!0})},10),self.$scope.spacesData=[],self.$scope.submitted=!1,self.$scope.$watch("contract.startsAt",function(newValue,oldValue){self.$scope.contract.startsAt&&self.$scope.contract.endsAt&&new Date(self.$scope.contract.startsAt)>=new Date(self.$scope.contract.endsAt)?self.$scope.submitForm.contractEndDate.$setValidity("minDate",!1):self.$scope.submitForm.contractEndDate.$setValidity("minDate",!0)}),self.$scope.$watch("contract.endsAt",function(newValue,oldValue){self.$scope.contract.startsAt&&self.$scope.contract.endsAt&&new Date(self.$scope.contract.startsAt)>=new Date(self.$scope.contract.endsAt)?self.$scope.submitForm.contractEndDate.$setValidity("minDate",!1):self.$scope.submitForm.contractEndDate.$setValidity("minDate",!0)}),self.$scope.$watch("towers",function(newValue,oldValue){self.dealObjects&&self.dealObjects.forEach(function(item){item.spaces.length?item.spaces.forEach(function(space){self.presetupDataRow(item,space)}):self.presetupDataRow(item)})})}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.openEndDatePicker=function(){self.$scope.datetimePicker2.opened=!self.$scope.datetimePicker2.opened},this.$scope.openStartDatePicker=function(){self.$scope.datetimePicker1.opened=!self.$scope.datetimePicker1.opened},this.$scope.addSpaceRow=function(){self.$scope.contract.startsAt&&self.$scope.spacesData.push({tower:null,spaces:{available:[],selected:null},spaceTypes:{available:self.spaceTypes,selected:null},rentableArea:null,inPlaceRent:null,netRent:null})},this.$scope.towerSelected=function($item,$index){
self.$scope.spacesData[$index].spaces.selected=null,self.$scope.spacesData[$index].spaceTypes.selected=null,self.$scope.spacesData[$index].inPlaceRent=null,self.$scope.spacesData[$index].netRent=null,self.$scope.spacesData[$index].rentableArea=null,self.Space.getAvailableByDate({assetId:self.$scope.spacesData[$index].tower.assetId,assetObjectId:self.$scope.spacesData[$index].tower.id,spaceTypes:self.dealSpaceTypes},function(result){self.$scope.spacesData[$index].spaces.available=result},function(error){self.notificationService.error(error.data)})},this.$scope.spaceSelected=function($item,$index){self.$scope.spacesData[$index].rentableArea=$item.rentableArea,self.$scope.spacesData[$index].inPlaceRent=null,self.$scope.spacesData[$index].netRent=null,self.$scope.spacesData[$index].spaceTypes.available.forEach(function(item){item.value===$item.type&&(self.$scope.spacesData[$index].spaceTypes.selected=item)})},this.$scope.removeSpaceRow=function($index){self.$scope.spacesData.splice($index,1)},self.$scope.createClient=function(){var self=this.ctrl,modal=self.$uibModal.open({controller:_clientEditModal2.default,template:_clientEditModalTemplate2.default,resolve:{clientObject:null,industries:["IndustryLookupService",function(IndustryLookupService){return IndustryLookupService.all()}]}});modal.result.then(function(result){self.$scope.clients.selected=result,self.$scope.clientSelected(result,null)})},this.$scope.validateAndSave=function(form){if(self.$scope.submitted=!0,form.$valid){_this.saveInProgress=!0,_this.isSaveOperationDisable=!0;var request={brokerId:self.currentUser.brokerId,clientId:self.$scope.clients.selected.id,startsAt:self.$scope.contract.startsAt,endsAt:self.$scope.contract.endsAt,spaces:[],dealId:self.dealId};self.$scope.spacesData.forEach(function(item){request.spaces.push({spaceId:item.spaces.selected.id,spaceTypeId:item.spaceTypes.selected.value,rentableArea:item.rentableArea,inPlaceRent:item.inPlaceRent})}),self.Contract.create(request,function(result){self.notificationService.success((0,_messages2.default)("contracts.message.created")),self.saveInProgress=!1,self.$rootScope.$emit(_events2.default.ContractCreated,{assetId:null}),self.$rootScope.$broadcast(_events2.default.SpaceStatsReload,{}),_this.$uibModalInstance.close()},function(error){409===error.status?self.notificationService.error(error.data.message):self.notificationService.error(error.data),self.saveInProgress=!1})}},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.isFormValid=function(){var self=_this;if(null===self.$scope.contract.startsAt)return!1;if(self.$scope.contract.startsAt&&self.$scope.contract.endsAt&&new Date(self.$scope.contract.startsAt)>=new Date(self.$scope.contract.endsAt))return!1;if(0===self.$scope.spacesData.length)return!1;if(null===self.$scope.clients.selected)return!1;for(var i=0;i<self.$scope.spacesData.length;i++)if(null==self.$scope.spacesData[i].tower||null==self.$scope.spacesData[i].spaces.selected||null==self.$scope.spacesData[i].rentableArea||null==self.$scope.spacesData[i].inPlaceRent)return!1;return!0},self.$scope.getSelectedSpaces=function(){if(self.$scope.spacesData.length>0){var result=[];return self.$scope.spacesData.forEach(function(item){item.spaces.selected&&result.push(item.spaces.selected)}),result}return[]},self.$scope.filterSpaces=function(item){for(var selectedSpaces=self.$scope.getSelectedSpaces(),i=0;i<selectedSpaces.length;i++)if(selectedSpaces[i].id===item.id)return!1;return!0}}},{key:"clearSpacesData",value:function(){var self=this;if(self.$scope.spacesData.length>0)for(var i=0;i<self.$scope.spacesData.length;i++)self.$scope.spacesData[i].rentableArea=null,self.$scope.spacesData[i].inPlaceRent=null,self.$scope.spacesData[i].netRent=null,self.$scope.spacesData[i].tower=null,self.$scope.spacesData[i].spaces.available=null,self.$scope.spacesData[i].spaces.selected=null}},{key:"presetupDataRow",value:function(assetObject,space){var selectedTower={name:assetObject.assetObjectName,id:assetObject.assetObjectId,assetName:assetObject.assetName,assetId:assetObject.assetId},self=this;self.$scope.spacesData.push({tower:selectedTower,spaces:{available:[],selected:null},spaceTypes:{available:self.spaceTypes,selected:null},rentableArea:null,inPlaceRent:null,netRent:null});var currentRow=self.$scope.spacesData.length-1;self.Space.getAvailableByDate({assetId:selectedTower.assetId,assetObjectId:selectedTower.id,spaceTypes:self.dealSpaceTypes},function(result){self.$scope.spacesData[currentRow].spaces.available=result,space&&result.forEach(function(item){item.id===space.spaceId&&(self.$scope.spacesData[currentRow].spaces.selected=item,self.$scope.spaceSelected(item,currentRow))})},function(error){self.notificationService.error(error.data)})}}]),ContractCreateModalController}());exports.default=ContractCreateModalController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),ClientEditController=function(){function ClientEditController($scope,$state,$timeout,$filter,$uibModalInstance,Client,clientObject,industries,NotificationService,UtilsService,LocationService){var _this=this;_classCallCheck(this,ClientEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.$filter=$filter,this.$uibModalInstance=$uibModalInstance,this.Client=Client,null!=clientObject?(this.model=this.$scope.model=clientObject,this.editMode=!1):(this.model=this.$scope.model={name:null,shortName:null,industry:null,location:{country:null,city:null,street:null,streetAddress:null,postCode:null},address:null},this.editMode=!0),this.industries=this.$scope.industries=industries,this.countries=this.$scope.countries=_constants2.default.countryStorePlain(),this.notificationService=NotificationService,this.locationService=LocationService,this.utils=UtilsService,this.initForm(),this.$timeout(function(){_this.initAutocomplete()})}return ClientEditController.$inject=["$scope","$state","$timeout","$filter","$uibModalInstance","Client","clientObject","industries","NotificationService","UtilsService","LocationService"],_createClass(ClientEditController,[{key:"initForm",value:function(){var self=this;this.$scope.validateAndSave=function(form){if(self.$scope.submitted=!0,form.$valid){self.$scope.saveInProgress=!0;var request=angular.copy(self.model);request.industryId=self.model.industry.id,request.location.countryId=self.model.location.country.value,self.$scope.editMode||self.Client.create({},request,function(result){self.notificationService.success((0,_messages2.default)("clients.modal.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(result)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1})}},this.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},this.$scope.countrySelected=function(item,model){self.$scope.resetAddressData(),self.setAutocompleteCountry(item.isoCode)},this.$scope.addressPartChanged=function(){self.$scope.clearAddress()},this.$scope.clearAddress=function(){self.$scope.model.address=null},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.countryId=self.locationService.countryId;var country=self.$scope.model.location.country;$.extend(self.$scope.model.location,location),self.$scope.model.location.country=country,self.$scope.clearAddress()}}},{key:"initAutocomplete",value:function(){var _this2=this,self=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#autocomplete-group input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this2.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place&&place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(self.$timeout(function(){self.model.location.city=item.long_name}),citySet=!0),item.types.indexOf("route")!==-1&&(self.$timeout(function(){self.model.location.street=item.long_name}),streetSet=!0),item.types.indexOf("street_number")!==-1&&(self.$timeout(function(){self.model.location.streetAddress=item.long_name}),buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(self.$timeout(function(){self.model.location.postCode=item.long_name}),postCodeSet=!0)}),place&&place.geometry&&place.geometry.location?(self.model.location.latitude=place.geometry.location.lat(),self.model.location.longitude=place.geometry.location.lng()):(self.model.location.latitude=null,self.model.location.longitude=null),citySet||(_this2.$scope.model.location.city=null),streetSet||(_this2.$scope.model.location.street=null),buildingSet||(_this2.$scope.model.location.streetAddress=null),postCodeSet||(_this2.$scope.model.location.postCode=null)}))}},{key:"setAutocompleteCountry",value:function(isoCode){var self=this;this.$timeout(function(){self.initAutocomplete(),self.autocomplete.setComponentRestrictions({country:isoCode})})}}]),ClientEditController}();exports.default=ClientEditController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal modal-client" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <form role="form" name="clientForm" novalidate>\r\n        <div class="color-line"></div>\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">\r\n                {{ editMode ? Messages(\'clients.modal.edit.title\') : Messages(\'clients.modal.create.title\') }}\r\n            </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="form-group">\r\n                <label for="name" class="control-label">{{Messages(\'clients.name\')}}</label>\r\n                <input class="input-sm form-control" id="name" ng-model="model.name" maxlength="255" ng-maxlength="255" required placeholder="{{Messages(\'clients.placeholder.name\')}}"\r\n                    ng-class="{ \'has-error\' : clientForm.name.$invalid && (submitted || clientForm.name.$touched || clientForm.name.$touched)}"\r\n                    name="name" />\r\n                <label ng-if="clientForm.name.$error.required && (submitted || clientForm.name.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                <label ng-if="clientForm.name.$error.maxlength && (submitted || clientForm.name.$touched)" class="error" for="name">{{Messages(\'validation.maxLength\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="shortName" class="control-label">{{Messages(\'clients.shortName.formLabel\')}}</label>\r\n                <input class="input-sm form-control" id="shortName" ng-model="model.shortName" maxlength="100" ng-maxlength="100" placeholder="{{Messages(\'clients.placeholder.shortName\')}}"\r\n                    ng-class="{ \'has-error\' : clientForm.shortName.$invalid && (submitted || clientForm.shortName.$touched || clientForm.shortName.$touched)}"\r\n                    name="shortName" />\r\n                <label ng-if="clientForm.shortName.$error.maxlength && (submitted || clientForm.shortName.$touched)" class="error" for="shorName">{{Messages(\'validation.maxLength\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="industry" class="control-label">{{Messages(\'clients.industry\')}}</label>\r\n                <ui-select ng-model="model.industry" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : clientForm.industry.$invalid && (submitted || clientForm.industry.$touched)}"\r\n                    name="industry">\r\n                    <ui-select-match placeholder="{{Messages(\'clients.industry.placeholder\')}}">\r\n                        {{$select.selected.display}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="elem in industries | filter: $select.search">\r\n                        {{elem.display}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n                <label ng-if="clientForm.industry.$invalid && (submitted || clientForm.industry.$touched)" class="error" for="industry">{{Messages(\'validation.required\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                <ui-select ng-model="model.location.country" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : clientForm.country.$invalid && (submitted || clientForm.country.$touched)}"\r\n                    name="country" on-select="countrySelected($item, $model)">\r\n                    <ui-select-match placeholder="{{Messages(\'clients.country.placeholder\')}}">\r\n                        {{$select.selected.text}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="elem in countries | filter: $select.search">\r\n                        {{elem.text}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n                <label ng-if="clientForm.country.$invalid && (submitted || clientForm.country.$touched)" class="error" for="industry">{{Messages(\'validation.required\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <div class="panel-group" id="address-accordion" role="tablist" aria-multiselectable="true">\r\n                    <div class="panel panel-default">\r\n                        <div class="panel-heading" role="tab" id="headingOne">\r\n                            <h4 class="panel-title">\r\n                                <a data-toggle="collapse" data-parent="#address-accordion" href="#collapseAddress" aria-expanded="true" aria-controls="collapseAddress">\r\n                                        {{Messages(\'clients.address_info\')}}\r\n                                </a>\r\n                            </h4>\r\n                        </div>\r\n                        <div id="collapseAddress" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\r\n                            <div class="panel-body">\r\n                                <div class="form-group" id="autocomplete-group">\r\n                                    <label for="address" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                                    <input ng-disabled="!model.location.country" class="input-sm form-control" id="client-address-field" ng-model="model.address"\r\n                                        ng-class="{ \'has-error\' : clientForm.address.$invalid && (submitted || clientForm.address.$touched)}"\r\n                                        name="address" />\r\n                                </div>\r\n\r\n                                <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n                                <div class="panel panel-default">\r\n                                    <div class="panel-body">\r\n                                        <div class="form-group">\r\n                                            <label for="city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="city" ng-model="model.location.city" maxlength="80"\r\n                                                ng-maxlength="80" placeholder="{{Messages(\'address.placeholder.city\')}}" ng-class="{ \'has-error\' : clientForm.city.$invalid && (submitted || clientForm.city.$touched)}"\r\n                                                name="city" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="clientForm.city.$error.maxlength && (submitted || clientForm.city.$touched)" class="error" for="city">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                        <div class="form-group">\r\n                                            <label for="street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="street" ng-model="model.location.street" maxlength="80"\r\n                                                ng-maxlength="80" placeholder="{{Messages(\'address.placeholder.street\')}}" ng-class="{ \'has-error\' : clientForm.street.$invalid && (submitted || clientForm.street.$touched)}"\r\n                                                name="street" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="clientForm.street.$error.maxlength && (submitted || clientForm.street.$touched)" class="error" for="street">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                        <div class="form-group">\r\n                                            <label for="streetAddress" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="streetAddress" ng-model="model.location.streetAddress"\r\n                                                maxlength="100" ng-maxlength="100" placeholder="{{Messages(\'address.placeholder.streetAddress\')}}"\r\n                                                ng-class="{ \'has-error\' : clientForm.streetAddress.$invalid && (submitted || clientForm.streetAddress.$touched)}"\r\n                                                name="streetAddress" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="clientForm.streetAddress.$error.maxlength && (submitted || clientForm.streetAddress.$touched)" class="error"\r\n                                                for="streetAddress">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                        <div class="form-group">\r\n                                            <label for="postCode" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="postCode" ng-model="model.location.postCode"\r\n                                                maxlength="10" ng-maxlength="10" placeholder="{{Messages(\'address.placeholder.postCode\')}}"\r\n                                                ng-class="{ \'has-error\' : clientForm.postCode.$invalid && (submitted || clientForm.postCode.$touched)}"\r\n                                                name="postCode" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="clientForm.postCode.$error.maxlength && (submitted || clientForm.postCode.$touched)" class="error" for="postCode">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSave(clientForm)">\r\n            {{ saveInProgress ? Messages(\'clients.saving\') : Messages(\'clients.save\') }}\r\n        </button>\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'clients.cancel\') }}\r\n        </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports){module.exports='<div class="inmodal modal-tenant" ng-class="hmodal-info">\r\n    <div class="modal-header text-center">\r\n        <img src="/img/icons/modal-tenant-header.svg">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'contracts.create.title\')}}\r\n        </h4>\r\n    </div>    \r\n    <div class="modal-body">\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <form class="form form-deal" name="submitForm">\r\n            <div class="modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'contracts.tenant.details.title\')}}</div>\r\n                    <div class="line"></div>\r\n                </div>\r\n                <div class="details-content">\r\n                    <div class="row">\r\n                        <div class="col-sm-6">\r\n                            <div class="block">\r\n                                <div class="subheader">{{Messages(\'deals.client\')}}</div>\r\n                                <div class="client-group dropdown-w-fixed">\r\n                                    <ui-select ng-disabled="editable && !inEditMode" ng-init="$ctrl.clientSelect = $select" ng-model="clients.selected" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : form.client.$invalid && (submitted || form.client.$touched)}" name="client" on-select="clientSelected($item, $model)" ng-transclude>\r\n                                        <ui-select-match>\r\n                                            {{ $select.selected.shortName ? $select.selected.shortName + \'/\' : \'\'}} {{$select.selected.name}}\r\n                                        </ui-select-match>\r\n                                        <div class="dropdown-container" ng-show="$select.open && $select.search">\r\n                                            <ui-select-choices repeat="client in clients.available track by $index" refresh="refreshClients($select.search)" refresh-delay="0">\r\n                                                {{ client.shortName ? client.shortName + \'/\' : \'\'}} {{client.name}}\r\n                                            </ui-select-choices>\r\n                                            <div ng-click="createClient()" class="client-add">{{Messages(\'deals.client.add\')}}</div>\r\n                                        </div>\r\n                                    </ui-select>\r\n                                </div>\r\n                                <label ng-if="submitForm.client.$invalid && (submitted || submitForm.client.$touched)" class="error" for="client">{{Messages(\'validation.required\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'contracts.lease.details.title\')}}</div>\r\n                    <div class="line"></div>\r\n                </div>\r\n                <div class="details-content">\r\n                    <div class="row">\r\n                        <div class="col-sm-6">\r\n                            <div class="block">\r\n                                <div class="subheader">{{Messages(\'contracts.edit.dates.start-date\')}}</div>\r\n                                <div class="form-group">\r\n                                    <div class="date">\r\n                                        <input name="contractStartDate" type="text" class="form-control datepicker input-calendar" ng-class="{ \'has-error\' : submitForm.contractStartDate.$invalid && (submitted || submitForm.contractStartDate.$touched)}" ng-model="contract.startsAt" required id="datepicker1" />\r\n                                    </div>\r\n                                    <label ng-if="submitForm.contractStartDate.$invalid && (submitted || submitForm.contractStartDate.$touched)" class="error" for="contractStartDate">{{Messages(\'validation.required\')}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-6">\r\n                            <div class="block">\r\n                                <div class="subheader">{{Messages(\'contracts.edit.dates.end-date\')}}</div>\r\n                                <div class="form-group">\r\n                                    <div class="date">\r\n                                        <input name="contractEndDate" type="text" class="form-control datepicker input-calendar" ng-model="contract.endsAt" id="datepicker2">\r\n                                    </div>\r\n                                    <label ng-if="submitForm.contractEndDate.$invalid && (submitted || submitForm.contractEndDate.$touched)" class="error" for="contractEndtDate">{{Messages(\'contracts.endDate.validation\')}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="modal-block">\r\n                <div class="header-panel" style="margin-bottom: 0;">\r\n                    <div class="header">{{Messages(\'contracts.spaces.details.title\')}}</div>\r\n                    <div class="line"></div>\r\n                    <div class="tool" ng-if="contract.startsAt">\r\n                        <a href="#" ng-click="addSpaceRow()">\r\n                            <img src="/img/icons/modal-add.svg" width="24" height="24" alt="{{Messages(\'deals.options.add-button\')}}">\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n                <div class="details-content">\r\n                    <div class="row contract-create-modal-row">\r\n                        <div class="col-sm-12">\r\n                            <div ng-repeat="item in spacesData track by $index">\r\n                                <div class="modal-block">\r\n                                    <div class="header-panel">\r\n                                        <div class="header">{{Messages(\'contracts.space.header\')}} {{$index + 1}}</div>\r\n                                        <div class="line"></div>\r\n                                        <div class="tool">\r\n                                            <a href="#" ng-click="removeSpaceRow($index)">\r\n                                                <img src="/img/icons/modal-delete-space.svg">\r\n                                            </a>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">\r\n                                            <div class="block">\r\n                                                <div class="subheader">{{Messages(\'contracts.spaces.asset.header\')}}</div>\r\n                                                <ui-select ng-model="spacesData[$index].tower" close-on-select="true" theme="bootstrap" on-select="towerSelected($item, $index)">\r\n                                                    <ui-select-match>\r\n                                                        {{$select.selected.assetName}}-{{$select.selected.name}}\r\n                                                    </ui-select-match>\r\n                                                    <ui-select-choices repeat="item in towers">\r\n                                                        {{item.assetName}}-{{item.name}}\r\n                                                    </ui-select-choices>\r\n                                                </ui-select>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class="col-sm-6">\r\n                                            <div class="block">\r\n                                                <div class="subheader">{{Messages(\'contracts.spaces.space.header\')}}</div>\r\n                                                <ui-select ng-model="spacesData[$index].spaces.selected" close-on-select="true" theme="bootstrap" on-select="spaceSelected($item, $index)">\r\n                                                    <ui-select-match>\r\n                                                        {{$select.selected.number}}\r\n                                                    </ui-select-match>\r\n                                                    <ui-select-choices repeat="item in spacesData[$index].spaces.available| filter: filterSpaces ">\r\n                                                        {{item.number}}\r\n                                                    </ui-select-choices>\r\n                                                </ui-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">\r\n                                            <div class="block">\r\n                                                <div class="subheader">{{Messages(\'contracts.spaces.spaceType.header\')}}</div>                                    \r\n                                                <ui-select ng-model="spacesData[$index].spaceTypes.selected" close-on-select="true" theme="bootstrap">\r\n                                                    <ui-select-match>\r\n                                                        {{$select.selected.text}}\r\n                                                    </ui-select-match>\r\n                                                    <ui-select-choices repeat="item in spacesData[$index].spaceTypes.available">\r\n                                                        {{item.text}}\r\n                                                    </ui-select-choices>\r\n                                                </ui-select>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class="col-sm-6">\r\n                                            <div class="block">\r\n                                                <div class="subheader">{{Messages(\'contracts.spaces.area.header\')}}</div>\r\n                                                <div class="input-group input-group-w-unit">\r\n                                                    <input type="number" class="input-sm form-control" ng-model="spacesData[$index].rentableArea" required min="0.01" name="fielArea"/><div class="input-group-unit"><span ng-bind-html="Messages(\'square.meter\')"/></div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="row">\r\n                                        <div class="col-sm-6">\r\n                                            <div class="block">\r\n                                                <div class="subheader">{{Messages(\'contracts.spaces.price.header\')}}</div>\r\n                                                <div class="input-group input-group-w-unit">\r\n                                                    <input type="number" class="input-sm form-control" ng-model="spacesData[$index].inPlaceRent" required min="0.01" name="fieldRent"/><div class="input-group-unit">{{Settings.getCurrency()}} / <span ng-bind-html="Messages(\'square.meter\')"/> / {{ctrl.const.paymentPeriodLabels()[Settings.getPaymentPeriodType()]}}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class="col-sm-6">\r\n                                            <div class="block">\r\n                                                <div class="subheader">{{Messages(\'contracts.spaces.netRent.header\')}}</div>         \r\n                                                <div class="input-group input-group-w-unit">                           \r\n                                                    <input type="number" class="input-sm form-control" ng-value="(spacesData[$index].rentableArea * spacesData[$index].inPlaceRent).toFixed(2)" disabled /><div class="input-group-unit">{{Settings.getCurrency()}} /{{ctrl.const.paymentPeriodLabels()[Settings.getPaymentPeriodType()]}}</div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>    \r\n                                </div>                                                            \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'contracts.edit.dates.cancel\') }}\r\n        </button>    \r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave(submitForm)" ng-disabled="!isFormValid()">\r\n            {{ saveInProgress ? Messages(\'contracts.edit.dates.saving\') : Messages(\'contracts.edit.dates.save\') }}\r\n        </button>\r\n    </div>\r\n</div>';
},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(479),_data_source=(_interopRequireDefault(_array_store),__webpack_require__(803)),_events=(_interopRequireDefault(_data_source),__webpack_require__(791)),_events2=_interopRequireDefault(_events),SpaceController=function(){function SpaceController($scope,$rootScope,$timeout,asset,tower,space,spaceTypes,currentUser,assets,AssetObject,Floor,Space,NotificationService,UtilsService,$uibModalInstance){_classCallCheck(this,SpaceController),this.$scope=$scope,this.$rootScope=$rootScope,this.$timeout=$timeout,this.$scope.$ctrl=this,this.asset=asset,this.tower=tower,this.initialAsset=angular.copy(asset),this.initialTower=angular.copy(tower),this.currentUser=currentUser,this.utils=UtilsService,this.AssetObject=AssetObject,this.Floor=Floor,this.Space=Space,this.NotificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.Messages=this.$scope.Messages=_messages2.default,this.Contants=this.$scope.Contants=_constants2.default,this.space=space,this.model={id:this.space?this.space.id:null,assets:{available:assets,selected:asset},objects:{available:[],selected:null},floors:{available:[],selected:null},spaceTypes:{available:spaceTypes,selected:null},number:null,rentableArea:null,availability:{isAvailable:!1,date:null},askingPrice:{min:null,max:null},initialVacantSince:null,brokerId:this.asset?this.asset.brokerId:this.currentUser.brokerId},this.$scope.getDataInProgress=!1,this.editMode=null!=this.space,this.initDatePicker(),this.initVacantDatepicker();var self=this;this.editMode?(self.loadAssetObjects(function(){self.model.objects.selected=self.model.objects.available.filter(function(elem){return elem.id==self.space.assetObjectId})[0],self.loadFloors(function(){self.model.floors.selected=self.model.floors.available.filter(function(elem){return elem.id==self.space.floorId})[0]})}),self.model.spaceTypes.selected=self.model.spaceTypes.available.filter(function(elem){return elem.value==self.space.type})[0],self.model.number=self.space.number,self.model.rentableArea=self.space.rentableArea,self.model.availability.isAvailable=self.space.isAvailable,self.model.availability.date=self.space.availabilityDate,self.model.askingPrice.min=self.space.minAskingPrice,self.model.askingPrice.max=self.space.maxAskingPrice,self.model.initialVacantSince=self.space.initialVacantSince):this.initialAsset&&this.loadAssetObjects(),self.$scope.$watch("$ctrl.model.availability.isAvailable",function(newValue){newValue&&(!self.pickerField||!self.pickerField.length>0)&&self.initDatePicker()})}return SpaceController.$inject=["$scope","$rootScope","$timeout","asset","tower","space","spaceTypes","currentUser","assets","AssetObject","Floor","Space","NotificationService","UtilsService","$uibModalInstance"],_createClass(SpaceController,[{key:"initDatePicker",value:function(){var self=this;self.$timeout(function(){self.pickerField=$("#availability-date-datepicker"),self.pickerField.datepicker({format:"mm/dd/yyyy",autoclose:!0}),self.model.availability.date&&self.pickerField.datepicker("setDate",new Date(self.model.availability.date)),self.editMode||self.pickerField.datepicker("setStartDate",new Date)},10)}},{key:"initVacantDatepicker",value:function(){var self=this;self.$timeout(function(){var picker=$("#vacantsince-datepicker");picker.datepicker({format:"mm/dd/yyyy",autoclose:!0}),picker.datepicker("setEndDate",new Date),self.model.availability.date&&picker.datepicker("setDate",new Date(self.model.initialVacantSince))},10)}},{key:"openDatePicker",value:function(){$("#availability-date-datepicker").datepicker("show")}},{key:"openVacantDatePicker",value:function(){$("#vacantsince-datepicker").datepicker("show")}},{key:"cancel",value:function(){var self=this;self.$uibModalInstance.dismiss("cancel")}},{key:"validateAndSave",value:function(form){var self=this;if(self.$scope.submitted=!0,form.$valid){this.saveInProgress=!0;var space=self.buildSpace();self.$rootScope.$broadcast(_events2.default.SpaceStatsReload,{}),self.$uibModalInstance.close({space:space}),self.saveInProgress=!1}}},{key:"assetSelected",value:function(item,model){var self=this;self.resetFloors(),self.resetAssetObjects(),self.loadAssetObjects()}},{key:"resetAssetObjects",value:function(){var self=this;self.model.objects={available:[],selected:null}}},{key:"loadAssetObjects",value:function(callback){var self=this;if(null==self.initialAsset||0!=self.initialAsset.id)self.AssetObject.query({assetId:self.model.assets.selected.id,includeHiddenObjects:!0},function(result){self.model.objects.available=result,callback&&callback()},function(error){return self.NotificationService.error(error.data.message?error.data.message:error.data)});else if(self.model.assets.available.push(self.initialAsset),self.model.assets.selected=self.initialAsset,self.model.objects.available.push(self.initialTower),self.model.objects.selected=self.initialTower,self.model.floors.available=self.initialTower.floors,null!=self.space&&null!=self.space.floor){var initialFloor=self.initialTower.floors.find(function(fl){return fl.uniqueId==self.space.floor.uniqueId});null!=initialFloor&&(self.model.floors.selected=initialFloor)}}},{key:"objectSelected",value:function(item,model){var self=this;self.resetFloors(),self.loadFloors()}},{key:"resetFloors",value:function(){var self=this;self.model.floors={available:[],selected:null}}},{key:"loadFloors",value:function(callback){var self=this;self.Floor.query({assetId:self.model.assets.selected.id,assetObjectId:self.model.objects.selected.id},function(result){self.model.floors.available=result,callback&&callback()},function(error){return self.NotificationService.error(error.data.message?error.data.message:error.data)})}},{key:"askingPriceMaxValueChanged",value:function(){var self=this;self.model.askingPrice.min&&self.model.askingPrice.max&&self.model.askingPrice.max<=self.model.askingPrice.min&&(self.model.askingPrice.min=self.model.askingPrice.max-1)}},{key:"askingPriceMinValueChanged",value:function(){var self=this;self.model.askingPrice.min&&self.model.askingPrice.max&&self.model.askingPrice.min>=self.model.askingPrice.max&&(self.model.askingPrice.max=self.model.askingPrice.min+1)}},{key:"buildSpace",value:function(){var self=this;return{id:self.model.id,number:self.model.number,type:self.model.spaceTypes.selected.value,rentableArea:self.model.rentableArea,minAskingPrice:self.model.askingPrice.min,maxAskingPrice:self.model.askingPrice.max,assetId:self.model.assets.selected.id,assetObjectId:self.model.objects.selected.id,floorId:self.model.floors.selected.id,floor:self.model.floors.selected,isAvailable:self.model.availability.isAvailable,availabilityDate:self.model.availability.isAvailable?self.model.availability.date:null,initialVacantSince:self.model.initialVacantSince}}}]),SpaceController}();exports.default=SpaceController}).call(exports,__webpack_require__(178))},,function(module,exports){module.exports='<div class="inmodal modal-space" ng-class="hmodal-info">\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'assets.spaces.modal.edit.title\') : Messages(\'assets.spaces.modal.title\') }}\r\n        </h4>\r\n    </div>    \r\n    <form class="form form-space" name="form" novalidate>\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <div class="modal-body" ng-if="!getDataInProgress">\r\n            <div class="row">\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.asset\')}}</div>\r\n                        <ui-select \r\n                            ng-init="$ctrl.assetSelect = $select" \r\n                            ng-model="$ctrl.model.assets.selected" \r\n                            close-on-select="true" \r\n                            theme="bootstrap"\r\n                            required ng-class="{ \'has-error\' : form.asset.$invalid && (submitted || form.asset.$touched)}" \r\n                            name="asset"\r\n                            on-select="$ctrl.assetSelected($item, $model)"\r\n                            ng-disabled="$ctrl.initialAsset">\r\n                            <ui-select-match>\r\n                                {{$select.selected.name}}\r\n                            </ui-select-match>\r\n                            <ui-select-choices repeat="asset in $ctrl.model.assets.available track by $index">\r\n                                {{asset.name}}\r\n                            </ui-select-choices>\r\n                        </ui-select>\r\n                        <label ng-if="form.asset.$error.required && (submitted || form.asset.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.assetobject\')}}</div>\r\n                        <ui-select \r\n                            ng-init="$ctrl.objectSelect = $select" \r\n                            ng-model="$ctrl.model.objects.selected" \r\n                            close-on-select="true" \r\n                            theme="bootstrap"\r\n                            required \r\n                            ng-class="{ \'has-error\' : form.object.$invalid && (submitted || form.object.$touched)}" \r\n                            name="object"\r\n                            on-select="$ctrl.objectSelected($item, $model)"\r\n                            ng-disabled="!$ctrl.model.assets.selected || $ctrl.initialTower">\r\n                            <ui-select-match>\r\n                                {{$select.selected.name}}\r\n                            </ui-select-match>\r\n                            <ui-select-choices repeat="object in $ctrl.model.objects.available track by $index">\r\n                                {{object.name}}\r\n                            </ui-select-choices>\r\n                        </ui-select>\r\n                        <label ng-if="form.object.$error.required && (submitted || form.object.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.floor\')}}</div>\r\n                        <ui-select \r\n                            ng-init="$ctrl.floorSelect = $select" \r\n                            ng-model="$ctrl.model.floors.selected" \r\n                            close-on-select="true" \r\n                            theme="bootstrap"\r\n                            required \r\n                            ng-class="{ \'has-error\' : form.floor.$invalid && (submitted || form.floor.$touched)}" \r\n                            name="floor"\r\n                            on-select="$ctrl.floorSelected($item, $model)"\r\n                            ng-disabled="!$ctrl.model.objects.selected">\r\n                            <ui-select-match>\r\n                                {{$select.selected.number}}\r\n                            </ui-select-match>\r\n                            <ui-select-choices repeat="floor in $ctrl.model.floors.available track by $index">\r\n                                {{floor.number}}\r\n                            </ui-select-choices>\r\n                        </ui-select>\r\n                        <label ng-if="form.floor.$error.required && (submitted || form.floor.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.type\')}}</div>\r\n                        <ui-select \r\n                            ng-init="$ctrl.spaceTypeSelect = $select" \r\n                            ng-model="$ctrl.model.spaceTypes.selected" \r\n                            close-on-select="true" \r\n                            theme="bootstrap"\r\n                            required \r\n                            ng-class="{ \'has-error\' : form.spaceType.$invalid && (submitted || form.spaceType.$touched)}" \r\n                            name="spaceType">\r\n                            <ui-select-match>\r\n                                {{$select.selected.text}}\r\n                            </ui-select-match>\r\n                            <ui-select-choices repeat="spaceType in $ctrl.model.spaceTypes.available track by $index">\r\n                                {{spaceType.text}}\r\n                            </ui-select-choices>\r\n                        </ui-select>\r\n                        <label ng-if="form.spaceType.$error.required && (submitted || form.spaceType.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.number\')}}</div>\r\n                        <input type="text" class="input-sm form-control" id="number" ng-model="$ctrl.model.number" \r\n                                ng-class="{ \'has-error\' : form.number.$invalid && (submitted || form.number.$touched)}" required\r\n                                maxlength="20" name="number" />\r\n                        <label ng-if="form.number.$error.required && (submitted || form.number.$touched)" class="error" for="number">{{Messages(\'validation.required\')}}</label>\r\n                        <label ng-if="form.number.$error.maxlength && (submitted || form.number.$touched)" class="error" for="number">{{Messages(\'validation.maxLength\')}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.rentableArea\')}}</div>\r\n                        <input type="number" class="input-sm form-control" id="rentableArea" ng-model="$ctrl.model.rentableArea" \r\n                                ng-class="{ \'has-error\' : form.rentableArea.$invalid && (submitted || form.rentableArea.$touched)}" required\r\n                                name="rentableArea"\r\n                                min="0" />\r\n                        <label ng-if="form.rentableArea.$error.required && (submitted || form.rentableArea.$touched)" class="error" for="rentableArea">{{Messages(\'validation.required\')}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.availability\')}}</div>\r\n                        <div class="t360-select-choice">\r\n                            <input type="checkbox" id="checkbox-space-availability" name="checkbox-space-availability" ng-model="$ctrl.model.availability.isAvailable">\r\n                            <label for="checkbox-space-availability">\r\n                                <span></span>{{!$ctrl.model.availability.isAvailable ? Messages(\'assets.spaces.availability.edit.notAvailable.title\') : Messages(\'assets.spaces.availability.edit.available.title\')}}\r\n                            </label>\r\n                        </div>\r\n                        <div class="input-group date" ng-if="$ctrl.model.availability.isAvailable">\r\n                            <input \r\n                                type="text" \r\n                                class="form-control datepicker input-calendar" \r\n                                ng-model="$ctrl.model.availability.date"\r\n                                id="availability-date-datepicker" \r\n                                ng-class="{ \'has-error\' : form.availabilityDate.$invalid && (submitted || form.availabilityDate.$touched)}"\r\n                                name="availabilityDate">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.askingPrice\')}}</div>\r\n                        <div class="input-group">\r\n                            <input \r\n                                type="number" \r\n                                min="0" \r\n                                class="input-sm form-control" \r\n                                id="askingPriceMin" \r\n                                ng-model="$ctrl.model.askingPrice.min" \r\n                                ng-blur="$ctrl.askingPriceMinValueChanged()"\r\n                                ng-class="{ \'has-error\' : form.askingPriceMin.$invalid && (submitted || form.askingPriceMin.$touched || form.askingPriceMax.$touched)}"\r\n                                name="askingPriceMin" />\r\n                            <span class="input-group-addon">to</span>\r\n                            <input \r\n                                type="number" \r\n                                min="0" \r\n                                id="askingPriceMax" \r\n                                class="input-sm form-control" \r\n                                ng-model="$ctrl.model.askingPrice.max" \r\n                                ng-blur="$ctrl.askingPriceMaxValueChanged()"\r\n                                ng-class="{ \'has-error\' : form.askingPriceMax.$invalid && (submitted || form.askingPriceMin.$touched || form.askingPriceMax.$touched)}"\r\n                                name="askingPriceMax" />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'assets.spaces.vacant_since\')}}</div>\r\n                        <div class="input-group">\r\n                            <input \r\n                                type="text" \r\n                                class="form-control datepicker input-calendar" \r\n                                ng-model="$ctrl.model.initialVacantSince"\r\n                                id="vacantsince-datepicker" \r\n                                ng-class="{ \'has-error\' : form.vacantsince.$invalid && (submitted || form.vacantsince.$touched)}"\r\n                                name="vacantsince">\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="$ctrl.cancel()">\r\n                {{ Messages(\'assets.spaces.cancel\') }}\r\n            </button>        \r\n            <button type="button" class="btn btn-primary" ng-click="$ctrl.validateAndSave(form)">\r\n                {{ saveInProgress ? Messages(\'assets.spaces.saving\') : Messages(\'assets.spaces.save\') }}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine);__webpack_require__(806);var _messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_data_source=__webpack_require__(803),_landlordEditModal=(_interopRequireDefault(_data_source),__webpack_require__(807)),_landlordEditModal2=_interopRequireDefault(_landlordEditModal),_landlordEditModalTemplate=__webpack_require__(808),_landlordEditModalTemplate2=_interopRequireDefault(_landlordEditModalTemplate),_assetObjectEditModal=__webpack_require__(809),_assetObjectEditModal2=_interopRequireDefault(_assetObjectEditModal),_assetObjectEditModal2Template=__webpack_require__(810),_assetObjectEditModal2Template2=_interopRequireDefault(_assetObjectEditModal2Template),AssetEditModalController=function(){function AssetEditModalController($scope,$state,$timeout,$filter,sweetAlert,Asset,assetObject,$uibModal,$uibModalInstance,NotificationService,StoreAdapter,Broker,Landlord,UtilsService,Market,LocationService,ImageService,IndustryLookupService,SecurityService,Activities){var _this=this;_classCallCheck(this,AssetEditModalController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.$filter=$filter,this.sweetAlert=sweetAlert,this.Asset=Asset,this.assetObject=assetObject,this.$uibModal=$uibModal,this.$uibModalInstance=$uibModalInstance,this.notificationService=NotificationService,this.storeAdapter=StoreAdapter,this.Broker=Broker,this.Landlord=Landlord,this.utils=UtilsService,this.imageService=ImageService,this.locationService=LocationService,this.validationGroup="asset-edit",this.addressValidationGroup="asset-create-address",this.Market=Market,this.IndustryLookupService=IndustryLookupService,this.Messages=_messages2.default,this.Constants=_constants2.default,this.securityService=SecurityService,this.activities=Activities,this.$scope.landlords={selected:[],available:[]},this.$scope.broker={available:[]},this.$scope.market={available:[]},this.$scope.country={available:[]},this.$scope.canSelectBroker=!1;var self=this;this.securityService.getUserInfo().then(function(r){self.$scope.currentUser=r,self.$scope.canSelectBroker=_this.$scope.currentUser.roleId==self.Constants.userRoles.admin,self.init(),self.initForm(),self.initGrid(),$timeout(function(){self.initAutocomplete()})})}return AssetEditModalController.$inject=["$scope","$state","$timeout","$filter","sweetAlert","Asset","assetObject","$uibModal","$uibModalInstance","NotificationService","StoreAdapter","Broker","Landlord","UtilsService","Market","LocationService","ImageService","IndustryLookupService","SecurityService","Activities"],_createClass(AssetEditModalController,[{key:"init",value:function(){var _this2=this,self=this;if(this.$scope.editMode=!!this.assetObject,this.IndustryLookupService.all().then(function(result){self.$scope.industries=result},function(err){}),this.$scope.editMode){if($.extend(this.$scope.asset,this.assetObject),this.$scope.asset.images=[],this.$scope.asset.mainImageUrl&&(this.$scope.asset.images=[{filePath:this.$scope.asset.mainImageUrl}]),!this.$scope.asset.location.latitude||!this.$scope.asset.location.longitude){var geocoder=new google.maps.Geocoder;geocoder.geocode({address:this.$scope.asset.address},function(result,status){"OK"===status&&(_this2.$scope.asset.location.latitude=result[0].geometry.location.lat(),_this2.$scope.asset.location.longitude=result[0].geometry.location.lng())})}}else this.$scope.asset={id:0,name:"",brokerId:this.$scope.currentUser.roleId!=this.Constants.userRoles.admin?this.$scope.currentUser.brokerId:null,landlords:[],location:this.locationService.getEmptyLocation(),description:"",brokerDatabaseRecordId:"",notes:"",images:[],assetObjects:[],state:2,address:"",marketId:null};this.$scope.asset.address=this.locationService.getGoogleAddress(this.$scope.asset.location),this.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},this.$scope.clearAddress=function(){self.$scope.asset.address=self.locationService.getGoogleAddress(self.$scope.asset.location),self.$scope.refreshTowerAddress()},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.countryId=self.locationService.countryId,$.extend(self.$scope.asset.location,location),self.$scope.clearAddress()},this.$scope.refreshTowerAddress=function(){self.$scope.asset.assetObjects.forEach(function(tower){var towerStreetAddress=tower.location.streetAddress;tower.location=angular.copy(self.$scope.asset.location),tower.location.streetAddress=towerStreetAddress,tower.address=self.locationService.getGoogleAddress(tower.location)})},this.$scope.updateImage=function(){}}},{key:"initForm",value:function(){var self=this;this.$scope.addressSettings={bindingOptions:{value:"asset.address",disabled:"!asset.location.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.asset.location.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.Market.query({},function(result){self.$scope.market.available=result},this.errorHandler),this.Broker.query({},function(result){self.$scope.broker.available=result;var broker=self.$scope.canSelectBroker?null:result.find(function(br){return br.id==self.$scope.currentUser.brokerId});self.$scope.onSelectBroker(broker)},this.errorHandler),self.$scope.country.available=_constants2.default.countries,this.$scope.onSelectBroker=function(broker){self.Landlord.query({brokerId:broker.id},function(result){result.push({id:0,name:""+(0,_messages2.default)("landlords.modal.create.title")}),self.$scope.landlords.available=result,self.$scope.landlords.selected.length>0&&(self.$scope.asset.landlords=[]),self.$scope.landlords.selected=[],self.$scope.asset.landlords.forEach(function(t){var landlord=self.$scope.landlords.available.find(function(r){return r.id==t.landlordId});null!=landlord&&self.$scope.landlords.selected.push(landlord)})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})},this.$scope.onSelectLandlord=function(item,model){if(0==item.id){var idx=self.$scope.landlords.selected.findIndex(function(t){return 0==t.id});self.$scope.landlords.selected.splice(idx,1);var modal=self.$uibModal.open({controller:_landlordEditModal2.default,template:_landlordEditModalTemplate2.default,resolve:{landlordObject:null,industries:function(){return self.$scope.industries},brokerId:self.$scope.broker.selected.id}});modal.result.then(function(result){var landlords=angular.copy(self.$scope.landlords.available),item=landlords.pop();landlords.push(result),landlords.push(item),self.$scope.landlords.available=landlords,self.$scope.landlords.selected.push(result)})}},this.$scope.onSelectCountry=function(country){self.$scope.asset.location.countryId=country.value,self.$scope.resetAddressData(),self.initAutocomplete(),self.setAutocompleteCountry()},this.$scope.validateAndSaveSettings=function(submitForm){if(self.$scope.submitted=!0,submitForm.$valid){var addressValidation=_validation_engine2.default.getGroupConfig(self.addressValidationGroup).validate();addressValidation.isValid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,self.locationService.setLocationCoordinates(self.$scope.asset.location,function(){if(self.$scope.editMode);else{var image=self.$scope.asset.images&&self.$scope.asset.images.length>0?self.$scope.asset.images[0]:null;self.$scope.asset.landlords=self.$scope.landlords.selected.map(function(t){return{landlordId:t.id,assetId:0}}),self.Asset.create({},{model:self.$scope.asset,file:null!=image?self.imageService.dataURItoBlob(image.imageFile.imageData):null,fileName:null!=image?image.originalFileName:null},function(result){self.notificationService.success((0,_messages2.default)("assets.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(self.$scope.asset),self.securityService.canDo(self.activities.AssetsManage).then(function(r){r?self.$state.go("asset",{id:result.id}):self.$state.go("asset-stats-stacking-plan",{id:result.id})},function(){self.$state.go("asset-stats-stacking-plan",{id:result.id})})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1})}}))}},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(self.validationGroup),self.$uibModalInstance.dismiss("cancel")},this.$scope.addAssetObject=function(){var modal=self.$uibModal.open({controller:_assetObjectEditModal2.default,template:_assetObjectEditModal2Template2.default,resolve:{assetObject:self.$scope.asset,towerObject:null},size:"xs"});modal.result.then(function(result){self.$scope.asset.assetObjects||(self.$scope.asset.assetObjects=[]),self.$scope.asset.assetObjects.push(result),self.refreshAseetObjectGrid()})}}},{key:"initGrid",value:function(){var self=this;this.store=new _array_store2.default({data:self.$scope.asset.assetObjects,key:"uniqueId",errorHandler:self.errorHandler.requestFailed}),this.gridDataSource={store:self.store},this.$scope.objectsSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,groupPanel:{visible:!1},filterRow:{visible:!1},columns:[{dataField:"name",caption:(0,_messages2.default)("assets.objects.name"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,width:150,alignment:"right"},{dataField:"address",caption:(0,_messages2.default)("assets.objects.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1},{dataField:"floors.length",caption:(0,_messages2.default)("assets.objects.floors"),selectedFilterOperation:"contains",allowSorting:!1},{dataField:"id",visible:!1},{dataField:"uniqueId",caption:(0,_messages2.default)("actions"),width:100,allowSorting:!1,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){self.editAssetObject(options.data)}
}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.sweetAlert.swal({title:(0,_messages2.default)("assets.objects.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.objects.delete.confirmButton")},function(isConfirm){isConfirm&&self.deleteAssetObject(options.data)})}}).appendTo(container)}}]})}},{key:"refreshAseetObjectGrid",value:function(){var self=this;this.store=new _array_store2.default({data:self.$scope.asset.assetObjects,key:"uniqueId",errorHandler:self.errorHandler.requestFailed});var dataGrid=$("#objectsGridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.store}),dataGrid.endUpdate(),dataGrid.refresh()}},{key:"editAssetObject",value:function(assetObject){var self=this,modal=self.$uibModal.open({controller:_assetObjectEditModal2.default,template:_assetObjectEditModal2Template2.default,resolve:{assetObject:self.$scope.asset,towerObject:angular.copy(assetObject)},size:"xs"});modal.result.then(function(result){var idx=self.$scope.asset.assetObjects.findIndex(function(t){return t.uniqueId==result.uniqueId});idx>=0&&(self.$scope.asset.assetObjects[idx]=result),self.refreshAseetObjectGrid()})}},{key:"deleteAssetObject",value:function(assetObject){var self=this,assetObjectIdx=self.$scope.asset.assetObjects.findIndex(function(t){return t.id==assetObject.id});self.$scope.asset.assetObjects.splice(assetObjectIdx,1),self.refreshAseetObjectGrid()}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#field-address input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place&&place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.asset.location.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.asset.location.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.asset.location.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.asset.location.postCode=item.long_name,postCodeSet=!0),_this3.$scope.refreshTowerAddress()}),place&&place.geometry&&place.geometry.location?(_this3.$scope.asset.location.latitude=place.geometry.location.lat(),_this3.$scope.asset.location.longitude=place.geometry.location.lng()):(_this3.$scope.asset.location.latitude=null,_this3.$scope.asset.lng=null),citySet||(_this3.$scope.asset.location.city=null),streetSet||(_this3.$scope.asset.location.street=null),buildingSet||(_this3.$scope.asset.location.streetAddress=null),postCodeSet||(_this3.$scope.asset.location.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.asset.location.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.asset.location.countryId&&(curCountryCode=country.isoCode,_this4.$scope.asset.location.country=country.text)}),curCountryCode&&this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),AssetEditModalController}();exports.default=AssetEditModalController}).call(exports,__webpack_require__(178))},,function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),LandlordEditController=function(){function LandlordEditController($scope,$state,$timeout,$filter,$uibModalInstance,Landlord,landlordObject,industries,brokerId,NotificationService,UtilsService,LocationService){var _this=this;_classCallCheck(this,LandlordEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.$filter=$filter,this.$uibModalInstance=$uibModalInstance,this.Landlord=Landlord,this.brokerId=brokerId,null!=landlordObject?(this.model=this.$scope.model=landlordObject,this.editMode=!1):(this.model=this.$scope.model={name:null,shortName:null,industry:null,location:{country:null,city:null,street:null,streetAddress:null,postCode:null,latitude:null,longitude:null},brokerId:this.brokerId,address:null},this.editMode=!0),this.industries=this.$scope.industries=industries,this.countries=this.$scope.countries=_constants2.default.countryStorePlain(),this.notificationService=NotificationService,this.locationService=LocationService,this.utils=UtilsService,this.initForm(),this.$timeout(function(){_this.initAutocomplete()})}return LandlordEditController.$inject=["$scope","$state","$timeout","$filter","$uibModalInstance","Landlord","landlordObject","industries","brokerId","NotificationService","UtilsService","LocationService"],_createClass(LandlordEditController,[{key:"initForm",value:function(){var self=this;this.$scope.validateAndSave=function(form){if(self.$scope.submitted=!0,form.$valid){self.$scope.saveInProgress=!0;var request=angular.copy(self.model);request.industryId=self.model.industry.id,request.location.countryId=self.model.location.country.value,self.$scope.editMode||self.Landlord.create({},request,function(result){self.notificationService.success((0,_messages2.default)("landlords.modal.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(result)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1})}},this.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},this.$scope.countrySelected=function(item,model){self.$scope.resetAddressData(),self.setAutocompleteCountry(item.isoCode)},this.$scope.addressPartChanged=function(){self.$scope.clearAddress()},this.$scope.clearAddress=function(){self.$scope.model.address=null},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.country=self.$scope.model.location.country,$.extend(self.$scope.model.location,location),self.$scope.clearAddress()}}},{key:"initAutocomplete",value:function(){var _this2=this,self=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#autocomplete-group input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this2.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place&&place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(self.$timeout(function(){self.model.location.city=item.long_name}),citySet=!0),item.types.indexOf("route")!==-1&&(self.$timeout(function(){self.model.location.street=item.long_name}),streetSet=!0),item.types.indexOf("street_number")!==-1&&(self.$timeout(function(){self.model.location.streetAddress=item.long_name}),buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(self.$timeout(function(){self.model.location.postCode=item.long_name}),postCodeSet=!0)}),place&&place.geometry&&place.geometry.location?(self.model.location.latitude=place.geometry.location.lat(),self.model.location.longitude=place.geometry.location.lng()):(self.model.location.latitude=null,self.model.location.longitude=null),citySet||(_this2.$scope.model.location.city=null),streetSet||(_this2.$scope.model.location.street=null),buildingSet||(_this2.$scope.model.location.streetAddress=null),postCodeSet||(_this2.$scope.model.location.postCode=null)}))}},{key:"setAutocompleteCountry",value:function(isoCode){var self=this;this.$timeout(function(){self.initAutocomplete(),self.autocomplete.setComponentRestrictions({country:isoCode})})}}]),LandlordEditController}();exports.default=LandlordEditController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal modal-landlord" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <form role="form" name="landlordForm" novalidate>\r\n        <div class="color-line"></div>\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">\r\n                {{ editMode ? Messages(\'landlords.modal.edit.title\') : Messages(\'landlords.modal.create.title\') }}\r\n            </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="form-group">\r\n                <label for="name" class="control-label">{{Messages(\'landlords.name\')}}</label>\r\n                <input class="input-sm form-control" id="name" ng-model="model.name" maxlength="255" ng-maxlength="255" required placeholder="{{Messages(\'landlords.placeholder.name\')}}"\r\n                    ng-class="{ \'has-error\' : landlordForm.name.$invalid && (submitted || landlordForm.name.$touched || landlordForm.name.$touched)}"\r\n                    name="name" />\r\n                <label ng-if="landlordForm.name.$error.required && (submitted || landlordForm.name.$touched)" class="error" for="name">{{Messages(\'validation.required\')}}</label>\r\n                <label ng-if="landlordForm.name.$error.maxlength && (submitted || landlordForm.name.$touched)" class="error" for="name">{{Messages(\'validation.maxLength\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="shortName" class="control-label">{{Messages(\'landlords.shortName.formLabel\')}}</label>\r\n                <input class="input-sm form-control" id="shortName" ng-model="model.shortName" maxlength="100" ng-maxlength="100" placeholder="{{Messages(\'landlords.placeholder.shortName\')}}"\r\n                    ng-class="{ \'has-error\' : landlordForm.shortName.$invalid && (submitted || landlordForm.shortName.$touched || landlordForm.shortName.$touched)}"\r\n                    name="shortName" />\r\n                <label ng-if="landlordForm.shortName.$error.maxlength && (submitted || landlordForm.shortName.$touched)" class="error" for="shorName">{{Messages(\'validation.maxLength\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="industry" class="control-label">{{Messages(\'landlords.industry\')}}</label>\r\n                <ui-select ng-model="model.industry" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : landlordForm.industry.$invalid && (submitted || landlordForm.industry.$touched)}"\r\n                    name="industry">\r\n                    <ui-select-match placeholder="{{Messages(\'landlords.industry.placeholder\')}}">\r\n                        {{$select.selected.display}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="elem in industries | filter: $select.search">\r\n                        {{elem.display}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n                <label ng-if="landlordForm.industry.$invalid && (submitted || landlordForm.industry.$touched)" class="error" for="industry">{{Messages(\'validation.required\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <label for="country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                <ui-select ng-model="model.location.country" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : landlordForm.country.$invalid && (submitted || landlordForm.country.$touched)}"\r\n                    name="country" on-select="countrySelected($item, $model)">\r\n                    <ui-select-match placeholder="{{Messages(\'landlords.country.placeholder\')}}">\r\n                        {{$select.selected.text}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="elem in countries | filter: $select.search">\r\n                        {{elem.text}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n                <label ng-if="landlordForm.country.$invalid && (submitted || landlordForm.country.$touched)" class="error" for="industry">{{Messages(\'validation.required\')}}</label>\r\n            </div>\r\n\r\n            <div class="form-group">\r\n                <div class="panel-group" id="address-accordion" role="tablist" aria-multiselectable="true">\r\n                    <div class="panel panel-default">\r\n                        <div class="panel-heading" role="tab" id="headingOne">\r\n                            <h4 class="panel-title">\r\n                                <a data-toggle="collapse" data-parent="#address-accordion" href="#collapseAddress" aria-expanded="true" aria-controls="collapseAddress">\r\n                                        {{Messages(\'landlords.address_info\')}}\r\n                                </a>\r\n                            </h4>\r\n                        </div>\r\n                        <div id="collapseAddress" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\r\n                            <div class="panel-body">\r\n                                <div class="form-group" id="autocomplete-group">\r\n                                    <label for="address" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                                    <input ng-disabled="!model.location.country" class="input-sm form-control" id="landlord-address-field" ng-model="model.address"\r\n                                        ng-class="{ \'has-error\' : landlordForm.address.$invalid && (submitted || landlordForm.address.$touched)}"\r\n                                        name="address" />\r\n                                </div>\r\n\r\n                                <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n                                <div class="panel panel-default">\r\n                                    <div class="panel-body">\r\n                                        <div class="form-group">\r\n                                            <label for="city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="city" ng-model="model.location.city" maxlength="80"\r\n                                                ng-maxlength="80" placeholder="{{Messages(\'address.placeholder.city\')}}" ng-class="{ \'has-error\' : landlordForm.city.$invalid && (submitted || landlordForm.city.$touched)}"\r\n                                                name="city" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="landlordForm.city.$error.maxlength && (submitted || landlordForm.city.$touched)" class="error" for="city">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                        <div class="form-group">\r\n                                            <label for="street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="street" ng-model="model.location.street" maxlength="80"\r\n                                                ng-maxlength="80" placeholder="{{Messages(\'address.placeholder.street\')}}" ng-class="{ \'has-error\' : landlordForm.street.$invalid && (submitted || landlordForm.street.$touched)}"\r\n                                                name="street" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="landlordForm.street.$error.maxlength && (submitted || landlordForm.street.$touched)" class="error" for="street">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                        <div class="form-group">\r\n                                            <label for="streetAddress" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="streetAddress" ng-model="model.location.streetAddress"\r\n                                                maxlength="100" ng-maxlength="100" placeholder="{{Messages(\'address.placeholder.streetAddress\')}}"\r\n                                                ng-class="{ \'has-error\' : landlordForm.streetAddress.$invalid && (submitted || landlordForm.streetAddress.$touched)}"\r\n                                                name="streetAddress" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="landlordForm.streetAddress.$error.maxlength && (submitted || landlordForm.streetAddress.$touched)" class="error"\r\n                                                for="streetAddress">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                        <div class="form-group">\r\n                                            <label for="postCode" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                                            <input ng-disabled="!model.location.country" class="input-sm form-control" id="postCode" ng-model="model.location.postCode"\r\n                                                maxlength="10" ng-maxlength="10" placeholder="{{Messages(\'address.placeholder.postCode\')}}"\r\n                                                ng-class="{ \'has-error\' : landlordForm.postCode.$invalid && (submitted || landlordForm.postCode.$touched)}"\r\n                                                name="postCode" ng-change="addressPartChanged()" />\r\n                                            <label ng-if="landlordForm.postCode.$error.maxlength && (submitted || landlordForm.postCode.$touched)" class="error" for="postCode">{{Messages(\'validation.maxLength\')}}</label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSave(landlordForm)">\r\n            {{ saveInProgress ? Messages(\'landlords.saving\') : Messages(\'landlords.save\') }}\r\n        </button>\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'landlords.cancel\') }}\r\n        </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_constants=(_interopRequireDefault(_messages),__webpack_require__(720)),AssetObjectEditController=(_interopRequireDefault(_constants),function(){function AssetObjectEditController($scope,$state,$timeout,$filter,AssetObject,assetObject,towerObject,NotificationService,LocationService,$uibModalInstance,UtilsService){_classCallCheck(this,AssetObjectEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.$filter=$filter,this.AssetObject=AssetObject,this.assetObject=assetObject,this.towerObject=towerObject,this.notificationService=NotificationService,this.locationService=LocationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.validationGroup="asset-object-edit",this.addressValidationGroup="asset-object-edit-address",this.init(),this.initForm()}return AssetObjectEditController.$inject=["$scope","$state","$timeout","$filter","AssetObject","assetObject","towerObject","NotificationService","LocationService","$uibModalInstance","UtilsService"],_createClass(AssetObjectEditController,[{key:"init",value:function(){var self=this;this.$scope.clearAddress=function(){self.$scope.tower.address=self.locationService.getGoogleAddress(self.$scope.tower.location)},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.countryId=self.locationService.countryId,$.extend(self.$scope.tower.location,location),self.$scope.clearAddress()}}},{key:"initForm",value:function(){var _this=this;this.$scope.editMode=null!==this.towerObject,this.isSaveOperationDisable=!0,this.$scope.editMode?this.$scope.tower=this.towerObject:this.$scope.tower={name:"",location:this.locationService.getEmptyLocation(),isDisplayOnStackingPlan:!1,address:"",spaces:[],floors:[]},this.$scope.asset=this.assetObject;var towerStreetAddress=this.$scope.tower.location.streetAddress;this.$scope.tower.location=angular.copy(this.$scope.asset.location),towerStreetAddress&&null!=towerStreetAddress&&(this.$scope.tower.location.streetAddress=towerStreetAddress),this.$scope.tower.address=this.locationService.getGoogleAddress(this.$scope.tower.location),this.$scope.validateAndSave=function(submitForm){var self=_this;self.$scope.submitted=!0,submitForm.$valid&&(_this.saveInProgress=!0,_this.isSaveOperationDisable=!0,self.$scope.tower.floors.forEach(function(floor){floor.spaces=[]}),self.$scope.tower.spaces.forEach(function(space){var floor=self.$scope.tower.floors.find(function(floor){return floor.uniqueId==space.floorUniqueId});null!=floor&&floor.spaces.push(space)}),_this.$uibModalInstance.close(_this.$scope.tower))},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")}}},{key:"tabGridsRefresh",value:function($event){$event.preventDefault();var tab=$event.currentTarget.getAttribute("aria-controls");"floors"===tab&&$("#floorSettings #gridContainer").dxDataGrid("instance").refresh(),"spaces"===tab&&$("#spaceSettings #spacesGridContainer").dxDataGrid("instance").refresh()}}]),AssetObjectEditController}());exports.default=AssetObjectEditController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'assets.objects.edit.title\') : Messages(\'assets.objects.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form" name="submitForm">\r\n            <fieldset>\r\n                <div class="row m-b-m">\r\n                    <div class="col-sm-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'assets.objects.create.name\')}}</div>\r\n                            <input type="text" ng-model="tower.name" name="towername" maxlength="255" required>\r\n                        </div>\r\n                        <label ng-if="submitForm.towername.$invalid && (submitted || submitForm.towername.$touched)" class="error" for="towername">{{Messages(\'validation.required\')}}</label>\r\n                    </div>\r\n                    <div class="col-sm-1">\r\n                        &nbsp;\r\n                    </div>\r\n                    <div class="col-sm-5">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'assets.objects.create.isDisplayOnStackingPlan\')}}</div>\r\n                            <div class="t360-select-choice">\r\n                                <input type="checkbox" id="tower-stacking-plan" ng-model="tower.isDisplayOnStackingPlan" name="towerstackingplan"><label for="tower-stacking-plan"><span></span></label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="row m-b-m" role="tab" id="headingOne">\r\n                    <div class="col-sm-12">\r\n                        <label class="control-label">\r\n                            <a data-toggle="collapse" data-parent="#address-accordion" href="#collapseAddress" aria-expanded="true" aria-controls="collapseAddress">\r\n                                {{Messages(\'clients.address_info\')}}\r\n                            </a>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <div id="collapseAddress" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\r\n                    <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n                    <div class="panel panel-default">\r\n                        <div class="panel-body">\r\n                            <div class="col-sm-6">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'address.postCode\')}}</div>\r\n                                    <input type="text" ng-model="tower.location.postCode" name="towerpostcode" maxlength="10">\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-sm-6">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'address.city\')}}</div>\r\n                                    <input type="text" ng-model="tower.location.city" name="towercity" maxlength="80">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="panel-body">\r\n                            <div class="col-sm-6">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'address.street\')}}</div>\r\n                                    <input type="text" ng-model="tower.location.street" name="towerstreet" maxlength="100">\r\n                                </div>\r\n                            </div>\r\n                            <div class="col-sm-6">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'address.streetAddress\')}}</div>\r\n                                    <input type="text" ng-model="tower.location.streetAddress" name="towerstreetAddress" maxlength="10">\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n            <fieldset>\r\n                <ul class="nav nav-tabs" role="tablist" id="myTabs">\r\n                    <li class="active" role="presentation">\r\n                        <a href="#floors" id="floors-tab" role="tab" data-toggle="tab" aria-controls="floors" aria-expanded="true" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                            {{ Messages(\'assets.floors.title\') }}\r\n                        </a>\r\n                    </li>\r\n                    <li role="presentation">\r\n                        <a href="#spaces" id="spaces-tab" role="tab" data-toggle="tab" aria-controls="spaces" aria-expanded="false" ng-click="$ctrl.tabGridsRefresh($event)">\r\n                            {{ Messages(\'assets.spaces.title\') }}\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n                <div class="tab-content">\r\n                    <div id="floors" class="tab-pane active">\r\n                        <div class="panel-body">\r\n                            <floors-list id="floorSettings" class="form-group" asset="asset" tower="tower"></floors-list>\r\n                        </div>\r\n                    </div>\r\n                    <div id="spaces" class="tab-pane">\r\n                        <div class="panel-body">\r\n                            <spaces-list id="spaceSettings" class="form-group" asset="asset" tower="tower"></spaces-list>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.objects.cancel\') }}\r\n        </button>    \r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave(submitForm)">\r\n            {{ saveInProgress ? Messages(\'assets.objects.saving\') : Messages(\'assets.objects.save\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){module.exports='    <div class="inmodal asset-edit-modal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">\r\n                {{ editMode ? Messages(\'assets.edit\') : Messages(\'assets.add\') }}\r\n            </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <form role="form" name="submitForm" class="asset-edit-form">\r\n                <fieldset class="gallery-placeholder">\r\n                    <assetgallery images="asset.images" update-image="updateImage"></assetgallery>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <div class="row m-b-m">\r\n                        <div class="col-sm-8">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.name\') }}</div>\r\n                                <input type="text" ng-model="asset.name" name="assetname" maxlength="100" required ng-class="{ \'has-error\' : submitForm.assetname.$invalid && (submitted || submitForm.assetname.$touched)}">\r\n                            </div>\r\n                            <label ng-if="submitForm.assetname.$invalid && (submitted || submitForm.assetname.$touched)" class="error" for="assetname">{{Messages(\'validation.required\')}}</label>\r\n                        </div>\r\n                        <div class="col-sm-4" ng-show="canSelectBroker">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.broker\') }}</div>\r\n                                <ui-select ng-model="asset.brokerId" close-on-select="true" theme="bootstrap" name="brokers" required ng-class="{ \'has-error\' : submitForm.brokers.$invalid && (submitted || submitForm.brokers.$touched)}" \r\n                                    on-select="onSelectBroker($select.selected)">\r\n                                    <ui-select-match class="text-muted">\r\n                                        {{$select.selected.name}}\r\n                                    </ui-select-match>\r\n                                    <ui-select-choices repeat="broker.id as broker in broker.available | filter: $select.search">\r\n                                        {{broker.name}}\r\n                                    </ui-select-choices>\r\n                                </ui-select>              \r\n                                <label ng-if="submitForm.brokers.$error.required && (submitted || submitForm.brokers.$touched)" class="error" for="brokers">{{Messages(\'validation.required\')}}</label>\r\n                                <p class="help-block"><small>{{ Messages(\'assets.broker.help\') }}</small></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row m-b-m">\r\n                        <div class="col-sm-4">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.market\') }}</div>\r\n                                <ui-select ng-model="asset.marketId" close-on-select="true" theme="bootstrap" name="market" required ng-class="{ \'has-error\' : submitForm.market.$invalid && (submitted || submitForm.market.$touched)}">\r\n                                    <ui-select-match class="text-muted">\r\n                                        {{$select.selected.name}}\r\n                                    </ui-select-match>\r\n                                    <ui-select-choices repeat="assetmarket.id as assetmarket in market.available | filter: $select.search">\r\n                                        {{assetmarket.name}}\r\n                                    </ui-select-choices>\r\n                                </ui-select>                                \r\n                                <label ng-if="submitForm.market.$invalid && (submitted || submitForm.market.$touched)" class="error" for="market">{{Messages(\'validation.required\')}}</label>\r\n                                <p class="help-block"><small>{{ Messages(\'assets.market.help\') }}</small></p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-4">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.landlord\') }}</div>\r\n                                <div id="field-landlord">\r\n                                    <ui-select multiple ng-model="landlords.selected" on-select="onSelectLandlord($item, $model)" close-on-select="false" theme="bootstrap" name="landlords">\r\n                                        <ui-select-match class="text-muted">\r\n                                            {{$item.name}}\r\n                                        </ui-select-match>\r\n                                        <ui-select-choices repeat="landlord in landlords.available | filter: $select.search">\r\n                                            {{landlord.name}}\r\n                                        </ui-select-choices>\r\n                                    </ui-select>\r\n                                    <p class="help-block"><small>{{ Messages(\'assets.landlord.help\') }}</small></p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-4">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.country\') }}</div>\r\n                                <ui-select ng-model="asset.location.countryId" close-on-select="true" theme="bootstrap" name="country" required ng-class="{ \'has-error\' : submitForm.country.$invalid && (submitted || submitForm.country.$touched)}" on-select="onSelectCountry($select.selected)">\r\n                                    <ui-select-match class="text-muted">\r\n                                        {{$select.selected.text}}\r\n                                    </ui-select-match>\r\n                                    <ui-select-choices repeat="country.value as country in country.available | filter: $select.search">\r\n                                        {{country.text}}\r\n                                    </ui-select-choices>                                \r\n                                </ui-select>\r\n                                <label ng-if="submitForm.country.$invalid && (submitted || submitForm.country.$touched)" class="error" for="country">{{Messages(\'validation.required\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row m-b-m">\r\n                        <div class="col-sm-12">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'address.autoComplete\') }}</div>\r\n                                <div id="field-address" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row m-b-m" role="tab" id="headingOne">\r\n                        <div class="col-sm-12">\r\n                            <label class="control-label">\r\n                                <a data-toggle="collapse" data-parent="#address-accordion" href="#collapseAddress" aria-expanded="true" aria-controls="collapseAddress">\r\n                                        {{Messages(\'clients.address_info\')}}\r\n                                </a>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <div id="collapseAddress" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">\r\n                        <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n                        <div class="panel panel-default">\r\n                            <div class="panel-body">\r\n                                <div class="col-sm-6">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{Messages(\'address.postCode\')}}</div>\r\n                                        <input type="text" ng-model="asset.location.postCode" name="postcode" maxlength="10">                                        \r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-6">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{Messages(\'address.city\')}}</div>\r\n                                        <input type="text" ng-model="asset.location.city" name="city" maxlength="80">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="panel-body">\r\n                                <div class="col-sm-6">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{Messages(\'address.street\')}}</div>\r\n                                        <input type="text" ng-model="asset.location.street" name="street" maxlength="100">\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-6">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{Messages(\'address.streetAddress\')}}</div>\r\n                                        <input type="text" ng-model="asset.location.streetAddress" name="streetAddress" maxlength="10">\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <div class="m-b-sm pull-right">\r\n                        <a href="#" class="add-entity-btn" ng-click="addAssetObject()">\r\n                            <i class="fa fa-plus"></i>\r\n                            <span>{{Messages(\'assets.objects.add\')}}</span>\r\n                        </a>\r\n                    </div>\r\n                    <div dx-data-grid="objectsSettings" id="objectsGridContainer" class="tower-container gridContainer gridContainer-sm clear"></div>\r\n                </fieldset>\r\n            </form>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'assets.cancel\') }}\r\n            </button>    \r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings(submitForm)">\r\n                {{ saveInProgress ? Messages(\'assets.saving\') : Messages(\'assets.save\') }}\r\n            </button>\r\n        </div>\r\n    </div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),UserController=function(){function UserController($scope,$state,$uibModalInstance,User,userObject,Broker,Role,Locale,StoreAdapter,NotificationService){_classCallCheck(this,UserController),this.$scope=$scope,this.$state=$state,this.User=User,this.userObject=userObject,this.Broker=Broker,this.Role=Role,this.Locale=Locale,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="user-edit",this.initForm()}return UserController.$inject=["$scope","$state","$uibModalInstance","User","userObject","Broker","Role","Locale","StoreAdapter","NotificationService"],_createClass(UserController,[{key:"initForm",value:function(){var _this=this,self=this;this.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},this.$scope.editMode=null!=this.userObject,this.isSaveOperationDisable=!0,this.$scope.editMode?this.$scope.user=this.userObject:this.$scope.user={email:"",displayName:"",brokerId:null,roleId:1},this.$scope.emailSettings={placeholder:(0,_messages2.default)("users.placeholder.email"),bindingOptions:{value:"user.email",disabled:"editMode"}},this.$scope.emailValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:256,min:3,trim:!0},{type:"email",message:(0,_messages2.default)("validation.email")}],validationGroup:this.validationGroup},this.$scope.displaynameSettings={placeholder:(0,_messages2.default)("users.placeholder.displayname"),bindingOptions:{value:"user.displayName "}},this.$scope.displaynameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:50,min:1,trim:!0}],validationGroup:this.validationGroup};var rolesStore=this.storeAdapter.createStore(this.Role,{},this.errorHandler);rolesStore.load().done(function(result){_this.$scope.roleSelectSettings={items:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"user.roleId"}}}),this.$scope.roleValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup};var localesStore=this.storeAdapter.createStore(this.Locale,{},this.errorHandler);localesStore.load().done(function(result){_this.$scope.localeSelectSettings={items:result,displayExpr:"localeName",valueExpr:"id",bindingOptions:{value:"user.localeId"}}}),this.$scope.localeValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup};var brokersStore=this.storeAdapter.createStore(this.Broker,{},this.errorHandler);brokersStore.load().done(function(result){_this.$scope.brokerSelectSettings={items:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"user.brokerId"}}}),this.$scope.brokerValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},this.$scope.phoneSettings={placeholder:(0,_messages2.default)("users.placeholder.phone"),bindingOptions:{value:"user.mobilePhone"}},this.$scope.phoneValidationRules={validationRules:[{type:"pattern",pattern:_constants2.default.phonePattern(),message:(0,_messages2.default)("validation.phone")},{type:"stringLength",max:_constants2.default.maxPhoneLength,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(_this.validationGroup).validate();result.isValid&&(_this.saveInProgress=!0,_this.isSaveOperationDisable=!0,_this.$scope.editMode?_this.User.update({id:_this.$scope.user.id},_this.$scope.user,function(result){_this.notificationService.success((0,_messages2.default)("users.message.updated")),self.saveInProgress=!1,_this.$uibModalInstance.close(result)},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data),_this.saveInProgress=!1}):_this.User.save(_this.$scope.user,function(result){_this.notificationService.success((0,_messages2.default)("users.message.created")),_this.saveInProgress=!1,_this.$state.go("user",{id:result.id},{reload:!1}),_this.$uibModalInstance.close(result)},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data),_this.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this.validationGroup),_this.$uibModalInstance.dismiss("cancel")}}}]),UserController}();exports.default=UserController},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'users.edit.title\') : Messages(\'users.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-email" class="control-label">{{Messages(\'users.email\')}}</label>\r\n                    <div id="field-email" dx-text-box="emailSettings" dx-validator="emailValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-name" class="control-label">{{Messages(\'users.displayname\')}}</label>\r\n                    <div id="field-name" dx-text-box="displaynameSettings" dx-validator="displaynameValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-role" class="control-label">{{Messages(\'users.role\')}}</label>\r\n                    <div id="field-role" dx-select-box="roleSelectSettings" dx-validator="roleValidationRules"></div>\r\n                    <p class="help-block"><small>{{Messages(\'users.role.help\')}}</small></p>\r\n                </div>\r\n                <div ng-if="user.roleId == 2 || user.roleId == 3" class="form-group">\r\n                    <label for="field-broker" class="control-label">{{Messages(\'users.broker\')}}</label>\r\n                    <div id="field-broker" dx-select-box="brokerSelectSettings" dx-validator="brokerValidationRules"></div>\r\n                    <p class="help-block"><small>{{Messages(\'users.broker.help\')}}</small></p>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-locale" class="control-label">{{Messages(\'users.locale\')}}</label>\r\n                    <div id="field-locale" dx-select-box="localeSelectSettings" dx-validator="localeValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-phone" class="control-label">{{Messages(\'users.phone\')}}</label>\r\n                    <div id="field-phone" dx-text-box="phoneSettings" dx-validator="phoneValidationRules"></div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'users.saving\') : Messages(\'users.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'users.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),BrokerEditController=function(){function BrokerEditController($scope,$state,$timeout,$filter,$uibModalInstance,brokerObject,Broker,Role,StoreAdapter,NotificationService,LocationService,ImageService){_classCallCheck(this,BrokerEditController),this.$scope=$scope,this.$state=$state,this.brokerObject=brokerObject,this.Broker=Broker,this.Role=Role,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.locationService=LocationService,this.imageService=ImageService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="broker-edit",this.addressValidationGroup="broker-edit-address",this.$timeout=$timeout,this.$filter=$filter,this.init(),this.initForm()}return BrokerEditController.$inject=["$scope","$state","$timeout","$filter","$uibModalInstance","brokerObject","Broker","Role","StoreAdapter","NotificationService","LocationService","ImageService"],_createClass(BrokerEditController,[{key:"init",value:function(){var _this=this,self=this;this.$timeout(function(){_this.initAutocomplete()}),this.$scope.clearAddress=function(){self.$scope.broker.address=null},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.countryId=self.locationService.countryId,$.extend(self.$scope.broker.location,location),self.$scope.clearAddress()}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.editMode=null!==this.brokerObject,this.isSaveOperationDisable=!0,this.$scope.editMode?(this.$scope.broker=this.brokerObject,this.$scope.broker.images=[],this.$scope.broker.logoImageUrl&&(this.$scope.broker.images=[{filePath:this.$scope.broker.logoImageUrl}])):this.$scope.broker={name:"",location:this.locationService.getEmptyLocation(),images:[]},this.$scope.broker.address=this.locationService.getGoogleAddress(this.$scope.broker.location),this.$scope.nameSettings={placeholder:(0,_messages2.default)("brokers.placeholder.name"),bindingOptions:{value:"broker.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},this.$scope.currencySettings={bindingOptions:{value:"broker.currency"}},this.$scope.currencyValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:5,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"broker.location.countryId"},onValueChanged:function(){self.$timeout(function(){self.$scope.resetAddressData(),self.initAutocomplete(),self.setAutocompleteCountry()})}},this.$scope.countryValidationRules={validationRules:[],validationGroup:this.validationGroup,onOptionChanged:function(){self.setAutocompleteCountry()}},this.$scope.addressSettings={bindingOptions:{value:"broker.address",disabled:"!broker.location.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.broker.location.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.location.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.location.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.location.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"broker.location.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(_this2.validationGroup).validate();if(result.isValid)if(_this2.saveInProgress=!0,_this2.isSaveOperationDisable=!0,_this2.$scope.editMode)self.Broker.update({id:_this2.$scope.broker.id},_this2.$scope.broker,function(result){_this2.notificationService.success((0,_messages2.default)("brokers.message.updated")),_this2.saveInProgress=!1,_this2.$scope.broker.address=_this2.locationService.getAddress(_this2.$scope.broker.location),_this2.$uibModalInstance.close(_this2.$scope.broker)},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1});else{var image=self.$scope.broker.images&&self.$scope.broker.images.length>0?self.$scope.broker.images[0]:null;self.Broker.create({},{model:self.$scope.broker,file:null!=image?self.imageService.dataURItoBlob(image.imageFile.imageData):null,fileName:null!=image?image.originalFileName:null},function(result){_this2.saveInProgress=!1,_this2.$state.go("broker",{id:result.id}),_this2.$uibModalInstance.close(_this2.$scope.broker),_this2.notificationService.success((0,_messages2.default)("brokers.message.created"))},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1})}},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this2.validationGroup),_this2.$uibModalInstance.dismiss("cancel")},this.$scope.updateImage=function(){},this.paymentPeriodStore=_constants2.default.paymentPeriodStore(),this.$scope.paymentPeriodSettings={dataSource:this.paymentPeriodStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"broker.paymentPeriodType"}},this.$scope.paymentPeriodValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup}}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#broker-address-field input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.broker.location.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.broker.location.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.broker.location.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.broker.location.postCode=item.long_name,postCodeSet=!0)}),citySet||(_this3.$scope.broker.location.city=null),streetSet||(_this3.$scope.broker.location.street=null),buildingSet||(_this3.$scope.broker.location.streetAddress=null),postCodeSet||(_this3.$scope.broker.location.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.broker.location.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.broker.location.countryId&&(curCountryCode=country.isoCode)}),curCountryCode&&this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),BrokerEditController}();exports.default=BrokerEditController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'brokers.edit.title\') : Messages(\'brokers.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <div class="form-group">\r\n                <div class="row">\r\n                    <div class="col-sm-4" ng-if="!editMode">\r\n                         <brokergallery images="broker.images" update-image="updateImage"></brokergallery>\r\n                    </div>\r\n                    <div ng-class="{\'col-sm-8\': !editMode, \'col-sm-12\': editMode}">\r\n                        <div class="row m-b-m">\r\n                            <div class="col-sm-9">\r\n                                <label for="field-name" class="control-label">{{Messages(\'brokers.name\')}}</label>\r\n                                <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n                            </div>\r\n                            <div class="col-sm-3">\r\n                                <label for="field-name" class="control-label">{{Messages(\'brokers.currency\')}}</label>\r\n                                <div id="field-name" dx-text-box="currencySettings" dx-validator="currencyValidationRules"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row m-b-m">\r\n                            <div class="col-sm-12">\r\n                                <label for="field-paymentPeriod" class="control-label">{{Messages(\'brokers.paymentPeriod\')}}</label>\r\n                                <div id="field-paymentPeriod" dx-select-box="paymentPeriodSettings" dx-validator="paymentPeriodValidationRules"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row">\r\n                            <div class="col-sm-12">\r\n                                <label for="field-country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                                <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="broker-address-field" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                <div id="broker-address-field" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n            </div>\r\n            <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="form-group">\r\n                        <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                        <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                        <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                        <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                        <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'brokers.saving\') : Messages(\'brokers.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'brokers.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){module.exports='<ul class="nav navbar-nav navbar-right add-menu">\r\n    <li class="dropdown">\r\n        <div class="dropdown-toggle header-icon" href="#" data-toggle="dropdown" aria-expanded="false">\r\n            <img src="img/icons/add.png" srcset="img/icons/add@2x.png 2x" alt="+">\r\n        </div>\r\n\r\n        <ul class="dropdown-menu hdropdown animated">\r\n            <li>\r\n                <a class="action-link" ng-if="$ctrl.addAssetMenuItemAvailable" href ng-click="$ctrl.createAsset()">\r\n                    {{$ctrl.messages(\'mainheader.add.asset\')}}\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a class="action-link" ng-if="$ctrl.addDealMenuItemAvailable" href ng-click="$ctrl.createDeal()">\r\n                    {{$ctrl.messages(\'mainheader.add.deal\')}}\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a class="action-link" ng-if="$ctrl.addTenantMenuItemAvailable" href ng-click="$ctrl.createContract()">\r\n                    {{$ctrl.messages(\'mainheader.add.tenant\')}}\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a class="action-link" ng-if="$ctrl.addUnitMenuItemAvailable" href ng-click="$ctrl.createSpace()">\r\n                    {{$ctrl.messages(\'mainheader.add.space\')}}\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a class="action-link" ng-if="$ctrl.addBrokerMenuItemAvailable" href ng-click="$ctrl.createBroker()">\r\n                    {{$ctrl.messages(\'mainheader.add.broker\')}}\r\n                </a>\r\n            </li>\r\n            <li>\r\n                <a class="action-link" ng-if="$ctrl.addUserMenuItemAvailable" href ng-click="$ctrl.createUser()">\r\n                    {{$ctrl.messages(\'mainheader.add.user\')}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n</ul>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _sidebar=__webpack_require__(818),_sidebar2=_interopRequireDefault(_sidebar),_sidebarTemplate=__webpack_require__(819),_sidebarTemplate2=_interopRequireDefault(_sidebarTemplate),SidebarComponent={bindings:{},controller:_sidebar2.default,template:_sidebarTemplate2.default};exports.default=SidebarComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),Sidebar=function(){function Sidebar($scope,$rootScope,$state,$stateParams,SecurityService,UtilsService,Activities,Asset,LocationService){_classCallCheck(this,Sidebar),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.securityService=SecurityService,this.utils=UtilsService,this.activities=Activities,this.Asset=Asset,this.locationService=LocationService,this.messages=_messages2.default,this.constants=_constants2.default,this.loadUserInfo(),this.init(),this.applyActivities(),this.filterOffset($state)}return Sidebar.$inject=["$scope","$rootScope","$state","$stateParams","SecurityService","UtilsService","Activities","Asset","LocationService"],_createClass(Sidebar,[{key:"init",value:function(){var _this=this,self=this;self.$scope.displayFilters="marketplace-dashboard"!==self.$state.current.name,self.updateMenu(self.$state.current,self.$stateParams),this.$rootScope.$on(_events2.default.TowersTabsCreated,function(ev,data){"asset-stats-stacking-plan"===_this.$state.current.name?(self.$scope.tabs=data.tabs,SimpleScrollbar.initAll()):self.$scope.tabs=[]})}},{key:"loadUserInfo",value:function(){var _this2=this;this.securityService.getUserInfo().then(function(result){_this2.userInfo=result})}},{key:"applyActivities",value:function(){var _this3=this;this.securityService.getActivities().then(function(){_this3.securityService.canDo(_this3.activities.HomeView).then(function(result){return _this3.homeAvailable=result},function(){return _this3.homeAvailable=!1}),_this3.securityService.canDo(_this3.activities.BrokersView).then(function(result){return _this3.brokersAvailable=result},function(){return _this3.brokersAvailable=!1}),_this3.securityService.canDo(_this3.activities.UsersView).then(function(result){return _this3.usersAvailable=result},function(){return _this3.usersAvailable=!1}),_this3.securityService.canDo(_this3.activities.AssetsManage).then(function(result){return _this3.assetsAvailable=result},function(){return _this3.assetsAvailable=!1}),_this3.securityService.canDo(_this3.activities.AssetsView).then(function(result){return _this3.assetsViewAvailable=result},function(){return _this3.assetsViewAvailable=!1}),_this3.securityService.canDo(_this3.activities.MarketsManage).then(function(result){return _this3.marketsAvailable=result},function(){return _this3.marketsAvailable=!1}),_this3.securityService.canDo(_this3.activities.DashboardView).then(function(result){return _this3.dashboardAvailable=result},function(){return _this3.dashboardAvailable=!1}),_this3.securityService.canDo(_this3.activities.GlobalSpacesView).then(function(result){return _this3.spacesViewAvailable=result},function(){return _this3.spacesViewAvailable=!1}),_this3.securityService.canDo(_this3.activities.GlobalTenantsView).then(function(result){return _this3.tenantsViewAvailable=result},function(){return _this3.tenantsViewAvailable=!1}),_this3.securityService.canDo(_this3.activities.GlobalDealsView).then(function(result){return _this3.dealsViewAvailable=result},function(){return _this3.dealsViewAvailable=!1})})}},{key:"updateMenu",value:function(state,stateParams){var self=this;self.assetsClientMenu=self.isAssetsClientMenu(state,stateParams),self.globalClientMenu=!self.assetsClientMenu}},{key:"isActive",value:function(name){var states=[];switch(name){case"users":states=["users","user"];break;case"brokers":states=["brokers","broker"];break;case"assets":states=["assets","edit-asset","asset-stats"];break;case"asset-stats-spaces":states=["asset-stats-spaces"];break;case"asset-stats-tenants":states=["asset-stats-tenants"];break;case"asset-stats-deals":states=["asset-stats-deals"];break;case"asset-stats-stacking-plan":states=["asset-stats-stacking-plan"];break;case"asset-stats-rollover":states=["asset-stats-rollover"];break;case"clients":states=["clients","client"];break;case"dashboard":states=["dashboard"]}for(var i=0,l=states.length;i<l;i++)if(this.$state.includes(states[i]))return!0;return!1}},{key:"resetSettings",value:function(){}},{key:"isAssetsClientMenu",value:function(state,stateParams){return"asset-stats-spaces"===state.name||"asset-stats-stacking-plan"===state.name||"asset-stats-tenants"===state.name||"asset-stats-deals"===state.name}},{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}},{key:"filterOffset",value:function(state){"asset-stats-spaces"!==state.current.name&&"asset-stats-stacking-plan"!==state.current.name&&"asset-stats-tenants"!==state.current.name&&"asset-stats-deals"!==state.current.name||$(".filters").addClass("assets-page-filters")}},{key:"tabSelected",value:function(e,data){e.preventDefault(),this.$rootScope.$emit(_events2.default.TowersTabsChoosed,data),SimpleScrollbar.initAll()}}]),Sidebar}();exports.default=Sidebar}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='\r\n<div class="sidebar-image" ng-if="$ctrl.showAssetPanel">\r\n\t<img draggable="false" ng-src="{{($ctrl.asset.mainImageUrl ? $ctrl.asset.mainImageUrl: \'/img/side_image_example.jpg\')}}" alt="" />\r\n</div>\r\n\r\n<div class="filters-header" ng-if="displayFilters" > \r\n\t<div class="filters-header-bg"></div>\r\n\t<div class="filters-header-text">\r\n\t\t<div>\r\n\t\t\t{{ ($ctrl.$state.current.name === \'asset-stats-stacking-plan\') ? $ctrl.messages(\'stacking-plan.towers\') : $ctrl.messages(\'filters.extra\') }}\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<div class="sidebar-towers" tabindex="0" ng-show="$ctrl.$state.current.name === \'asset-stats-stacking-plan\'" ss-container>\r\n    <ul id="tabs" role="tablist">\r\n        <li ng-repeat="tab in tabs" ng-class="tabs.indexOf(tab) === 0 ? \'active\' : \'\'">\r\n            <a href="#content" data-toggle="tab" role="tab" ng-click="$ctrl.tabSelected($event, tab)">\r\n                {{ tab.name }}\r\n            </a>\r\n            <div class="sidebar-towers-line"></div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n\r\n<div class="filters" tabindex="0" ng-show="$ctrl.$state.current.name !== \'asset-stats-stacking-plan\'" ss-container>\r\n\t<extra-filters></extra-filters>\r\n</div>\r\n\r\n';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _rightSidebar=__webpack_require__(821),_rightSidebar2=_interopRequireDefault(_rightSidebar),_rightSidebarTemplate=__webpack_require__(822),_rightSidebarTemplate2=_interopRequireDefault(_rightSidebarTemplate),RightSidebarComponent={bindings:{},controller:_rightSidebar2.default,template:_rightSidebarTemplate2.default};exports.default=RightSidebarComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),RightSidebar=function(){function RightSidebar($scope,$rootScope,$state,$timeout){_classCallCheck(this,RightSidebar),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$timeout=$timeout,this.messages=_messages2.default,this.bodyCl="right-sidebar-opened",this.bodyBlockerCl="blocker-show",this.constants=_constants2.default,this.updateContent=this.updateContent.bind(this),this.close=this.close.bind(this),this.init()}return RightSidebar.$inject=["$scope","$rootScope","$state","$timeout"],_createClass(RightSidebar,[{key:"init",value:function(){this.$scope.$on("right-sidebar:open",this.updateContent),this.$scope.$on("right-sidebar:close",this.close),this.initScrollbar()}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"updateContent",value:function(e,content){var _this=this;this.$scope.content=null,this.$timeout(function(){_this.$scope.contentType=content.type,_this.$scope.content=content.data,_this.$scope.visible||($(document.body).addClass(_this.bodyCl),_this.$timeout(function(){$(document.body).addClass(_this.bodyBlockerCl)}),_this.$scope.visible=!0)})}},{key:"close",value:function(){var _this2=this;this.$scope.visible=!1,$(document.body).removeClass(this.bodyBlockerCl),this.$timeout(function(){_this2.$scope.contentType=null,_this2.$scope.content=null,$(document.body).removeClass(_this2.bodyCl)},300),this.$rootScope.$broadcast("right-sidebar:closed")}}]),RightSidebar}();exports.default=RightSidebar}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div id="right-sidebar" ng-class="{\'visible\': visible, \'tenant-sidebar\': contentType == $ctrl.constants.sidebarContentType.tenant, \'deal-sidebar\': contentType == $ctrl.constants.sidebarContentType.deal, \r\n\'marketplace-client-sidebar\' : contentType == $ctrl.constants.sidebarContentType.marketplaceClient, \r\n\'stackingplan-sidebar\' : contentType == $ctrl.constants.sidebarContentType.stackingPlan}">\r\n    <div ng-if="contentType === \'loading\'">\r\n        <button class="btn btn-default m-b-m m-t-m m-l-m" ng-click="$ctrl.close()">\r\n            <i class="fa fa-times"></i>\r\n        </button>\r\n        <div class="loading">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n    </div>\r\n    <space-description ng-if="contentType == $ctrl.constants.sidebarContentType.space" data="content" context="\'sidebar\'"></space-description>\r\n    <tenant-description ng-if="contentType == $ctrl.constants.sidebarContentType.tenant" data="content" context="\'sidebar\'"></tenant-description>\r\n    <deal-description ng-if="contentType == $ctrl.constants.sidebarContentType.deal" data="content" context="\'sidebar\'"></deal-description>\r\n    <marketplace-client-description ng-if="contentType == $ctrl.constants.sidebarContentType.marketplaceClient" data="content" context="\'sidebar\'"></marketplace-client-description>\r\n    <stacking-plan-details ng-if="contentType == $ctrl.constants.sidebarContentType.stackingPlan" data="content" context="\'sidebar\'"></stacking-plan-details>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _navigationCreateItems=__webpack_require__(824),_navigationCreateItems2=_interopRequireDefault(_navigationCreateItems),_navigationCreateItemsTemplate=__webpack_require__(825),_navigationCreateItemsTemplate2=_interopRequireDefault(_navigationCreateItemsTemplate),NavigationCreateItemsComponent={bindings:{item:"=?"},controller:_navigationCreateItems2.default,template:_navigationCreateItemsTemplate2.default};exports.default=NavigationCreateItemsComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_userEditModal=__webpack_require__(812),_userEditModal2=_interopRequireDefault(_userEditModal),_userEditModalTemplate=__webpack_require__(813),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_brokerEditModal=__webpack_require__(814),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(815),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),_assetEditModal=__webpack_require__(805),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModal2Template=__webpack_require__(811),_assetEditModal2Template2=_interopRequireDefault(_assetEditModal2Template),_clientEditModal=__webpack_require__(799),_clientEditModal2=_interopRequireDefault(_clientEditModal),_clientEditModalTemplate=__webpack_require__(800),_clientEditModalTemplate2=_interopRequireDefault(_clientEditModalTemplate),NavigationCreateItemsController=function(){function NavigationCreateItemsController($scope,SecurityService,Activities,$uibModal){_classCallCheck(this,NavigationCreateItemsController),this.$scope=$scope,this.securityService=SecurityService,this.activities=Activities,this.$uibModal=$uibModal,this.messages=_messages2.default,this.init(),this.applyActivities()}return NavigationCreateItemsController.$inject=["$scope","SecurityService","Activities","$uibModal"],_createClass(NavigationCreateItemsController,[{key:"init",value:function(){var _this=this;this.$scope.addNewUser=function(){_this.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:null}})},this.$scope.addNewBroker=function(){_this.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:null}})},this.$scope.addNewSet=function(){_this.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModal2Template2.default,resolve:{assetObject:null},size:"lg"})},this.$scope.addNewClient=function(){_this.$uibModal.open({controller:_clientEditModal2.default,template:_clientEditModalTemplate2.default,resolve:{clientId:null}})},this.$scope.addNewMarket=function(){$("#gridContainer").dxDataGrid("instance").addRow()}}},{key:"applyActivities",value:function(){var _this2=this;this.securityService.getActivities().then(function(){_this2.securityService.canDo(_this2.activities.HomeView).then(function(result){return _this2.homeAvailable=result},function(){return _this2.homeAvailable=!1}),_this2.securityService.canDo(_this2.activities.BrokersView).then(function(result){return _this2.brokersAvailable=result},function(){return _this2.brokersAvailable=!1}),_this2.securityService.canDo(_this2.activities.UsersView).then(function(result){return _this2.usersAvailable=result},function(){return _this2.usersAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsManage).then(function(result){return _this2.assetsAvailable=result},function(){return _this2.assetsAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsView).then(function(result){return _this2.assetsViewAvailable=result},function(){return _this2.assetsViewAvailable=!1}),_this2.securityService.canDo(_this2.activities.ClientsManage).then(function(result){return _this2.clientsAvailable=result},function(){return _this2.clientsAvailable=!1})})}}]),NavigationCreateItemsController}();exports.default=NavigationCreateItemsController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<button ng-click="addNewUser()" ng-if="$ctrl.item === \'user\'" class="btn btn-primary add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    {{$ctrl.messages(\'users.new\')}}\r\n</button>\r\n\r\n<button ng-click="addNewBroker()" ng-if="$ctrl.item === \'broker\'" class="btn btn-primary add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    {{$ctrl.messages(\'brokers.new\')}}\r\n</button>\r\n\r\n<button ng-click="addNewSet()" ng-if="$ctrl.item === \'asset\'" class="btn btn-primary add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    {{$ctrl.messages(\'assets.new\')}}\r\n</button>\r\n\r\n<button ng-click="addNewClient()" ng-if="$ctrl.item === \'client\'" class="btn btn-primary add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    {{$ctrl.messages(\'clients.new\')}}\r\n</button>\r\n\r\n<button ng-click="addNewMarket()" ng-if="$ctrl.item === \'market\'" class="btn btn-primary add-entity-btn">\r\n    <i class="fa fa-plus"></i>\r\n    {{$ctrl.messages(\'markets.new\')}}\r\n</button>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _navigationInternal=__webpack_require__(827),_navigationInternal2=_interopRequireDefault(_navigationInternal),_navigationInternalTemplate=__webpack_require__(828),_navigationInternalTemplate2=_interopRequireDefault(_navigationInternalTemplate),NavigationInternalComponent={bindings:{},controller:_navigationInternal2.default,template:_navigationInternalTemplate2.default};exports.default=NavigationInternalComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),NavigationInternalController=function(){function NavigationInternalController($scope,$rootScope,$state,$stateParams,SecurityService,UtilsService,Activities,Asset,LocationService){_classCallCheck(this,NavigationInternalController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.securityService=SecurityService,this.utils=UtilsService,this.activities=Activities,this.Asset=Asset,this.locationService=LocationService,this.messages=_messages2.default,this.constants=_constants2.default,this.loadUserInfo(),this.init(),this.applyActivities()}return NavigationInternalController.$inject=["$scope","$rootScope","$state","$stateParams","SecurityService","UtilsService","Activities","Asset","LocationService"],_createClass(NavigationInternalController,[{key:"init",value:function(){var self=this;self.updateMenu(self.$state.current,self.$stateParams)}},{key:"loadUserInfo",value:function(){var _this=this;this.securityService.getUserInfo().then(function(result){_this.userInfo=result})}},{key:"applyActivities",value:function(){var _this2=this;this.securityService.getActivities().then(function(){_this2.securityService.canDo(_this2.activities.HomeView).then(function(result){return _this2.homeAvailable=result},function(){return _this2.homeAvailable=!1}),_this2.securityService.canDo(_this2.activities.BrokersView).then(function(result){return _this2.brokersAvailable=result},function(){return _this2.brokersAvailable=!1}),_this2.securityService.canDo(_this2.activities.UsersView).then(function(result){return _this2.usersAvailable=result},function(){return _this2.usersAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsManage).then(function(result){return _this2.assetsAvailable=result},function(){return _this2.assetsAvailable=!1}),_this2.securityService.canDo(_this2.activities.AssetsView).then(function(result){return _this2.assetsViewAvailable=result},function(){return _this2.assetsViewAvailable=!1}),_this2.securityService.canDo(_this2.activities.MarketsManage).then(function(result){return _this2.marketsAvailable=result},function(){return _this2.marketsAvailable=!1}),_this2.securityService.canDo(_this2.activities.DashboardView).then(function(result){return _this2.dashboardAvailable=result},function(){return _this2.dashboardAvailable=!1}),_this2.securityService.canDo(_this2.activities.GlobalSpacesView).then(function(result){return _this2.spacesViewAvailable=result},function(){return _this2.spacesViewAvailable=!1}),_this2.securityService.canDo(_this2.activities.GlobalTenantsView).then(function(result){return _this2.tenantsViewAvailable=result},function(){return _this2.tenantsViewAvailable=!1}),_this2.securityService.canDo(_this2.activities.GlobalDealsView).then(function(result){return _this2.dealsViewAvailable=result},function(){return _this2.dealsViewAvailable=!1}),_this2.securityService.canDo(_this2.activities.MarketplaceDashboard).then(function(result){return _this2.marketplaceDashboardAvailable=result},function(){return _this2.marketplaceDashboardAvailable=!1}),_this2.securityService.canDo(_this2.activities.MarketplaceUnits).then(function(result){return _this2.marketplaceUnitsAvailable=result},function(){return _this2.marketplaceUnitsAvailable=!1}),_this2.securityService.canDo(_this2.activities.MarketplaceDeals).then(function(result){return _this2.marketplaceDealsAvailable=result},function(){return _this2.marketplaceDealsAvailable=!1}),_this2.securityService.canDo(_this2.activities.MarketplaceClients).then(function(result){return _this2.marketplaceClientsAvailable=result},function(){return _this2.marketplaceClientsAvailable=!1}),_this2.securityService.canDo(_this2.activities.CompetetiveInsightsCompetitions).then(function(result){return _this2.competetiveInsightsCompetitionsAvailable=result},function(){return _this2.competetiveInsightsCompetitionsAvailable=!1}),_this2.securityService.canDo(_this2.activities.CompetetiveInsightsBuildings).then(function(result){return _this2.competetiveInsightsBuildingsAvailable=result},function(){return _this2.competetiveInsightsBuildingsAvailable=!1})})}},{key:"updateMenu",value:function(state,stateParams){var self=this;self.assetsClientMenu=self.isAssetsClientMenu(state,stateParams),self.globalClientMenu=!self.assetsClientMenu}},{key:"isActive",value:function(name){var states=[];switch(name){case"users":states=["users","user"];break;case"brokers":states=["brokers","broker"];break;case"assets":states=["assets","edit-asset","asset-stats"];break;case"asset-stats-spaces":states=["asset-stats-spaces"];break;case"asset-stats-tenants":states=["asset-stats-tenants"];break;case"asset-stats-deals":states=["asset-stats-deals"];break;case"asset-stats-stacking-plan":states=["asset-stats-stacking-plan"];break;case"asset-stats-rollover":states=["asset-stats-rollover"];break;case"clients":states=["clients","client"];break;case"dashboard":states=["dashboard"];break;case"tenants":states=["tenants"];break;case"spaces":states=["spaces"];break;case"deals":states=["deals"];break;case"marketplace-dashboard":states=["marketplace-dashboard"];break;case"marketplace-units":states=["marketplace-units"];break;case"marketplace-deals":states=["marketplace-deals"];break;case"marketplace-clients":states=["marketplace-clients"]}for(var i=0,l=states.length;i<l;i++)if(this.$state.includes(states[i]))return!0;return!1}},{key:"resetSettings",value:function(){}},{key:"isAssetsClientMenu",value:function(state,stateParams){var self=this;return("asset-stats-spaces"===state.name||"asset-stats-stacking-plan"===state.name||"asset-stats-tenants"===state.name||"asset-stats-deals"===state.name)&&(self.$scope.assetId=state.resolve.assetId[1](stateParams),!0)}},{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}}]),NavigationInternalController}();exports.default=NavigationInternalController},function(module,exports){module.exports='<ul class="nav nav-internal" data-sticky="84" ng-class="{\'t360-sticky\': !$ctrl.isActive(\'dashboard\')}" ng-if="$ctrl.$state.params.area === $ctrl.constants.Areas.Portfolio">\r\n    <li ng-show="$ctrl.dashboardAvailable && $ctrl.globalClientMenu" ng-class="{active: $ctrl.isActive(\'dashboard\')}">\r\n        <a ui-sref="dashboard">{{$ctrl.messages(\'sidebar.dashboard\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.brokersAvailable" ng-class="{active: $ctrl.isActive(\'brokers\')}">\r\n        <a ui-sref="brokers">{{$ctrl.messages(\'sidebar.brokers\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.usersAvailable" ng-class="{active: $ctrl.isActive(\'users\')}">\r\n        <a ui-sref="users">{{$ctrl.messages(\'sidebar.users\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.assetsAvailable" ng-class="{active: $ctrl.isActive(\'assets\')}">\r\n        <a ui-sref="assets">{{$ctrl.messages(\'sidebar.assets\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.marketsAvailable" ng-class="{active: $ctrl.isActive(\'markets\')}">\r\n        <a ui-sref="markets">{{$ctrl.messages(\'sidebar.markets\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.globalClientMenu && $ctrl.assetsViewAvailable && ($ctrl.userInfo.roleId == $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId == $ctrl.constants.userRoles.assetManager)" ng-class="{active: $ctrl.isActive(\'assets\')}">\r\n        <a ui-sref="asset-stats">{{$ctrl.messages(\'sidebar.assets\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.globalClientMenu && $ctrl.tenantsViewAvailable" ng-class="{active: $ctrl.isActive(\'tenants\')}">\r\n        <a ui-sref="tenants">{{$ctrl.messages(\'sidebar.clients\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.globalClientMenu && $ctrl.spacesViewAvailable" ng-class="{active: $ctrl.isActive(\'spaces\')}">\r\n        <a ui-sref="spaces">{{$ctrl.messages(\'sidebar.spaces\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.globalClientMenu && $ctrl.dealsViewAvailable && ($ctrl.userInfo.roleId == $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId == $ctrl.constants.userRoles.assetManager)" ng-class="{active: $ctrl.isActive(\'deals\')}">\r\n        <a ui-sref="deals">{{$ctrl.messages(\'sidebar.deals\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.assetsClientMenu && $ctrl.assetsViewAvailable && ($ctrl.userInfo.roleId == $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId == $ctrl.constants.userRoles.assetManager)" ng-class="{active: $ctrl.isActive(\'asset-stats-spaces\')}">\r\n        <a ui-sref="asset-stats-spaces({id: assetId})">{{$ctrl.messages(\'sidebar.spaces\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.assetsClientMenu && $ctrl.assetsViewAvailable && ($ctrl.userInfo.roleId == $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId == $ctrl.constants.userRoles.assetManager)" ng-class="{active: $ctrl.isActive(\'asset-stats-tenants\')}">\r\n        <a ui-sref="asset-stats-tenants({id: assetId})">{{$ctrl.messages(\'sidebar.clients\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.assetsClientMenu && $ctrl.assetsViewAvailable && ($ctrl.userInfo.roleId == $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId == $ctrl.constants.userRoles.assetManager)" ng-class="{active: $ctrl.isActive(\'asset-stats-deals\')}">\r\n        <a ui-sref="asset-stats-deals({id: assetId})">{{$ctrl.messages(\'sidebar.deals\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.assetsClientMenu && $ctrl.assetsViewAvailable && ($ctrl.userInfo.roleId == $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId == $ctrl.constants.userRoles.assetManager)" ng-class="{active: $ctrl.isActive(\'asset-stats-stacking-plan\')}">\r\n        <a ui-sref="asset-stats-stacking-plan({id: assetId})">{{$ctrl.messages(\'sidebar.stackingplan\')}}</a>\r\n    </li>\r\n</ul>\r\n\r\n<ul class="nav nav-internal" data-sticky="84" ng-class="{\'t360-sticky\': !$ctrl.isActive(\'marketplace-dashboard\')}" ng-if="$ctrl.$state.params.area === $ctrl.constants.Areas.Marketplace">\r\n    <li ng-show="$ctrl.marketplaceDashboardAvailable" ng-class="{active: $ctrl.isActive(\'marketplace-dashboard\')}">\r\n        <a ui-sref="marketplace-dashboard">{{$ctrl.messages(\'sidebar.marketplace_dashboard\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.marketplaceUnitsAvailable" ng-class="{active: $ctrl.isActive(\'marketplace-units\')}">\r\n        <a ui-sref="marketplace-units">{{$ctrl.messages(\'sidebar.marketplace_units\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.marketplaceDealsAvailable" ng-class="{active: $ctrl.isActive(\'marketplace-deals\')}">\r\n        <a ui-sref="marketplace-deals">{{$ctrl.messages(\'sidebar.marketplace_deals\')}}</a>\r\n    </li>\r\n    <li ng-show="$ctrl.marketplaceClientsAvailable" ng-class="{active: $ctrl.isActive(\'marketplace-clients\')}">\r\n        <a ui-sref="marketplace-clients">{{$ctrl.messages(\'sidebar.marketplace_clients\')}}</a>\r\n    </li>\r\n</ul>\r\n\r\n<hr class="nav-internal-line">\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _imagegallery=__webpack_require__(830),_imagegallery2=_interopRequireDefault(_imagegallery),_imagegalleryTemplate=__webpack_require__(839),_imagegalleryTemplate2=_interopRequireDefault(_imagegalleryTemplate),ImageGalleryComponent={bindings:{images:"=",maxImageWidth:"=?",maxImageHeight:"=?",maxImageCount:"=?",readonly:"=?",imageAddCallback:"=?",imageDeleteCallback:"=?",sortingChangeCallback:"=?",showMain:"=?"},controller:_imagegallery2.default,template:_imagegalleryTemplate2.default};exports.default=ImageGalleryComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(479),_messages=(_interopRequireDefault(_array_store),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_imagecropper=__webpack_require__(831),_imagecropper2=_interopRequireDefault(_imagecropper),_imagecropperTemplate=__webpack_require__(838),_imagecropperTemplate2=_interopRequireDefault(_imagecropperTemplate),ImageGalleryController=function(){function ImageGalleryController($scope,$uibModal,FileService,ImageService,UtilsService){_classCallCheck(this,ImageGalleryController),this.images=this.images,this.maxImageWidth=this.maxImageWidth||500,this.maxImageHeight=this.maxImageHeight||500,this.maxImageCount=this.maxImageCount||10,this.readonly=this.readonly||!1,this.imageAddCallback=this.imageAddCallback,this.imageDeleteCallback=this.imageDeleteCallback,this.showMain=this.showMain||!1,this.$scope=$scope,this.$uibModal=$uibModal,this.fileService=FileService,this.imageService=ImageService,this.utils=UtilsService,this.init(),this.initComponent()}return ImageGalleryController.$inject=["$scope","$uibModal","FileService","ImageService","UtilsService"],_createClass(ImageGalleryController,[{key:"init",value:function(){for(var self=this,i=0;i<self.images.length;i++)self.images[i].uniqueId||(self.images[i].uniqueId=self.utils.generateGuid());self.enableUpload=!0,self.imageCount=self.images.length,self.$scope.images=self.images,self.$scope.readonly=self.readonly}},{key:"initComponent",value:function(){var self=this;self.addImageBtnConfig={icon:"add",type:"default",text:(0,_messages2.default)("users.images.add"),bindingOptions:{disabled:"!$ctrl.enableUpload"}},self.uploadImage=function(){var self=this;if(!self.readonly){var modal=this.$uibModal.open({controller:_imagecropper2.default,template:_imagecropperTemplate2.default,resolve:{maxImageHeight:self.maxImageHeight,maxImageWidth:self.maxImageWidth,viewPortType:function(){return"square"}}});modal.result.then(function(result){if(self.imageCount>=self.maxImageCount)return void self.checkImageLimit();self.imageCount++;var image=self.createImage(result.file);image.imageFile.imageData=result.raw,self.addImage(image)}),modal.closed.then(function(){})}},self.addImage=function(image){self.readonly||(self.images.push(image),self.imageAddCallback&&self.imageAddCallback(image),self.updateImageOrder(),self.checkImageLimit(),self.$scope.$$phase||self.$scope.$root&&self.$scope.$root.$$phase||self.$scope.$apply())},self.deleteImage=function(image){if(!self.readonly){for(var i=0;i<self.images.length;i++)if(self.images[i].uniqueId==image.uniqueId){self.images.splice(i,1);break}self.imageDeleteCallback&&self.imageDeleteCallback(image),self.imageCount--,self.updateImageOrder(),self.checkImageLimit()}},self.onImageSort=function(){self.updateImageOrder()},self.createImage=function(file){var image={id:0,uniqueId:self.utils.generateGuid(),filePath:"",order:0,originalFileName:file.filename,isMain:0,contentType:file.extension,imageFile:{data:[],imageData:file.data,contentType:file.extension,uniqueFileName:"",originalFileName:file.filename}};return image},self.sortImage=function(){self.images.sort(function(a,b){return a.order>b.order?1:a.order<b.order?-1:0})},self.updateImageOrder=function(){for(var i=0;i<self.images.length;i++)self.images[i].order=i,self.images[i].isMain=!1;self.images.length>0&&(self.images[0].isMain=!0),self.sortingChangeCallback&&self.sortingChangeCallback()},self.checkImageLimit=function(){self.images.length<self.maxImageCount&&!self.readonly?self.enableUpload=!0:self.enableUpload=!1,self.$scope.$$phase||self.$scope.$root&&self.$scope.$root.$$phase||self.$scope.$apply()},self.loadFiles=function(files){self.readonly||self.fileService.uploadFiles(files,function(singleFile){if(self.imageCount>=self.maxImageCount)return void self.checkImageLimit();self.imageCount++;var image=self.createImage(singleFile);self.resizeImage(image,function(imageRaw){image.imageFile.imageData=imageRaw,self.addImage(image)})},function(){self.checkImageLimit()})},self.resizeImage=function(image,imageResizedCallback){var sourceImage=new Image;sourceImage.src=image.imageFile.imageData;var imgWidth=sourceImage.width,imgHeight=sourceImage.height;(sourceImage.width>self.maxImageWidth||sourceImage.height>self.maxImageHeight)&&(sourceImage.width>sourceImage.height?(imgWidth=self.maxImageWidth,imgHeight=sourceImage.height*(self.maxImageWidth/sourceImage.width)):(imgWidth=sourceImage.width*(self.maxImageHeight/sourceImage.height),imgHeight=self.maxImageHeight)),self.imageService.resizeImage(sourceImage,image.contentType,imgWidth,imgHeight,imageResizedCallback)},self.sortImage(),self.$scope.addImageBtnClick=self.addImageBtnClick,self.$scope.deleteImage=self.deleteImage,self.$scope.onImageSort=self.onImageSort,self.$scope.Messages=_messages2.default,angular.element(document).ready(function(){$("#imageUploader").change(function(){self.loadFiles($("#imageUploader")[0].files)}),self.checkImageLimit()})}}]),ImageGalleryController}();exports.default=ImageGalleryController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(479),_messages=(_interopRequireDefault(_array_store),__webpack_require__(721)),_croppie=(_interopRequireDefault(_messages),__webpack_require__(832)),_croppie2=_interopRequireDefault(_croppie);__webpack_require__(836);var ImageCropperController=function(){function ImageCropperController($scope,$rootScope,$uibModalInstance,Upload,maxImageHeight,maxImageWidth,viewPortType){_classCallCheck(this,ImageCropperController),this.$scope=$scope,this.$rootScope=$rootScope,this.$uibModalInstance=$uibModalInstance,this.maxImageHeight=maxImageHeight,this.maxImageWidth=maxImageWidth,this.viewPortType=viewPortType||"square",this.$croppie=null,this.init()}return ImageCropperController.$inject=["$scope","$rootScope","$uibModalInstance","Upload","maxImageHeight","maxImageWidth","viewPortType"],_createClass(ImageCropperController,[{key:"init",value:function(){var self=this;this.$scope.fileSelected=function(files,events,b){if(files&&files.length>0){var reader=new FileReader;reader.onload=function(evt){self.cropImage(evt.target.result)},reader.readAsDataURL(files[0])}},this.$scope.uploadImage=function(){$("#upload").val(null),setTimeout(function(){$("#upload").click()},200)},this.$scope.save=function(){self.$croppie.result({type:"canvas",size:{width:self.maxImageWidth,height:self.maxImageHeight},format:self.getImageType(self.$scope.picFile)
}).then(function(resp){self.$uibModalInstance.close({file:self.$scope.picFile,raw:resp})})},this.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},this.cropImage=function(file){var self=this;setTimeout(function(){self.$croppie.bind({url:file,zoom:0})},50)},this.getImageType=function(file){return"png"==file.name.split(".").pop().toLowerCase()?"png":"jpeg"},angular.element(document).ready(function(){var el=document.getElementById("cropPanel");self.$croppie=new _croppie2.default(el,{enableExif:!0,viewport:{width:self.maxImageWidth,height:self.maxImageHeight,type:self.viewPortType},boundary:{width:self.maxImageWidth+100,height:self.maxImageHeight+100},mouseWheelZoom:!0,showZoomer:!0,enableOrientation:!0,enforceBoundary:!0}),$("#upload").change(function(){$("#upload")[0].files&&$("#upload")[0].files.length>0&&(self.$scope.picFile=$("#upload")[0].files[0],self.$scope.fileSelected($("#upload")[0].files),self.$rootScope.$$phase||self.$scope.$apply())})})}}]),ImageCropperController}();exports.default=ImageCropperController}).call(exports,__webpack_require__(178))},,,,,,,function(module,exports){module.exports='<form class="form-horizontal" role="form">\r\n    <div class="inmodal hmodal-info image-cropper">\r\n        <div class="color-line"></div>\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">{{ Messages(\'image.cropper.title\') }}</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n            <div class="up-buttons">\r\n                <div ngf-drop ng-model="picFile" ngf-change="fileSelected($files, $event, b)" \r\n                        ngf-drag-over-class="{ accept:\'dragover\', reject:\'dragover-err\', delay:100}" \r\n                        ngf-multiple="false" ngf-pattern="image/*">\r\n                    <div ng-show="!picFile" class="upload-msg">\r\n                        <span>{{ Messages(\'image.cropper.placeholder.empty\') }}</span>\r\n                    </div>\r\n                    <div ng-show="picFile" class="upload-image-wrap">\r\n                        <div id="cropPanel"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="upload-button">\r\n                <btn class="btn btn-primary add-entity-btn" ng-click="uploadImage()">\r\n                    <i class="fa fa-plus"></i>\r\n                    <span>{{ Messages(\'image.cropper.addbutton\') }}</span>\r\n                </btn>\r\n            </div>\r\n            <input type="file" class="hidden" id="upload" accept="image/*" />\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary" ng-click="save()">\r\n                {{ saveInProgress ? Messages(\'image.cropper.saving\') : Messages(\'image.cropper.save\') }}\r\n            </button>\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'image.cropper.cancel\') }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>'},function(module,exports){module.exports='<form>\r\n<div class="image-gallery"name="galleryForm">\r\n    <div class="sortable-container grid" sv-root sv-part="images" sv-on-sort="onImageSort()">\r\n        <div ng-repeat="image in images | limitTo: $ctrl.maxImageCount" sv-element="opts" class="image-list grid">\r\n            <div class="image-item">\r\n                <div class="image-base"><img draggable="false" ng-if="image.filePath != \'\'" ng-src="{{image.filePath}}" /></div>\r\n                <div class="image-base"><img draggable="false" ng-if="image.filePath == \'\'" ng-src="{{image.imageFile.imageData}}" /></div>\r\n                <div class="image-delete">\r\n                    <span class="fa fa-minus-circle" ng-if="!readonly" ng-click="alert(\'Test\');console.log($ctrl);deleteImage(image);"></span>\r\n                </div>\r\n                <div class="image-favourite">\r\n                    <div class="image-favorite-text" draggable="false" ng-if="image.isMain && $ctrl.showMain">\r\n                        {{ Messages(\'assets.gallery.main\') }}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="image-gallery-add-btn" ng-if="$ctrl.enableUpload" ng-click="$ctrl.uploadImage();">\r\n        <div class="edge"></div>\r\n        <div class="cont">\r\n            <div>\r\n                <i class="fa fa-picture-o"></i>\r\n            </div>\r\n            {{ Messages(\'assets.gallery.add\') }}\r\n        </div>\r\n    </div>\r\n</form>\r\n<input type="file" id="imageUploader" multiple accept="image/*" class="hidden" />'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _imagecropper=__webpack_require__(831),_imagecropper2=_interopRequireDefault(_imagecropper),_imagecropperTemplate=__webpack_require__(838),_imagecropperTemplate2=_interopRequireDefault(_imagecropperTemplate),ImageCropperComponent={bindings:{maxImageHeight:"=",maxImageWidth:"=",viewPortType:"=?"},controller:_imagecropper2.default,template:_imagecropperTemplate2.default};exports.default=ImageCropperComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _attachements=__webpack_require__(842),_attachements2=_interopRequireDefault(_attachements),_attachementsTemplate=__webpack_require__(843),_attachementsTemplate2=_interopRequireDefault(_attachementsTemplate),AttachementsComponent={bindings:{documents:"=",maxAttachementSize:"=?",maxAttachementCount:"=?",readonly:"=?",documentCreateCallback:"=?",documentAddCallback:"=?",documentDeleteCallback:"=?"},controller:_attachements2.default,template:_attachementsTemplate2.default};exports.default=AttachementsComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),AttachementsController=function(){function AttachementsController($scope,FileService,NotificationService,UtilsService){_classCallCheck(this,AttachementsController),this.documents=this.documents,this.maxAttachementSize=this.maxAttachementSize||5e6,this.maxAttachementCount=this.maxAttachementCount||10,this.readonly=this.readonly||!1,this.documentCreateCallback=this.documentCreateCallback,this.documentAddCallback=this.documentAddCallback,this.documentDeleteCallback=this.documentDeleteCallback,this.$scope=$scope,this.fileService=FileService,this.notificationService=NotificationService,this.utils=UtilsService,this.init(),this.initComponent(),this.initList()}return AttachementsController.$inject=["$scope","FileService","NotificationService","UtilsService"],_createClass(AttachementsController,[{key:"init",value:function(){for(var self=this,i=0;i<self.documents.length;i++)self.documents[i].uniqueId||(self.documents[i].uniqueId=self.utils.generateGuid());self.enableUpload=!0,self.documentsCount=self.documents.length,self.editNotesValue="",self.$scope.Messages=_messages2.default}},{key:"initComponent",value:function(){var self=this;self.editDocumentBtnConfig={icon:"edit",type:"success",bindingOptions:{visible:"!file.isEditMode"},onClick:function(e){e.model.file.isEditMode?self.resetEditMode():(self.resetEditMode(),self.editNotesValue=e.model.file.notes,e.model.file.isEditMode=!0)}},self.deleteDocumentBtnConfig={icon:"trash",type:"danger",bindingOptions:{visible:"!file.isEditMode"},onClick:function(e){self.resetEditMode(),self.deleteDocument(e.model.file)}},self.saveDocumentBtnConfig={icon:"save",type:"default",bindingOptions:{visible:"file.isEditMode"},onClick:function(e){e.model.file.notes=self.editNotesValue,self.resetEditMode()}},self.cancelDocumentBtnConfig={icon:"remove",type:"danger",bindingOptions:{visible:"file.isEditMode"},onClick:function(e){self.resetEditMode()}},self.editDocumentTxbConfig={isValid:!1,bindingOptions:{value:"$ctrl.editNotesValue",visible:"file.isEditMode"}},self.editDocumentTxbValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:"documentNotes"},self.checkFileLimit=function(){self.documents.length<self.maxAttachementCount&&!self.readonly?self.enableUpload=!0:self.enableUpload=!1,self.$scope.$$phase||self.$scope.$root&&self.$scope.$root.$$phase||self.$scope.$apply()},self.loadFiles=function(files){self.fileService.uploadFiles(files,function(singleFile){if(singleFile.size>self.maxAttachementSize)return void self.notificationService.error("Error loading file "+singleFile.filename+". Maximum file size is "+self.maxAttachementSize+" byte");if(self.documentsCount>=self.maxAttachementCount)return void self.checkFileLimit();self.documentsCount++;var document=self.createDocument(singleFile);self.documents.push(document),self.documentAddCallback&&self.documentAddCallback(document)},function(){self.checkFileLimit(),self.refreshList()})},self.createDocument=function(file){var document={id:0,uniqueId:self.utils.generateGuid(),isEditMode:!1,filePath:"",originalFileName:file.filename,notes:"",contentType:file.extension,documentFile:{data:[],fileData:file.data,contentType:file.extension,uniqueFileName:"",originalFileName:file.filename}};return self.documentCreateCallback&&self.documentCreateCallback(document),document},self.deleteDocument=function(file){for(var i=0;i<self.documents.length;i++)if(self.documents[i].uniqueId==file.uniqueId){self.documents.splice(i,1);break}self.documentsCount--,self.documentDeleteCallback&&self.documentDeleteCallback(file),self.checkFileLimit(),self.refreshList()},self.resetEditNotesValue=function(){self.editNotesValue=""},self.resetEditMode=function(){self.resetEditNotesValue();for(var i=0;i<self.documents.length;i++)self.documents[i].isEditMode=!1},angular.element(document).ready(function(){$("#attachementsUploader").change(function(){self.loadFiles($("#attachementsUploader")[0].files)}),self.checkFileLimit()})}},{key:"initList",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.notificationService.error(response.data)}},self.store=new _array_store2.default({data:self.documents,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.listDataSource={store:self.store},self.listOptions={dataSource:self.listDataSource},self.refreshList=function(){$("#listContainer").dxList("instance").reload()}}},{key:"addDocument",value:function(){$("#attachementsUploader").val(null),setTimeout(function(){$("#attachementsUploader").click()},200)}}]),AttachementsController}();exports.default=AttachementsController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<form name="settingsForm">\r\n    <fieldset class="attachments">\r\n        <div class="wrap">\r\n            <div class="btn-group" ng-if="$ctrl.enableUpload">\r\n                <a href="#" class="add-entity-btn" ng-click="$ctrl.addDocument()">\r\n                    <i class="fa fa-plus"></i>\r\n                    <span>{{Messages(\'assets.spaces.documents.add\')}}</span>\r\n                </a>\r\n            </div>\r\n            <div class="form-group">\r\n                <div class="dx-viewport">\r\n                    <div class="list-container">\r\n                        <div dx-list="$ctrl.listOptions" id="listContainer" dx-item-alias="file">\r\n                            <div data-options="dxTemplate: {name: \'item\'}">\r\n                                <div class="col-sm-9 pull-left">\r\n                                    <div class="file-icon pull-left" data-type="{{file.contentType}}"></div>\r\n                                    <div class="file-container">\r\n                                        <a href="{{file.filePath ? file.filePath : \'#\'}}">{{file.originalFileName}}</a>\r\n                                    </div>\r\n                                    <div class="wrapword">\r\n                                        <span class="note-label">Notes: </span>\r\n                                        <span class="note" ng-show="!file.isEditMode"><i>{{file.notes}}</i></span>\r\n                                        <div class="dx-field-value" dx-text-box="$ctrl.editDocumentTxbConfig" dx-validator="$ctrl.editDocumentTxbValidationRules"></div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-sm-3 pull-right" ng-show="!$ctrl.readonly">\r\n                                    <div dx-button="$ctrl.deleteDocumentBtnConfig" class="button-container"></div>\r\n                                    <div dx-button="$ctrl.editDocumentBtnConfig" class="button-container"></div>\r\n                                    <div dx-button="$ctrl.cancelDocumentBtnConfig" class="button-container"></div>\r\n                                    <div dx-button="$ctrl.saveDocumentBtnConfig" class="button-container"></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <input type="file" id="attachementsUploader" multiple accept="*" class="hidden" />\r\n</form>\r\n'},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _breadcrumbpanel=__webpack_require__(847),_breadcrumbpanel2=_interopRequireDefault(_breadcrumbpanel),_breadcrumbpanelTemplate=__webpack_require__(848),_breadcrumbpanelTemplate2=_interopRequireDefault(_breadcrumbpanelTemplate),BreadcrumbPanelComponent={bindings:{states:"=",title:"@"},transclude:!0,controller:_breadcrumbpanel2.default,template:_breadcrumbpanelTemplate2.default};exports.default=BreadcrumbPanelComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),BreadcrumbPanel=function(){function BreadcrumbPanel($scope,$state){_classCallCheck(this,BreadcrumbPanel),this.$scope=$scope,this.$state=$state,this.Messages=_messages2.default,this.init()}return BreadcrumbPanel.$inject=["$scope","$state"],_createClass(BreadcrumbPanel,[{key:"init",value:function(){"asset-stats-spaces"===this.$state.current.name||"asset-stats-stacking-plan"===this.$state.current.name||"asset-stats-tenants"===this.$state.current.name||"asset-stats-deals"===this.$state.current.name?this.showAssetPanel=!0:this.showAssetPanel=!1}}]),BreadcrumbPanel}();exports.default=BreadcrumbPanel},function(module,exports){module.exports='<div class="breadcrumb-panel" ng-show="$ctrl.showAssetPanel">\r\n\t<span ng-repeat="state in $ctrl.states" ng-switch="$last">\r\n\t\t<a ng-if="state.path" href="{{state.path}}" ui-sref="{{state.path}}" class="back-link">\r\n\t\t\t<img src="/img/icons/back.svg"> {{state.title}}\r\n\t\t</a>\r\n\t</span>\r\n\t<ng-transclude></ng-transclude>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaceDescription=__webpack_require__(850),_spaceDescription2=_interopRequireDefault(_spaceDescription),_spaceDescriptionTemplate=__webpack_require__(857),_spaceDescriptionTemplate2=_interopRequireDefault(_spaceDescriptionTemplate),SpaceDescriptionComponent={bindings:{data:"=",context:"=?"},controller:_spaceDescription2.default,template:_spaceDescriptionTemplate2.default};exports.default=SpaceDescriptionComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_spaceBasicEditModal=__webpack_require__(851),_spaceBasicEditModal2=_interopRequireDefault(_spaceBasicEditModal),_spaceBasicEditModalTemplate=__webpack_require__(852),_spaceBasicEditModalTemplate2=_interopRequireDefault(_spaceBasicEditModalTemplate),_contractSpaceEditModal=__webpack_require__(853),_contractSpaceEditModal2=_interopRequireDefault(_contractSpaceEditModal),_contractSpaceEditModalTemplate=__webpack_require__(854),_contractSpaceEditModalTemplate2=_interopRequireDefault(_contractSpaceEditModalTemplate),_spaceConfirmDialog=__webpack_require__(855),_spaceConfirmDialog2=_interopRequireDefault(_spaceConfirmDialog),_spaceConfirmDialogTemplate=__webpack_require__(856),_spaceConfirmDialogTemplate2=_interopRequireDefault(_spaceConfirmDialogTemplate),SpaceDescription=function(){function SpaceDescription($scope,$rootScope,uibDateParser,UtilsService,LocationService,SpaceTypeLookupService,IndustryLookupService,SecurityService,NotificationService,Settings,$uibModal,Space){var _this=this;_classCallCheck(this,SpaceDescription),this.$scope=$scope,this.$rootScope=$rootScope,this.messages=_messages2.default,this.const=_constants2.default,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.locationService=LocationService,this.SpaceTypeLookupService=SpaceTypeLookupService,this.IndustryLookupService=IndustryLookupService,this.$uibModal=$uibModal,this.Space=Space,this.Settings=Settings,this.notificationService=NotificationService,this.SpaceTypeLookupService.all().then(function(result){_this.availableSpaceTypes=result,_this.$scope.data=_this.data,_this.$scope.context=_this.context}),this.securityService=SecurityService,this.currentUser=null,this.init()}return SpaceDescription.$inject=["$scope","$rootScope","uibDateParser","UtilsService","LocationService","SpaceTypeLookupService","IndustryLookupService","SecurityService","NotificationService","Settings","$uibModal","Space"],_createClass(SpaceDescription,[{key:"init",value:function(){var self=this;self.$onInit=function(){self.$scope.$watch(function(){return self.data},function(){self.data&&self.$scope.data!=self.data&&self.availableSpaceTypes&&(self.$scope.data=self.data,self.$scope.context=self.context)})},self.showAllIncoming=function(){self.$scope.showAllIncoming=!self.$scope.showAllIncoming},self.showAllExpired=function(){self.$scope.showAllExpired=!self.$scope.showAllExpired},self.$scope.showAllIncoming=!1,self.$scope.showAllExpired=!1,self.securityService.getUserInfo().then(function(user){self.currentUser=user}),this.$scope.spaceStatusesDictionary={},this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.vacant]=(0,_messages2.default)("assets.spaces.status.vacant"),this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.occupied]=(0,_messages2.default)("assets.spaces.status.occupied"),this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.reserved]=(0,_messages2.default)("assets.spaces.status.reserved"),this.initScrollbar()}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"getOfficeType",value:function(type){if(type){var officeType=this.availableSpaceTypes.find(function(item){return item.value===type});return officeType.text}}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"closeSidebar",value:function(){this.$rootScope.$broadcast("right-sidebar:close")}},{key:"editUnitDetails",value:function(){var self=this,modal=this.$uibModal.open({controller:_spaceBasicEditModal2.default,template:_spaceBasicEditModalTemplate2.default,resolve:{spaceObject:self.$scope.data}});modal.result.then(function(result){self.Space.getFull({assetId:self.$scope.data.assetId,id:self.$scope.data.id},function(response){var contract=response.contract;contract&&null!=contract.industryId&&self.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){response.industryId=contract.industryId,response.industry=dataItem.display}),self.$scope.data=response,self.$rootScope.$emit(_events2.default.SpaceBasicDataChanged,{rentableArea:self.$scope.data.rentableArea,type:self.$scope.data.type,minAskingPrice:self.$scope.data.minAskingPrice,maxAskingPrice:self.$scope.data.maxAskingPrice,id:self.$scope.data.id,isAvailable:self.$scope.data.isAvailable,availabilityDate:self.$scope.data.availabilityDate,isImmediateAvailable:self.$scope.data.isImmediateAvailable,daysVacant:self.$scope.data.daysVacant})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"editContractDetails",value:function(){var self=this,modal=this.$uibModal.open({controller:_contractSpaceEditModal2.default,template:_contractSpaceEditModalTemplate2.default,resolve:{spaceObject:self.$scope.data,masterContractId:self.$scope.data.contract.masterContractId}});modal.result.then(function(result){self.Space.getFull({assetId:self.$scope.data.assetId,id:self.$scope.data.id},function(response){var contract=response.contract;contract&&null!=contract.industryId&&self.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){response.industryId=contract.industryId,response.industry=dataItem.display}),self.$scope.data=response},function(error){self.NotificationService.error(error.data.message?error.data.message:error.data)}),self.$rootScope.$emit(_events2.default.ContractSpaceCostsChanged,{id:result.spaceId,inPlaceRent:result.spaceMonthlyRentCostPerMeter})})}},{key:"archiveSpace",value:function(){var _this2=this,self=this;self.Space.checkRequirementsToArchive({assetId:self.$scope.data.assetId,id:self.$scope.data.id},function(result){if(!result.result)return void self.notificationService.error((0,_messages2.default)("assets.spaces.archive.requirement.checkerror"));var modal=_this2.$uibModal.open({controller:_spaceConfirmDialog2.default,template:_spaceConfirmDialogTemplate2.default,resolve:{isArchive:function(){return!0},unitName:function(){return self.$scope.data.number}}});modal.result.then(function(result){result&&self.Space.archive({assetId:self.$scope.data.assetId,id:self.$scope.data.id},function(response){self.$scope.data.isArchived=!0,self.notificationService.success((0,_messages2.default)("assets.spaces.archive.success"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"restoreSpace",value:function(){var self=this,modal=this.$uibModal.open({controller:_spaceConfirmDialog2.default,template:_spaceConfirmDialogTemplate2.default,resolve:{isArchive:function(){return!1},unitName:function(){return self.$scope.data.number}}});modal.result.then(function(result){result&&self.Space.restore({assetId:self.$scope.data.assetId,id:self.$scope.data.id},function(response){self.$scope.data.isArchived=!1,self.notificationService.success((0,_messages2.default)("assets.spaces.restore.success"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}}]),SpaceDescription}();exports.default=SpaceDescription},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),SpaceBasicEditController=function(){function SpaceBasicEditController($scope,$state,$timeout,AssetStatSpaces,spaceObject,NotificationService,$uibModalInstance,UtilsService,SpaceTypeLookupService,Settings){_classCallCheck(this,SpaceBasicEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.AssetStatSpaces=AssetStatSpaces,this.spaceObject=spaceObject,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.SpaceTypeLookupService=SpaceTypeLookupService,this.const=_constants2.default,this.$scope.ctrl=this,this.$scope.Settings=Settings,this.init(),this.initForm()}return SpaceBasicEditController.$inject=["$scope","$state","$timeout","AssetStatSpaces","spaceObject","NotificationService","$uibModalInstance","UtilsService","SpaceTypeLookupService","Settings"],_createClass(SpaceBasicEditController,[{key:"init",value:function(){var _this=this,self=this;this.$scope.space={id:self.spaceObject.id,assetId:self.spaceObject.assetId,rentableArea:self.spaceObject.rentableArea,minAskingPrice:self.spaceObject.minAskingPrice,maxAskingPrice:self.spaceObject.maxAskingPrice,spaceTypeId:self.spaceObject.type,isAvailable:self.spaceObject.isAvailable,availabilityDate:self.spaceObject.availabilityDate,initialVacantSince:self.spaceObject.initialVacantSince},self.$scope.selectedSpaceType={},this.SpaceTypeLookupService.all().then(function(result){if(self.$scope.spaceTypes=result,self.$scope.space.spaceTypeId)for(var i=0;i<result.length;i++)if(result[i].value===self.$scope.space.spaceTypeId){self.$scope.selectedSpaceType={item:result[i]};break}}),this.$timeout(function(){var pickerField=$("#datepicker");if(pickerField.datepicker({autoclose:!0}),pickerField.datepicker("setStartDate",new Date),self.$scope.space.availabilityDate){var date=new Date(self.$scope.space.availabilityDate);pickerField.datepicker("update",new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0))}},10),this.$timeout(function(){var pickerField=$("#vacantdatepicker");if(pickerField.datepicker({autoclose:!0}),pickerField.datepicker("setEndDate",new Date),self.$scope.space.initialVacantSince){var date=new Date(self.$scope.space.initialVacantSince);pickerField.datepicker("update",new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0))}},10),this.$scope.isFormValid=function(){var self=_this;return!(self.$scope.space.minAskingPrice&&self.$scope.space.maxAskingPrice&&self.$scope.space.minAskingPrice>=self.$scope.space.maxAskingPrice)}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.save=function(){_this2.saveInProgress=!0,_this2.isSaveOperationDisable=!0,self.$scope.selectedSpaceType.item&&(self.$scope.space.type=self.$scope.selectedSpaceType.item.value),self.AssetStatSpaces.updateBasic({id:self.$scope.space.id,assetId:self.$scope.space.assetId},self.$scope.space,function(result){self.notificationService.success((0,_messages2.default)("assets.spaces.updated")),self.saveInProgress=!1,result.minAskingPrice=self.$scope.space.minAskingPrice,result.maxAskingPrice=self.$scope.space.maxAskingPrice,result.isAvailable=self.$scope.space.isAvailable,result.availabilityDate=self.$scope.space.availabilityDate,_this2.$uibModalInstance.close(result)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1})},this.$scope.cancel=function(){_this2.$uibModalInstance.dismiss("cancel")}}}]),SpaceBasicEditController}();exports.default=SpaceBasicEditController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal" ng-class="hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'assets.spaces.modal.edit.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <form role="form" ng-if="!getDataInProgress" name="submitForm">\r\n            <div class="form-group">\r\n                <label for="field-area" class="control-label">{{Messages(\'assets.spaces.rentableArea\')}}, <span ng-bind-html="Messages(\'square.meter\')" /></label>\r\n                <input type="number"  class="input-sm form-control"  id="field-area"  ng-model="space.rentableArea"\r\n                    placeholder="{{Messages(\'assets.spaces.placeholder.rentableArea\')}}"  required \r\n                    name="fieldArea"/>\r\n                <span class="validation-message" ng-show="submitForm.fieldArea.$dirty && submitForm.fieldArea.$invalid">\r\n                    <span ng-show="submitForm.fieldArea.$error.required">{{Messages(\'validation.required\')}}</span>\r\n                </span>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-space-type" class="control-label">{{Messages(\'assets.spaces.type\')}}</label>\r\n                <ui-select ng-model="selectedSpaceType.item" close-on-select="true" theme="bootstrap">\r\n                    <ui-select-match>\r\n                        {{$select.selected.text}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in spaceTypes">\r\n                        {{item.text}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-price" class="control-label">{{Messages(\'assets.spaces.askingPrice\')}}, {{Settings.getCurrency()}} /{{ctrl.const.paymentPeriodLabels()[Settings.getPaymentPeriodType()]}}</label>\r\n                <div class="input-group space-filter-range-inputs">\r\n                            <input\r\n                                type="number"\r\n                                class="input-sm form-control"\r\n                                ng-model="space.minAskingPrice"\r\n                                placeholder="{{Messages(\'assets.spaces.minAskingPrice\')}}"\r\n                            >\r\n                            <span class="input-group-addon">-</span>\r\n                            <input\r\n                                type="number"\r\n                                class="input-sm form-control"\r\n                                ng-model="space.maxAskingPrice"\r\n                                placeholder="{{Messages(\'assets.spaces.maxAskingPrice\')}}"\r\n                            >\r\n                        </div>\r\n                <span class="validation-message" ng-show="submitForm.fieldPrice.$dirty && submitForm.fieldPrice.$invalid">\r\n                    <span ng-show="submitForm.fieldPrice.$error.required">{{Messages(\'validation.required\')}}</span>\r\n                </span>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-space-isAvailable" class="control-label">{{Messages(\'assets.spaces.availability\')}}</label>\r\n                <div class="checkbox">\r\n                    <label for="field-space-isAvailable" class="control-label">\r\n                        <input type="checkbox" name="field-space-isAvailable" ng-model="space.isAvailable"> {{space.isAvailable? Messages(\'assets.spaces.availability.edit.available.title\'): Messages(\'assets.spaces.availability.edit.notAvailable.title\')}}\r\n                    </label>\r\n                </div>\r\n            </div>\r\n            <div class="form-group" ng-show="space.isAvailable">\r\n                <label class="control-label">{{Messages(\'assets.spaces.availability.date\')}}</label>\r\n                    <div class="input-group date" id="datepicker">\r\n                        <input name="availabilityDate" type="text" class="form-control datepicker" ng-model="space.availabilityDate">\r\n                        <div class="input-group-addon">\r\n                            <span class="fa fa-calendar"></span>\r\n                        </div>\r\n                    </div>\r\n                    <span class="validation-message" ng-show="submitForm.availabilityDate.$invalid">\r\n                        <span ng-show="submitForm.availabilityDate.$error.date">{{Messages(\'validation.date\')}}</span>\r\n                    </span>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">{{Messages(\'assets.spaces.vacant_since\')}}</label>\r\n                <div class="input-group date" id="vacantdatepicker">\r\n                    <input name="initialVacantSinceDate" type="text" class="form-control datepicker" ng-model="space.initialVacantSince">\r\n                    <div class="input-group-addon">\r\n                        <span class="fa fa-calendar"></span>\r\n                    </div>\r\n                </div>\r\n                <span class="validation-message" ng-show="submitForm.initialVacantSinceDate.$invalid">\r\n                    <span ng-show="submitForm.initialVacantSinceDate.$error.date">{{Messages(\'validation.date\')}}</span>\r\n                </span>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()" ng-disabled="submitForm.$invalid || !isFormValid()">\r\n            {{ saveInProgress ? Messages(\'assets.spaces.saving\') : Messages(\'assets.spaces.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.spaces.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),ContractSpaceEditModalController=(_interopRequireDefault(_constants),function(){function ContractSpaceEditModalController($scope,$state,$timeout,Contract,spaceObject,masterContractId,NotificationService,$uibModalInstance,UtilsService,IndustryLookupService,Settings){_classCallCheck(this,ContractSpaceEditModalController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.Contract=Contract,this.spaceObject=spaceObject,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.masterContractId=masterContractId,this.$scope.Settings=Settings,this.init(),this.initForm()}return ContractSpaceEditModalController.$inject=["$scope","$state","$timeout","Contract","spaceObject","masterContractId","NotificationService","$uibModalInstance","UtilsService","IndustryLookupService","Settings"],_createClass(ContractSpaceEditModalController,[{key:"init",value:function(){var self=this;this.$scope.contract={id:self.masterContractId,assetId:void 0==self.spaceObject.assetObject?self.spaceObject.assetId:self.spaceObject.assetObject.assetId,spaceId:self.spaceObject.id,inPlaceRent:void 0==self.spaceObject.inPlaceRent?self.spaceObject.contract.inPlaceRent:self.spaceObject.inPlaceRent}}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.save=function(){_this.saveInProgress=!0,_this.isSaveOperationDisable=!0,self.Contract.updateSpaceContract({contractId:_this.$scope.contract.id,spaceId:_this.$scope.contract.spaceId},_this.$scope.contract,function(result){self.notificationService.success((0,_messages2.default)("contracts.edit.space.message.updated")),self.saveInProgress=!1,_this.$uibModalInstance.close(result)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1})},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.isFormValid=function(){return!0}}}]),ContractSpaceEditModalController}());exports.default=ContractSpaceEditModalController},function(module,exports){module.exports='<div class="inmodal" ng-class="hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'contracts.edit.space.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <form role="form" ng-if="!getDataInProgress" name="submitForm">\r\n            <div class="form-group">\r\n                <label for="field-rent" class="control-label">{{Messages(\'contracts.edit.space.in-pace-rent\')}} ({{Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>)</label>\r\n                <input type="number" class="input-sm form-control"  id="field-rent"  ng-model="contract.inPlaceRent"\r\n                    placeholder="{{Messages(\'contracts.edit.space.placeholder.in-pace-rent\')}}"  required min="0.0001"\r\n                    name="fieldRent"/>\r\n                <span class="validation-message" ng-show="submitForm.fieldRent.$dirty && submitForm.fieldRent.$invalid">\r\n                    <span ng-show="submitForm.fieldRent.$error.required">{{Messages(\'validation.required\')}}</span>\r\n                    <span ng-show="submitForm.fieldRent.$error.min">{{Messages(\'validation.GTE0Value\')}}</span>\r\n                </span>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()" ng-disabled="submitForm.$invalid">\r\n            {{ saveInProgress ? Messages(\'contracts.edit.space.saving\') : Messages(\'contracts.edit.space.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'contracts.edit.space.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_constants=(_interopRequireDefault(_messages),__webpack_require__(720)),SpaceConfirmDialogController=(_interopRequireDefault(_constants),function(){function SpaceConfirmDialogController($scope,$uibModal,$uibModalInstance,isArchive,unitName){_classCallCheck(this,SpaceConfirmDialogController),this.$scope=$scope,this.$scope.ctrl=this,this.$uibModal=$uibModal,this.$uibModalInstance=$uibModalInstance,this.$scope.unitName=unitName,this.$scope.isArchive=isArchive,this.init()}return SpaceConfirmDialogController.$inject=["$scope","$uibModal","$uibModalInstance","isArchive","unitName"],_createClass(SpaceConfirmDialogController,[{key:"init",value:function(){var self=this;self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.$scope.confirm=function(){self.$uibModalInstance.close(!0)}}}]),SpaceConfirmDialogController}());exports.default=SpaceConfirmDialogController},function(module,exports){module.exports='<div class="inmodal">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ isArchive ? Messages(\'assets.spaces.archive.title\'): Messages(\'assets.spaces.restore.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        {{ isArchive? Messages(\'assets.spaces.archive.message\'): Messages(\'assets.spaces.restore.message\')}} {{unitName}} ?\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="confirm()">\r\n            {{ isArchive ? Messages(\'assets.spaces.archive.save\') :Messages(\'assets.spaces.restore.save\') }}\r\n        </button>\r\n            <button type="button" class="btn btn-default pull-left" ng-click="cancel()">\r\n            {{ Messages(\'assets.spaces.archive.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div ng-if="context === \'sidebar\'" class="side-close">\r\n    <img src="/img/icons/close.svg" alt="" ng-click="$ctrl.closeSidebar()">\r\n</div>\r\n\r\n<div class="space-details right-sidebar-content" ss-container>\r\n\r\n    <div ng-if="context === \'sidebar\'">\r\n        <div class="pull-right" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !data.isArchived && data.status === $ctrl.const.spaceStatusIds.vacant">\r\n            <a href="#" ng-click="$ctrl.archiveSpace()">{{$ctrl.messages(\'assets.spaces.archive.label\')}}</a>\r\n        </div>\r\n        <div class="pull-right" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && data.isArchived">\r\n            <a href="#" ng-click="$ctrl.restoreSpace()">{{$ctrl.messages(\'assets.spaces.restore.label\')}}</a>\r\n        </div>\r\n        <div class="space-header">{{$ctrl.messages(\'assets.spaces.status\')}}</div>\r\n        <div class="status-label" ng-class="data.status === $ctrl.const.spaceStatusIds.vacant ? \'success\' : \'error\'">\r\n            {{spaceStatusesDictionary[data.status]}}\r\n        </div>\r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{ $ctrl.messages(\'assets.spaces.unit.details\') }}\r\n            </div>\r\n            <div class="line"></div>\r\n            <div class="tool" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !data.isArchived">\r\n                <a href="#" ng-click="$ctrl.editUnitDetails()">\r\n                    <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.number\')}}</div>\r\n                    <span ng-class="data.status === $ctrl.const.spaceStatusIds.vacant ? \'unit-vacant\' : \'unit-occupied\'">{{data.number}}</span>\r\n                </div> \r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{data.towerName}} {{data.floorName}}</div>\r\n                    <p class="stat-text">{{data && $ctrl.locationService.getAddress(data.location)}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.details.type\')}}</div>\r\n                    <p class="stat-text">{{$ctrl.getOfficeType(data.type)}}</p>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.rentableArea\')}}</div>\r\n                    <span class="huge">{{data.rentableArea}}</span> <span ng-bind-html="$ctrl.messages(\'square.meter\')" />\r\n                </div>\r\n            </div>\r\n        </div>        \r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{ $ctrl.messages(\'assets.spaces.availability\') }}\r\n            </div>\r\n            <div class="line"></div>\r\n            <div class="tool">\r\n                <a href="#" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !data.isArchived" ng-click="$ctrl.editUnitDetails()">\r\n                    <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                </a>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{ $ctrl.messages(\'assets.spaces.availability\') }}</div>\r\n                    <p class="stat-text">{{ data.isAvailable ? $ctrl.messages(\'assets.spaces.availability.available.title\'): $ctrl.messages(\'assets.spaces.availability.notAvailable.title\') }}</p>\r\n                </div>               \r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{ $ctrl.messages(\'assets.spaces.asking_price\') }}</div>\r\n                    <p class="stat-text">\r\n                        <span ng-if="data.minAskingPrice !== null && data.maxAskingPrice !== null">\r\n                            {{$ctrl.Settings.getCurrency()}} {{data.minAskingPrice}} - {{$ctrl.Settings.getCurrency()}} {{data.maxAskingPrice}}\r\n                        </span>\r\n                        <span ng-if="!data.minAskingPrice && !data.maxAskingPrice">{{$ctrl.Settings.getCurrency()}} 0</span>\r\n                        <span ng-bind-html="$ctrl.messages(\'square.meter\')"/>\r\n                        /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{ $ctrl.messages(\'assets.spaces.daysAvailable\') }}</div>\r\n                    <p class="stat-text">{{data.isAvailable && data.availabilityDate && data.daysAvailable? data.daysAvailable: \'--\' }}</p>\r\n                </div>                \r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{ $ctrl.messages(\'assets.spaces.daysVacant\') }}</div>\r\n                    <p class="stat-text">{{data.daysVacant != null ? data.daysVacant: \'--\' }}</p>\r\n                </div>                \r\n            </div>\r\n        </div>        \r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{ $ctrl.messages(\'assets.spaces.title.income\') }}\r\n            </div>\r\n            <div class="line"></div>\r\n            <div class="tool">\r\n                <a href="#" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !data.isArchived" ng-click="$ctrl.editContractDetails()">\r\n                    <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                </a>\r\n            </div>\r\n        </div>\r\n\r\n        <div ng-if="data.incomingContracts.length > 0 && !data.isArchived" ng-repeat="item in data.incomingContracts | limitTo: showAllIncoming ? \'Infinity\' : $ctrl.const.spaceContractsCountInList"  ng-switch="$last" ng-class="$last ? \'\' : \'stats-item-bordered\'">\r\n            <space-contract-item space="data" contract="item" available-space-types="$ctrl.availableSpaceTypes" current-user="$ctrl.currentUser"></space-contract-item>\r\n        </div>\r\n\r\n        <div ng-if="data.incomingContracts.length === 0">\r\n            <p class="stat-text">{{$ctrl.messages(\'assets.spaces.contracts.income.empty\')}}</p>\r\n        </div>\r\n\r\n        <div class="expand-button pull-right" ng-if="data.incomingContracts.length > $ctrl.const.spaceContractsCountInList && !data.isArchived">\r\n            <a href="" ng-click="$ctrl.showAllIncoming()">\r\n                <span ng-if="!showAllIncoming">\r\n                    <span>\r\n                        {{$ctrl.messages(\'assets.spaces.contracts.showmorebutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n                </span>\r\n                <span ng-if="showAllIncoming">\r\n                    <span>\r\n                        {{$ctrl.messages(\'assets.spaces.contracts.showlessbutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n                </span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{ $ctrl.messages(\'assets.spaces.title.in-place\') }}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n\r\n        <space-contract-item ng-if="data.contract != null" space="data" contract="data.contract" available-space-types="$ctrl.availableSpaceTypes" current-user="$ctrl.currentUser"></space-contract-item>\r\n\r\n        <div ng-if="data.contract == null">\r\n            <p class="stat-text">{{$ctrl.messages(\'assets.spaces.contracts.in-place.empty\')}}</p>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{ $ctrl.messages(\'assets.spaces.title.expired\') }}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n\r\n        <div ng-if="data.expiredContracts.length > 0" ng-repeat="item in data.expiredContracts | limitTo: showAllExpired ? \'Infinity\' : $ctrl.const.spaceContractsCountInList" ng-switch="$last" ng-class="$last ? \'\' : \'stats-item-bordered\'">\r\n            <space-contract-item space="data" contract="item" available-space-types="$ctrl.availableSpaceTypes" current-user="$ctrl.currentUser" ></space-contract-item>\r\n        </div>\r\n\r\n        <div ng-if="data.expiredContracts.length === 0">\r\n            <p class="stat-text">{{$ctrl.messages(\'assets.spaces.contracts.expired.empty\')}}</p>\r\n        </div>\r\n        \r\n        <div class="expand-button pull-right" ng-if="data.expiredContracts.length > $ctrl.const.spaceContractsCountInList">\r\n            <a href="" ng-click="$ctrl.showAllExpired()">\r\n                <span ng-if="!showAllExpired">\r\n                    <span>\r\n                        {{$ctrl.messages(\'assets.spaces.contracts.showmorebutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n                </span>\r\n                <span ng-if="showAllExpired">\r\n                    <span>\r\n                        {{$ctrl.messages(\'assets.spaces.contracts.showlessbutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n                </span>\r\n            </a>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaceContractItem=__webpack_require__(859),_spaceContractItem2=_interopRequireDefault(_spaceContractItem),_spaceContractItemTemplate=__webpack_require__(860),_spaceContractItemTemplate2=_interopRequireDefault(_spaceContractItemTemplate),SpaceContractItemComponent={bindings:{space:"=",contract:"=",availableSpaceTypes:"=",currentUser:"="},controller:_spaceContractItem2.default,template:_spaceContractItemTemplate2.default};exports.default=SpaceContractItemComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_contractSpaceEditModal=__webpack_require__(853),_contractSpaceEditModal2=_interopRequireDefault(_contractSpaceEditModal),_contractSpaceEditModalTemplate=__webpack_require__(854),_contractSpaceEditModalTemplate2=_interopRequireDefault(_contractSpaceEditModalTemplate),SpaceDescription=function(){function SpaceDescription($scope,$rootScope,uibDateParser,IndustryLookupService,$uibModal,Space,NotificationService,Settings){_classCallCheck(this,SpaceDescription),this.$scope=$scope,this.$rootScope=$rootScope,this.messages=_messages2.default,this.const=_constants2.default,this.uibDateParser=uibDateParser,this.IndustryLookupService=IndustryLookupService,this.notificationService=NotificationService,this.$uibModal=$uibModal,this.Space=Space,this.$scope.contract=this.contract,this.Settings=Settings,this.init()}return SpaceDescription.$inject=["$scope","$rootScope","uibDateParser","IndustryLookupService","$uibModal","Space","NotificationService","Settings"],_createClass(SpaceDescription,[{key:"init",value:function(){var self=this;self.$scope.$watch(function(){return self.contract},function(){self.contract&&(self.IndustryLookupService.byKey(self.contract.industryId).then(function(dataItem){self.contract.industry=dataItem.display}),self.$scope.contract=self.contract)}),self.$scope.$watch(function(){return self.currentUser},function(){self.currentUser&&(self.$scope.currentUser=self.currentUser)})}},{key:"getOfficeType",value:function(type){if(type){var officeType=this.availableSpaceTypes.find(function(item){return item.value===type});return officeType.text}}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"editContractDetails",value:function(){var self=this,modal=this.$uibModal.open({controller:_contractSpaceEditModal2.default,template:_contractSpaceEditModalTemplate2.default,resolve:{spaceObject:self.space,masterContractId:self.contract.masterContractId}});modal.result.then(function(result){self.Space.getFull({assetId:self.$scope.data.assetId,id:self.$scope.data.id},function(response){var contract=response.contract;contract&&null!=contract.industryId&&self.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){response.industryId=contract.industryId,response.industry=dataItem.display}),self.$scope.data=response},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)}),self.$rootScope.$emit(_events2.default.ContractSpaceCostsChanged,{id:result.spaceId,inPlaceRent:result.spaceMonthlyRentCostPerMeter})})}}]),SpaceDescription}();exports.default=SpaceDescription},function(module,exports){module.exports='<div class="stats-item">\r\n    <div class="row">\r\n        <div class="col-sm-12 stat-column">\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.tenant_name\')}}</div>\r\n                    <p class="stat-text">{{contract && contract.tenantName}}</p>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.industry\')}}</div>\r\n                    <p class="stat-text">{{contract && contract.industry}}</p>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.area\')}}</div>\r\n                    <p class="stat-text">{{contract.rentableArea}} <span ng-bind-html="$ctrl.messages(\'square.meter\')"/></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-sm-12 stat-column">\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.lease_start_date\')}}</div>\r\n                    <p class="stat-text">{{$ctrl.getParsedDate(contract && contract.startsAt)}}</p>\r\n                </div>\r\n            </div>   \r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.lease_end_date\')}}</div>\r\n                    <p class="stat-text">{{$ctrl.getParsedDate(contract && contract.endsAt)}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="row">\r\n        <div class="col-sm-12 stat-column">\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{$ctrl.messages(\'assets.spaces.in_place_rent\')}}</div>\r\n                    <p class="stat-text">{{contract && contract.inPlaceRent}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="$ctrl.messages(\'square.meter\')"/> /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</p>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">\r\n                        {{$ctrl.messages(\'assets.spaces.net_rent\')}}\r\n                    </div>\r\n                    <p class="stat-text">{{contract && contract.netRent}} {{$ctrl.Settings.getCurrency()}} /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _tenantDescription=__webpack_require__(862),_tenantDescription2=_interopRequireDefault(_tenantDescription),_tenantDescriptionTemplate=__webpack_require__(871),_tenantDescriptionTemplate2=_interopRequireDefault(_tenantDescriptionTemplate),TenantDescriptionComponent={bindings:{data:"=",context:"=?"},controller:_tenantDescription2.default,template:_tenantDescriptionTemplate2.default};exports.default=TenantDescriptionComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_tenantAttachmentModal=__webpack_require__(863),_tenantAttachmentModal2=_interopRequireDefault(_tenantAttachmentModal),_tenantAttachmentModalTemplate=__webpack_require__(864),_tenantAttachmentModalTemplate2=_interopRequireDefault(_tenantAttachmentModalTemplate),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_clientBasicEditModal=__webpack_require__(865),_clientBasicEditModal2=_interopRequireDefault(_clientBasicEditModal),_clientBasicEditModalTemplate=__webpack_require__(866),_clientBasicEditModalTemplate2=_interopRequireDefault(_clientBasicEditModalTemplate),_contractDatesEditModal=__webpack_require__(867),_contractDatesEditModal2=_interopRequireDefault(_contractDatesEditModal),_contractDatesEditModalTemplate=__webpack_require__(868),_contractDatesEditModalTemplate2=_interopRequireDefault(_contractDatesEditModalTemplate),_representativeEditModal=__webpack_require__(795),_representativeEditModal2=_interopRequireDefault(_representativeEditModal),_representativeEditModalTemplate=__webpack_require__(796),_representativeEditModalTemplate2=_interopRequireDefault(_representativeEditModalTemplate),_contractSpaceEditModal=__webpack_require__(853),_contractSpaceEditModal2=_interopRequireDefault(_contractSpaceEditModal),_contractSpaceEditModalTemplate=__webpack_require__(854),_contractSpaceEditModalTemplate2=_interopRequireDefault(_contractSpaceEditModalTemplate),_tenantConfirmDialog=__webpack_require__(869),_tenantConfirmDialog2=_interopRequireDefault(_tenantConfirmDialog),_tenantConfirmDialogTemplate=__webpack_require__(870),_tenantConfirmDialogTemplate2=_interopRequireDefault(_tenantConfirmDialogTemplate),defaultFileName="download.bin",TenantDescription=function(){function TenantDescription($scope,$rootScope,$http,$uibModal,uibDateParser,UtilsService,LocationService,FileService,SecurityService,ImageService,NotificationService,Contract,Representative,IndustryLookupService,Settings){_classCallCheck(this,TenantDescription),this.$scope=$scope,this.$rootScope=$rootScope,this.$http=$http,this.$uibModal=$uibModal,this.messages=_messages2.default,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.fileService=FileService,this.imageService=ImageService,this.notificationService=NotificationService,this.locationService=LocationService,this.securityService=SecurityService,this.Contract=Contract,this.Representative=Representative,this.Settings=Settings,this.contractLoaded=!1,this.representativeLoaded=!1,this.currentUser=null,this.selectedUnit=null,this.$scope.comments=[],this.$scope.reloadComments=!1,this.maxAttachementSize=this.maxAttachementSize||5e6,this.showAllAttachments=!1,this.showAllUnits=!1,this.IndustryLookupService=IndustryLookupService,this.const=_constants2.default,this.init()}return TenantDescription.$inject=["$scope","$rootScope","$http","$uibModal","uibDateParser","UtilsService","LocationService","FileService","SecurityService","ImageService","NotificationService","Contract","Representative","IndustryLookupService","Settings"],_createClass(TenantDescription,[{key:"init",value:function(){var self=this;self.$onInit=function(){self.$scope.$watch(function(){return self.data},function(){self.data&&self.$scope.data!=self.data&&(self.$scope.data=self.data,self.$scope.context=self.context,self.$scope.reloadComments=!0,self.initComponent())})},self.securityService.getUserInfo().then(function(user){self.currentUser=user}),angular.element(document).ready(function(){$("#attachementsUploader").change(function(){self.uploadDocument($("#attachementsUploader")[0].files)})}),this.initScrollbar()}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"initComponent",value:function(){var self=this;self.getContract().then(function(result){self.$scope.fullContract=result,self.selectedUnit=self.$scope.fullContract.spaces[0],self.IndustryLookupService.byKey(self.$scope.fullContract.client.industryId).then(function(result){self.$scope.fullContract.client.industryName=result.display})})}},{key:"getTowersCount",value:function(){var uniqueTowers=[];return this.$scope.data.spaces.forEach(function(space){uniqueTowers.indexOf(space.towerId)===-1&&uniqueTowers.push(space.towerId)}),uniqueTowers.length}},{key:"getStatus",value:function(status){switch(status){case _constants2.default.contractStatusIds.inPlace:return(0,_messages2.default)("assets.tenants.filter.in_place");case _constants2.default.contractStatusIds.expired:return(0,_messages2.default)("assets.tenants.filter.expired");case _constants2.default.contractStatusIds.incoming:return(0,_messages2.default)("assets.tenants.filter.incoming")}}},{key:"getParsedDate",
value:function(date){return date?this.uibDateParser.filter(new Date(date),"dd/MM/yyyy"):""}},{key:"getDate",value:function(dt){return(0,_moment2.default)(dt).format("ddd MMM D YYYY - HH:mm:ss")}},{key:"closeSidebar",value:function(){this.$rootScope.$broadcast("right-sidebar:close")}},{key:"getContract",value:function(){var self=this;return self.Contract.getFull({contractId:self.data.id}).$promise}},{key:"getAddress",value:function(unit){return unit?this.locationService.getAddress(unit.assetObject.location):""}},{key:"createDocument",value:function(file){var self=this,document={id:0,uniqueId:self.utils.generateGuid(),isEditMode:!1,filePath:"",originalFileName:file.filename,notes:"",contentType:file.extension,documentFile:{data:[],fileData:file.data,contentType:file.extension,uniqueFileName:"",originalFileName:file.filename}};return document}},{key:"addDocument",value:function(){$("#attachementsUploader").val(null),setTimeout(function(){$("#attachementsUploader").click()},200)}},{key:"uploadDocument",value:function(files){var self=this;self.fileService.uploadFiles(files,function(singleFile){if(singleFile.size>self.maxAttachementSize)return void self.notificationService.error("Error loading file "+singleFile.filename+". Maximum file size is "+self.maxAttachementSize+" byte");var doc=self.createDocument(singleFile),modal=self.$uibModal.open({controller:_tenantAttachmentModal2.default,template:_tenantAttachmentModalTemplate2.default,resolve:{fileDocument:Object.assign({},doc),localeId:self.currentUser.localeId},windowClass:"tenant-attachment-modal-window"});modal.result.then(function(docType){if(docType){var blob=self.imageService.dataURItoBlob(doc.documentFile.fileData),fd=new FormData(document.forms[0]);fd.append("data",blob,doc.documentFile.originalFileName),self.Contract.uploadDocument({contractId:self.data.id,documentTypeId:docType.id},fd,function(result){self.$scope.fullContract.attachments.unshift(result)},function(error){self.notificationService.error(error.data&&error.data.message?error.data.message:error.data)})}})},function(){})}},{key:"downloadDocument",value:function(doc){var self=this;self.$http.get(doc.url,{responseType:"arraybuffer"}).success(function(data,status,headers){var octetStreamMime="application/octet-stream";headers=headers();var filename=headers["x-file-name"]||defaultFileName,contentType=headers["content-type"]||octetStreamMime,blob=new Blob([data],{type:contentType}),url=window.URL.createObjectURL(blob),link=document.createElement("a");link.setAttribute("href",url),link.setAttribute("download",filename);var clickEvent=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});link.dispatchEvent(clickEvent)})}},{key:"deleteDocument",value:function(doc){var self=this;self.Contract.deleteDocument({contractId:self.$scope.fullContract.id,attachmentId:doc.id},function(result){var idx=self.$scope.fullContract.attachments.findIndex(function(a){return a.id==doc.id});self.$scope.fullContract.attachments.splice(idx,1)},function(error){self.notificationService.error(error.data&&error.data.message?error.data.message:error.data)})}},{key:"addComment",value:function(message){var self=this;self.Contract.addComment({contractId:self.data.id},{body:message},function(result){self.$rootScope.$broadcast(_events2.default.AddComment,{comment:result})},function(error){self.notificationService.error(error.data&&error.data.message?error.data.message:error.data)})}},{key:"getComments",value:function(offset,size){var self=this;return self.Contract.getComments({contractId:self.data.id,offset:offset,count:size}).$promise}},{key:"getOptionsType",value:function(typeId){var result=void 0;return _constants2.default.contractOptionsTypeStorePlain().forEach(function(item){item.value===typeId&&(result=item.text)}),result}},{key:"showMoreAttachment",value:function(showMore){this.showAllAttachments=showMore}},{key:"showMoreUnit",value:function(showMore){this.showAllUnits=showMore}},{key:"selectUnit",value:function(unit){var self=this;self.selectedUnit=unit}},{key:"editTenantContact",value:function(representative){var self=this;if(!self.$scope.fullContract.isArchived&&self.currentUser.roleId===self.const.userRoles.assetManager){var modal=this.$uibModal.open({controller:_representativeEditModal2.default,template:_representativeEditModalTemplate2.default,resolve:{representativeObject:representative,clientId:self.$scope.fullContract.clientId}});modal.result.then(function(result){representative||self.$scope.fullContract.representatives.push(result)})}}},{key:"deleteTenantContact",value:function(representative){var _this=this,self=this;self.$scope.fullContract.isArchived||self.currentUser.roleId===self.const.userRoles.assetManager&&self.Representative.delete({id:representative.id,clientId:self.$scope.fullContract.clientId},this.$scope.representative,function(result){var idx=self.$scope.fullContract.representatives.findIndex(function(r){return r.id==representative.id});self.$scope.fullContract.representatives.splice(idx,1),self.notificationService.success((0,_messages2.default)("clients.representatives.message.deleted")),self.saveInProgress=!1},function(error){_this.notificationService.error(error.data&&error.data.message?error.data.message:error.data),self.saveInProgress=!1})}},{key:"editTenant",value:function(){var self=this,modal=this.$uibModal.open({controller:_clientBasicEditModal2.default,template:_clientBasicEditModalTemplate2.default,resolve:{clientObject:self.$scope.fullContract.client}});modal.result.then(function(result){self.$scope.fullContract.client.industryName=result.industryName,self.$scope.fullContract.client.name=result.name,self.$scope.fullContract.client.industryId=result.industryId,self.$scope.fullContract.client.shortName=result.shortName,self.$rootScope.$emit(_events2.default.ContractTenantNameChanged,{contractId:self.$scope.fullContract.id,tenantName:result.name})})}},{key:"editContract",value:function(){var self=this,modal=this.$uibModal.open({controller:_contractDatesEditModal2.default,template:_contractDatesEditModalTemplate2.default,resolve:{contractObject:self.$scope.fullContract,renewalStrategies:["RenewalStrategyLookupService",function(ContractDatesEditModalController){return ContractDatesEditModalController.all()}]}});modal.result.then(function(result){self.$scope.fullContract.leaseStartDate=result.startsAt,self.$scope.fullContract.leaseEndDate=result.endsAt,self.$scope.fullContract.renewalStrategy.id=result.renewalStrategies.selected.id,self.$scope.fullContract.renewalStrategy.name=result.renewalStrategies.selected.name,self.$rootScope.$emit(_events2.default.ContractDatesChanged,{contractId:result.id,startDate:result.startsAt,endDate:result.endsAt})})}},{key:"editSpaceContract",value:function(space){var self=this,modal=this.$uibModal.open({controller:_contractSpaceEditModal2.default,template:_contractSpaceEditModalTemplate2.default,resolve:{spaceObject:space,masterContractId:self.$scope.fullContract.id}});modal.result.then(function(result){self.getContract().then(function(result){self.$scope.fullContract=result,self.selectedUnit=self.$scope.fullContract.spaces[0],self.IndustryLookupService.byKey(self.$scope.fullContract.client.industryId).then(function(result){self.$scope.fullContract.client.industryName=result.display}),self.$rootScope.$emit(_events2.default.ContractSpaceCostsChanged,{contractId:self.$scope.fullContract.id,inPlaceRent:self.$scope.fullContract.averageMeterCost,totalRent:self.$scope.fullContract.netRentCost})})})}},{key:"archiveTenant",value:function(){var self=this,modal=this.$uibModal.open({controller:_tenantConfirmDialog2.default,template:_tenantConfirmDialogTemplate2.default,resolve:{isArchive:function(){return!0},name:function(){return self.$scope.fullContract.client.name}}});modal.result.then(function(result){result&&self.Contract.archive({contractId:self.$scope.fullContract.id},function(response){self.$scope.fullContract.isArchived=!0,self.notificationService.success((0,_messages2.default)("assets.tenants.archive.success")),self.$rootScope.$emit(_events2.default.ContractArchived)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"restoreTenant",value:function(){var self=this,modal=this.$uibModal.open({controller:_tenantConfirmDialog2.default,template:_tenantConfirmDialogTemplate2.default,resolve:{isArchive:function(){return!1},name:function(){return self.$scope.fullContract.client.name}}});modal.result.then(function(result){result&&self.Contract.restore({contractId:self.$scope.fullContract.id},function(response){self.$scope.fullContract.isArchived=!1,self.notificationService.success((0,_messages2.default)("assets.tenants.restore.success")),self.$rootScope.$emit(_events2.default.ContractRestored)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}}]),TenantDescription}();exports.default=TenantDescription}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),TenantAttachmentModalController=(_interopRequireDefault(_constants),function(){function TenantAttachmentModalController($scope,$rootScope,$uibModalInstance,$timeout,fileDocument,localeId,NotificationService,ContractDocumentTypeLookupService){_classCallCheck(this,TenantAttachmentModalController),this.$scope=$scope,this.$rootScope=$rootScope,this.$uibModalInstance=$uibModalInstance,this.$timeout=$timeout,this.messages=_messages2.default,this.$scope.fileDocument=fileDocument,this.$scope.localeId=localeId,this.notificationService=NotificationService,this.ContractDocumentTypeLookupService=ContractDocumentTypeLookupService,this.$scope.fileTypes=[],this.$scope.selectedType=null,this.init(),this.initComponent()}return TenantAttachmentModalController.$inject=["$scope","$rootScope","$uibModalInstance","$timeout","fileDocument","localeId","NotificationService","ContractDocumentTypeLookupService"],_createClass(TenantAttachmentModalController,[{key:"init",value:function(){var self=this;self.$scope.ok=function(){self.$uibModalInstance.close(self.$scope.selectedType)},self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.ContractDocumentTypeLookupService.all().then(function(items){self.$scope.fileTypes=items})}},{key:"initComponent",value:function(){var self=this;self.$scope.selectType=function($item,$model){self.$scope.selectedType=$item}}}]),TenantAttachmentModalController}());exports.default=TenantAttachmentModalController},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="modal-header text-center">\r\n        <img src="/img/icons/modal-file-attachment-header.svg">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'assets.tenants.attachment.dialog.header\')}}\r\n        </h4>\r\n    </div>    \r\n    <div class="modal-body tenant-attachment-body">\r\n        <form role="form">\r\n\t        <div class="modal-block">\r\n\t            <div class="header-panel">\r\n\t                <div class="header">{{Messages(\'assets.tenants.attachment.dialog.filedetails\')}}</div>\r\n\t                <div class="line"></div>\r\n\t            </div>\r\n\t            <div class="row">\r\n\t            \t<div class="col-lg-6">\r\n\t\t\t\t\t\t<div class="block">\r\n\t\t\t\t\t\t\t<div class="subheader">{{Messages(\'assets.tenants.attachment.dialog.filename\')}}</div>\r\n\t\t\t\t\t\t\t<p class="tenant-text"><input type="text" name="filename" value="{{fileDocument.originalFileName}}" disabled></p>\r\n\t\t\t\t\t\t</div>\t            \t\t\r\n\t            \t</div>\r\n\t            \t<div class="col-lg-6">\r\n\t\t\t            <div class="block">\r\n\t\t\t                <div class="subheader">{{Messages(\'assets.tenants.attachment.dialog.filetype\')}}</div>\r\n\t\t\t                <ui-select ng-model="selectedFileType" close-on-select="true" tagging tagging-label="(\'new\')"  on-select="selectType($item, $model)">\r\n\t\t\t                    <ui-select-match>{{$select.selected.value}}</ui-select-match>\r\n\t\t\t                    <ui-select-choices repeat="type in fileTypes | filter:$select.search">\r\n\t\t\t                        {{type.value}}\r\n\t\t\t                    </ui-select-choices>\r\n\t\t\t                </ui-select>\r\n\t\t\t            </div>\t            \t\t\r\n\t            \t</div>\t            \t\r\n\t            </div>\r\n\t\t\t</div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer tenant-attachment-footer">\r\n        <button type="button" class="btn btn-default tenant-attachment-button" ng-click="cancel()">\r\n            {{ Messages(\'assets.tenants.attachment.dialog.cancel\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-primary tenant-attachment-button" ng-click="ok()" ng-disabled="selectedType == null">\r\n            {{ Messages(\'assets.tenants.attachment.dialog.upload\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),ClientBasicEditController=(_interopRequireDefault(_constants),function(){function ClientBasicEditController($scope,$state,$timeout,Client,clientObject,NotificationService,$uibModalInstance,UtilsService,IndustryLookupService){_classCallCheck(this,ClientBasicEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.Client=Client,this.clientObject=clientObject,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.IndustryLookupService=IndustryLookupService,this.init(),this.initForm()}return ClientBasicEditController.$inject=["$scope","$state","$timeout","Client","clientObject","NotificationService","$uibModalInstance","UtilsService","IndustryLookupService"],_createClass(ClientBasicEditController,[{key:"init",value:function(){var self=this;this.$scope.client={id:self.clientObject.id,name:self.clientObject.name,shortName:self.clientObject.shortName,industryId:self.clientObject.industryId},self.$scope.selectedIndustry={},this.IndustryLookupService.all().then(function(result){if(self.$scope.industries=result,self.$scope.client.industryId)for(var i=0;i<result.length;i++)if(result[i].id==self.$scope.client.industryId){self.$scope.selectedIndustry={item:result[i]};break}})}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.save=function(){_this.saveInProgress=!0,_this.isSaveOperationDisable=!0,self.$scope.selectedIndustry.item&&(self.$scope.client.industryId=self.$scope.selectedIndustry.item.id),self.Client.updateBasic({id:self.$scope.client.id},self.$scope.client,function(result){self.notificationService.success((0,_messages2.default)("clients.message.updated")),self.saveInProgress=!1,self.$scope.selectedIndustry.item&&(self.$scope.client.industry=self.$scope.selectedIndustry.item.display,self.$scope.client.industryName=self.$scope.selectedIndustry.item.display),_this.$uibModalInstance.close(_this.$scope.client)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1})},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")}}}]),ClientBasicEditController}());exports.default=ClientBasicEditController},function(module,exports){module.exports='<div class="inmodal" ng-class="hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'clients.edit.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <form role="form" ng-if="!getDataInProgress" name="submitForm">\r\n            <div class="form-group">\r\n                <label for="field-name" class="control-label">{{Messages(\'clients.name\')}}</label>\r\n                <input type="text"  class="input-sm form-control"  id="field-name"  ng-model="client.name"\r\n                    placeholder="{{Messages(\'clients.placeholder.name\')}}"  required maxlength="255"\r\n                    name="fieldName"/>\r\n                <span class="validation-message" ng-show="submitForm.fieldName.$dirty && submitForm.fieldName.$invalid">\r\n                    <span ng-show="submitForm.fieldName.$error.required">{{Messages(\'validation.required\')}}</span>\r\n                </span>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-short-name" class="control-label">{{Messages(\'clients.shortName\')}}</label>\r\n                <input type="text"  class="input-sm form-control"  id="field-short-name"  ng-model="client.shortName"\r\n                    placeholder="{{Messages(\'clients.placeholder.shortName\')}}"  maxlength="100" />\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-industry" class="control-label">{{Messages(\'clients.industry\')}}</label>\r\n                <ui-select ng-model="selectedIndustry.item" close-on-select="true" theme="bootstrap">\r\n                    <ui-select-match>\r\n                        {{$select.selected.display}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in industries">\r\n                        {{item.display}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()" ng-disabled="submitForm.$invalid">\r\n            {{ saveInProgress ? Messages(\'clients.saving\') : Messages(\'clients.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'clients.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),ContractDatesEditModalController=(_interopRequireDefault(_constants),function(){function ContractDatesEditModalController($scope,$state,$timeout,Contract,contractObject,NotificationService,$uibModalInstance,UtilsService,IndustryLookupService,renewalStrategies){_classCallCheck(this,ContractDatesEditModalController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.Contract=Contract,this.contractObject=contractObject,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.renewalStrategies=renewalStrategies,this.init(),this.initForm()}return ContractDatesEditModalController.$inject=["$scope","$state","$timeout","Contract","contractObject","NotificationService","$uibModalInstance","UtilsService","IndustryLookupService","renewalStrategies"],_createClass(ContractDatesEditModalController,[{key:"init",value:function(){var self=this;self.$scope.datetimePicker2={opened:!1},self.$scope.datetimePicker1={opened:!1},this.$scope.contract={id:self.contractObject.id,assetId:self.contractObject.assetId,startsAt:self.contractObject.leaseStartDate,endsAt:self.contractObject.leaseEndDate,renewalStrategies:{available:self.renewalStrategies,selected:self.contractObject.renewalStrategy}},self.$scope.dateOptions={showWeeks:!1},this.$timeout(function(){var pickerField1=$("#datepicker1");pickerField1.datepicker({autoclose:!0});var date=new Date(self.$scope.contract.startsAt);pickerField1.datepicker("update",new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0));var pickerField2=$("#datepicker2");pickerField2.datepicker({autoclose:!0}),self.$scope.contract.endsAt&&(date=new Date(self.$scope.contract.endsAt),pickerField2.datepicker("setDate",new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0)))},10)}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.openEndDatePicker=function(){self.$scope.datetimePicker2.opened=!self.$scope.datetimePicker2.opened},this.$scope.openStartDatePicker=function(){self.$scope.datetimePicker1.opened=!self.$scope.datetimePicker1.opened},this.$scope.save=function(){_this.saveInProgress=!0,_this.isSaveOperationDisable=!0;var model=angular.copy(_this.$scope.contract);model.renewalStrategyId=model.renewalStrategies.selected.id,self.Contract.updateDates({contractId:_this.$scope.contract.id,assetId:_this.$scope.contract.assetId},model,function(result){self.notificationService.success((0,_messages2.default)("contracts.edit.dates.message.updated")),self.saveInProgress=!1,_this.$uibModalInstance.close(_this.$scope.contract)},function(error){409===error.status?self.notificationService.error(error.data.message):self.notificationService.error(error.data),self.saveInProgress=!1})},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.isFormValid=function(){var self=_this;return!(!self.$scope.contract.startsAt||self.$scope.contract.endsAt&&!(new Date(self.$scope.contract.startsAt)<new Date(self.$scope.contract.endsAt)))}}}]),ContractDatesEditModalController}());exports.default=ContractDatesEditModalController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal modal-contract-dates" ng-class="hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'contracts.edit.dates.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <form role="form" ng-if="!getDataInProgress" name="submitForm">\r\n            <div class="form-group">\r\n                <label class="control-label">{{Messages(\'contracts.edit.dates.start-date\')}}</label>\r\n                <div class="input-group date" id="datepicker1">\r\n                    <input name="contractStartDate" type="text" class="form-control datepicker" ng-class="!isFormValid()? \'ng-invalid\': \'\'" ng-model="contract.startsAt"\r\n                        required>\r\n                    <div class="input-group-addon">\r\n                        <span class="fa fa-calendar"></span>\r\n                    </div>\r\n                </div>\r\n                <span class="validation-message" ng-show="!isFormValid()">\r\n                        <span ng-show="submitForm.contractStartDate.$error.required">{{Messages(\'validation.required\')}}</span>\r\n                <span ng-show="submitForm.contractStartDate.$error.date">{{Messages(\'validation.date\')}}</span>\r\n                <span ng-show="!submitForm.contractStartDate.$error.required && !isFormValid()">{{Messages(\'contracts.edit.dates.validation.startDateInvalid\')}}</span>\r\n                </span>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">{{Messages(\'contracts.edit.dates.end-date\')}}</label>\r\n                <div class="input-group date" id="datepicker2">\r\n                    <input name="contractEndDate" type="text" class="form-control datepicker" ng-model="contract.endsAt">\r\n                    <div class="input-group-addon">\r\n                        <span class="fa fa-calendar"></span>\r\n                    </div>\r\n                </div>\r\n                <span class="validation-message" ng-show="submitForm.contractEndDate.$invalid">\r\n                        <span ng-show="submitForm.contractEndDate.$error.date">{{Messages(\'validation.date\')}}</span>\r\n                </span>\r\n            </div>\r\n            <div class="form-group">\r\n                <label class="control-label">{{Messages(\'contracts.edit.renewal_strategy\')}}</label>\r\n                <ui-select ng-model="contract.renewalStrategies.selected" close-on-select="true" theme="bootstrap" search-enabled="false"\r\n                    required name="renewalStrategy">\r\n                    <ui-select-match placeholder="{{Messages(\'contracts.edit.renewal_strategy.placeholder\')}}">\r\n                        {{ $select.selected.name }}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="strategy in contract.renewalStrategies.available">\r\n                        {{ strategy.name }}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()" ng-disabled="!isFormValid()">\r\n            {{ saveInProgress ? Messages(\'contracts.edit.dates.saving\') : Messages(\'contracts.edit.dates.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'contracts.edit.dates.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_constants=(_interopRequireDefault(_messages),__webpack_require__(720)),TenantConfirmDialogController=(_interopRequireDefault(_constants),function(){function TenantConfirmDialogController($scope,$uibModal,$uibModalInstance,isArchive,name){_classCallCheck(this,TenantConfirmDialogController),this.$scope=$scope,this.$scope.ctrl=this,this.$uibModal=$uibModal,this.$uibModalInstance=$uibModalInstance,this.$scope.name=name,this.$scope.isArchive=isArchive,this.init()}return TenantConfirmDialogController.$inject=["$scope","$uibModal","$uibModalInstance","isArchive","name"],_createClass(TenantConfirmDialogController,[{key:"init",value:function(){var self=this;self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.$scope.confirm=function(){self.$uibModalInstance.close(!0)}}}]),TenantConfirmDialogController}());exports.default=TenantConfirmDialogController},function(module,exports){module.exports='<div class="inmodal">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ isArchive ? Messages(\'assets.tenants.archive.title\'): Messages(\'assets.tenants.restore.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        {{ isArchive? Messages(\'assets.tenants.archive.message\'): Messages(\'assets.tenants.restore.message\')}} {{name}} ?\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="confirm()">\r\n            {{ isArchive ? Messages(\'assets.tenants.archive.save\') :Messages(\'assets.tenants.restore.save\') }}\r\n        </button>\r\n            <button type="button" class="btn btn-default pull-left" ng-click="cancel()">\r\n            {{ Messages(\'assets.tenants.archive.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div ng-if="context === \'sidebar\'" class="side-close">\r\n    <img src="/img/icons/close.svg" alt="" ng-click="$ctrl.closeSidebar()">\r\n</div>\r\n\r\n<div class="right-sidebar-content" ss-container>\r\n    <div class="tenant-descr">\r\n        <div class="tenant-common" style="flex: 0 1 65%">\r\n            <div style="height: 100%">\r\n                <div class="tenant-row">\r\n                    <div class="tenant-details placeholder">\r\n                        <div ng-if="context === \'sidebar\'">\r\n                            <div class="pull-right" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !fullContract.isArchived && fullContract.status !== $ctrl.const.contractStatusIds.expired">\r\n                                <a href="#" ng-click="$ctrl.archiveTenant()">{{$ctrl.messages(\'assets.tenants.archive.label\')}}</a>\r\n                            </div>\r\n                            <div class="pull-right" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && fullContract.isArchived">\r\n                                <a href="#" ng-click="$ctrl.restoreTenant()">{{$ctrl.messages(\'assets.tenants.restore.label\')}}</a>\r\n                            </div>\r\n                            <div class="cont">\r\n                                <div class="space-header">{{$ctrl.messages(\'assets.tenants.status\')}}</div>\r\n                                <div class="status-label" ng-class="fullContract.status === 0 ? \'success\' : \'error\'">{{$ctrl.getStatus(fullContract.status)}}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="sidebar-panel">\r\n                            <div class="header-panel">\r\n                                <div class="header">{{$ctrl.messages(\'assets.tenants.placeholder.details\')}}</div>\r\n                                <div class="line"></div>\r\n                                <div class="tool" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && $ctrl.fullContract.isArchived">\r\n                                    <a href="#" ng-click="$ctrl.editTenant()">\r\n                                        <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                                    </a>\r\n                                </div>                            \r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.name\')}}</div>\r\n                                        {{fullContract.client.name}}\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.industry\')}}</div>\r\n                                        {{fullContract.client.industryName}}\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.contract_number\')}}</div>\r\n                                        {{fullContract.contractNumber || \'No\'}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tenant-row">\r\n                    <div class="tenant-contract-details placeholder">\r\n                        <div class="sidebar-panel">\r\n                            <div class="header-panel">\r\n                                <div class="header">{{$ctrl.messages(\'assets.tenants.placeholder.contract-details\')}}</div>\r\n                                <div class="line"></div>\r\n                                <div class="tool" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && $ctrl.fullContract.isArchived">\r\n                                    <a href="#" ng-click="$ctrl.editContract()">\r\n                                        <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                                    </a>\r\n                                </div>                            \r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.lease_start_date\')}}</div>\r\n                                        {{$ctrl.getParsedDate(fullContract.leaseStartDate)}}\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.lease_end_date\')}}</div>\r\n                                        {{$ctrl.getParsedDate(fullContract.leaseEndDate)}}\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.total_area\')}}</div>\r\n                                        {{fullContract.totalArea}} <span ng-bind-html="$ctrl.messages(\'square.meter\')" />\r\n                                    </div>\r\n                                </div>                                \r\n                            </div>\r\n                            <div class="row">\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.in_place_rent\')}} ({{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="$ctrl.messages(\'square.meter\')" style="text-transform: lowercase"/>)</div>\r\n                                        {{$ctrl.Settings.getCurrency()}} {{(fullContract.averageMeterCost).toFixed(2)}} / <span ng-bind-html="$ctrl.messages(\'square.meter\')"/> /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                                        <span ng-if="data.spaces.length > 1" class="tenants-avg-indicator">\r\n                                            <img src="/img/icons/avg.svg" alt="AVG">\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="col-md-4">\r\n                                    <div class="block">\r\n                                        <div class="subheader">{{$ctrl.messages(\'assets.tenants.net_rent\')}}</div>\r\n                                        {{$ctrl.Settings.getCurrency()}} {{(fullContract.netRentCost).toFixed(2)}} /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                                    </div>\r\n                                </div>                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tenant-row">\r\n                    <div class="tenant-unit-details placeholder">\r\n                        <div class="sidebar-panel">\r\n                            <div class="header-panel">\r\n                                <div class="header">{{$ctrl.messages(\'assets.tenants.placeholder.unit-details\')}}</div>\r\n                                <div class="line"></div>                          \r\n                            </div>\r\n                            <div class="block" ng-repeat="unit in fullContract.spaces">\r\n                                <div class="subheader">{{unit.assetName}} <span ng-if="unit.towerName">:</span> {{unit.towerName}}</div>\r\n                                <div class="row">\r\n                                    <div class="col-md-2">\r\n                                        <button class="btn btn-default unit selected-unit">\r\n                                            <span class="unit-label">{{unit.number}}</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class="col-md-2">\r\n                                        - <!-- no api support -->\r\n                                    </div>\r\n                                    <div class="col-md-2">\r\n                                        {{unit.rentableArea}} <span ng-bind-html="$ctrl.messages(\'square.meter\')" />\r\n                                    </div>\r\n                                    <div class="col-md-3">\r\n                                        {{$ctrl.Settings.getCurrency()}} {{(unit.inPlaceRent).toFixed(2)}}/<span ng-bind-html="$ctrl.messages(\'square.meter\')"/> /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                                    </div>\r\n                                    <div class="col-md-3">\r\n                                        {{$ctrl.Settings.getCurrency()}} {{(unit.netRent).toFixed(2)}} /{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tenant-row">\r\n                    <div class="tenant-contact-details placeholder">\r\n                        <div class="sidebar-panel">\r\n                            <div class="header-panel">\r\n                                <div class="header">{{$ctrl.messages(\'assets.tenants.placeholder.contact-details\')}}</div>\r\n                                <div class="line"></div>\r\n                                <div class="tool" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !fullContract.isArchived">\r\n                                    <a href="#" ng-click="$ctrl.editTenantContact(null)">\r\n                                        <img src="/img/icons/panel-add.png" srcset="/img/icons/panel-add.png 2x">\r\n                                    </a>\r\n                                </div>                            \r\n                            </div>\r\n\r\n                            <div class="row contacts-list-item" ng-repeat="representative in fullContract.representatives" ng-if="fullContract.representatives != null && fullContract.representatives.length > 0">\r\n                                <div class="col-md-2" ng-class="!fullContract.isArchived ? \'pointer\' : \'\'" ng-click="$ctrl.editTenantContact(representative)">\r\n                                    <div class="avatar pull-right"><img src="/img/user.svg"></div> <!-- no api support -->\r\n                                </div>\r\n                                <div class="col-md-8">\r\n                                    <div class="contact-name" ng-class="!fullContract.isArchived ? \'pointer\' : \'\'" ng-click="$ctrl.editTenantContact(representative)">{{representative.name}}</div>\r\n                                    <div ng-class="!fullContract.isArchived ? \'pointer\' : \'\'" ng-click="$ctrl.editTenantContact(representative)">\r\n                                        <span class="contact-position" ng-if="representative.isMain">Tenant contact</span> \r\n                                        <span class="contact-position" ng-if="representative.isBroker">Broker contact</span> \r\n                                        <span ng-if="(representative.isMain || representative.isBroker) && representative.companyName">|</span> {{representative.companyName}}\r\n                                    </div>\r\n                                    <div class="row">\r\n                                        <div class="col-md-4">\r\n                                            <img src="img/icons/email.svg" class="contact-icon" alt="" ng-if="representative.email"> {{representative.email}}\r\n                                        </div>\r\n                                        <div class="col-md-4">\r\n                                            <img src="img/icons/phone.svg" class="contact-icon" alt="" ng-if="representative.mobilePhone"> {{representative.mobilePhone}}\r\n                                        </div>\r\n                                        <div class="col-md-4">\r\n                                            <img src="img/icons/phone.svg" class="contact-icon" alt="" ng-if="representative.officePhone"> {{representative.officePhone}}\r\n                                        </div>                                                                                \r\n                                    </div>\r\n                                </div>       \r\n                                <div class="col-md-2 contacts-list-controls" ng-if="!fullContract.isArchived">\r\n                                    <a href="" ng-click="$ctrl.deleteTenantContact(representative)" class="tool-box text-muted"><img src="/img/icons/delete-contact.svg"></a>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="row" ng-if="fullContract.representatives == null || fullContract.representatives.length == 0">\r\n                                <div class="col-md-12 text-center" style="padding: 20px 0;">\r\n                                    {{$ctrl.messages(\'assets.tenants.contact.not_specified\')}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>                \r\n                <div class="tenant-row">\r\n                    <div class="tenant-options placeholder">\r\n                        <div class="sidebar-panel">\r\n                            <div class="header-panel">\r\n                                <div class="header">{{$ctrl.messages(\'assets.tenants.placeholder.options\')}}</div>\r\n                                <div class="line"></div>\r\n                            </div>                   \r\n                            <table ng-if="fullContract.renewallOptions.length" cellpadding="1" cellspacing="1" class="table dataTable no-footer borderless" id="filtered-spaces-grid2">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th class="stat-label">\r\n                                            {{$ctrl.messages(\'assets.tenants.options.types.header\')}}\r\n                                        </th>\r\n                                        <th class="stat-label">\r\n                                            {{$ctrl.messages(\'assets.tenants.options.space.header\')}}\r\n                                        </th>\r\n                                        <th class="stat-label">\r\n                                            {{$ctrl.messages(\'assets.tenants.options.enddate.header\')}}\r\n                                        </th>\r\n                                        <th class="stat-label">\r\n                                            {{$ctrl.messages(\'assets.tenants.options.till.header\')}}\r\n                                        </th>\r\n                                        <th class="stat-label">\r\n                                            {{$ctrl.messages(\'assets.tenants.options.value.header\')}}\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr ng-repeat="item in fullContract.renewallOptions">\r\n                                        <td class="tenant-text">{{$ctrl.getOptionsType(item.type)}}</td>\r\n                                        <td class="tenant-text">{{item.space}}</td>\r\n                                        <td class="tenant-text">{{$ctrl.getParsedDate(item.endDate)}}</td>\r\n                                        <td class="tenant-text">{{$ctrl.getParsedDate(item.till)}}</td>\r\n                                        <td class="tenant-text">{{item.value}}</td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <div ng-if="!fullContract.renewallOptions.length" class="text-center" style="padding: 20px 0;">\r\n                                {{$ctrl.messages(\'assets.tenants.options.nodata\')}}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tenant-row">\r\n                    <div id="attachmentPlaceholder" class="tenant-attachments fixed placeholder">\r\n                        <div class="sidebar-panel">\r\n                            <div class="header-panel">\r\n                                <div class="header">{{$ctrl.messages(\'assets.tenants.placeholder.attachments\')}}</div>\r\n                                <div class="line"></div>\r\n                                <div class="tool" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager && !fullContract.isArchived">\r\n                                    <a href="#" ng-click="$ctrl.addDocument()">\r\n                                        <img src="/img/icons/panel-add.png" srcset="/img/icons/panel-add.png 2x">\r\n                                    </a>\r\n                                </div>                            \r\n                            </div>                        \r\n                            <div class="attachment-container">\r\n                                <div class="row attachment-row" ng-repeat="at in fullContract.attachments | limitTo: $ctrl.showAllAttachments ? \'Infinity\' : 4">\r\n                                    <div class="col-md-5">\r\n                                        <div class="attachment-type">{{at.type}}</div>\r\n                                    </div>\r\n                                    <div class="col-md-7">\r\n                                        <div class="attachment-name">\r\n                                            <div class="link">\r\n                                                <a href="#" ng-click="$ctrl.downloadDocument(at)">{{at.name}}</a>\r\n                                            </div>\r\n                                            <img src="/img/icons/delete.png" srcset="/img/icons/delete@2x.png 2x" alt="" ng-click="$ctrl.deleteDocument(at)" ng-if="$ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager"/>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <a href="" class="tenant-field-block expand-button pull-right" ng-click="$ctrl.showMoreAttachment(!$ctrl.showAllAttachments)" ng-if="fullContract.attachments.length > 4">\r\n                                <div ng-if="!$ctrl.showAllAttachments">\r\n                                    <span>\r\n                                        {{$ctrl.messages(\'assets.tenants.attachment.showmorebutton\')}}\r\n                                    </span>\r\n                                    <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n                                </div>\r\n                                <div ng-if="$ctrl.showAllAttachments">\r\n                                    <span>\r\n                                        {{$ctrl.messages(\'assets.tenants.attachment.showlessbutton\')}}\r\n                                    </span>\r\n                                    <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n                                </div>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="tenant-column tenant-comment-column" style="flex: 0 1 35%">\r\n            <div class="tenant-comments">\r\n                <span class="space-header">{{$ctrl.messages(\'assets.tenants.placeholder.comments\')}}</span>\r\n                <add-comment save-message="$ctrl.addComment(message)" readonly="readonly"/>\r\n                <div class="tenant-field-block" style="height: 100%" >\r\n                    <chat get-messages="$ctrl.getComments(offset, size)" current-user-id="$ctrl.currentUser.id" reload="reloadComments" style="display: block; height: 100%; overflow: hidden"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <input type="file" id="attachementsUploader" accept="image/png, image/jpg, text/plain, application/pdf, application/msword, application/vnd.ms-excel,\r\n            application/vnd.openxmlformats-officedocument.wordprocessingml.document,\r\n            application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" class="hidden" />\r\n    </div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _stackingplanDetails=__webpack_require__(873),_stackingplanDetails2=_interopRequireDefault(_stackingplanDetails),_stackingplanDetailsTemplate=__webpack_require__(874),_stackingplanDetailsTemplate2=_interopRequireDefault(_stackingplanDetailsTemplate),StackingPlanDetailsComponent={bindings:{data:"=",context:"=?"},controller:_stackingplanDetails2.default,template:_stackingplanDetailsTemplate2.default};exports.default=StackingPlanDetailsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_spaceBasicEditModal=(_interopRequireDefault(_events),__webpack_require__(851)),_spaceBasicEditModal2=_interopRequireDefault(_spaceBasicEditModal),_spaceBasicEditModalTemplate=__webpack_require__(852),_spaceBasicEditModalTemplate2=_interopRequireDefault(_spaceBasicEditModalTemplate),_contractSpaceEditModal=__webpack_require__(853),_contractSpaceEditModal2=_interopRequireDefault(_contractSpaceEditModal),_contractSpaceEditModalTemplate=__webpack_require__(854),_contractSpaceEditModalTemplate2=_interopRequireDefault(_contractSpaceEditModalTemplate),StackingPlanDetails=function(){function StackingPlanDetails($scope,$rootScope,uibDateParser,UtilsService,SecurityService,NotificationService,Settings,$uibModal,Space,SpaceTypeLookupService){_classCallCheck(this,StackingPlanDetails),this.$scope=$scope,this.$rootScope=$rootScope,this.messages=_messages2.default,this.const=_constants2.default,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.$uibModal=$uibModal,this.Settings=Settings,this.notificationService=NotificationService,this.$scope.details=this.data,this.$scope.context=this.context,this.securityService=SecurityService,this.currentUser=null,this.Space=Space,this.SpaceTypeLookupService=SpaceTypeLookupService,this.init()}return StackingPlanDetails.$inject=["$scope","$rootScope","uibDateParser","UtilsService","SecurityService","NotificationService","Settings","$uibModal","Space","SpaceTypeLookupService"],_createClass(StackingPlanDetails,[{key:"init",value:function(){var self=this;self.$onInit=function(){self.$scope.$watch(function(){return self.data},function(){self.data&&self.$scope.details!=self.data.details&&(self.$scope.details=self.data.details,self.$scope.assetId=self.data.assetId,self.$scope.context=self.context,self.Space.getFull({assetId:self.$scope.assetId,id:self.$scope.details.spaceId},function(result){self.$scope.data=result},function(error){self.notificationService.error(error.data&&error.data.message?error.data.message:error.data)}))})},self.securityService.getUserInfo().then(function(user){self.currentUser=user}),this.initScrollbar()}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"closeSidebar",value:function(){this.$scope.data=null,this.$rootScope.$broadcast("right-sidebar:close")}},{key:"editUnitDetails",value:function(){var self=this,modal=this.$uibModal.open({controller:_spaceBasicEditModal2.default,template:_spaceBasicEditModalTemplate2.default,resolve:{spaceObject:self.$scope.data}});modal.result.then(function(result){self.Space.getFull({assetId:self.$scope.assetId,id:self.$scope.details.spaceId},function(result){self.$scope.data=result},function(error){self.notificationService.error(error.data&&error.data.message?error.data.message:error.data)}),self.$scope.details.spaceArea=result.rentableArea,self.$scope.details.spaceType=self.$scope.data.type=result.type,self.SpaceTypeLookupService.byKey(self.$scope.details.spaceType).then(function(dataItem){self.$scope.details.spaceTypeString=dataItem.text})})}},{key:"editContractDetails",value:function(){var self=this,modal=this.$uibModal.open({controller:_contractSpaceEditModal2.default,template:_contractSpaceEditModalTemplate2.default,resolve:{spaceObject:self.$scope.data,masterContractId:self.$scope.data.contract.masterContractId}});modal.result.then(function(result){self.$scope.details.inPlaceRent=self.$scope.data.contract.inPlaceRent=result.spaceMonthlyRentCostPerMeter})}}]),StackingPlanDetails}();exports.default=StackingPlanDetails},function(module,exports){module.exports='<div ng-if="context === \'sidebar\'" class="side-close">\r\n    <img src="/img/icons/close.svg" alt="" ng-click="$ctrl.closeSidebar()">\r\n</div>\r\n\r\n<div class="stackingplan-details right-sidebar-content" ss-container>\r\n    <div ng-if="details" class="plan-description-panel">\r\n        <div class="space-header">{{ $ctrl.messages(\'stacking-plan.details.unit\') }}</div>\r\n        <div class="space-number" ng-class="\'space-number-\' + details.leaseEndYearIndex">{{ details.spaceNumber }}</div>\r\n\r\n        <div class="sidebar-panel">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{ $ctrl.messages(\'stacking-plan.space.details\') }}\r\n                </div>\r\n                <div class="line"></div>\r\n                <div class="tool">\r\n                    <a href="#" ng-click="$ctrl.editUnitDetails()" ng-if="data != null && !data.isArchived && $ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager">\r\n                        <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking-plan.details.rentable\') }}</div>\r\n                        <span class="space-rentable-area">{{ details.spaceArea | number: 2 }} <span ng-bind-html="$ctrl.messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking-plan.details.areatype\') }}</div>\r\n                        {{ details.spaceTypeString }}\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-6">\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="sidebar-panel" ng-if="details.tenantName">\r\n            <div class="header-panel">\r\n                <div class="header">\r\n                    {{ $ctrl.messages(\'stacking-plan.details.leases\') }}\r\n                </div>\r\n                <div class="line"></div>\r\n                <div class="tool">\r\n                    <a href="#" ng-click="$ctrl.editContractDetails()" ng-if="data != null && !data.isArchived && $ctrl.currentUser.roleId === $ctrl.const.userRoles.assetManager">\r\n                        <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n                    </a>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking-plan.details.clientname\') }}</div>\r\n                        <a ui-sref="client({id: details.tenantId})">{{ details.tenantName }}</a>\r\n                    </div>\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking-plan.expires.2\') }}</div>\r\n                        <span am-time-ago="details.leaseEndDate"></span>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking-plan.details.industry\') }}</div>\r\n                        {{ details.industry }}\r\n                    </div>                \r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking.plan.details.lease.start\') }}</div>\r\n                        {{ details.leaseStartDate | date : \'dd/MM/yyyy\' }}\r\n                    </div>                   \r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking.plan.details.lease.end\') }}</div>\r\n                        {{ details.leaseEndDate | date : \'dd/MM/yyyy\' }}\r\n                    </div>                \r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking-plan.details.cost.inplace-rent\') }}</div>\r\n                        {{ details.inPlaceRent | number:2}} {{ $ctrl.Settings.getCurrency() }}/<span ng-bind-html=" $ctrl.messages(\'square.meter\')" />\r\n                    </div>                   \r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="block">\r\n                        <div class="subheader">{{ $ctrl.messages(\'stacking.plan.details.cost.netrent\') }}</div>\r\n                        {{ $ctrl.Settings.getCurrency() }} {{ details.netRent | number:2 }}\r\n                    </div>                \r\n                </div>\r\n            </div>                     \r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _bodyBlocker=__webpack_require__(876),_bodyBlocker2=_interopRequireDefault(_bodyBlocker),_bodyBlockerTemplate=__webpack_require__(877),_bodyBlockerTemplate2=_interopRequireDefault(_bodyBlockerTemplate),BodyBlockerComponent={bindings:{},controller:_bodyBlocker2.default,template:_bodyBlockerTemplate2.default};exports.default=BodyBlockerComponent},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),SpaceDescription=function(){function SpaceDescription($rootScope){_classCallCheck(this,SpaceDescription),this.$rootScope=$rootScope}return SpaceDescription.$inject=["$rootScope"],_createClass(SpaceDescription,[{key:"onClick",value:function(){this.$rootScope.$broadcast("right-sidebar:close")}}]),SpaceDescription}();exports.default=SpaceDescription},function(module,exports){module.exports='<div class="blocker" id="body-blocker" ng-click="$ctrl.onClick()"></div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _usermenu=__webpack_require__(879),_usermenu2=_interopRequireDefault(_usermenu),_usermenuTemplate=__webpack_require__(880),_usermenuTemplate2=_interopRequireDefault(_usermenuTemplate),UserMenuComponent={bindings:{userInfo:"=",brokerInfo:"=?"},controller:_usermenu2.default,template:_usermenuTemplate2.default};exports.default=UserMenuComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),UserMenu=function(){function UserMenu($scope,$state,SecurityService){_classCallCheck(this,UserMenu),this.$scope=$scope,this.$state=$state,this.securityService=SecurityService,this.messages=_messages2.default,this.init()}return UserMenu.$inject=["$scope","$state","SecurityService"],_createClass(UserMenu,[{key:"init",value:function(){}},{key:"signOut",value:function(){this.securityService.signOut(),this.$state.go("login",null,{reload:!0})}}]),UserMenu}();exports.default=UserMenu},function(module,exports){module.exports='<div class="navbar-text navbar-right side-empty">&nbsp;</div>\r\n<ul class="nav navbar-nav navbar-right user-menu">\r\n    <li class="dropdown">\r\n        <div class="dropdown-toggle header-profile" href="#" data-toggle="dropdown" aria-expanded="false">\r\n            <div class="profile-inline">\r\n                <div class="text-right">\r\n                    <strong>{{$ctrl.userInfo.displayName}}</strong>\r\n                </div>\r\n                <div class="text-right">\r\n                    <strong>{{$ctrl.userInfo.roleName}}</strong>\r\n                </div>\r\n            </div>\r\n            <div class="profile-inline">\r\n                <span class="caret"></span>\r\n            </div>\r\n        </div>\r\n        <div class="dropdown-menu dropdown-menu-right"> <!-- dropdown-profile -->\r\n            <div class="profile-info">\r\n                <div class="profile-inline">\r\n                    <div class="avatar">\r\n                        <img class="media-object user-photo" src="img/user.svg" alt="">\r\n                    </div>\r\n                </div>\r\n                <div class="profile-inline">\r\n                    <div class="profile-contact">\r\n                        <img src="img/icons/email.svg" class="profile-icon" alt=""> <span class="profile-mail text-overflow small text-muted">{{$ctrl.userInfo.email}}</span>\r\n                    </div>\r\n                    <div class="profile-contact">\r\n                        <img src="img/icons/phone.svg" class="profile-icon" alt=""> <span class="profile-phone text-overflow small text-muted">+49-941235872</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <ul class="nav profile-links">\r\n                <li><a ui-sref="#">{{$ctrl.messages(\'mainheader.settings.account\')}}</a></li>\r\n                <!--<li class="divider"></li>-->\r\n                <li><a ng-click="$ctrl.signOut()">{{$ctrl.messages(\'mainheader.signout\')}}</a></li>\r\n            </ul>\r\n        </div>\r\n    </li>\r\n</ul>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _actionmenu=__webpack_require__(882),_actionmenu2=_interopRequireDefault(_actionmenu),_actionmenuTemplate=__webpack_require__(883),_actionmenuTemplate2=_interopRequireDefault(_actionmenuTemplate),ActionMenuComponent={bindings:{userInfo:"=",brokerInfo:"=?"},controller:_actionmenu2.default,template:_actionmenuTemplate2.default};exports.default=ActionMenuComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),ActionMenu=function(){function ActionMenu($scope,$state,SecurityService,Activities){_classCallCheck(this,ActionMenu),this.$scope=$scope,this.$state=$state,this.securityService=SecurityService,this.activities=Activities,this.messages=_messages2.default,this.constants=_constants2.default,this.init()}return ActionMenu.$inject=["$scope","$state","SecurityService","Activities"],_createClass(ActionMenu,[{key:"init",value:function(){this.applyActivities()}},{key:"applyActivities",value:function(){var _this=this;this.securityService.getActivities().then(function(){_this.securityService.canDo(_this.activities.HomeView).then(function(result){return _this.homeAvailable=result},function(){return _this.homeAvailable=!1}),_this.securityService.canDo(_this.activities.BrokersView).then(function(result){return _this.brokersAvailable=result},function(){return _this.brokersAvailable=!1}),_this.securityService.canDo(_this.activities.UsersView).then(function(result){return _this.usersAvailable=result},function(){return _this.usersAvailable=!1}),_this.securityService.canDo(_this.activities.AssetsManage).then(function(result){return _this.assetsAvailable=result},function(){return _this.assetsAvailable=!1}),_this.securityService.canDo(_this.activities.AssetsView).then(function(result){return _this.assetsViewAvailable=result},function(){return _this.assetsViewAvailable=!1}),_this.securityService.canDo(_this.activities.MarketsManage).then(function(result){return _this.marketsAvailable=result},function(){return _this.marketsAvailable=!1}),_this.securityService.canDo(_this.activities.DashboardView).then(function(result){return _this.dashboardAvailable=result},function(){return _this.dashboardAvailable=!1}),_this.securityService.canDo(_this.activities.GlobalSpacesView).then(function(result){return _this.spacesAvailable=result},function(){return _this.spacesAvailable=!1}),_this.securityService.canDo(_this.activities.GlobalTenantsView).then(function(result){return _this.tenantsAvailable=result},function(){return _this.tenantsAvailable=!1}),_this.securityService.canDo(_this.activities.GlobalDealsView).then(function(result){return _this.dealsAvailable=result},function(){return _this.dealsAvailable=!1}),_this.securityService.canDo(_this.activities.MarketplaceDashboard).then(function(result){return _this.marketplaceDashboardAvailable=result},function(){return _this.marketplaceDashboardAvailable=!1}),_this.securityService.canDo(_this.activities.MarketplaceUnits).then(function(result){return _this.marketplaceUnitsAvailable=result},function(){return _this.marketplaceUnitsAvailable=!1}),_this.securityService.canDo(_this.activities.MarketplaceDeals).then(function(result){return _this.marketplaceDealsAvailable=result},function(){return _this.marketplaceDealsAvailable=!1}),_this.securityService.canDo(_this.activities.MarketplaceClients).then(function(result){return _this.marketplaceClientsAvailable=result},function(){return _this.marketplaceClientsAvailable=!1}),_this.securityService.canDo(_this.activities.CompetetiveInsightsCompetitions).then(function(result){return _this.competetiveInsightsCompetitionsAvailable=result},function(){return _this.competetiveInsightsCompetitionsAvailable=!1}),_this.securityService.canDo(_this.activities.CompetetiveInsightsBuildings).then(function(result){return _this.competetiveInsightsBuildingsAvailable=result},function(){return _this.competetiveInsightsBuildingsAvailable=!1})})}}]),ActionMenu}();exports.default=ActionMenu},function(module,exports){module.exports='<ul class="nav navbar-nav navbar-right user-menu" ng-if="$ctrl.$state.params.area === $ctrl.constants.Areas.Portfolio">\r\n    <li class="dropdown">\r\n        <div class="dropdown-toggle header-icon" href="#" data-toggle="dropdown" aria-expanded="false">\r\n            <img src="img/icons/ninedots.svg" alt="...">\r\n        </div>\r\n\r\n        <ul class="dropdown-menu hdropdown animated" ng-if="$ctrl.userInfo.roleId === $ctrl.constants.userRoles.user || $ctrl.userInfo.roleId === $ctrl.constants.userRoles.assetManager">\r\n            <li ng-show="$ctrl.dashboardAvailable">\r\n                <a ui-sref="dashboard">\r\n                   {{$ctrl.messages(\'sidebar.dashboard\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.assetsViewAvailable">\r\n                <a ui-sref="asset-stats">\r\n                   {{$ctrl.messages(\'sidebar.assets\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.tenantsAvailable">\r\n                <a ui-sref="tenants">\r\n                   {{$ctrl.messages(\'sidebar.clients\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.spacesAvailable">\r\n                <a ui-sref="spaces">\r\n                    {{$ctrl.messages(\'sidebar.spaces\')}}\r\n                </a> \r\n            </li>\r\n            <li ng-show="$ctrl.dealsAvailable">\r\n                <a ui-sref="deals">\r\n                    {{$ctrl.messages(\'sidebar.deals\')}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="dropdown-menu hdropdown animated" ng-if="$ctrl.userInfo.roleId === $ctrl.constants.userRoles.admin">\r\n            <li ng-show="$ctrl.dashboardAvailable">\r\n                <a ui-sref="dashboard">\r\n                    {{$ctrl.messages(\'sidebar.dashboard\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.brokersAvailable">\r\n                <a ui-sref="brokers">\r\n                    {{$ctrl.messages(\'sidebar.brokers\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.usersAvailable">\r\n                <a ui-sref="users">\r\n                    {{$ctrl.messages(\'sidebar.users\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.assetsAvailable">\r\n                <a ui-sref="assets">\r\n                    {{$ctrl.messages(\'sidebar.assets\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.marketsAvailable">\r\n                <a ui-sref="markets">\r\n                    {{$ctrl.messages(\'sidebar.markets\')}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n\r\n    </li>\r\n</ul>\r\n\r\n<ul class="nav navbar-nav navbar-right user-menu" ng-if="$ctrl.$state.params.area === $ctrl.constants.Areas.Marketplace">\r\n    <li class="dropdown">\r\n        <div class="dropdown-toggle header-icon" href="#" data-toggle="dropdown" aria-expanded="false">\r\n            <img src="img/icons/ninedots.svg" alt="...">\r\n        </div>\r\n\r\n        <ul class="dropdown-menu hdropdown animated">\r\n            <li ng-show="$ctrl.marketplaceDashboardAvailable">\r\n                <a ui-sref="marketplace-dashboard">\r\n                   {{$ctrl.messages(\'sidebar.marketplace_dashboard\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.marketplaceUnitsAvailable">\r\n                <a ui-sref="marketplace-units">\r\n                   {{$ctrl.messages(\'sidebar.marketplace_units\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.marketplaceDealsAvailable">\r\n                <a ui-sref="marketplace-deals">\r\n                   {{$ctrl.messages(\'sidebar.marketplace_deals\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.marketplaceClientsAvailable">\r\n                <a ui-sref="marketplace-clients">\r\n                   {{$ctrl.messages(\'sidebar.marketplace_clients\')}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n</ul>\r\n\r\n<ul class="nav navbar-nav navbar-right user-menu" ng-if="$ctrl.$state.params.area === $ctrl.constants.Areas.CompetetiveInsights">\r\n    <li class="dropdown">\r\n        <div class="dropdown-toggle header-icon" href="#" data-toggle="dropdown" aria-expanded="false">\r\n            <img src="img/icons/ninedots.svg" alt="...">\r\n        </div>\r\n\r\n        <ul class="dropdown-menu hdropdown animated">\r\n            <li ng-show="$ctrl.competetiveInsightsCompetitionsAvailable">\r\n                <a ui-sref="compinsights-competitions">\r\n                   {{$ctrl.messages(\'sidebar.compinsights_competitions\')}}\r\n                </a>\r\n            </li>\r\n            <li ng-show="$ctrl.competetiveInsightsBuildingsAvailable">\r\n                <a ui-sref="compinsights-buildings">\r\n                   {{$ctrl.messages(\'sidebar.compinsights_buildings\')}}\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n</ul>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _footer=__webpack_require__(885),_footer2=_interopRequireDefault(_footer),_footerTemplate=__webpack_require__(886),_footerTemplate2=_interopRequireDefault(_footerTemplate),FooterComponent={bindings:{},controller:_footer2.default,template:_footerTemplate2.default};exports.default=FooterComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),Footer=function(){function Footer($scope,$state){_classCallCheck(this,Footer),this.$scope=$scope,this.$state=$state,this.messages=_messages2.default,this.init()}return Footer.$inject=["$scope","$state"],_createClass(Footer,[{key:"init",value:function(){}}]),Footer}();exports.default=Footer},function(module,exports){module.exports='<div class="footer fixed-footer">\r\n        <span class="pull-right">\r\n            Tower360 GmBH 2016-17\r\n        </span>\r\n        Powered by <img src="./img/web-logo.svg" style="width: 50px; height: 18px; display: inline-block">\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _chat=__webpack_require__(888),_chat2=_interopRequireDefault(_chat),_chatTemplate=__webpack_require__(889),_chatTemplate2=_interopRequireDefault(_chatTemplate),ChatComponent={bindings:{getMessages:"&",saveMessage:"&",currentUserId:"=",reload:"=",readonly:"=?"},controller:_chat2.default,template:_chatTemplate2.default};exports.default=ChatComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),pageSize=15,ChatController=function(){function ChatController($scope,$rootScope,$timeout,$location){_classCallCheck(this,ChatController),this.getMessages=this.getMessages,this.saveMessage=this.saveMessage,this.currentUserId=this.currentUserId,this.reload=this.reload,this.readonly=this.readonly||!1,this.$scope=$scope,this.$rootScope=$rootScope,this.$scope.comments=[],this.$scope.bufferedcomments=[],this.$scope.pageSize=pageSize,this.$scope.pageOffset=0,this.$scope.searchTerm="",this.$timeout=$timeout,this.messages=_messages2.default,this.$scope.reload=!1,this.typedMessage="",this.init(),this.initScrollbar()}return ChatController.$inject=["$scope","$rootScope","$timeout","$location"],_createClass(ChatController,[{key:"init",value:function(){var self=this;self.$onInit=function(){self.$scope.$watch(function(){return self.reload},function(){self.reload&&(self.$scope.comments=[],self.$scope.pageOffset=0,self.stopLoadData=!1,self.buzy=!1,self.loadData(pageSize,function(){self.buzy=!1,self.reload=!1},[]))})},this.$rootScope.$on(_events2.default.AddComment,function(ev,data){data&&data.comment&&(self.$scope.comments.unshift(data.comment),self.$scope.pageOffset++,self.$timeout(function(){var elem=$("#messageList").find(".ss-content");elem[0];elem.animate({scrollTop:0}),self.buzy=!1},0))})}},{key:"loadMore",value:function(callback){var self=this;self.buzy||(self.buzy=!0,self.loadData(pageSize,function(){self.buzy=!1,callback&&callback()},[]))}},{key:"loadData",value:function(count,callback){var self=this;self.getMessages({offset:self.$scope.pageOffset,size:count}).then(function(result){self.$scope.comments=self.$scope.comments.concat(result),0==result.length&&(self.stopLoadData=!0),self.$scope.pageOffset+=result.length,
callback&&callback()})}},{key:"getDate",value:function(dt){var today=(0,_moment2.default)().startOf("day");return _moment2.default.utc(dt).local().isSame(today,"d")?_moment2.default.utc(dt).local().format("LT"):_moment2.default.utc(dt).local().fromNow()}},{key:"initScrollbar",value:function(){var self=this;angular.element(document).ready(function(){var elem=$("#messageList");SimpleScrollbar.initEl(elem[0]),elem=elem.find(".ss-content");var raw=elem[0];elem.bind("scroll",function(event){raw.scrollHeight;raw.scrollTop>raw.scrollHeight-raw.offsetHeight-100&&self.loadMore(function(){})})})}}]),ChatController}();exports.default=ChatController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="no-padding chat">\r\n    <div id="messageList" class="chat-message-placeholer">\r\n        <div ng-if="comments.length > 0" class="chat-discussion">\r\n                <div infinite-scroll="$ctrl.loadMoreItems()" infinite-scroll-parent="true" infinite-scroll-disabled="false">            \r\n                    <div ng-repeat="message in comments" ng-switch="$last">\r\n                        <div class="chat-message" ng-class="$last ? \'\' : \'chat-message-border\'">\r\n                            <!--<img class="message-avatar" ng-src="{{message.userAvatarUrl ? \'/img/user1.jpg\' : \'/img/user1.jpg\'}}" alt="">-->\r\n                            <img class="message-avatar" ng-src="{{message.userAvatarUrl ? message.userAvatarUrl : \'/img/user.svg\'}}" alt="">\r\n                            <div class="message">\r\n                                <div class="message-group">\r\n                                    <span class="message-author" href="#">{{message.username}}</span>\r\n                                    <span class="message-date" style="float:right">{{$ctrl.getDate(message.createdAt)}}</span>\r\n                                </div>\r\n                                <span class="message-content">{{message.text}}</span>                            \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-if="comments.length == 0" class="no-message">\r\n                {{$ctrl.messages(\'assets.tenants.comments.nocomments\')}}\r\n            </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _addComment=__webpack_require__(891),_addComment2=_interopRequireDefault(_addComment),_addCommentTemplate=__webpack_require__(892),_addCommentTemplate2=_interopRequireDefault(_addCommentTemplate),AddCommentComponent={bindings:{saveMessage:"&",readonly:"=?"},controller:_addComment2.default,template:_addCommentTemplate2.default};exports.default=AddCommentComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),enterKey=(_interopRequireDefault(_moment),13),AddCommentController=function(){function AddCommentController($scope,$timeout,$location){_classCallCheck(this,AddCommentController),this.saveMessage=this.saveMessage,this.readonly=this.readonly||!1,this.$scope=$scope,this.$timeout=$timeout,this.messages=_messages2.default,this.typedMessage="",this.init()}return AddCommentController.$inject=["$scope","$timeout","$location"],_createClass(AddCommentController,[{key:"init",value:function(){var self=this;$("#inputComment").keypress(function(e){var key=e.which;key!=enterKey||e.shiftKey||self.addMessage()})}},{key:"addMessage",value:function(){var self=this;self.$scope.readonly||self.typedMessage&&""!=self.typedMessage&&(self.saveMessage({message:self.typedMessage}),self.typedMessage=null)}}]),AddCommentController}();exports.default=AddCommentController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="no-padding chat">\r\n    <div class="input-group add-comment-placeholder">\r\n        <textarea type="text" id="inputComment" ng-model="$ctrl.typedMessage" ng-disabled="$ctrl.readonly" class="form-control" placeholder="{{$ctrl.messages(\'assets.tenants.comments.helper\')}}"></textarea>\r\n        <span class="note">{{$ctrl.messages(\'assets.tenants.comments.note\')}}</span>      \r\n    </div>    \r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extraFilters=__webpack_require__(894),_extraFilters2=_interopRequireDefault(_extraFilters),_extraFiltersTemplate=__webpack_require__(895),_extraFiltersTemplate2=_interopRequireDefault(_extraFiltersTemplate),ExtraFiltersComponent={bindings:{},controller:_extraFilters2.default,template:_extraFiltersTemplate2.default};exports.default=ExtraFiltersComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),ExtraFiltersController=function(){function ExtraFiltersController($scope,$state,$rootScope){_classCallCheck(this,ExtraFiltersController),this.$scope=$scope,this.$state=$state,this.$rootScope=$rootScope,this.constants=_constants2.default,this.$scope.isUnitsPage=!1,this.$scope.isContractsPage=!1,this.$scope.isDealsPage=!1,this.$scope.isMarketplaceClientPage=!1,this.$scope.isMarketplaceDealPage=!1,this.$scope.isMarketplaceSpacePage=!1,this.$scope.isAssetsPage=!1,this.$scope.isDashboardPage=!1,this.init()}return ExtraFiltersController.$inject=["$scope","$state","$rootScope"],_createClass(ExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.isUnitsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&(self.$state.includes("spaces")||self.$state.includes("asset-stats-spaces")),self.$scope.isContractsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&(self.$state.includes("tenants")||self.$state.includes("asset-stats-tenants")),self.$scope.isDealsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&(self.$state.includes("deals")||self.$state.includes("asset-stats-deals")),self.$scope.isMarketplaceDashboardPage=self.$state.params.area===self.constants.Areas.Marketplace&&self.$state.includes("marketplace-dashboard"),self.$scope.isMarketplaceClientPage=self.$state.params.area===_constants2.default.Areas.Marketplace&&self.$state.includes("marketplace-clients"),self.$scope.isMarketplaceDealPage=self.$state.params.area===_constants2.default.Areas.Marketplace&&self.$state.includes("marketplace-deals"),self.$scope.isMarketplaceSpacePage=self.$state.params.area===_constants2.default.Areas.Marketplace&&self.$state.includes("marketplace-units"),self.$scope.isAssetsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&self.$state.includes("asset-stats"),self.$scope.isDashboardPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&self.$state.includes("dashboard"),self.$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){self.$scope.isUnitsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&("spaces"===toState.name||"asset-stats-spaces"===toState.name),self.$scope.isContractsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&("tenants"===toState.name||"asset-stats-tenants"===toState.name),self.$scope.isDealsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&("deals"===toState.name||"asset-stats-deals"===toState.name),self.$scope.isMarketplaceClientPage=self.$state.params.area===_constants2.default.Areas.Marketplace&&"marketplace-clients"===toState.name,self.$scope.isMarketplaceDashboardPage="marketplace-dashboard"===toState.name,self.$scope.isMarketplaceDealPage=self.$state.params.area===_constants2.default.Areas.Marketplace&&"marketplace-deals"===toState.name,self.$scope.isMarketplaceSpacePage=self.$state.params.area===_constants2.default.Areas.Marketplace&&"marketplace-units"===toState.name,self.$scope.isAssetsPage=self.$state.params.area===_constants2.default.Areas.Portfolio&&"asset-stats"===toState.name,self.$scope.isDashboardPage="dashboard"===toState.name})}}]),ExtraFiltersController}();exports.default=ExtraFiltersController},function(module,exports){module.exports='<div class="filters-accordeons" ng-if="isUnitsPage || isMarketplaceSpacePage">\r\n    <spaces-extra-filters></spaces-extra-filters>\r\n</div>\r\n<div class="filters-accordeons" ng-if="isContractsPage">\r\n    <contracts-extra-filters></contracts-extra-filters>\r\n</div>\r\n<div class="filters-accordeons" ng-if="isDealsPage || isMarketplaceDealPage">\r\n    <deals-extra-filters></deals-extra-filters>\r\n</div>\r\n<div class="filters-accordeons" ng-if="isAssetsPage">\r\n    <assets-extra-filters></assets-extra-filters>\r\n</div>\r\n<div class="filters-accordeons" ng-if="isDashboardPage">\r\n    <dashboard-extra-filters></dashboard-extra-filters>\r\n</div>\r\n\r\n\r\n<div class="filters-accordeons" ng-if="$ctrl.$state.params.area === $ctrl.constants.Areas.Marketplace">\r\n    <marketplace-clients-extra-filters ng-if="isMarketplaceClientPage"></marketplace-clients-extra-filters>\r\n    <marketplace-dashboard-recent-deals ng-if="isMarketplaceDashboardPage"></marketplace-dashboard-recent-deals>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spacesExtraFilters=__webpack_require__(897),_spacesExtraFilters2=_interopRequireDefault(_spacesExtraFilters),_spacesExtraFiltersTemplate=__webpack_require__(898),_spacesExtraFiltersTemplate2=_interopRequireDefault(_spacesExtraFiltersTemplate),SpacesExtraFiltersComponent={bindings:{},controller:_spacesExtraFilters2.default,template:_spacesExtraFiltersTemplate2.default};exports.default=SpacesExtraFiltersComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),SpacesExtraFiltersController=function(){function SpacesExtraFiltersController($scope,$rootScope,$state,$stateParams,AssetObject,Asset,SpaceTypeLookupService,Settings){_classCallCheck(this,SpacesExtraFiltersController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.$scope.isUnitsPage=!1,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.ctrl=this,this.AssetObject=AssetObject,this.Asset=Asset,this.SpaceTypeLookupService=SpaceTypeLookupService,this.Settings=Settings,this.$scope.isAssetLevel=!1,this.$scope.isGlobalLevel=!1,this.$scope.assetSearchTerm=null;var self=this;self.$scope.isAssetLevel="asset-stats-spaces"===self.$state.current.name,self.$scope.isGlobalLevel="spaces"===self.$state.current.name||"marketplace-units"===self.$state.current.name,self.assetId=self.$scope.isAssetLevel?self.$stateParams.id:null,this.init(),$rootScope.$on(_events2.default.SpacesExtraFilterItemRemoved,function(ev,data){self.removeItemFromFilter(data.item)})}return SpacesExtraFiltersController.$inject=["$scope","$rootScope","$state","$stateParams","AssetObject","Asset","SpaceTypeLookupService","Settings"],_createClass(SpacesExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.assets=[],self.$scope.isGlobalLevel&&self.loadAssets(),self.$scope.markets=[],self.$scope.isGlobalLevel&&self.loadMarkets(),this.$scope.statuses={available:[{label:(0,_messages2.default)("assets.spaces.status.vacant"),value:_constants2.default.spaceStatusIds.vacant,id:"space-status-"+_constants2.default.spaceStatusIds.vacant},{label:(0,_messages2.default)("assets.spaces.status.occupied"),value:_constants2.default.spaceStatusIds.occupied,id:"space-status-"+_constants2.default.spaceStatusIds.occupied},{label:(0,_messages2.default)("assets.spaces.status.reserved"),value:_constants2.default.spaceStatusIds.reserved,id:"space-status-"+_constants2.default.spaceStatusIds.reserved}],selected:null},self.$scope.towers=[],self.$scope.isAssetLevel&&self.loadTowers(),self.$scope.officeTypes=[],self.SpaceTypeLookupService.all().then(function(result){result.forEach(function(item){item.selected=!1}),self.$scope.officeTypes=result}),self.$scope.rentableAreaType=_constants2.default.filterNumericTypes.range,self.$scope.rentableAreaFrom=null,self.$scope.rentableAreaTo=null,self.$scope.rentableAreaDiscrete=null,self.$scope.askingPriceType=_constants2.default.filterNumericTypes.range,self.$scope.askingPriceFrom=null,self.$scope.askingPriceTo=null,self.$scope.askingPriceDiscrete=null,self.$scope.inPlaceRentType=_constants2.default.filterNumericTypes.range,self.$scope.inPlaceRentFrom=null,self.$scope.inPlaceRentTo=null,self.$scope.inPlaceRentDiscrete=null,self.$scope.cities=[],self.$scope.isGlobalLevel&&self.loadCities()}},{key:"changeInPlaceRentType",value:function(value){var self=this;self.$scope.inPlaceRentType=value}},{key:"changePriceType",value:function(value){var self=this;self.$scope.askingPriceType=value}},{key:"changeRentableAreaType",value:function(value){var self=this;self.$scope.rentableAreaType=value}},{key:"saveFilter",value:function(){var self=this,result=[];if(self.$scope.askingPriceType==_constants2.default.filterNumericTypes.range&&self.$scope.askingPriceFrom&&(result.push({id:_constants2.default.spacesExtraFilters.priceFrom,name:(0,_messages2.default)("assets.spaces.filter.asking_price_from"),value:self.$scope.askingPriceFrom,text:self.$scope.askingPriceFrom+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.askingPriceDiscrete=null),self.$scope.askingPriceType==_constants2.default.filterNumericTypes.range&&self.$scope.askingPriceTo&&(result.push({id:_constants2.default.spacesExtraFilters.priceTo,name:(0,_messages2.default)("assets.spaces.filter.asking_price_to"),value:self.$scope.askingPriceTo,text:self.$scope.askingPriceTo+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.askingPriceDiscrete=null),self.$scope.askingPriceType==_constants2.default.filterNumericTypes.discrete&&self.$scope.askingPriceDiscrete&&(result.push({id:_constants2.default.spacesExtraFilters.price,name:(0,_messages2.default)("assets.spaces.filter.asking_price"),value:self.$scope.askingPriceDiscrete,text:self.$scope.askingPriceDiscrete+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.askingPriceFrom=null,self.$scope.askingPriceTo=null),self.$scope.rentableAreaType==_constants2.default.filterNumericTypes.range&&self.$scope.rentableAreaFrom&&(result.push({id:_constants2.default.spacesExtraFilters.areaFrom,name:(0,_messages2.default)("assets.spaces.filter.rentable_area_from"),value:self.$scope.rentableAreaFrom,text:self.$scope.rentableAreaFrom+" "+(0,_messages2.default)("square.meter")}),self.$scope.rentableAreaDiscrete=null),self.$scope.rentableAreaType==_constants2.default.filterNumericTypes.range&&self.$scope.rentableAreaTo&&(result.push({id:_constants2.default.spacesExtraFilters.areaTo,name:(0,_messages2.default)("assets.spaces.filter.rentable_area_to"),value:self.$scope.rentableAreaTo,text:self.$scope.rentableAreaTo+" "+(0,_messages2.default)("square.meter")}),self.$scope.rentableAreaDiscrete=null),self.$scope.rentableAreaType==_constants2.default.filterNumericTypes.discrete&&self.$scope.rentableAreaDiscrete&&(result.push({id:_constants2.default.spacesExtraFilters.area,name:(0,_messages2.default)("assets.spaces.filter.rentable_area"),value:self.$scope.rentableAreaDiscrete,text:self.$scope.rentableAreaDiscrete+" "+(0,_messages2.default)("square.meter")}),self.$scope.rentableAreaTo=null,self.$scope.rentableAreaFrom=null),self.$scope.inPlaceRentType==_constants2.default.filterNumericTypes.range&&this.$scope.inPlaceRentFrom&&(result.push({id:_constants2.default.spacesExtraFilters.inPlaceRentFrom,name:(0,_messages2.default)("assets.spaces.filter.in_place_rent_from"),value:this.$scope.inPlaceRentFrom,text:this.$scope.inPlaceRentFrom+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.inPlaceRentDiscrete=null),self.$scope.inPlaceRentType==_constants2.default.filterNumericTypes.range&&this.$scope.inPlaceRentTo&&(result.push({id:_constants2.default.spacesExtraFilters.inPlaceRentTo,name:(0,_messages2.default)("assets.spaces.filter.in_place_rent_to"),value:this.$scope.inPlaceRentTo,text:this.$scope.inPlaceRentTo+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.inPlaceRentDiscrete=null),self.$scope.inPlaceRentType==_constants2.default.filterNumericTypes.discrete&&self.$scope.inPlaceRentDiscrete&&(result.push({id:_constants2.default.spacesExtraFilters.inPlaceRent,name:(0,_messages2.default)("assets.spaces.filter.in_place_rent"),value:self.$scope.inPlaceRentDiscrete,text:self.$scope.inPlaceRentDiscrete+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.inPlaceRentFrom=null,self.$scope.inPlaceRentTo=null),this.$scope.towers.forEach(function(item){item.selected&&result.push({id:"tower_"+item.id,value:item,text:item.name})}),this.$scope.officeTypes.forEach(function(item){item.selected&&result.push({id:"office_type_"+item.value,value:item,text:item.text})}),self.$scope.statuses.selected){for(var text="",i=0;i<self.$scope.statuses.available.length;i++)if(self.$scope.statuses.available[i].value==self.$scope.statuses.selected){text=self.$scope.statuses.available[i].label;break}result.push({id:_constants2.default.spacesExtraFilters.status,value:this.$scope.statuses.selected,text:text})}this.$scope.assets.forEach(function(item){item.selected&&result.push({id:"asset_"+item.id,value:item.id,text:item.name})}),this.$scope.cities.forEach(function(item){item.selected&&result.push({id:"city_"+item.name,value:item,text:item.name})}),this.$scope.markets.forEach(function(item){item.selected&&result.push({id:"market_"+item.id,value:item.id,text:item.name})}),self.$rootScope.$emit(_events2.default.SpacesExtraFilterUpdated,{filter:result})}},{key:"removeItemFromFilter",value:function(filterItem){var self=this;0===filterItem.id.indexOf("office_type_")&&self.$scope.officeTypes.forEach(function(item){filterItem.value.value===item.value&&(item.selected=!1)}),filterItem.id===_constants2.default.spacesExtraFilters.status&&(self.$scope.statuses.selected=null),filterItem.id===_constants2.default.spacesExtraFilters.areaFrom&&(self.$scope.rentableAreaFrom=null),filterItem.id===_constants2.default.spacesExtraFilters.areaTo&&(self.$scope.rentableAreaTo=null),filterItem.id===_constants2.default.spacesExtraFilters.area&&(self.$scope.rentableAreaDiscrete=null),filterItem.id===_constants2.default.spacesExtraFilters.priceFrom&&(self.$scope.askingPriceFrom=null),filterItem.id===_constants2.default.spacesExtraFilters.priceTo&&(self.$scope.askingPriceTo=null),filterItem.id===_constants2.default.spacesExtraFilters.price&&(self.$scope.askingPriceDiscrete=null),filterItem.id===_constants2.default.spacesExtraFilters.inPlaceRentFrom&&(self.$scope.inPlaceRentFrom=null),filterItem.id===_constants2.default.spacesExtraFilters.inPlaceRentTo&&(self.$scope.inPlaceRentTo=null),filterItem.id==_constants2.default.spacesExtraFilters.inPlaceRent&&(self.$scope.inPlaceRentDiscrete=null),0===filterItem.id.indexOf("tower_")&&self.$scope.towers.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("asset_")&&self.$scope.assets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("city_")&&self.$scope.cities.forEach(function(item){filterItem.value.name===item.name&&(item.selected=!1)}),0===filterItem.id.indexOf("market_")&&self.$scope.markets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)})}},{key:"loadTowers",value:function(){var _this=this;this.AssetObject.query({assetId:this.assetId},function(result){_this.$scope.towers=result,_this.$scope.towers.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadAssets",value:function(){var _this2=this;this.Asset.query({},function(result){_this2.$scope.assets=result,_this2.$scope.assets.forEach(function(item){item.selected=!1,item.visible=!0})},function(err){})}},{key:"loadMarkets",value:function(){var _this3=this;this.Asset.getMarkets({},function(result){_this3.$scope.markets=result,_this3.$scope.markets.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadCities",value:function(){var self=this;this.Asset.getCities({},function(result){result.forEach(function(item){self.$scope.cities.push({name:item,isSelected:!1})})},function(err){})}},{key:"filterAssets",value:function(){var self=this;self.$scope.assets.forEach(function(item){item.visible=null===self.$scope.assetSearchTerm||item.name.toLowerCase().indexOf(self.$scope.assetSearchTerm.toLowerCase())!==-1})}},{key:"formatAssetAddress",value:function(location){var country=_constants2.default.countries.find(function(item){return item.value===location.countryId});return location.city&&country?location.city+", "+country.text:country?country.text:null}}]),SpacesExtraFiltersController}();exports.default=SpacesExtraFiltersController},function(module,exports){module.exports='<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.assets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row input-line">\r\n            <div class="col-sm-12">\r\n                <input type="text" class="search-icon" ng-model="assetSearchTerm" ng-change="ctrl.filterAssets()" placeholder="Search">\r\n            </div>\r\n        </div>        \r\n        <div ng-repeat="item in assets | filter: {visible: true}">\r\n            <div class="asset-line">\r\n                <div class="asset-name">\r\n                    <input type="checkbox" ng-model="item.selected" id="asset-{{item.id}}" name="asset-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n                    <label for="asset-{{item.id}}">\r\n                        <span></span>\r\n                        <strong title="{{item.name}}">{{item.name}}</strong>\r\n                        <address title="{{ctrl.formatAssetAddress(item.location)}}">{{ctrl.formatAssetAddress(item.location)}}</address>\r\n                    </label>\r\n                </div>\r\n                <div class="asset-image">\r\n                    <img  ng-src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.cities\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in cities">\r\n            <input type="checkbox" ng-model="item.selected" id="city-{{item.name}}" name="city-{{item.name}}" ng-change="ctrl.saveFilter()"><label for="city-{{item.name}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n    <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.status\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in statuses.available">\r\n            <input type="radio" value="{{item.value}}"  name="space-stauts" id="{{item.id}}" ng-model= "statuses.selected" ng-change="ctrl.saveFilter()" /><label for="{{item.id}}"><span></span>{{item.label}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.markets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in markets">\r\n            <input type="checkbox" ng-model="item.selected" id="market-{{item.id}}" name="market-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="market-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n    \r\n<div class="fpanel" ng-show="isAssetLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.towers\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in towers">\r\n            <input type="checkbox" ng-model="item.selected" id="tower-{{item.id}}" name="tower-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="tower-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.rentable_area\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        \t<div class="radio-line">\r\n            \t<input type="radio" id="rentable-area-type-range" name="rentable-area-type" checked ng-click="ctrl.changeRentableAreaType(Constants.filterNumericTypes.range)">\r\n                <label for="rentable-area-type-range"><span></span>{{Messages(\'assets.spaces.filter.range\')}}</label>\r\n \t\t\t\t<input type="radio" id="rentable-area-type-descrete" name="rentable-area-type" ng-click="ctrl.changeRentableAreaType(Constants.filterNumericTypes.discrete)">\r\n                <label for="rentable-area-type-descrete"><span></span>{{Messages(\'assets.spaces.filter.discrete\')}}</label>\r\n \t\t\t</div>\r\n            <div ng-show="rentableAreaType === Constants.filterNumericTypes.range">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.from\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="rentableAreaFrom" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.to\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="rentableAreaTo" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-show="rentableAreaType === Constants.filterNumericTypes.discrete">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-12">\r\n                        <input type="number" name="" size="8" class="w-unit" ng-model="rentableAreaDiscrete" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.type\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in officeTypes">\r\n            <input type="checkbox" ng-model="item.selected" id="space-type-{{item.value}}" name="space-type-{{item.value}}" ng-change="ctrl.saveFilter()"><label for="space-type-{{item.value}}"><span></span>{{item.text}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.asking_price\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        \t<div class="radio-line">\r\n            \t<input type="radio" id="price-type-range" name="price-type" checked ng-click="ctrl.changePriceType(Constants.filterNumericTypes.range)">\r\n                <label for="price-type-range"><span></span>{{Messages(\'assets.spaces.filter.range\')}}</label>\r\n \t\t\t\t<input type="radio" id="price-type-descrete" name="price-type" ng-click="ctrl.changePriceType(Constants.filterNumericTypes.discrete)">\r\n                 <label for="price-type-descrete"><span></span>{{Messages(\'assets.spaces.filter.discrete\')}}</label>\r\n \t\t\t</div>\r\n            <div ng-show="askingPriceType === Constants.filterNumericTypes.range">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.from\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="askingPriceFrom" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.to\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="askingPriceTo" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-show="askingPriceType === Constants.filterNumericTypes.discrete">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-12">\r\n                        <input type="number" name="" size="8" class="w-unit" ng-model="askingPriceDiscrete" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.in_place_rent\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        \t<div class="radio-line">\r\n            \t<input type="radio" id="in-place-rent-type-range" name="in-place-rent-type" checked ng-click="ctrl.changeInPlaceRentType(Constants.filterNumericTypes.range)">\r\n                <label for="in-place-rent-type-range"><span></span>{{Messages(\'assets.spaces.filter.range\')}}</label>\r\n \t\t\t\t<input type="radio" id="in-place-rent-type-discrete" name="in-place-rent-type" ng-click="ctrl.changeInPlaceRentType(Constants.filterNumericTypes.discrete)">\r\n                 <label for="in-place-rent-type-discrete"><span></span>{{Messages(\'assets.spaces.filter.discrete\')}}</label>\r\n \t\t\t</div>\r\n \t\t\t<div ng-show="inPlaceRentType === Constants.filterNumericTypes.range">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.from\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number"  size="8" class="w-unit" ng-model="inPlaceRentFrom" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.to\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="inPlaceRentTo" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-show="inPlaceRentType === Constants.filterNumericTypes.discrete">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-12">\r\n                        <input type="number" name="" size="8" class="w-unit" ng-model="inPlaceRentDiscrete" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _contractsExtraFilters=__webpack_require__(900),_contractsExtraFilters2=_interopRequireDefault(_contractsExtraFilters),_contractsExtraFiltersTemplate=__webpack_require__(901),_contractsExtraFiltersTemplate2=_interopRequireDefault(_contractsExtraFiltersTemplate),ContractsExtraFiltersComponent={bindings:{},controller:_contractsExtraFilters2.default,template:_contractsExtraFiltersTemplate2.default};exports.default=ContractsExtraFiltersComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),ContractsExtraFiltersController=function(){function ContractsExtraFiltersController($scope,$rootScope,$state,$stateParams,$timeout,AssetObject,Asset,IndustryLookupService,Settings){_classCallCheck(this,ContractsExtraFiltersController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.ctrl=this,this.$timeout=$timeout,this.AssetObject=AssetObject,this.Asset=Asset,this.IndustryLookupService=IndustryLookupService,this.Settings=Settings,this.$scope.isGlobalLevel=!1,this.$scope.assetSearchTerm=null;var self=this;self.$scope.isGlobalLevel="tenants"===self.$state.current.name,self.assetId=self.$scope.isGlobalLevel?null:self.$stateParams.id,this.init(),$rootScope.$on(_events2.default.ContractExtraFilterItemRemoved,function(ev,data){self.removeItemFromFilter(data.item)})}return ContractsExtraFiltersController.$inject=["$scope","$rootScope","$state","$stateParams","$timeout","AssetObject","Asset","IndustryLookupService","Settings"],_createClass(ContractsExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.assets=[],self.$scope.isGlobalLevel&&self.loadAssets(),self.$scope.cities=[],self.$scope.isGlobalLevel&&self.loadCities(),self.$scope.markets=[],self.$scope.isGlobalLevel&&self.loadMarkets(),self.$scope.towers=[],self.$scope.isGlobalLevel||self.loadTowers(),self.$scope.industries=[],self.IndustryLookupService.all().then(function(result){result.forEach(function(item){item.selected=!1}),self.$scope.industries=result}),self.$scope.inPlaceRentType=_constants2.default.filterNumericTypes.range,self.$scope.inPlaceRentFrom=null,self.$scope.inPlaceRentTo=null,self.$scope.inPlaceRentDiscrete=null,self.$scope.dateRanges={available:[{label:(0,_messages2.default)("assets.tenants.filter.within_1_year"),value:_constants2.default.contractExtraFilters.in1Year,id:"date-range-"+_constants2.default.contractExtraFilters.in1Year},{label:(0,_messages2.default)("assets.tenants.filter.within_2_year"),value:_constants2.default.contractExtraFilters.in2Year,id:"date-range-"+_constants2.default.contractExtraFilters.in2Year},{label:(0,_messages2.default)("assets.tenants.filter.within_3_year"),value:_constants2.default.contractExtraFilters.in3Year,id:"date-range-"+_constants2.default.contractExtraFilters.in3Year},{label:(0,_messages2.default)("assets.tenants.filter.within_4_year"),value:_constants2.default.contractExtraFilters.in4Year,id:"date-range-"+_constants2.default.contractExtraFilters.in4Year},{label:(0,_messages2.default)("assets.tenants.filter.within_5_year"),value:_constants2.default.contractExtraFilters.in5Year,id:"date-range-"+_constants2.default.contractExtraFilters.in5Year},{label:(0,_messages2.default)("assets.tenants.filter.custom_dates"),value:_constants2.default.contractExtraFilters.custom,id:"date-range-"+_constants2.default.contractExtraFilters.custom}],selected:null},self.$scope.startDate=null,self.$scope.endDate=null,self.expiryDateDictionary=[],self.expiryDateDictionary[_constants2.default.contractExtraFilters.in1Year.toString()]=(0,_messages2.default)("assets.tenants.filter.cloud.within_1_year"),self.expiryDateDictionary[_constants2.default.contractExtraFilters.in2Year]=(0,_messages2.default)("assets.tenants.filter.cloud.within_2_year"),self.expiryDateDictionary[_constants2.default.contractExtraFilters.in3Year]=(0,_messages2.default)("assets.tenants.filter.cloud.within_3_year"),self.expiryDateDictionary[_constants2.default.contractExtraFilters.in4Year]=(0,_messages2.default)("assets.tenants.filter.cloud.within_4_year"),self.expiryDateDictionary[_constants2.default.contractExtraFilters.in5Year]=(0,_messages2.default)("assets.tenants.filter.cloud.within_5_year"),this.$timeout(function(){var pickerField1=$("#contract-start-daterangepicker");pickerField1.datepicker({autoclose:!0});var pickerField2=$("#contract-end-daterangepicker");pickerField2.datepicker({autoclose:!0}),self.$scope.$watch("startDate",function(newValue,oldValue){newValue!==oldValue&&self.saveFilter()}),self.$scope.$watch("endDate",function(newValue,oldValue){newValue!==oldValue&&self.saveFilter()})},10)}},{key:"changeInPlaceRentType",value:function(value){var self=this;self.$scope.inPlaceRentType=value}},{key:"changeRentableAreaType",value:function(value){var self=this;self.$scope.rentableAreaType=value}},{key:"saveFilter",value:function(){var self=this,result=[];if(self.$scope.inPlaceRentType==_constants2.default.filterNumericTypes.range&&this.$scope.inPlaceRentFrom&&(result.push({id:_constants2.default.contractExtraFilters.inPlaceRentFrom,name:(0,_messages2.default)("assets.tenants.filter.from"),value:this.$scope.inPlaceRentFrom,text:this.$scope.inPlaceRentFrom+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.inPlaceRentDiscrete=null),self.$scope.inPlaceRentType==_constants2.default.filterNumericTypes.range&&this.$scope.inPlaceRentTo&&(result.push({id:_constants2.default.contractExtraFilters.inPlaceRentTo,name:(0,_messages2.default)("assets.tenants.filter.to"),value:this.$scope.inPlaceRentTo,text:this.$scope.inPlaceRentTo+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.inPlaceRentDiscrete=null),self.$scope.inPlaceRentType==_constants2.default.filterNumericTypes.discrete&&self.$scope.inPlaceRentDiscrete&&(result.push({id:_constants2.default.contractExtraFilters.inPlaceRent,name:"",value:self.$scope.inPlaceRentDiscrete,text:self.$scope.inPlaceRentDiscrete+" ["+this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),self.$scope.inPlaceRentFrom=null,self.$scope.inPlaceRentTo=null),this.$scope.towers.forEach(function(item){item.selected&&result.push({id:"tower_"+item.id,value:item,text:item.name})}),self.$scope.assets.forEach(function(item){item.selected&&result.push({id:"asset_"+item.id,value:item,text:item.name})}),self.$scope.industries.forEach(function(item){item.selected&&result.push({id:"industry_"+item.id,value:item,text:item.display})}),self.$scope.dateRanges.selected){var dateRange=self.$scope.dateRanges.selected;if(dateRange!==_constants2.default.contractExtraFilters.custom){result.push({id:"date_range_"+dateRange,value:dateRange,text:self.expiryDateDictionary[dateRange]})}else self.$scope.startDate&&result.push({id:_constants2.default.contractExtraFilters.expiry_from,value:self.$scope.startDate,text:(0,_messages2.default)("assets.tenants.filter.from")+" "+self.$scope.startDate}),self.$scope.endDate&&result.push({id:_constants2.default.contractExtraFilters.expiry_to,value:self.$scope.endDate,text:(0,_messages2.default)("assets.tenants.filter.to")+" "+self.$scope.endDate})}this.$scope.cities.forEach(function(item){item.selected&&result.push({id:"city_"+item.name,value:item,text:item.name})}),this.$scope.markets.forEach(function(item){item.selected&&result.push({id:"market_"+item.id,value:item.id,text:item.name})}),self.$rootScope.$emit(_events2.default.ContractExtraFilterUpdated,{filter:result})}},{key:"removeItemFromFilter",value:function(filterItem){var self=this;filterItem.id===_constants2.default.contractExtraFilters.inPlaceRentFrom&&(self.$scope.inPlaceRentFrom=null),filterItem.id===_constants2.default.contractExtraFilters.inPlaceRentTo&&(self.$scope.inPlaceRentTo=null),filterItem.id==_constants2.default.contractExtraFilters.inPlaceRent&&(self.$scope.inPlaceRentDiscrete=null),0===filterItem.id.indexOf("tower_")&&self.$scope.towers.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("asset_")&&self.$scope.assets.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("industry_")&&self.$scope.industries.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("date_range_")&&(self.$scope.dateRanges.selected=null),"expiry_from"===filterItem.id&&(self.$scope.startDate=null),"expiry_to"===filterItem.id&&(self.$scope.endDate=null),0===filterItem.id.indexOf("city_")&&self.$scope.cities.forEach(function(item){filterItem.value.name===item.name&&(item.selected=!1)}),0===filterItem.id.indexOf("market_")&&self.$scope.markets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)})}},{key:"loadTowers",value:function(){var _this=this;this.AssetObject.query({assetId:this.assetId},function(result){_this.$scope.towers=result,_this.$scope.towers.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadAssets",value:function(){var _this2=this;this.Asset.query({},function(result){_this2.$scope.assets=result,_this2.$scope.assets.forEach(function(item){item.selected=!1,item.visible=!0})},function(err){})}},{key:"loadMarkets",value:function(){var _this3=this;this.Asset.getMarkets({},function(result){_this3.$scope.markets=result,_this3.$scope.markets.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadCities",value:function(){var self=this;this.Asset.getCities({},function(result){result.forEach(function(item){self.$scope.cities.push({name:item,isSelected:!1})})},function(err){})}},{key:"filterAssets",value:function(){var self=this;self.$scope.assets.forEach(function(item){item.visible=null===self.$scope.assetSearchTerm||item.name.toLowerCase().indexOf(self.$scope.assetSearchTerm.toLowerCase())!==-1})}},{key:"formatAssetAddress",value:function(location){var country=_constants2.default.countries.find(function(item){return item.value===location.countryId});return location.city&&country?location.city+", "+country.text:country?country.text:null}}]),ContractsExtraFiltersController}();exports.default=ContractsExtraFiltersController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.asset\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row input-line">\r\n            <div class="col-sm-12">\r\n                <input type="text" class="w-unit" ng-model="assetSearchTerm" ng-change="ctrl.filterAssets()"><span class="input-unit"><span><i class="fa fa-search"></i></span>\r\n            </div>\r\n        </div>        \r\n        <div ng-repeat="item in assets | filter: {visible: true}">\r\n            <div class="asset-line">\r\n                <div class="asset-name">\r\n                    <input type="checkbox" ng-model="item.selected" id="asset-{{item.id}}" name="asset-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n                    <label for="asset-{{item.id}}">\r\n                        <span></span>\r\n                        <strong title="{{item.name}}">{{item.name}}</strong>\r\n                        <address title="{{ctrl.formatAssetAddress(item.location)}}">{{ctrl.formatAssetAddress(item.location)}}</address>\r\n                    </label>\r\n                </div>\r\n                <div class="asset-image">\r\n                    <img  ng-src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.cities\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in cities">\r\n            <input type="checkbox" ng-model="item.selected" id="city-{{item.name}}" name="city-{{item.name}}" ng-change="ctrl.saveFilter()"><label for="city-{{item.name}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.markets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in markets">\r\n            <input type="checkbox" ng-model="item.selected" id="market-{{item.id}}" name="market-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="market-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="!isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.tower\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in towers">\r\n            <input type="checkbox" ng-model="item.selected" id="tower-{{item.id}}" name="tower-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n            <label for="tower-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.expiry\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in dateRanges.available">\r\n            <input type="radio" value="{{item.value}}" ng-model="dateRanges.selected" id="{{item.id}}" name="contract-date-range" ng-change="ctrl.saveFilter()">\r\n            <label for="{{item.id}}"><span></span>{{item.label}}</label>\r\n        </div>\r\n        <div class="row input-line" ng-show="dateRanges.selected === Constants.contractExtraFilters.custom">\r\n            <div class="col-sm-5">{{Messages(\'assets.tenants.filter.start_date\')}}</div>\r\n            <div class="input-group date col-sm-7">\r\n                <input class="input-sm form-control ng-pristine ng-valid ng-empty ng-touched input-calendar" ng-model="startDate" id="contract-start-daterangepicker" type="text">\r\n            </div>\r\n        </div>\r\n        <div class="row input-line" ng-show="dateRanges.selected === Constants.contractExtraFilters.custom">\r\n            <div class="col-sm-5">{{Messages(\'assets.tenants.filter.end_date\')}}</div>\r\n            <div class="input-group date col-sm-7">\r\n                <input class="input-sm form-control ng-pristine ng-valid ng-empty ng-touched input-calendar" ng-model="endDate" id="contract-end-daterangepicker" type="text">\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.industry\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in industries">\r\n            <input type="checkbox" ng-model="item.selected" id="industry-{{item.id}}" name="industry-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n            <label for="industry-{{item.id}}"><span></span>{{item.display}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!--\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.area\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        \t<div class="radio-line">\r\n            \t<input type="radio" id="rentable-area-type-range" name="rentable-area-type" checked ng-click="ctrl.changeRentableAreaType(Constants.filterNumericTypes.range)">\r\n                <label for="rentable-area-type-range"><span></span>{{Messages(\'assets.spaces.filter.range\')}}</label>\r\n \t\t\t\t<input type="radio" id="rentable-area-type-descrete" name="rentable-area-type" ng-click="ctrl.changeRentableAreaType(Constants.filterNumericTypes.discrete)">\r\n                <label for="rentable-area-type-descrete"><span></span>{{Messages(\'assets.spaces.filter.discrete\')}}</label>\r\n \t\t\t</div>\r\n            <div ng-show="rentableAreaType === Constants.filterNumericTypes.range">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.from\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="text" size="8" class="w-unit" ng-model="rentableAreaFrom" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.to\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="text" size="8" class="w-unit" ng-model="rentableAreaTo" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-show="rentableAreaType === Constants.filterNumericTypes.discrete">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-12">\r\n                        <input type="text" name="" size="8" class="w-unit" ng-model="rentableAreaDiscrete" ng-blur="ctrl.saveFilter()">\r\n                        <span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n-->\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.in_place_rent\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        \t<div class="radio-line">\r\n            \t<input type="radio" id="in-place-rent-type-range" name="in-place-rent-type" checked ng-click="ctrl.changeInPlaceRentType(Constants.filterNumericTypes.range)">\r\n                <label for="in-place-rent-type-range"><span></span>{{Messages(\'assets.spaces.filter.range\')}}</label>\r\n \t\t\t\t<input type="radio" id="in-place-rent-type-discrete" name="in-place-rent-type" ng-click="ctrl.changeInPlaceRentType(Constants.filterNumericTypes.discrete)">\r\n                 <label for="in-place-rent-type-discrete"><span></span>{{Messages(\'assets.spaces.filter.discrete\')}}</label>\r\n \t\t\t</div>\r\n \t\t\t<div ng-show="inPlaceRentType === Constants.filterNumericTypes.range">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.from\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number"  size="8" class="w-unit" ng-model="inPlaceRentFrom" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'assets.spaces.filter.to\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="inPlaceRentTo" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-show="inPlaceRentType === Constants.filterNumericTypes.discrete">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-12">\r\n                        <input type="number" name="" size="8" class="w-unit" ng-model="inPlaceRentDiscrete" ng-blur="ctrl.saveFilter()"><span class="input-unit">{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>/{{Constants.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealsExtraFilters=__webpack_require__(903),_dealsExtraFilters2=_interopRequireDefault(_dealsExtraFilters),_dealsExtraFiltersTemplate=__webpack_require__(904),_dealsExtraFiltersTemplate2=_interopRequireDefault(_dealsExtraFiltersTemplate),DealsExtraFiltersComponent={bindings:{},controller:_dealsExtraFilters2.default,template:_dealsExtraFiltersTemplate2.default};exports.default=DealsExtraFiltersComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),ContractsExtraFiltersController=function(){function ContractsExtraFiltersController($scope,$rootScope,$state,$stateParams,$timeout,Asset,Deal,IndustryLookupService,SpaceTypeLookupService,NotificationService,DealTypeLookupService){_classCallCheck(this,ContractsExtraFiltersController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.ctrl=this,this.$timeout=$timeout,this.Asset=Asset,this.Deal=Deal,this.IndustryLookupService=IndustryLookupService,this.SpaceTypeLookupService=SpaceTypeLookupService,this.DealTypeLookupService=DealTypeLookupService,this.NotificationService=NotificationService;var self=this;self.$scope.isGlobalLevel="deals"===self.$state.current.name||"marketplace-deals"===self.$state.current.name,this.init(),$rootScope.$on(_events2.default.DealExtraFilterItemRemoved,function(ev,data){self.removeItemFromFilter(data.item)})}return ContractsExtraFiltersController.$inject=["$scope","$rootScope","$state","$stateParams","$timeout","Asset","Deal","IndustryLookupService","SpaceTypeLookupService","NotificationService","DealTypeLookupService"],_createClass(ContractsExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.assets=[],self.$scope.isGlobalLevel&&self.loadAssets(),self.$scope.markets=[],self.$scope.isGlobalLevel&&self.loadMarkets(),self.$scope.industries=[],self.IndustryLookupService.all().then(function(result){result.forEach(function(item){item.selected=!1}),self.$scope.industries=result}),self.$scope.areaType=_constants2.default.filterNumericTypes.range,self.$scope.areaFrom=null,self.$scope.areaTo=null,self.$scope.areaDiscrete=null,self.$scope.areaTypes=[],self.SpaceTypeLookupService.all().then(function(result){result.forEach(function(item){item.selected=!1}),self.$scope.areaTypes=result}),self.$scope.cities=[],self.$scope.isGlobalLevel&&self.loadCities(),self.$scope.leadUsers=[],self.loadDealLeadUser(),self.$scope.dealTypes=[],self.DealTypeLookupService.all().then(function(result){result.forEach(function(item){item.selected=!1}),self.$scope.dealTypes=result})}},{key:"changeAreaType",value:function(value){var self=this;self.$scope.areaType=value}},{key:"saveFilter",value:function(){var self=this,result=[];self.$scope.areaType==_constants2.default.filterNumericTypes.range&&self.$scope.areaFrom&&(result.push({id:_constants2.default.dealsExtraFilters.areaFrom,name:(0,_messages2.default)("deals.filter.from"),value:self.$scope.areaFrom,text:self.$scope.areaFrom+" "+(0,_messages2.default)("square.meter")}),self.$scope.areaDiscrete=null),self.$scope.areaType==_constants2.default.filterNumericTypes.range&&self.$scope.areaTo&&(result.push({id:_constants2.default.dealsExtraFilters.areaTo,name:(0,_messages2.default)("deals.filter.to"),value:self.$scope.areaTo,text:self.$scope.areaTo+" "+(0,_messages2.default)("square.meter")}),self.$scope.areaDiscrete=null),self.$scope.areaType==_constants2.default.filterNumericTypes.discrete&&self.$scope.areaDiscrete&&(result.push({id:_constants2.default.dealsExtraFilters.area,name:"",value:self.$scope.areaDiscrete,text:self.$scope.areaDiscrete+" "+(0,_messages2.default)("square.meter")}),self.$scope.areaTo=null,self.$scope.areaFrom=null),self.$scope.industries.forEach(function(item){item.selected&&result.push({id:"industry_"+item.id,value:item,text:item.display})}),this.$scope.areaTypes.forEach(function(item){item.selected&&result.push({id:"area_type_"+item.value,value:item,text:item.text})}),this.$scope.assets.forEach(function(item){item.selected&&result.push({id:"asset_"+item.id,value:item.id,text:item.name})}),this.$scope.cities.forEach(function(item){item.selected&&result.push({id:"city_"+item.name,value:item,text:item.name})}),this.$scope.markets.forEach(function(item){item.selected&&result.push({id:"market_"+item.id,value:item.id,text:item.name})}),this.$scope.leadUsers.forEach(function(item){item.selected&&result.push({id:"leaduser_"+item.id,name:(0,_messages2.default)("deals.filter.leadUsers.prefix"),value:item.id,text:item.displayName})}),this.$scope.dealTypes.forEach(function(item){item.selected&&result.push({id:"deal_type_"+item.value,value:item.id,text:item.name})}),self.$rootScope.$emit(_events2.default.DealExtraFilterUpdated,{filter:result})}},{key:"removeItemFromFilter",value:function(filterItem){var self=this;filterItem.id===_constants2.default.dealsExtraFilters.areaFrom&&(self.$scope.areaFrom=null),filterItem.id===_constants2.default.dealsExtraFilters.areaTo&&(self.$scope.areaTo=null),filterItem.id===_constants2.default.dealsExtraFilters.area&&(self.$scope.areaDiscrete=null),0===filterItem.id.indexOf("industry_")&&self.$scope.industries.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("area_type_")&&self.$scope.areaTypes.forEach(function(item){filterItem.value.value===item.value&&(item.selected=!1)}),0===filterItem.id.indexOf("asset_")&&self.$scope.assets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("city_")&&self.$scope.cities.forEach(function(item){filterItem.value.name===item.name&&(item.selected=!1)}),0===filterItem.id.indexOf("market_")&&self.$scope.markets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("leaduser_")&&self.$scope.leadUsers.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("deal_type_")&&self.$scope.dealTypes.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)})}},{key:"loadAssets",value:function(){var _this=this;this.Asset.query({},function(result){_this.$scope.assets=result,_this.$scope.assets.forEach(function(item){item.selected=!1,item.visible=!0})},function(err){})}},{key:"loadMarkets",value:function(){var _this2=this;this.Asset.getMarkets({},function(result){_this2.$scope.markets=result,_this2.$scope.markets.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadCities",value:function(){var self=this;this.Asset.getCities({},function(result){result.forEach(function(item){self.$scope.cities.push({name:item,isSelected:!1})})},function(err){})}},{key:"loadDealLeadUser",value:function(){var _this3=this,self=this;this.Deal.getLeadUsers({},function(result){_this3.$scope.leadUsers=result,_this3.$scope.leadUsers.forEach(function(item){item.selected=!1})},function(err){self.NotificationService.error(error.data&&error.data.message?error.data.message:error.data)})}},{key:"filterAssets",value:function(){var self=this;self.$scope.assets.forEach(function(item){item.visible=null===self.$scope.assetSearchTerm||item.name.toLowerCase().indexOf(self.$scope.assetSearchTerm.toLowerCase())!==-1})}},{key:"formatAssetAddress",value:function(location){var country=_constants2.default.countries.find(function(item){return item.value===location.countryId});return location.city&&country?location.city+", "+country.text:country?country.text:null}}]),ContractsExtraFiltersController}();exports.default=ContractsExtraFiltersController},function(module,exports){module.exports='<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.assets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row input-line">\r\n            <div class="col-sm-12">\r\n                <input type="text" class="search-icon" ng-model="assetSearchTerm" ng-change="ctrl.filterAssets()" placeholder="Search">\r\n            </div>\r\n        </div>        \r\n        <div ng-repeat="item in assets | filter: {visible: true}">\r\n            <div class="asset-line">\r\n                <div class="asset-name">\r\n                    <input type="checkbox" ng-model="item.selected" id="asset-{{item.id}}" name="asset-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n                    <label for="asset-{{item.id}}">\r\n                        <span></span>\r\n                        <strong title="{{item.name}}">{{item.name}}</strong>\r\n                        <address title="{{ctrl.formatAssetAddress(item.location)}}">{{ctrl.formatAssetAddress(item.location)}}</address>\r\n                    </label>\r\n                </div>\r\n                <div class="asset-image">\r\n                    <img  ng-src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.cities\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in cities">\r\n            <input type="checkbox" ng-model="item.selected" id="city-{{item.name}}" name="city-{{item.name}}" ng-change="ctrl.saveFilter()"><label for="city-{{item.name}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.industry\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in industries">\r\n            <input type="checkbox" ng-model="item.selected" id="industry-{{item.id}}" name="industry-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n            <label for="industry-{{item.id}}"><span></span>{{item.display}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.markets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in markets">\r\n            <input type="checkbox" ng-model="item.selected" id="market-{{item.id}}" name="market-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="market-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.area\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        \t<div class="radio-line">\r\n            \t<input type="radio" id="area-type-range" name="area-type" checked ng-click="ctrl.changeAreaType(Constants.filterNumericTypes.range)">\r\n                <label for="area-type-range"><span></span>{{Messages(\'deals.filter.range\')}}</label>\r\n \t\t\t\t<input type="radio" id="area-type-descrete" name="area-type" ng-click="ctrl.changeAreaType(Constants.filterNumericTypes.discrete)">\r\n                <label for="area-type-descrete"><span></span>{{Messages(\'deals.filter.discrete\')}}</label>\r\n \t\t\t</div>\r\n            <div ng-show="areaType === Constants.filterNumericTypes.range">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'deals.filter.from\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="areaFrom" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n                <div class="row input-line">\r\n                    <div class="col-sm-3">{{Messages(\'deals.filter.to\')}}</div>\r\n                    <div class="col-sm-9">\r\n                        <input type="number" size="8" class="w-unit" ng-model="areaTo" ng-blur="ctrl.saveFilter()"><span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-show="areaType === Constants.filterNumericTypes.discrete">\r\n                <div class="row input-line">\r\n                    <div class="col-sm-12">\r\n                        <input type="number" name="" size="8" class="w-unit" ng-model="areaDiscrete" ng-blur="ctrl.saveFilter()">\r\n                        <span class="input-unit"><span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.area_type\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in areaTypes">\r\n            <input type="checkbox" ng-model="item.selected" id="areaType-{{item.value}}" name="areaType-{{item.value}}" ng-change="ctrl.saveFilter()">\r\n            <label for="areaType-{{item.value}}"><span></span>{{item.text}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.deal_type\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in dealTypes">\r\n            <input type="checkbox" ng-model="item.selected" id="dealType-{{item.id}}" name="dealType-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n            <label for="dealType-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'deals.filter.leadUsers\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in leadUsers">\r\n            <input type="checkbox" ng-model="item.selected" id="leaduser-{{item.id}}" name="leaduser-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="leaduser-{{item.id}}"><span></span>{{item.displayName}}</label>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboardExtraFilters=__webpack_require__(906),_dashboardExtraFilters2=_interopRequireDefault(_dashboardExtraFilters),_dashboardExtraFiltersTemplate=__webpack_require__(907),_dashboardExtraFiltersTemplate2=_interopRequireDefault(_dashboardExtraFiltersTemplate),DashboardExtraFiltersComponent={bindings:{},controller:_dashboardExtraFilters2.default,template:_dashboardExtraFiltersTemplate2.default};exports.default=DashboardExtraFiltersComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),DashboardExtraFiltersController=function(){function DashboardExtraFiltersController($scope,$rootScope,$state,$stateParams,$timeout,Asset,NotificationService){_classCallCheck(this,DashboardExtraFiltersController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.ctrl=this,this.$timeout=$timeout,this.Asset=Asset,this.NotificationService=NotificationService,this.$scope.assetSearchTerm=null;this.init()}return DashboardExtraFiltersController.$inject=["$scope","$rootScope","$state","$stateParams","$timeout","Asset","NotificationService"],_createClass(DashboardExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.assets=[],self.loadAssets(),self.$scope.markets=[],self.loadMarkets(),self.$scope.cities=[],self.loadCities()}},{key:"saveFilter",value:function(){var self=this,result=[];self.$scope.assets.forEach(function(item){item.selected&&result.push({id:"asset_"+item.id,value:item,text:item.name})}),this.$scope.cities.forEach(function(item){item.selected&&result.push({id:"city_"+item.name,value:item,text:item.name})}),this.$scope.markets.forEach(function(item){item.selected&&result.push({id:"market_"+item.id,value:item.id,text:item.name})}),self.$rootScope.$emit(_events2.default.DashboardExtraFilterUpdated,{filter:result})}},{key:"removeItemFromFilter",value:function(filterItem){var self=this;0===filterItem.id.indexOf("asset_")&&self.$scope.assets.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("city_")&&self.$scope.cities.forEach(function(item){filterItem.value.name===item.name&&(item.selected=!1)}),0===filterItem.id.indexOf("market_")&&self.$scope.markets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)})}},{key:"loadAssets",value:function(){var _this=this;this.Asset.query({},function(result){_this.$scope.assets=result,_this.$scope.assets.forEach(function(item){item.selected=!1,item.visible=!0})},function(err){_this.NotificationService.error(err.data)})}},{key:"filterAssets",value:function(){var self=this;self.$scope.assets.forEach(function(item){item.visible=null===self.$scope.assetSearchTerm||item.name.toLowerCase().indexOf(self.$scope.assetSearchTerm.toLowerCase())!==-1})}},{key:"formatAssetAddress",value:function(location){var country=_constants2.default.countries.find(function(item){return item.value===location.countryId});return location.city&&country?location.city+", "+country.text:country?country.text:null}},{key:"loadMarkets",value:function(){var _this2=this;this.Asset.getMarkets({},function(result){_this2.$scope.markets=result,_this2.$scope.markets.forEach(function(item){item.selected=!1})},function(err){_this2.NotificationService.error(err.data)})}},{key:"loadCities",value:function(){var _this3=this,self=this;this.Asset.getCities({},function(result){result.forEach(function(item){self.$scope.cities.push({name:item,isSelected:!1})})},function(err){_this3.NotificationService.error(err.data)})}}]),DashboardExtraFiltersController}();exports.default=DashboardExtraFiltersController},function(module,exports){module.exports='<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'dashboard.filter.assets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row input-line">\r\n            <div class="col-sm-12">\r\n                <input type="text" class="w-unit" ng-model="assetSearchTerm" ng-change="ctrl.filterAssets()"><span class="input-unit"><span><i class="fa fa-search"></i></span>\r\n            </div>\r\n        </div>        \r\n        <div ng-repeat="item in assets | filter: {visible: true}">\r\n            <div class="asset-line">\r\n                <div class="asset-name">\r\n                    <input type="checkbox" ng-model="item.selected" id="asset-{{item.id}}" name="asset-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n                    <label for="asset-{{item.id}}">\r\n                        <span></span>\r\n                        <strong title="{{item.name}}">{{item.name}}</strong>\r\n                        <address title="{{ctrl.formatAssetAddress(item.location)}}">{{ctrl.formatAssetAddress(item.location)}}</address>\r\n                    </label>\r\n                </div>\r\n                <div class="asset-image">\r\n                    <img  ng-src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'dashboard.filter.cities\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in cities">\r\n            <input type="checkbox" ng-model="item.selected" id="city-{{item.name}}" name="city-{{item.name}}" ng-change="ctrl.saveFilter()"><label for="city-{{item.name}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'dashboard.filter.markets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in markets">\r\n            <input type="checkbox" ng-model="item.selected" id="market-{{item.id}}" name="market-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="market-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _marketplaceClientsExtraFilters=__webpack_require__(909),_marketplaceClientsExtraFilters2=_interopRequireDefault(_marketplaceClientsExtraFilters),_marketplaceClientsExtraFiltersTemplate=__webpack_require__(910),_marketplaceClientsExtraFiltersTemplate2=_interopRequireDefault(_marketplaceClientsExtraFiltersTemplate),MarketplaceClientsExtraFiltersComponent={bindings:{},controller:_marketplaceClientsExtraFilters2.default,template:_marketplaceClientsExtraFiltersTemplate2.default};exports.default=MarketplaceClientsExtraFiltersComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),MarketplaceClientsExtraFiltersController=function(){function MarketplaceClientsExtraFiltersController($scope,$rootScope,$state,$stateParams,$timeout,Asset,IndustryLookupService){_classCallCheck(this,MarketplaceClientsExtraFiltersController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.ctrl=this,this.$timeout=$timeout,this.Asset=Asset,this.IndustryLookupService=IndustryLookupService,this.$scope.assetSearchTerm=null;var self=this;self.$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){self.loadAssets(),self.loadCities(),self.loadMarkets()}),this.init(),$rootScope.$on(_events2.default.MarketplaceClientsExtraFilterItemRemoved,function(ev,data){self.removeItemFromFilter(data.item)})}return MarketplaceClientsExtraFiltersController.$inject=["$scope","$rootScope","$state","$stateParams","$timeout","Asset","IndustryLookupService"],_createClass(MarketplaceClientsExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.assets=[],self.loadAssets(),self.$scope.industries=[],self.IndustryLookupService.all().then(function(result){result.forEach(function(item){item.selected=!1}),self.$scope.industries=result}),self.$scope.markets=[],self.loadMarkets(),self.$scope.cities=[],self.loadCities()}},{key:"saveFilter",value:function(){var self=this,result=[];self.$scope.assets.forEach(function(item){item.selected&&result.push({id:"asset_"+item.id,value:item,text:item.name})}),self.$scope.industries.forEach(function(item){item.selected&&result.push({id:"industry_"+item.id,value:item,text:item.display})}),this.$scope.cities.forEach(function(item){item.selected&&result.push({id:"city_"+item.name,value:item,text:item.name})}),this.$scope.markets.forEach(function(item){item.selected&&result.push({id:"market_"+item.id,value:item.id,text:item.name})}),self.$rootScope.$emit(_events2.default.MarketplaceClientsExtraFilterUpdated,{filter:result})}},{key:"removeItemFromFilter",value:function(filterItem){var self=this;0===filterItem.id.indexOf("asset_")&&self.$scope.assets.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("industry_")&&self.$scope.industries.forEach(function(item){filterItem.value.id===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("city_")&&self.$scope.cities.forEach(function(item){filterItem.value.name===item.name&&(item.selected=!1)}),0===filterItem.id.indexOf("market_")&&self.$scope.markets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)})}},{key:"loadAssets",value:function(){var _this=this;this.Asset.query({},function(result){_this.$scope.assets=result,_this.$scope.assets.forEach(function(item){item.selected=!1,item.visible=!0})},function(err){})}},{key:"filterAssets",value:function(){var self=this;self.$scope.assets.forEach(function(item){item.visible=null===self.$scope.assetSearchTerm||item.name.toLowerCase().indexOf(self.$scope.assetSearchTerm.toLowerCase())!==-1})}},{key:"formatAssetAddress",value:function(location){var country=_constants2.default.countries.find(function(item){return item.value===location.countryId});return location.city&&country?location.city+", "+country.text:country?country.text:null}},{key:"loadMarkets",value:function(){var _this2=this;this.Asset.getMarkets({},function(result){_this2.$scope.markets=result,_this2.$scope.markets.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadCities",value:function(){var self=this;this.Asset.getCities({},function(result){result.forEach(function(item){self.$scope.cities.push({name:item,isSelected:!1})})},function(err){})}}]),MarketplaceClientsExtraFiltersController}();exports.default=MarketplaceClientsExtraFiltersController},function(module,exports){module.exports='\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.asset\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row input-line">\r\n            <div class="col-sm-12">\r\n                <input type="text" class="w-unit" ng-model="assetSearchTerm" ng-change="ctrl.filterAssets()"><span class="input-unit"><span><i class="fa fa-search"></i></span>\r\n            </div>\r\n        </div>        \r\n        <div ng-repeat="item in assets | filter: {visible: true}">\r\n            <div class="asset-line">\r\n                <div class="asset-name">\r\n                    <input type="checkbox" ng-model="item.selected" id="asset-{{item.id}}" name="asset-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n                    <label for="asset-{{item.id}}">\r\n                        <span></span>\r\n                        <strong title="{{item.name}}">{{item.name}}</strong>\r\n                        <address title="{{ctrl.formatAssetAddress(item.location)}}">{{ctrl.formatAssetAddress(item.location)}}</address>\r\n                    </label>\r\n                </div>\r\n                <div class="asset-image">\r\n                    <img  ng-src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.cities\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in cities">\r\n            <input type="checkbox" ng-model="item.selected" id="city-{{item.name}}" name="city-{{item.name}}" ng-change="ctrl.saveFilter()"><label for="city-{{item.name}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.markets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in markets">\r\n            <input type="checkbox" ng-model="item.selected" id="market-{{item.id}}" name="market-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="market-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.tenants.filter.industry\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in industries">\r\n            <input type="checkbox" ng-model="item.selected" id="industry-{{item.id}}" name="industry-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n            <label for="industry-{{item.id}}"><span></span>{{item.display}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _areasmenu=__webpack_require__(912),_areasmenu2=_interopRequireDefault(_areasmenu),_areasmenuTemplate=__webpack_require__(913),_areasmenuTemplate2=_interopRequireDefault(_areasmenuTemplate),AreaMenuComponent={controller:_areasmenu2.default,template:_areasmenuTemplate2.default};exports.default=AreaMenuComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),AreasMenuController=function(){function AreasMenuController($state,SecurityService,Activities){_classCallCheck(this,AreasMenuController),this.$state=$state,this.securityService=SecurityService,this.activities=Activities,this.messages=_messages2.default,this.constants=_constants2.default,this.init()}return AreasMenuController.$inject=["$state","SecurityService","Activities"],_createClass(AreasMenuController,[{key:"init",value:function(){this.applyActivities()}},{key:"applyActivities",value:function(){var _this=this;this.securityService.getActivities().then(function(){_this.securityService.canDo(_this.activities.AreaPortfolio).then(function(result){return _this.portfolioAvailable=result},function(){return _this.portfolioAvailable=!1}),_this.securityService.canDo(_this.activities.AreaMarketplace).then(function(result){return _this.marketPlaceAvailable=result},function(){return _this.marketPlaceAvailable=!1}),_this.securityService.canDo(_this.activities.AreaCompetetiveInsights).then(function(result){return _this.compInsightsAvailable=result},function(){return _this.compInsightsAvailable=!1})})}},{key:"gotoPortfolio",value:function(){this.$state.params.area!==this.constants.Areas.Portfolio&&this.$state.go("dashboard")}},{key:"gotoMarketplace",value:function(){this.$state.params.area!==this.constants.Areas.Marketplace&&this.$state.go("marketplace-dashboard")}},{key:"gotoCompInsights",value:function(){this.$state.params.area!==this.constants.Areas.CompetetiveInsights&&this.$state.go("compinsights-competitions")}}]),AreasMenuController}();exports.default=AreasMenuController},function(module,exports){module.exports='<ul class="header-tabs">\r\n    <li ng-if="$ctrl.portfolioAvailable" ng-class="{ active: $ctrl.$state.params.area === $ctrl.constants.Areas.Portfolio }"><a href="#" ng-click="$ctrl.gotoPortfolio()">{{$ctrl.messages(\'areas.portfolio\')}}</a></li>\r\n    <li ng-if="$ctrl.marketPlaceAvailable" ng-class="{ active: $ctrl.$state.params.area === $ctrl.constants.Areas.Marketplace }"><a href="#" ng-click="$ctrl.gotoMarketplace()">{{$ctrl.messages(\'areas.marketplace\')}}</a></li>\r\n    <li ng-if="$ctrl.compInsightsAvailable" ng-class="{ active: $ctrl.$state.params.area === $ctrl.constants.Areas.CompetetiveInsights }"><a href="#" ng-click="$ctrl.gotoCompInsights()">{{$ctrl.messages(\'areas.competetive_insights\')}}</a></li>\r\n</ul> '},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _globalStats=__webpack_require__(915),_globalStats2=_interopRequireDefault(_globalStats),_globalStatsTemplate=__webpack_require__(916),_globalStatsTemplate2=_interopRequireDefault(_globalStatsTemplate),GlobalStatisticsComponent={bindings:{stats:"="},controller:_globalStats2.default,template:_globalStatsTemplate2.default};exports.default=GlobalStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),GlobalStatisticsController=(_interopRequireDefault(_events),function GlobalStatisticsController($scope,$state,UtilsService,NotificationService){_classCallCheck(this,GlobalStatisticsController),this.$scope=$scope,this.$state=$state,this.Utils=UtilsService,this.notificationService=NotificationService,this.$scope.Messages=_messages2.default});GlobalStatisticsController.$inject=["$scope","$state","UtilsService","NotificationService"],exports.default=GlobalStatisticsController},function(module,exports){module.exports='<div ng-class="$ctrl.showAssetsPanel ? \'stat-box\' : \'asset-info-panel\'" class="pull-left clearfix">\r\n    <div class="asset-info-block pull-right">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.availability\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue($ctrl.stats.totalAvailableArea)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n            <span class="asset-info-percentage">[{{$ctrl.stats.availabilityPercent.toFixed(1)}} %]</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block pull-right">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.totalarea\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue($ctrl.stats.totalLettableArea)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block pull-right" ng-if="$ctrl.assetId == null">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.assetscount\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.assetsCount}}</span>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _tenantsGlobalStats=__webpack_require__(918),_tenantsGlobalStats2=_interopRequireDefault(_tenantsGlobalStats),_tenantsGlobalStatsTemplate=__webpack_require__(919),_tenantsGlobalStatsTemplate2=_interopRequireDefault(_tenantsGlobalStatsTemplate),TenantsGlobalStatisticsComponent={bindings:{stats:"="},controller:_tenantsGlobalStats2.default,template:_tenantsGlobalStatsTemplate2.default};exports.default=TenantsGlobalStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),TenantsGlobalStatisticsController=(_interopRequireDefault(_events),function TenantsGlobalStatisticsController($scope,$state,UtilsService,NotificationService){_classCallCheck(this,TenantsGlobalStatisticsController),this.$scope=$scope,this.$state=$state,this.Utils=UtilsService,this.notificationService=NotificationService,this.$scope.Messages=_messages2.default});TenantsGlobalStatisticsController.$inject=["$scope","$state","UtilsService","NotificationService"],exports.default=TenantsGlobalStatisticsController},function(module,exports){module.exports='<div ng-class="$ctrl.showAssetsPanel ? \'stat-box\' : \'asset-info-panel\'" class="pull-left clearfix">\r\n    <div class="asset-info-block pull-right">\r\n        <div class="asset-info-header">{{Messages(\'assets.tenants.statistics.commited\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.commitedPercent.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block pull-right">\r\n        <div class="asset-info-header">{{Messages(\'assets.tenants.statistics.in-place\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.inPlacePercent.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block pull-right" ng-if="$ctrl.assetId == null">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.assetscount\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.assetsCount}}</span>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assetsExtraFilters=__webpack_require__(921),_assetsExtraFilters2=_interopRequireDefault(_assetsExtraFilters),_assetsExtraFiltersTemplate=__webpack_require__(922),_assetsExtraFiltersTemplate2=_interopRequireDefault(_assetsExtraFiltersTemplate),AssetsExtraFiltersComponent={bindings:{},controller:_assetsExtraFilters2.default,template:_assetsExtraFiltersTemplate2.default};exports.default=AssetsExtraFiltersComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),AssetsExtraFiltersController=function(){function AssetsExtraFiltersController($scope,$rootScope,$state,$stateParams,Asset){_classCallCheck(this,AssetsExtraFiltersController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$stateParams=$stateParams,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.ctrl=this,this.Asset=Asset,this.$scope.isGlobalLevel=!1;var self=this;self.$scope.isGlobalLevel="asset-stats"===self.$state.current.name,self.$scope.assetSearchTerm=null,this.init(),$rootScope.$on(_events2.default.AssetsExtraFilterItemRemoved,function(ev,data){self.removeItemFromFilter(data.item)})}return AssetsExtraFiltersController.$inject=["$scope","$rootScope","$state","$stateParams","Asset"],_createClass(AssetsExtraFiltersController,[{key:"init",value:function(){var self=this;self.$scope.cities=[],self.$scope.isGlobalLevel&&self.loadCities(),self.$scope.markets=[],self.$scope.isGlobalLevel&&self.loadMarkets(),self.$scope.assets=[],self.$scope.isGlobalLevel&&self.loadAssets()}},{key:"saveFilter",value:function(){var self=this,result=[];this.$scope.cities.forEach(function(item){item.selected&&result.push({id:"city_"+item.name,value:item,text:item.name})}),this.$scope.markets.forEach(function(item){item.selected&&result.push({id:"market_"+item.id,value:item.id,text:item.name})}),this.$scope.assets.forEach(function(item){item.selected&&result.push({id:"asset_"+item.id,value:item.id,text:item.name})}),self.$rootScope.$emit(_events2.default.AssetsExtraFilterUpdated,{filter:result})}},{key:"removeItemFromFilter",value:function(filterItem){var self=this;0===filterItem.id.indexOf("city_")&&self.$scope.cities.forEach(function(item){filterItem.value.name===item.name&&(item.selected=!1)}),0===filterItem.id.indexOf("market_")&&self.$scope.markets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)}),0===filterItem.id.indexOf("asset_")&&self.$scope.assets.forEach(function(item){filterItem.value===item.id&&(item.selected=!1)})}},{key:"loadCities",value:function(){var self=this;this.Asset.getCities({},function(result){result.forEach(function(item){self.$scope.cities.push({name:item,isSelected:!1})})},function(err){})}},{key:"loadMarkets",value:function(){var _this=this;this.Asset.getMarkets({},function(result){_this.$scope.markets=result,_this.$scope.markets.forEach(function(item){item.selected=!1})},function(err){})}},{key:"loadAssets",value:function(){var _this2=this;this.Asset.query({},function(result){_this2.$scope.assets=result,_this2.$scope.assets.forEach(function(item){item.selected=!1,item.visible=!0})},function(err){})}},{key:"filterAssets",value:function(){var self=this;self.$scope.assets.forEach(function(item){item.visible=null===self.$scope.assetSearchTerm||item.name.toLowerCase().indexOf(self.$scope.assetSearchTerm.toLowerCase())!==-1})}},{key:"formatAssetAddress",value:function(location){var country=_constants2.default.countries.find(function(item){return item.value===location.countryId});return location.city&&country?location.city+", "+country.text:country?country.text:null}}]),AssetsExtraFiltersController}();exports.default=AssetsExtraFiltersController},function(module,exports){module.exports='<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.assets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div class="row input-line">\r\n            <div class="col-sm-12">\r\n                <input type="text" class="search-icon" ng-model="assetSearchTerm" ng-change="ctrl.filterAssets()" placeholder="Search">\r\n            </div>\r\n        </div>        \r\n        <div ng-repeat="item in assets | filter: {visible: true}">\r\n            <div class="asset-line">\r\n                <div class="asset-name">\r\n                    <input type="checkbox" ng-model="item.selected" id="asset-{{item.id}}" name="asset-{{item.id}}" ng-change="ctrl.saveFilter()">\r\n                    <label for="asset-{{item.id}}">\r\n                        <span></span>\r\n                        <strong title="{{item.name}}">{{item.name}}</strong>\r\n                        <address title="{{ctrl.formatAssetAddress(item.location)}}">{{ctrl.formatAssetAddress(item.location)}}</address>\r\n                    </label>\r\n                </div>\r\n                <div class="asset-image">\r\n                    <img  ng-src="{{item.mainImageUrl ? item.mainImageUrl: \'../../img/building-placeholder.png\'}}">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.cities\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in cities">\r\n            <input type="checkbox" ng-model="item.selected" id="city-{{item.name}}" name="city-{{item.name}}" ng-change="ctrl.saveFilter()"><label for="city-{{item.name}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="fpanel" ng-show="isGlobalLevel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n        {{Messages(\'assets.spaces.filter.markets\')}}\r\n    </div>\r\n    <div class="panel-body">\r\n        <div ng-repeat="item in markets">\r\n            <input type="checkbox" ng-model="item.selected" id="market-{{item.id}}" name="market-{{item.id}}" ng-change="ctrl.saveFilter()"><label for="market-{{item.id}}"><span></span>{{item.name}}</label>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _activeDealsStats=__webpack_require__(924),_activeDealsStats2=_interopRequireDefault(_activeDealsStats),_activeDealsStatsTemplate=__webpack_require__(925),_activeDealsStatsTemplate2=_interopRequireDefault(_activeDealsStatsTemplate),ActiveDealsStatisticsComponent={bindings:{},controller:_activeDealsStats2.default,template:_activeDealsStatsTemplate2.default};exports.default=ActiveDealsStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),_events2=_interopRequireDefault(_events),ActiveDealsStatisticsController=function(){function ActiveDealsStatisticsController($scope,$rootScope,$state,Statistics,UtilsService,NotificationService){_classCallCheck(this,ActiveDealsStatisticsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.Statistics=Statistics,this.Utils=UtilsService,this.notificationService=NotificationService,this.assetId=this.assetId,this.$scope.statistics=null,this.$scope.Messages=_messages2.default,this.init(null,null,null,null,null,null,null,null,null);var self=this;$rootScope.$on(_events2.default.ActiveDealsStatsReload,function(ev,data){var criteria=data.criteria;self.init(criteria.assetIds,criteria.ct,criteria.ind,criteria.mr,criteria.areaFrom,criteria.areaTo,criteria.ot,criteria.leadUsers,criteria.dealTypes)})}return ActiveDealsStatisticsController.$inject=["$scope","$rootScope","$state","Statistics","UtilsService","NotificationService"],_createClass(ActiveDealsStatisticsController,[{key:"init",value:function(assets,cities,industries,markets,areaFrom,areaTo,areaTypes,leadUsers,dealTypes){var self=this;self.Statistics.getActiveDealsStats({agte:areaFrom,alte:areaTo,ot:areaTypes,ind:industries,ct:cities,mr:markets,assets:assets,leadUsers:leadUsers,dealTypes:dealTypes},function(result){self.$scope.statistics=result},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}}]),ActiveDealsStatisticsController}();exports.default=ActiveDealsStatisticsController},function(module,exports){module.exports='<div class="clearfix asset-info-panel long-stats">\r\n     <div class="asset-info-block main-stat">\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.total\')}}</div>\r\n        <div>\r\n            <div class="statistic-item">\r\n                <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.total.totalArea)}}</span>\r\n                <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n            </div>\r\n            <div class="statistic-item stats-top-offset">\r\n                <div class="statistic-item-percentage asset-info-percentage">{{statistics.total.totalCount}} {{Messages(\'stats.deals.label\')}}</div>\r\n                <div class="statistic-item-percentage asset-info-percentage">{{statistics.total.relativeArea.toFixed(1)}}% {{Messages(\'stats.deals.ofTLA\')}}</div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block">\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.inquiry\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.inquiry.totalArea)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.viewing\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.viewing.totalArea)}}</span> \r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.negotiating\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.negotiation.totalArea)}}</span> \r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n   <div class="asset-info-block statistics-item-delimiter">\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.underOffer\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.underOffer.totalArea)}}</span> \r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.newdeals\')}}</div>\r\n        <div class="statistic-item">\r\n                <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.newDeals.totalArea)}}</span>\r\n                <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n            </div>\r\n            <div class="statistic-item stats-top-offset">\r\n                <div class="statistic-item-percentage asset-info-percentage">{{statistics.newDeals.totalCount}} {{Messages(\'stats.deals.label\')}}</div>\r\n                <div class="statistic-item-percentage asset-info-percentage">{{statistics.newDeals.relativeArea.toFixed(1)}}% {{Messages(\'stats.deals.ofTLA\')}}</div>\r\n            </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header">{{Messages(\'stats.deals.renewal\')}}</div>\r\n        <div class="statistic-item">\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.renewalDeals.totalArea)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n        <div class="statistic-item stats-top-offset">\r\n            <div class="statistic-item-percentage asset-info-percentage">{{statistics.renewalDeals.totalCount}} {{Messages(\'stats.deals.label\')}}</div>\r\n            <div class="statistic-item-percentage asset-info-percentage">{{statistics.renewalDeals.relativeArea.toFixed(1)}}% {{Messages(\'stats.deals.ofTLA\')}}</div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _executedDealsStats=__webpack_require__(927),_executedDealsStats2=_interopRequireDefault(_executedDealsStats),_executedDealsStatsTemplate=__webpack_require__(928),_executedDealsStatsTemplate2=_interopRequireDefault(_executedDealsStatsTemplate),ExecutedDealsStatisticsComponent={bindings:{},controller:_executedDealsStats2.default,template:_executedDealsStatsTemplate2.default};exports.default=ExecutedDealsStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),_events2=_interopRequireDefault(_events),ExecutedDealsStatisticsController=function(){function ExecutedDealsStatisticsController($scope,$rootScope,$state,Statistics,UtilsService,NotificationService,Settings){_classCallCheck(this,ExecutedDealsStatisticsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.Statistics=Statistics,this.Utils=UtilsService,this.notificationService=NotificationService,this.Settings=Settings,this.$scope.statistics=null,this.$scope.Messages=_messages2.default,this.init(null,null,null,null,null,null,null,null,null);var self=this;$rootScope.$on(_events2.default.ExecutedDealsStatsReload,function(ev,data){var criteria=data.criteria;self.init(criteria.assetIds,criteria.ct,criteria.ind,criteria.mr,criteria.areaFrom,criteria.areaTo,criteria.ot,criteria.leadUsers,criteria.dealTypes)})}return ExecutedDealsStatisticsController.$inject=["$scope","$rootScope","$state","Statistics","UtilsService","NotificationService","Settings"],_createClass(ExecutedDealsStatisticsController,[{key:"init",value:function(assets,cities,industries,markets,areaFrom,areaTo,areaTypes,leadUsers,dealTypes){var self=this;self.Statistics.getExecutedDealsStats({agte:areaFrom,alte:areaTo,ot:areaTypes,ind:industries,ct:cities,mr:markets,assets:assets,leadUsers:leadUsers,dealTypes:dealTypes},function(result){self.$scope.statistics=result},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}}]),ExecutedDealsStatisticsController}();exports.default=ExecutedDealsStatisticsController},function(module,exports){module.exports='<div class="clearfix asset-info-panel">\r\n     <div class="asset-info-block">\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.total\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.totalDealsCount, false)}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block">\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.closeTime\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{statistics.timeToClose}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.startingRent\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.startingRent)}}</span> \r\n            {{$ctrl.Settings.getCurrency()}}\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _deadDealsStats=__webpack_require__(930),_deadDealsStats2=_interopRequireDefault(_deadDealsStats),_deadDealsStatsTemplate=__webpack_require__(931),_deadDealsStatsTemplate2=_interopRequireDefault(_deadDealsStatsTemplate),DeadDealsStatisticsComponent={bindings:{},controller:_deadDealsStats2.default,template:_deadDealsStatsTemplate2.default};exports.default=DeadDealsStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),_events2=_interopRequireDefault(_events),DeadDealsStatisticsController=function(){function DeadDealsStatisticsController($scope,$rootScope,$state,Statistics,UtilsService,NotificationService){_classCallCheck(this,DeadDealsStatisticsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.Statistics=Statistics,this.Utils=UtilsService,this.notificationService=NotificationService,this.assetId=this.assetId,this.$scope.statistics=null,this.$scope.Messages=_messages2.default,this.init(null,null,null,null,null,null,null,null,null);var self=this;$rootScope.$on(_events2.default.DeadDealsStatsReload,function(ev,data){var criteria=data.criteria;self.init(criteria.assetIds,criteria.ct,criteria.ind,criteria.mr,criteria.areaFrom,criteria.areaTo,criteria.ot,criteria.leadUsers,criteria.dealTypes)})}return DeadDealsStatisticsController.$inject=["$scope","$rootScope","$state","Statistics","UtilsService","NotificationService"],_createClass(DeadDealsStatisticsController,[{key:"init",value:function(assets,cities,industries,markets,areaFrom,areaTo,areaTypes,leadUsers,dealTypes){var self=this;self.Statistics.getDeadDealsStats({agte:areaFrom,alte:areaTo,ot:areaTypes,ind:industries,ct:cities,mr:markets,assets:assets,leadUsers:leadUsers,dealTypes:dealTypes},function(result){self.$scope.statistics=result},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}}]),DeadDealsStatisticsController}();exports.default=DeadDealsStatisticsController},function(module,exports){module.exports='<div class="clearfix asset-info-panel">\r\n     <div class="asset-info-block main-stat">\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.total\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.totalDealsCount, false)}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block">\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.outcomeComplitingSpace\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.outcomeCompletingSpace.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.outcomeCompletingSpace.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.outcomeRequirement\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.outcomeRequirement.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.outcomeRequirement.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.outcomeTenant\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.outcomeTenant.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.outcomeTenant.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.outcomeOther\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.outcomeOther.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.outcomeOther.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.reasonLocation\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.reasonLocation.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.reasonLocation.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.reasonPrice\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.reasonPrice.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.reasonPrice.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.reasonQuality\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.reasonSpaceQuality.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.reasonSpaceQuality.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header statistic-item-header">{{Messages(\'stats.deals.reasonOther\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.reasonOther.totalCount, false)}}</span>\r\n            <span class="statistic-item-percentage-big">{{statistics.reasonOther.relativeCount.toFixed(1)}} %</span>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _activeTenantsStats=__webpack_require__(933),_activeTenantsStats2=_interopRequireDefault(_activeTenantsStats),_activeTenantsStatsTemplate=__webpack_require__(934),_activeTenantsStatsTemplate2=_interopRequireDefault(_activeTenantsStatsTemplate),ActiveTenantsStatisticsComponent={bindings:{},controller:_activeTenantsStats2.default,template:_activeTenantsStatsTemplate2.default};exports.default=ActiveTenantsStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),_events2=_interopRequireDefault(_events),ActiveTenantsStatisticsController=function(){function ActiveTenantsStatisticsController($scope,$rootScope,$state,Statistics,UtilsService,NotificationService){_classCallCheck(this,ActiveTenantsStatisticsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.Statistics=Statistics,this.Utils=UtilsService,this.notificationService=NotificationService,this.assetId=this.assetId,this.$scope.statistics=null,this.$scope.Messages=_messages2.default;var self=this,listener=this.$rootScope.$on(_events2.default.ActiveTenantsStatsReload,function(ev,data){var criteria=data.criteria;self.init(criteria)});this.$scope.$on("$destroy",listener)}return ActiveTenantsStatisticsController.$inject=["$scope","$rootScope","$state","Statistics","UtilsService","NotificationService"],_createClass(ActiveTenantsStatisticsController,[{key:"init",value:function(criteria){var self=this;self.Statistics.getActiveTenantsStats({st:criteria.st,expgte:criteria.expgte,explte:criteria.explte,ipgte:criteria.ipgte,iplte:criteria.iplte,stgte:criteria.stgte,stlte:criteria.stlte,twr:criteria.twr,ot:criteria.ot,ind:criteria.ind,mr:criteria.mr,ct:criteria.ct,assets:criteria.assetIds},function(result){self.$scope.statistics=result},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"getEmptyCriteria",value:function(){return{st:null,expgte:null,explte:null,ipgte:null,iplte:null,stgte:null,stlte:null,twr:null,assetIds:null,ind:null,mr:null,ct:null}}}]),ActiveTenantsStatisticsController}();exports.default=ActiveTenantsStatisticsController},function(module,exports){module.exports='<div class="clearfix asset-info-panel">\r\n     <div class="asset-info-block">\r\n        <div class="asset-info-header">{{Messages(\'stats.tenants.leases\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{statistics.leases}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block">\r\n        <div class="asset-info-header">{{Messages(\'stats.tenants.area\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.rentableArea != null ? statistics.rentableArea : 0)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" >\r\n        <div class="asset-info-header">{{Messages(\'stats.tenants.walt\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{statistics.walt != null ? statistics.walt.toFixed(1): 0.0}}</span> \r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(178),_jquery2=_interopRequireDefault(_jquery),_custom_store=__webpack_require__(483),_custom_store2=_interopRequireDefault(_custom_store);window.$=_jquery2.default,__webpack_provided_window_dot_jQuery=_jquery2.default,function(){angular.module("tower360.utils",[]),angular.module("tower360.utils").factory("jqPromise",[function(){return function(promise){var jqDeferred=_jquery2.default.Deferred();return promise.then(function(val){jqDeferred.resolve.apply(jqDeferred,val)},function(err){jqDeferred.reject.apply(jqDeferred,err)}),jqDeferred.promise()}}]),angular.module("tower360.utils").factory("StoreAdapter",["jqPromise",function(jqPromise){return{createStore:function(resource,queryParams,errorHandler){queryParams="undefined"!=typeof queryParams?queryParams:{},errorHandler="undefined"!=typeof errorHandler?errorHandler:{requestFailed:function(response){}};var handleError=function(response){errorHandler.requestFailed(response)};return new _custom_store2.default({key:"id",load:function(loadOptions){var params=loadOptions.sort?_jquery2.default.extend({},queryParams,loadOptions.sort[0]):queryParams;return jqPromise(resource.query(params).$promise.then(function(data){return[data,{totalCount:data.length}]},function(response){handleError(response)}))},byKey:function(key){return jqPromise(resource.get({id:key}).$promise.catch(function(response){handleError(response)}))},insert:function(data){return jqPromise(resource.save(data).$promise.catch(function(response){handleError(response)}))},update:function(key,data){return data.id=key,jqPromise(resource.update(data).$promise.catch(function(response){handleError(response)}))},remove:function(key){return jqPromise(resource.delete({id:key}).$promise.catch(function(response){handleError(response)}))},totalCount:function(loadOptions){return jqPromise(resource.count().$promise.then(function(data){return[data.count]},function(response){handleError(response)}))}})}}}])}()}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){(function(__webpack_provided_window_dot_jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _jquery=__webpack_require__(178),_jquery2=_interopRequireDefault(_jquery);window.$=_jquery2.default,__webpack_provided_window_dot_jQuery=_jquery2.default,function(){var directives=angular.module("tower360.directives",[]),buildChartDirective=function(chartType){return{restrict:"E",scope:{data:"=",options:"="},link:function(scope,element,attrs){var options={};scope.options&&(options=scope.options);var span=document.createElement("span");span.style.display="none",span.textContent=scope.data.join(),attrs.class?span.className=attrs.class:span.className="",8===element[0].nodeType?element.replaceWith(span):element[0].appendChild(span),(0,_jquery2.default)(span).peity(chartType,options);var watcher=scope.$watch("data",function(){span.textContent=scope.data.join(),(0,_jquery2.default)(span).change()},!0);scope.$on("$destroy",function(){watcher()}),(0,_jquery2.default)(window).resize(function(){(0,_jquery2.default)(span).peity(chartType,options)})}}};directives.directive("pieChart",function(){return buildChartDirective("pie")}),directives.directive("barChart",function(){return buildChartDirective("bar")}),directives.directive("lineChart",function(){return buildChartDirective("line")})}()}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_paneltoolsTemplate=__webpack_require__(938),_paneltoolsTemplate2=_interopRequireDefault(_paneltoolsTemplate),PanelToolsDirective=function(){function PanelToolsDirective(){_classCallCheck(this,PanelToolsDirective),this.restrict="A",this.scope=!0,this.template=_paneltoolsTemplate2.default}return _createClass(PanelToolsDirective,[{key:"controller",value:["$scope","$element","$timeout",function($scope,$element,$timeout){$scope.showhide=function(){var hpanel=$element.closest("div.hpanel"),icon=$element.find("i:first"),body=hpanel.find("div.panel-body"),footer=hpanel.find("div.panel-footer");body.slideToggle(300),footer.slideToggle(200),icon.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),hpanel.toggleClass("").toggleClass("panel-collapse"),$timeout(function(){hpanel.resize(),hpanel.find("[id^=map-]").resize()},50)},$scope.closebox=function(){var hpanel=$element.closest("div.hpanel");hpanel.remove()}}]}],[{key:"activate",value:function(){return PanelToolsDirective.instance=new PanelToolsDirective,PanelToolsDirective.instance}}]),PanelToolsDirective}();exports.default=PanelToolsDirective},function(module,exports){module.exports='<!-- This is template for panel tools -->\r\n<!-- It contains collapse function (showhide) and close function (closebox) -->\r\n<!-- All function is handled from directive panelTools in directives.js file -->\r\n<div class="panel-tools">\r\n    <a ng-click="showhide()"><i class="fa fa-chevron-up"></i></a>\r\n    <!--<a ng-click="closebox()"><i class="fa fa-times"></i></a>-->\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_filterpaneltoolsTemplate=__webpack_require__(940),_filterpaneltoolsTemplate2=_interopRequireDefault(_filterpaneltoolsTemplate),FilterPanelToolsDirective=function(){function FilterPanelToolsDirective(){_classCallCheck(this,FilterPanelToolsDirective),this.restrict="A",this.scope=!0,this.template=_filterpaneltoolsTemplate2.default}return _createClass(FilterPanelToolsDirective,[{key:"controller",value:["$scope","$element","$timeout",function($scope,$element,$timeout){$scope.showhide=function(){var fpanel=$element.closest("div.fpanel"),icon=$element.find("i:first"),body=fpanel.find("div.panel-body"),otherfpanels=fpanel.siblings("div.fpanel"),otherbodies=fpanel.siblings().find(".panel-body"),othericons=fpanel.siblings().find("i:first");otherfpanels.removeClass("panel-collapse"),otherbodies.slideUp(150),othericons.removeClass("fa-angle-up"),othericons.addClass("fa-angle-down"),body.slideToggle(300),icon.toggleClass("fa-angle-up").toggleClass("fa-angle-down"),fpanel.toggleClass("").toggleClass("panel-collapse"),$timeout(function(){fpanel.resize(),fpanel.find("[id^=map-]").resize()},50)},$scope.closebox=function(){var fpanel=$element.closest("div.fpanel");fpanel.remove()}}]}],[{key:"activate",value:function(){return FilterPanelToolsDirective.instance=new FilterPanelToolsDirective,FilterPanelToolsDirective.instance}}]),FilterPanelToolsDirective}();exports.default=FilterPanelToolsDirective},function(module,exports){module.exports='<!-- This is template for filter\'s panel tools -->\r\n<!-- It contains collapse function (showhide) and close function (closebox) -->\r\n<!-- All function is handled from directive filterPanelTools in directives.js file -->\r\n<div class="filterpanel-tools">\r\n    <a ng-click="showhide()"><i class="fa fa-angle-down"></i></a>\r\n</div>'},function(module,exports,__webpack_require__){(function($){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){
function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AnimatePanelDirective=function(){function AnimatePanelDirective($timeout,$state){_classCallCheck(this,AnimatePanelDirective),this.restrict="A",this.$state=$state,this.$timeout=$timeout}return AnimatePanelDirective.$inject=["$timeout","$state"],_createClass(AnimatePanelDirective,[{key:"link",value:function(scope,element,attrs){var self=this,startAnimation=0,delay=.06,start=Math.abs(delay)+startAnimation;attrs.effect||(attrs.effect="zoomIn"),delay=attrs.delay?attrs.delay/10:.06,attrs.child?attrs.child="."+attrs.child:attrs.child=".row > div";var panel=element.find(attrs.child);panel.addClass("opacity-0"),self.$timeout(function(){panel.addClass("animated-panel").addClass(attrs.effect);var panelsCount=panel.length+10,animateTime=panelsCount*delay*1e4/10;panel.each(function(i,elm){start+=delay;var rounded=Math.round(10*start)/10;$(elm).css("animation-delay",rounded+"s"),$(elm).removeClass("opacity-0")}),self.$timeout(function(){$(".stagger").css("animation",""),$(".stagger").removeClass(attrs.effect).removeClass("animated-panel").removeClass("stagger"),panel.resize()},animateTime)})}}],[{key:"activate",value:["$timeout","$state",function($timeout,$state){return AnimatePanelDirective.instance=new AnimatePanelDirective($timeout,$state),AnimatePanelDirective.instance}]}]),AnimatePanelDirective}();exports.default=AnimatePanelDirective}).call(exports,__webpack_require__(178))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function($timeout,$window){var _swal=$window.swal;return{swal:function(arg1,arg2,arg3){$timeout(function(){"function"==typeof arg2?_swal(arg1,function(isConfirm){$timeout(function(){arg2(isConfirm)})},arg3):_swal(arg1,arg2,arg3)},200)},success:function(title,message){$timeout(function(){_swal(title,message,"success")},200)},error:function(title,message){$timeout(function(){_swal(title,message,"error")},200)},warning:function(title,message){$timeout(function(){_swal(title,message,"warning")},200)},info:function(title,message){$timeout(function(){_swal(title,message,"info")},200)}}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _homeController=__webpack_require__(944),_homeController2=_interopRequireDefault(_homeController),_module=angular.module("tower360.home",[]).controller("HomeController",_homeController2.default);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HomeController=function(){function HomeController($scope,$state,SecurityService){_classCallCheck(this,HomeController),this.$state=$state,this.securityService=SecurityService,this.init()}return HomeController.$inject=["$scope","$state","SecurityService"],_createClass(HomeController,[{key:"init",value:function(){var _this=this;this.securityService.getUserInfo().then(function(result){var redirectTarget="dashboard";2!==result.roleId&&3!==result.roleId||(redirectTarget="dashboard"),_this.$state.go(redirectTarget)})}}]),HomeController}();exports.default=HomeController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _loginController=__webpack_require__(946),_loginController2=_interopRequireDefault(_loginController),_forgotpasswordController=__webpack_require__(947),_forgotpasswordController2=_interopRequireDefault(_forgotpasswordController),_resetpasswordController=__webpack_require__(948),_resetpasswordController2=_interopRequireDefault(_resetpasswordController),_confirmpasswordController=__webpack_require__(949),_confirmpasswordController2=_interopRequireDefault(_confirmpasswordController),_module=angular.module("tower360.login",[]).controller("LoginController",_loginController2.default).controller("ForgotPasswordController",_forgotpasswordController2.default).controller("ResetPasswordController",_resetpasswordController2.default).controller("ConfirmationPasswordController",_confirmpasswordController2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),LoginController=function(){function LoginController($state,$stateParams,SecurityService,NotificationService,localStorageService){_classCallCheck(this,LoginController),this.$state=$state,this.securityService=SecurityService,this.notificationService=NotificationService,this.signInData=new SignInData,this.isInProgress=!1,$stateParams.automatic?this.error=(0,_messages2.default)("login.automatic.signout"):this.error=null,this.initScrollbar()}return LoginController.$inject=["$state","$stateParams","SecurityService","NotificationService","localStorageService"],_createClass(LoginController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"signIn",value:function(){var _this=this;this.error=null,this.isInProgress=!0,this.securityService.signIn(this.signInData.userName,this.signInData.password).then(function(response){_this.securityService.reset(),_this.$state.go("home")},function(err){_this.error=err.data.error_description,_this.isInProgress=!1})}}]),LoginController}();exports.default=LoginController;var SignInData=function SignInData(){_classCallCheck(this,SignInData),this.userName=null,this.password=null}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),ForgotPasswordController=function(){function ForgotPasswordController($scope,$state,$stateParams,SecurityService,NotificationService,localStorageService){_classCallCheck(this,ForgotPasswordController),this.$state=$state,this.$scope=$scope,this.securityService=SecurityService,this.notificationService=NotificationService,this.error=null,this.success=null,this.invaliedEmailError=!1,this.messages=_messages2.default,this.email=""}return ForgotPasswordController.$inject=["$scope","$state","$stateParams","SecurityService","NotificationService","localStorageService"],_createClass(ForgotPasswordController,[{key:"forgot",value:function(){var self=this;this.success=null,this.error=null,this.securityService.forgotPassword(self.email).then(function(response){self.success=(0,_messages2.default)("forgotpassword.send")},function(err){self.success=(0,_messages2.default)("forgotpassword.send")})}},{key:"passwordChange",value:function(email){var self=this;self.invaliedEmailError=!self.validateEmail(email)}},{key:"cancel",value:function(){var self=this;self.securityService.signOut(),self.$state.go("login",null,{reload:!0})}},{key:"validateEmail",value:function(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}}]),ForgotPasswordController}();exports.default=ForgotPasswordController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),ResetPasswordController=function(){function ResetPasswordController($state,$scope,$rootScope,$timeout,$stateParams,SecurityService,NotificationService,localStorageService,resetpassword){_classCallCheck(this,ResetPasswordController),this.$state=$state,this.$timeout=$timeout,this.securityService=SecurityService,this.notificationService=NotificationService,this.error=null,this.success=null,this.messages=_messages2.default,this.resetpassword=resetpassword,this.$scope=$scope,this.$rootScope=$rootScope,this.$scope.newPassword=null,this.$scope.confirmPassword=null,this.$scope.checkToken=!1,this.$scope.validToken=!1,this.init()}return ResetPasswordController.$inject=["$state","$scope","$rootScope","$timeout","$stateParams","SecurityService","NotificationService","localStorageService","resetpassword"],_createClass(ResetPasswordController,[{key:"init",value:function(){var _this=this,self=this;self.securityService.checkPasswordToken(self.resetpassword.email,self.resetpassword.token).then(function(response){_this.$scope.checkToken=!0,_this.$scope.validToken=!0},function(err){_this.$scope.checkToken=!0})}},{key:"validate",value:function(){return!this.isShort()&&!this.isNotMatch()}},{key:"isShort",value:function(){return null==this.$scope.newPassword||this.$scope.newPassword.trim().length<6}},{key:"isNotMatch",value:function(){return!this.isShort()&&this.$scope.newPassword!=this.$scope.confirmPassword}},{key:"reset",value:function(){var self=this;self.success=null,self.error=null,self.securityService.resetPassword(self.resetpassword.email,self.resetpassword.token,self.$scope.newPassword).then(function(response){self.securityService.signOut(),self.$state.go("confirmpassword",null,{reload:!0})},function(err){self.error=err.data.message})}},{key:"cancel",value:function(){var self=this;self.securityService.signOut(),self.$state.go("login",null,{reload:!0})}}]),ResetPasswordController}();exports.default=ResetPasswordController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),ConfirmationPasswordController=function(){function ConfirmationPasswordController($state,$stateParams,SecurityService,NotificationService,localStorageService){_classCallCheck(this,ConfirmationPasswordController),this.$state=$state,this.securityService=SecurityService,this.notificationService=NotificationService,this.error=null,this.success=null,this.messages=_messages2.default}return ConfirmationPasswordController.$inject=["$state","$stateParams","SecurityService","NotificationService","localStorageService"],_createClass(ConfirmationPasswordController,[{key:"ok",value:function(){var self=this;self.securityService.signOut(),self.$state.go("login",null,{reload:!0})}}]),ConfirmationPasswordController}();exports.default=ConfirmationPasswordController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _brokers=__webpack_require__(951),_brokers2=_interopRequireDefault(_brokers),_broker=__webpack_require__(952),_broker2=_interopRequireDefault(_broker);__webpack_require__(394);var _broker3=__webpack_require__(953),_broker4=_interopRequireDefault(_broker3),_brokergallery=__webpack_require__(954),_brokergallery2=_interopRequireDefault(_brokergallery),_module=angular.module("tower360.brokers",["dx"]).controller("BrokersController",_brokers2.default).controller("BrokerController",_broker2.default).factory("Broker",_broker4.default.activate).component("brokergallery",_brokergallery2.default);exports.default=_module},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_brokerEditModal=__webpack_require__(814),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(815),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),BrokersController=function(){function BrokersController($scope,$state,SecurityService,NotificationService,Broker,sweetAlert,$uibModal,UtilsService,LocationService){_classCallCheck(this,BrokersController),this.securityService=SecurityService,this.notificationService=NotificationService,this.locationService=LocationService,this.Broker=Broker,this.$state=$state,this.stateStore=_constants2.default.brokerStateStore(),this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.utils=UtilsService,this.init(),this.initScrollbar()}return BrokersController.$inject=["$scope","$state","SecurityService","NotificationService","Broker","sweetAlert","$uibModal","UtilsService","LocationService"],_createClass(BrokersController,[{key:"init",value:function(){var _this=this,self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.brokers=[],self.Broker.query({},function(result){self.brokers=result,self.brokers.forEach(function(item){item.address=self.locationService.getAddress(item.location)}),self.store=new _array_store2.default({data:self.brokers,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,columns:[{dataField:"id",visible:!1},{dataField:"name",caption:(0,_messages2.default)("brokers.name"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{href:"/brokers/"+cellInfo.data.id,"ui-sref":"broker"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"address",caption:(0,_messages2.default)("brokers.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"state",caption:(0,_messages2.default)("brokers.state"),width:100,lookup:{dataSource:_this.stateStore,displayExpr:"display",valueExpr:"value"}},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("brokers.edit")+'"></div>',onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:Object.assign({},options.data)}});modal.result.then(function(result){jQuery.extend(options.data,result)})}}).appendTo(container);var isArchived=2===options.data.state;$("<div />").dxButton({type:"custom",template:'<div class="fa '+(isArchived?"fa-undo":"fa-trash-o")+'" title="'+(isArchived?(0,_messages2.default)("brokers.activate"):(0,_messages2.default)("brokers.archive"))+'"></div>',onClick:function(data){isArchived?self.activateBroker(options.data):self.archiveBroker(options.data)}}).appendTo(container)}}]})})}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"archiveBroker",value:function(broker){broker=Object.assign({},broker);var self=this;broker.state=2,this.sweetAlert.swal({title:(0,_messages2.default)("brokers.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.archive.confirmButton")},function(isConfirm){isConfirm&&self.Broker.update({id:broker.id},broker,function(result){self.store.remove(broker.id),result.address=self.locationService.getAddress(result.location),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("brokers.message.deleted"))},function(result){self.notificationService.error(result.data)})})}},{key:"activateBroker",value:function(broker){broker=Object.assign({},broker);var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("brokers.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.activate.confirmButton")},function(isConfirm){isConfirm&&(broker.state=1,self.Broker.update({id:broker.id},broker,function(result){self.store.remove(broker.id),result.address=self.locationService.getAddress(result.location),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("brokers.message.activated"))},function(result){self.notificationService.error(result.data)}))})}}]),BrokersController}();exports.default=BrokersController}).call(exports,__webpack_require__(178),__webpack_require__(178))},function(module,exports,__webpack_require__){(function(jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_brokerEditModal=__webpack_require__(814),_brokerEditModal2=_interopRequireDefault(_brokerEditModal),_brokerEditModalTemplate=__webpack_require__(815),_brokerEditModalTemplate2=_interopRequireDefault(_brokerEditModalTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),BrokerController=function(){function BrokerController($scope,$state,Broker,brokerObject,NotificationService,sweetAlert,$filter,$uibModal,NgMap,UtilsService,LocationService,ImageService){_classCallCheck(this,BrokerController),this.$scope=$scope,this.$state=$state,this.Broker=Broker,this.brokerObject=brokerObject,this.notificationService=NotificationService,this.locationService=LocationService,this.imageService=ImageService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.NgMap=NgMap,this.utils=UtilsService,this.$filter=$filter,this.init()}return BrokerController.$inject=["$scope","$state","Broker","brokerObject","NotificationService","sweetAlert","$filter","$uibModal","NgMap","UtilsService","LocationService","ImageService"],_createClass(BrokerController,[{key:"init",value:function(){var _this=this,self=this;this.$scope.isArchived=2===this.brokerObject.state,this.brokerObject.address=this.locationService.getAddress(this.brokerObject.location),this.brokerObject.images=[],this.brokerObject.logoImageUrl&&(this.brokerObject.images=[{filePath:this.brokerObject.logoImageUrl}]),this.NgMap.getMap().then(function(map){_this.map=map,_this.map.marker||(_this.map.marker=new google.maps.Marker),_this.map.marker.setMap(null);var stylez=[{featureType:"all",elementType:"all",stylers:[{saturation:-100}]}],mapType=new google.maps.StyledMapType(stylez,{name:"Grayscale"});map.mapTypes.set("tehgrayz",mapType),map.setMapTypeId("tehgrayz"),_this.setMapCoordinates()}),self.$scope.updateImage=function(){self.updateImage()}}},{key:"editBroker",value:function(){var _this2=this,modal=this.$uibModal.open({controller:_brokerEditModal2.default,template:_brokerEditModalTemplate2.default,resolve:{brokerObject:Object.assign({},this.brokerObject)}});modal.result.then(function(result){var newAddress=_this2.locationService.getAddress(result.location),newCountry=result.location.countryId,needToUpdateMap=void 0;newAddress===_this2.brokerObject.address&&newCountry===_this2.brokerObject.location.countryId||(needToUpdateMap=!0),jQuery.extend(_this2.brokerObject,result),_this2.$scope.isArchived=2===result.state,_this2.brokerObject.address=newAddress,needToUpdateMap&&_this2.setMapCoordinates()})}},{key:"archiveTrigger",value:function(){this.$scope.isArchived?this.activate():this.archive()}},{key:"archive",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("brokers.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.archive.confirmButton")},function(isConfirm){if(isConfirm){var broker=Object.assign({},self.brokerObject);broker.state=2,self.Broker.update({id:broker.id},broker,function(){self.brokerObject.state=2,self.$scope.isArchived=!0,self.notificationService.success((0,_messages2.default)("brokers.message.deleted"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"activate",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("brokers.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("brokers.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("brokers.activate.confirmButton")},function(isConfirm){if(isConfirm){var broker=Object.assign({},self.brokerObject);broker.state=1,self.Broker.update({id:broker.id},broker,function(){self.brokerObject.state=1,self.$scope.isArchived=!1,self.notificationService.success((0,_messages2.default)("brokers.message.activated"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"setMapCoordinates",value:function(){var _this3=this;if(this.map.marker.setMap(null),this.brokerObject.address){var geocoder=new google.maps.Geocoder,countries=_constants2.default.countryStorePlain(),country=this.$filter("filter")(countries,{value:this.brokerObject.countryId});country=country&&country[0]?country[0].text+", ":"",geocoder.geocode({address:country+this.brokerObject.address},function(result,status){"OK"===status&&(_this3.map.setCenter(result[0].geometry.location),_this3.map.marker.setPosition(result[0].geometry.location),_this3.map.marker.setMap(_this3.map))})}}},{key:"updateImage",value:function(){var _this4=this,self=this;if(0==self.brokerObject.images.length)self.Broker.resetImage({id:this.brokerObject.id},function(result){self.notificationService.success((0,_messages2.default)("brokers.gallery.message.deleted")),self.saveInProgress=!1},function(error){_this4.notificationService.error(error.data),self.saveInProgress=!1});else{var blob=self.imageService.dataURItoBlob(self.brokerObject.images[0].imageFile.imageData),fd=new FormData(document.forms[0]);fd.append("data",blob,self.brokerObject.images[0].originalFileName),self.Broker.setImage({id:this.brokerObject.id},fd,function(result){self.notificationService.success((0,_messages2.default)("brokers.gallery.message.added")),self.saveInProgress=!1},function(error){_this4.notificationService.error(error.data),self.saveInProgress=!1})}}}]),BrokerController}();exports.default=BrokerController}).call(exports,__webpack_require__(178))},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Broker=function(){function Broker(ConfigurationService,$resource){return _classCallCheck(this,Broker),$resource(ConfigurationService.getApiBaseUrl()+"api/brokers/:id",{id:"@id"},{create:{url:ConfigurationService.getApiBaseUrl()+"api/brokers",method:"POST",transformRequest:function(data){var formData=new FormData;return formData.append("model",angular.toJson(data.model)),formData.append("data",data.file,data.fileName),formData},headers:{"Content-Type":void 0}},query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/brokers",isArray:!0},update:{method:"PUT"},archive:{method:"DELETE"},setImage:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/brokers/:id/image",transformRequest:angular.identity,headers:{"Content-Type":void 0}},resetImage:{method:"DELETE",url:ConfigurationService.getApiBaseUrl()+"api/brokers/:id/image"}})}return Broker.$inject=["ConfigurationService","$resource"],_createClass(Broker,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Broker.instance=new Broker(ConfigurationService,$resource),Broker.instance}]}]),Broker}();exports.default=Broker},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BrokerGalleryComponent={bindings:{images:"=",maxImageWidth:"=?",maxImageHeight:"=?",maxImageCount:"=?",readonly:"=?",updateImage:"=?"},controller:function(){var self=this;self.maxImageCount=1,self.maxImageHeight=68,self.maxImageWidth=260,self.imageAddCallback=function(){self.updateImage()},self.imageDeleteCallback=function(){self.updateImage()},self.sortingChangeCallback=function(){}},template:"<imagegallery images='$ctrl.images'                         readonly='$ctrl.readonly'                         max-image-count='$ctrl.maxImageCount'                         max-image-height='$ctrl.maxImageHeight'                         max-image-width='$ctrl.maxImageWidth'                         image-add-callback='$ctrl.imageAddCallback'                         image-delete-callback='$ctrl.imageDeleteCallback'                         sorting-change-callback='$ctrl.sortingChangeCallback'                         show-main=false                        class='broker-gallery'></imagegallery>"};exports.default=BrokerGalleryComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _users=__webpack_require__(956),_users2=_interopRequireDefault(_users),_user=__webpack_require__(957),_user2=_interopRequireDefault(_user),_user3=__webpack_require__(960),_user4=_interopRequireDefault(_user3),_role=__webpack_require__(961),_role2=_interopRequireDefault(_role),_locale=__webpack_require__(962),_locale2=_interopRequireDefault(_locale),_userInvitationHistory=__webpack_require__(963),_userInvitationHistory2=_interopRequireDefault(_userInvitationHistory),_module=angular.module("tower360.users",[]).controller("UsersController",_users2.default).controller("UserController",_user2.default).component("userInvitationHistory",_userInvitationHistory2.default).factory("User",_user4.default.activate).factory("Role",_role2.default.activate).factory("Locale",_locale2.default.activate);exports.default=_module},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function");
}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_userEditModal=__webpack_require__(812),_userEditModal2=_interopRequireDefault(_userEditModal),_userEditModalTemplate=__webpack_require__(813),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),UsersController=function(){function UsersController($scope,$state,User,Broker,Role,StoreAdapter,currentUser,NotificationService,sweetAlert,$uibModal){_classCallCheck(this,UsersController),this.$scope=$scope,this.$state=$state,this.User=User,this.Broker=Broker,this.Role=Role,this.StoreAdapter=StoreAdapter,this.currentUser=currentUser,this.notificationService=NotificationService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.initGrid(),this.initScrollbar()}return UsersController.$inject=["$scope","$state","User","Broker","Role","StoreAdapter","currentUser","NotificationService","sweetAlert","$uibModal"],_createClass(UsersController,[{key:"initGrid",value:function(){var _this=this,self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.stateStore=_constants2.default.userStateStore(),self.users=[],self.User.query({},function(result){self.users=result,self.store=new _array_store2.default({data:self.users,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,columns:[{dataField:"id",visible:!1},{dataField:"displayName",caption:(0,_messages2.default)("users.displayname"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{href:"/users/"+cellInfo.data.id,"ui-sref":"user"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"email",caption:(0,_messages2.default)("users.email"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"state",caption:(0,_messages2.default)("users.state"),lookup:{dataSource:self.stateStore,displayExpr:"display",valueExpr:"value"}},{dataField:"roleId",caption:(0,_messages2.default)("users.role"),lookup:{dataSource:_this.StoreAdapter.createStore(_this.Role,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{dataField:"brokerId",caption:(0,_messages2.default)("users.broker"),lookup:{dataSource:_this.StoreAdapter.createStore(_this.Broker,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("users.edit")+'"></div>',disabled:options.data.id===self.currentUser.id,onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:Object.assign({},options.data)}});modal.result.then(function(result){jQuery.extend(options.data,result)})}}).appendTo(container);var isArchived=3===options.data.state;$("<div />").dxButton({type:"custom",template:'<div class="fa '+(isArchived?"fa-undo":"fa-trash-o")+'" title="'+(isArchived?(0,_messages2.default)("users.activate"):(0,_messages2.default)("users.archive"))+'"></div>',disabled:options.data.id===self.currentUser.id,onClick:function(data){isArchived?self.activateUser(options.data):self.archiveUser(options.data)}}).appendTo(container)}}]})})}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"archiveUser",value:function(user){var self=this;user=Object.assign({},user),this.sweetAlert.swal({title:(0,_messages2.default)("users.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("users.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.archive.confirmButton")},function(isConfirm){isConfirm&&(user.state=3,self.User.update({id:user.id},user,function(result){self.store.remove(user.id),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("users.message.archived"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)}))})}},{key:"activateUser",value:function(user){user=Object.assign({},user);var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("users.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("users.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.activate.confirmButton")},function(isConfirm){isConfirm&&(user.state=2,self.User.update({id:user.id},user,function(result){self.store.remove(user.id),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("users.message.activated"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)}))})}}]),UsersController}();exports.default=UsersController}).call(exports,__webpack_require__(178),__webpack_require__(178))},function(module,exports,__webpack_require__){(function(jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_userEditModal=__webpack_require__(812),_userEditModal2=_interopRequireDefault(_userEditModal),_userChangePasswordModal=__webpack_require__(958),_userChangePasswordModal2=_interopRequireDefault(_userChangePasswordModal),_userEditModalTemplate=__webpack_require__(813),_userEditModalTemplate2=_interopRequireDefault(_userEditModalTemplate),_userChangePasswordModalTemplate=__webpack_require__(959),_userChangePasswordModalTemplate2=_interopRequireDefault(_userChangePasswordModalTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),UserController=function(){function UserController($scope,$state,User,userObject,currentUser,StoreAdapter,Role,Locale,NotificationService,sweetAlert,$uibModal){_classCallCheck(this,UserController),this.$scope=$scope,this.$state=$state,this.User=User,this.userObject=userObject,this.currentUser=currentUser,this.storeAdapter=StoreAdapter,this.Role=Role,this.Locale=Locale,this.notificationService=NotificationService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.init()}return UserController.$inject=["$scope","$state","User","userObject","currentUser","StoreAdapter","Role","Locale","NotificationService","sweetAlert","$uibModal"],_createClass(UserController,[{key:"init",value:function(){var _this=this;this.$scope.isArchived=3===this.userObject.state;var rolesStore=this.storeAdapter.createStore(this.Role,{},{requestFailed:function(response){self.NotificationService.error(response.data)}});rolesStore.load().done(function(result){_this.roles=result,_this.setRole()});var localesStore=this.storeAdapter.createStore(this.Locale,{},{requestFailed:function(response){self.NotificationService.error(response.data)}});localesStore.load().done(function(result){_this.locales=result,_this.setLocale()})}},{key:"setRole",value:function(){var _this2=this,role=this.roles.find(function(item){return item.id===_this2.userObject.roleId});role=role||{},this.$scope.role=role}},{key:"setLocale",value:function(){var _this3=this,locale=this.locales.find(function(item){return item.id===_this3.userObject.localeId});locale=locale||{},this.$scope.locale=locale}},{key:"editUser",value:function(){var _this4=this,modal=this.$uibModal.open({controller:_userEditModal2.default,template:_userEditModalTemplate2.default,resolve:{userObject:Object.assign({},this.userObject)}});modal.result.then(function(result){jQuery.extend(_this4.userObject,result),_this4.$scope.isArchived=3===result.state,_this4.setRole(),_this4.setLocale()})}},{key:"archiveTrigger",value:function(){this.$scope.isArchived?this.activate():this.archive()}},{key:"archive",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("users.archive.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.archive.confirmButton")},function(isConfirm){if(isConfirm){var user=Object.assign({},self.userObject);user.state=3,self.User.update({id:user.id},user,function(){self.userObject.state=3,self.$scope.isArchived=!0,self.notificationService.success((0,_messages2.default)("users.message.archived"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"activate",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("users.activate.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("users.activate.confirmButton")},function(isConfirm){if(isConfirm){var user=Object.assign({},self.userObject);user.state=2,self.User.update({id:user.id},user,function(){self.userObject.state=1,self.$scope.isArchived=!1,self.notificationService.success((0,_messages2.default)("users.message.activated"))},function(result){self.notificationService.error(result.data.message?result.data.message:result.data)})}})}},{key:"changePassword",value:function(){this.$uibModal.open({controller:_userChangePasswordModal2.default,template:_userChangePasswordModalTemplate2.default,resolve:{userId:this.userObject.id}})}}]),UserController}();exports.default=UserController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),UserChangePasswordController=(_interopRequireDefault(_constants),function(){function UserChangePasswordController($scope,$state,$uibModalInstance,User,userId,NotificationService,sweetAlert){_classCallCheck(this,UserChangePasswordController),this.$scope=$scope,this.$state=$state,this.User=User,this.userId=userId,this.notificationService=NotificationService,this.$uibModalInstance=$uibModalInstance,this.validationGroup="user-change-password",this.sweetAlert=sweetAlert,this.initForm()}return UserChangePasswordController.$inject=["$scope","$state","$uibModalInstance","User","userId","NotificationService","sweetAlert"],_createClass(UserChangePasswordController,[{key:"initForm",value:function(){var _this=this,self=this;this.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},this.$scope.isSaveOperationDisable=!1,this.$scope.changePasswordModel={newPassword:null,confirmPassword:null},self.$scope.isModalChanged=function(){return null!=self.$scope.changePasswordModel.newPassword&&null!=self.$scope.changePasswordModel.confirmPassword},self.comprasionTarget=function(){if(self.$scope.changePasswordModel.newPassword)return self.$scope.changePasswordModel.newPassword},self.$scope.isFormValid=function(){var result=_validation_engine2.default.getGroupConfig(self.validationGroup).validate();return result.isValid},this.$scope.newPasswordSettings={placeholder:(0,_messages2.default)("users.placeholder.newPassword"),bindingOptions:{value:"changePasswordModel.newPassword "},mode:"password"},this.$scope.newPasswordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",min:6,message:(0,_messages2.default)("validation.shortPassword")}],validationGroup:this.validationGroup},this.$scope.confirmPasswordSettings={placeholder:(0,_messages2.default)("users.placeholder.confirmPassword"),bindingOptions:{value:"changePasswordModel.confirmPassword "},mode:"password"},this.$scope.confirmPasswordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"compare",comparisonTarget:self.comprasionTarget,message:(0,_messages2.default)("validation.passwordsNotMatch")}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var result=_validation_engine2.default.getGroupConfig(_this.validationGroup).validate(),self=_this;result.isValid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,_this.User.changePassword({id:_this.userId},_this.$scope.changePasswordModel,function(result){_this.notificationService.success((0,_messages2.default)("users.message.updated")),self.$scope.saveInProgress=!1,_this.$uibModalInstance.close(_this.$scope.user),_this.sweetAlert.swal({title:(0,_messages2.default)("users.changePassord.title"),text:(0,_messages2.default)("users.changePassword.success"),type:"success"})},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1,self.$scope.isSaveOperationDisable=!1,_this.sweetAlert.swal({title:(0,_messages2.default)("users.changePassord.title"),text:(0,_messages2.default)("users.changePassword.failed"),type:"warning"})}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this.validationGroup),_this.$uibModalInstance.dismiss("cancel")}}}]),UserChangePasswordController}());exports.default=UserChangePasswordController},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ Messages(\'users.changePassord.title\')  }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-new-password" class="control-label">{{Messages(\'users.newPassword\')}}</label>\r\n                    <div id="field-new-password" dx-text-box="newPasswordSettings" dx-validator="newPasswordValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-confirm-password" class="control-label">{{Messages(\'users.confirmPassword\')}}</label>\r\n                    <div id="field-confirm-password" dx-text-box="confirmPasswordSettings" dx-validator="confirmPasswordValidationRules"></div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" ladda="saveInProgress" class="btn btn-primary ladda-button" data-style="expand-left" ng-click="validateAndSave()" \r\n            ng-disabled="!(isModalChanged() && isFormValid()) || isSaveOperationDisable">\r\n            <span class="ladda-label">\r\n                {{ saveInProgress ? Messages(\'users.changingPasswordBtn\') : Messages(\'users.changePasswordBtn\') }}\r\n            </span>\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()" ng-disabled="isSaveOperationDisable">\r\n            {{ Messages(\'users.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),User=function(){function User(ConfigurationService,$resource){return _classCallCheck(this,User),$resource(ConfigurationService.getApiBaseUrl()+"api/users/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/users",isArray:!0},update:{method:"PUT"},changePassword:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/users/:id/password"},search:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/users/search",isArray:!0,params:{name:"@name"}},sendInvitation:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/users/:id/invitations"},getInvitations:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/users/:id/invitations"}})}return User.$inject=["ConfigurationService","$resource"],_createClass(User,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return User.instance=new User(ConfigurationService,$resource),User.instance}]}]),User}();exports.default=User},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Role=function(){function Role(ConfigurationService,$resource){return _classCallCheck(this,Role),$resource(ConfigurationService.getApiBaseUrl()+"api/roles/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/roles",isArray:!0}})}return Role.$inject=["ConfigurationService","$resource"],_createClass(Role,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Role.instance=new Role(ConfigurationService,$resource),Role.instance}]}]),Role}();exports.default=Role},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Locale=function(){function Locale(ConfigurationService,$resource){return _classCallCheck(this,Locale),$resource(ConfigurationService.getApiBaseUrl()+"api/locales/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/locales",isArray:!0}})}return Locale.$inject=["ConfigurationService","$resource"],_createClass(Locale,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Locale.instance=new Locale(ConfigurationService,$resource),Locale.instance}]}]),Locale}();exports.default=Locale},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _userInvitationHistory=__webpack_require__(964),_userInvitationHistory2=_interopRequireDefault(_userInvitationHistory),_userInvitationHistoryTemplate=__webpack_require__(965),_userInvitationHistoryTemplate2=_interopRequireDefault(_userInvitationHistoryTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),InvitationHistoryComponent={bindings:{userId:"="},controller:_userInvitationHistory2.default,template:_userInvitationHistoryTemplate2.default,Messages:_messages2.default};exports.default=InvitationHistoryComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),SpaceController=function(){function SpaceController($scope,$timeout,User,NotificationService){_classCallCheck(this,SpaceController),this.$scope=$scope,this.$timeout=$timeout,this.userId=this.userId,this.invitations=[],this.User=User,this.NotificationService=NotificationService,this.Messages=this.$scope.Messages=_messages2.default,this.Contants=this.$scope.Contants=_constants2.default,this.initGrid(),this.loadData()}return SpaceController.$inject=["$scope","$timeout","User","NotificationService"],_createClass(SpaceController,[{key:"initGrid",value:function(){var self=this;self.createStore(),self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},filterRow:{visible:!1},groupPanel:{visible:!1},columns:[{dataField:"timeStamp",dataType:"date",caption:(0,_messages2.default)("users.invitations.table.timestamp"),alignment:"right",customizeText:function(options){var t=(0,_moment2.default)(options.value).format("YYYY-MM-DD HH:mm:ss");return _moment2.default.utc(t).local().format("DD MM YYYY HH:mm")}}]}),self.refreshGrid=function(){self.createStore();var dataGrid=$("#gridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.store}),dataGrid.endUpdate(),dataGrid.refresh()}}},{key:"loadData",value:function(){var self=this;this.User.getInvitations({id:this.userId},function(result){self.invitations=result.items,self.refreshGrid()},function(error){self.NotificationService.error(error.data&&error.data.message?error.data.message:error.data)})}},{key:"createStore",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.store=new _array_store2.default({data:self.invitations,key:"id",errorHandler:self.errorHandler.requestFailed})}},{key:"sendInvitation",value:function(){var self=this;this.User.sendInvitation({id:this.userId},function(result){self.invitations.push(result),self.refreshGrid(),self.NotificationService.success((0,_messages2.default)("users.invitations.operation.success"))},function(error){self.NotificationService.error(error.data&&error.data.message?error.data.message:error.data)})}}]),SpaceController}();exports.default=SpaceController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<form name="spacesForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" ng-click="$ctrl.sendInvitation()">\r\n            <i class="fa fa-paper-plane"></i>\r\n            <span>{{Messages(\'users.invitations.operation.resend\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assets=__webpack_require__(967),_assets2=_interopRequireDefault(_assets),_asset=__webpack_require__(970),_asset2=_interopRequireDefault(_asset),_assetgallary=__webpack_require__(971),_assetgallary2=_interopRequireDefault(_assetgallary),_floor=__webpack_require__(972),_floor2=_interopRequireDefault(_floor),_floorsList=__webpack_require__(977),_floorsList2=_interopRequireDefault(_floorsList),_space=__webpack_require__(980),_space2=_interopRequireDefault(_space),_spaces=__webpack_require__(981),_spaces2=_interopRequireDefault(_spaces),_spacesList=__webpack_require__(984),_spacesList2=_interopRequireDefault(_spacesList),_assetdocuments=__webpack_require__(987),_assetdocuments2=_interopRequireDefault(_assetdocuments),_object=__webpack_require__(988),_object2=_interopRequireDefault(_object),_assetsStatistic=__webpack_require__(993),_assetsStatistic2=_interopRequireDefault(_assetsStatistic),_asset3=__webpack_require__(996),_asset4=_interopRequireDefault(_asset3),_object3=__webpack_require__(997),_object4=_interopRequireDefault(_object3),_floor3=__webpack_require__(998),_floor4=_interopRequireDefault(_floor3),_space3=__webpack_require__(999),_space4=_interopRequireDefault(_space3);__webpack_require__(1e3),__webpack_require__(1001);var _module=angular.module("tower360.assets",["ui.sortable","angular-sortable-view"]).controller("AssetsController",_assets2.default).controller("AssetController",_asset2.default).component("assetgallery",_assetgallary2.default).component("floor",_floor2.default).component("floorsList",_floorsList2.default).component("space",_space2.default).component("spaces",_spaces2.default).component("spacesList",_spacesList2.default).component("assetdocuments",_assetdocuments2.default).component("assetsStatistics",_assetsStatistic2.default).factory("Asset",_asset4.default.activate).factory("AssetObject",_object4.default.activate).factory("Floor",_floor4.default.activate).factory("Space",_space4.default.activate).component("object",_object2.default);exports.default=_module},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_assetEditModal=__webpack_require__(968),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModalTemplate=__webpack_require__(969),_assetEditModalTemplate2=_interopRequireDefault(_assetEditModalTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),AssetsController=function(){function AssetsController($scope,$state,Asset,Broker,Market,StoreAdapter,currentUser,NotificationService,$uibModal,sweetAlert,UtilsService,LocationService){_classCallCheck(this,AssetsController),this.$scope=$scope,this.$state=$state,this.Asset=Asset,this.Broker=Broker,this.storeAdapter=StoreAdapter,this.currentUser=currentUser,this.notificationService=NotificationService,this.$uibModal=$uibModal,this.sweetAlert=sweetAlert,this.utils=UtilsService,this.Market=Market,this.locationService=LocationService,this.Constants=_constants2.default,this.initGrid(),this.initScrollbar()}return AssetsController.$inject=["$scope","$state","Asset","Broker","Market","StoreAdapter","currentUser","NotificationService","$uibModal","sweetAlert","UtilsService","LocationService"],_createClass(AssetsController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"initGrid",value:function(){var _this=this,self=this;self.$scope.isLoading=!1,self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.stateStore=_constants2.default.assetStateStore(),self.countryStore=_constants2.default.countryStore(),self.assets=[],self.Asset.query({},function(result){self.assets=result,self.assets.forEach(function(item){item.address=self.locationService.getAddress(item.location)}),self.store=new _array_store2.default({data:self.assets,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,editing:{allowAdding:!1,allowUpdate:!1,allowDelete:!1,texts:{confirmDeleteMessage:""}},columns:[{dataField:"id",visible:!1},{dataField:"name",caption:(0,_messages2.default)("assets.name"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",cellTemplate:function(cellElement,cellInfo){var element=$("<a>",{
href:"/assets/"+cellInfo.data.id,"ui-sref":"asset"});element.text(cellInfo.displayValue).appendTo(cellElement)}},{dataField:"address",caption:(0,_messages2.default)("assets.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains"},{dataField:"location.countryId",caption:(0,_messages2.default)("assets.country"),lookup:{dataSource:self.countryStore,displayExpr:"display",valueExpr:"value"}},{dataField:"state",caption:(0,_messages2.default)("users.state"),lookup:{dataSource:self.stateStore,displayExpr:"display",valueExpr:"value"},width:100},{dataField:"brokerDatabaseRecordId",caption:(0,_messages2.default)("assets.brokerDatabaseRecordId"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",alignment:"right"},{dataField:"brokerId",caption:(0,_messages2.default)("assets.broker"),lookup:{dataSource:_this.storeAdapter.createStore(_this.Broker,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{dataField:"marketId",caption:(0,_messages2.default)("assets.market"),lookup:{dataSource:_this.storeAdapter.createStore(_this.Market,{},self.errorHandler),displayExpr:"name",valueExpr:"id"}},{caption:(0,_messages2.default)("actions"),width:90,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil" title="'+(0,_messages2.default)("assets.edit")+'"></div>',onClick:function(data){data.jQueryEvent.stopPropagation();var modal=self.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModalTemplate2.default,resolve:{assetObject:Object.assign({},options.data)}});modal.result.then(function(result){result.address=self.locationService.getAddress(result.location),jQuery.extend(options.data,result)})}}).appendTo(container);var isArchived=3===options.data.state;$("<div />").dxButton({type:"custom",template:'<div class="fa '+(isArchived?"fa-undo":"fa-trash-o")+'" title="'+(isArchived?(0,_messages2.default)("assets.activate"):(0,_messages2.default)("assets.archive"))+'"></div>',onClick:function(data){isArchived?self.activateAsset(options.data):self.archiveAsset(options.data)}}).appendTo(container)}}]}),$("#loadpanel").dxLoadPanel({visible:!1,position:{of:"#gridContainer"},message:(0,_messages2.default)("indicator.waiting")})}),angular.element(document).ready(function(){self.$scope.$watch(function(){return self.$scope.isLoading},function(newValue,oldValue){self.loadPanel(newValue)})})}},{key:"archiveAsset",value:function(asset){var self=this;self.$scope.isLoading=!0,self.Asset.checkRequirementsToArchive({id:asset.id},function(result){self.$scope.isLoading=!1,result.result?self.sweetAlert.swal({title:(0,_messages2.default)("assets.archive.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.archive.confirmButton")},function(isConfirm){isConfirm&&(self.$scope.isLoading=!0,self.Asset.archive({id:asset.id},function(result){self.$scope.isLoading=!1,self.store.remove(asset.id),result.address=self.locationService.getAddress(result),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("assets.message.archived"))},function(error){self.$scope.isLoading=!1,self.notificationService.error(error.data.message?error.data.message:error.data)}))}):self.notificationService.error((0,_messages2.default)("assets.archive.requirement.checkerror"))},function(error){self.$scope.isLoading=!1,self.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"activateAsset",value:function(asset){asset=Object.assign({},asset);var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("assets.activate.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.activate.confirmButton")},function(isConfirm){isConfirm&&(asset.state=2,self.Asset.update({id:asset.id},asset,function(result){self.store.remove(asset.id),result.address=self.locationService.getAddress(result.location),self.store.insert(result),$("#gridContainer").dxDataGrid("instance").refresh(),self.notificationService.success((0,_messages2.default)("assets.message.activated"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)}))})}},{key:"loadPanel",value:function(state){var loadpanel=$("#loadpanel").dxLoadPanel("instance");loadpanel.option("visible",state)}}]),AssetsController}();exports.default=AssetsController}).call(exports,__webpack_require__(178),__webpack_require__(178))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine);__webpack_require__(806);var _messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_data_source=__webpack_require__(803),_landlordEditModal=(_interopRequireDefault(_data_source),__webpack_require__(807)),_landlordEditModal2=_interopRequireDefault(_landlordEditModal),_landlordEditModalTemplate=__webpack_require__(808),_landlordEditModalTemplate2=_interopRequireDefault(_landlordEditModalTemplate),AssetEditModalController=function(){function AssetEditModalController($scope,$state,$timeout,$filter,Asset,assetObject,$uibModal,$uibModalInstance,NotificationService,StoreAdapter,Broker,Landlord,UtilsService,Market,LocationService,ImageService,IndustryLookupService){var _this=this;_classCallCheck(this,AssetEditModalController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.$filter=$filter,this.Asset=Asset,this.assetObject=assetObject,this.Landlord=Landlord,this.$uibModal=$uibModal,this.$uibModalInstance=$uibModalInstance,this.notificationService=NotificationService,this.storeAdapter=StoreAdapter,this.Broker=Broker,this.utils=UtilsService,this.imageService-ImageService,this.locationService=LocationService,this.validationGroup="asset-edit",this.addressValidationGroup="asset-create-address",this.Market=Market,this.IndustryLookupService=IndustryLookupService,this.$scope.landlords={selected:[],available:[]},this.init(),this.initForm(),$timeout(function(){_this.initAutocomplete()})}return AssetEditModalController.$inject=["$scope","$state","$timeout","$filter","Asset","assetObject","$uibModal","$uibModalInstance","NotificationService","StoreAdapter","Broker","Landlord","UtilsService","Market","LocationService","ImageService","IndustryLookupService"],_createClass(AssetEditModalController,[{key:"init",value:function(){var _this2=this,self=this;if(this.IndustryLookupService.all().then(function(result){self.$scope.industries=result},function(err){}),this.$scope.editMode=!!this.assetObject,this.$scope.editMode){if(this.$scope.asset=this.assetObject,this.$scope.brokerId=this.assetObject.brokerId,!this.$scope.asset.location.latitude||!this.$scope.asset.location.longitude){var geocoder=new google.maps.Geocoder;geocoder.geocode({address:this.$scope.asset.address},function(result,status){"OK"===status&&(_this2.$scope.asset.location.latitude=result[0].geometry.location.lat(),_this2.$scope.asset.location.longitude=result[0].geometry.location.lng())})}null==self.$scope.asset.landlords&&(self.$scope.asset.landlords=[])}else this.$scope.asset={name:"",brokerId:null,landlords:[],location:this.locationService.getEmptyLocation(),description:"",brokerDatabaseRecordId:"",notes:"",images:[],documents:[],floors:[],spaces:[],state:2,address:"",marketId:null};this.$scope.refreshLandlords=function(name){return self.$scope.landlords.available},this.$scope.onLandlordSelect=function(item,model){if(0==item.id){var idx=self.$scope.landlords.selected.findIndex(function(t){return 0==t.id});self.$scope.landlords.selected.splice(idx,1);var modal=self.$uibModal.open({controller:_landlordEditModal2.default,template:_landlordEditModalTemplate2.default,resolve:{landlordObject:null,industries:function(){return self.$scope.industries},brokerId:self.$scope.asset.brokerId}});modal.result.then(function(result){var landlords=angular.copy(self.$scope.landlords.available),item=landlords.pop();landlords.push(result),landlords.push(item),self.$scope.landlords.available=landlords,self.$scope.landlords.selected.push(result)})}},this.$scope.asset.address=this.locationService.getGoogleAddress(this.$scope.asset.location),this.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},this.$scope.clearAddress=function(){self.$scope.asset.address=""},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.countryId=self.locationService.countryId,$.extend(self.$scope.asset.location,location),self.$scope.clearAddress()}}},{key:"initForm",value:function(){var _this3=this,self=this;this.$scope.nameSettings={placeholder:(0,_messages2.default)("assets.placeholder.name"),bindingOptions:{value:"asset.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:100}],validationGroup:this.validationGroup};var brokersStore=this.storeAdapter.createStore(this.Broker,{},this.errorHandler);brokersStore.load().done(function(result){_this3.$scope.brokerSelectSettings={dataSource:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"asset.brokerId"},onValueChanged:function(){self.Landlord.query({brokerId:self.$scope.asset.brokerId},function(result){result.push({id:0,name:"Create landlord"}),self.$scope.landlords.available=result,self.$scope.landlords.selected.length>0&&(self.$scope.asset.landlords=[]),self.$scope.landlords.selected=[],self.$scope.asset.landlords.forEach(function(t){var landlord=self.$scope.landlords.available.find(function(r){return r.id==t.landlordId});null!=landlord&&self.$scope.landlords.selected.push(landlord)})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}}}),this.$scope.brokerValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},this.$scope.description=this.$scope.$parent.description,this.$scope.descriptionSettings={placeholder:(0,_messages2.default)("assets.placeholder.description"),height:180,maxLength:500,bindingOptions:{value:"asset.description"}},this.$scope.descriptionValidationRules={validationRules:[{type:"stringLength",max:500}],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"asset.location.countryId"},onValueChanged:function(){self.$timeout(function(){self.$scope.resetAddressData(),self.initAutocomplete(),self.setAutocompleteCountry()})}},this.$scope.countryValidationRules={validationRules:[{type:"stringLength",max:50}],validationGroup:this.validationGroup,onOptionChanged:function(){_this3.setAutocompleteCountry()}},this.$scope.addressSettings={bindingOptions:{value:"asset.address",disabled:"!asset.location.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.asset.location.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.location.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.location.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.location.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"asset.location.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup};var marketsStore=this.storeAdapter.createStore(this.Market,{},this.errorHandler);marketsStore.load().done(function(result){_this3.$scope.marketSelectSettings={dataSource:result,displayExpr:"name",valueExpr:"id",bindingOptions:{value:"asset.marketId"}}}),this.$scope.marketValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:this.validationGroup},this.$scope.validateAndSaveSettings=function(){var validation=_validation_engine2.default.getGroupConfig(self.validationGroup).validate(),addressValidation=_validation_engine2.default.getGroupConfig(self.addressValidationGroup).validate();validation.isValid&&addressValidation.isValid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,self.locationService.setLocationCoordinates(self.$scope.asset.location,function(){self.$scope.editMode?self.$scope.brokerId!=self.$scope.asset.brokerId?self.Asset.checkRequirementsToChangeBroker({id:self.$scope.asset.id},function(result){result.result?self.$scope.updateBroker():(self.notificationService.error((0,_messages2.default)("assets.update.broker.requirement.checkerror")),self.$scope.saveInProgress=!1)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1}):self.$scope.updateBroker():self.Asset.create({id:self.$scope.asset.id},self.$scope.asset,function(result){self.notificationService.success((0,_messages2.default)("assets.message.created")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(self.$scope.asset),self.$state.go("asset",{id:result.id})},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1})}))},this.$scope.updateBroker=function(){self.$scope.asset.landlords=self.$scope.landlords.selected.map(function(t){return{landlordId:t.id,assetId:self.$scope.asset.id}}),self.Asset.update({id:self.$scope.asset.id},self.$scope.asset,function(result){self.$scope.brokerId=self.$scope.asset.brokerId,self.notificationService.success((0,_messages2.default)("assets.message.updated")),self.$scope.saveInProgress=!1,self.$uibModalInstance.close(self.$scope.asset)},function(error){self.notificationService.error(error.data.message?error.data.message:error.data),self.$scope.saveInProgress=!1})},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(self.validationGroup),self.$uibModalInstance.dismiss("cancel")}}},{key:"initAutocomplete",value:function(){var _this4=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#field-address input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this4.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this4.$scope.asset.location.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this4.$scope.asset.location.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this4.$scope.asset.location.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this4.$scope.asset.location.postCode=item.long_name,postCodeSet=!0)}),place.geometry&&place.geometry.location?(_this4.$scope.asset.location.latitude=place.geometry.location.lat(),_this4.$scope.asset.location.longitude=place.geometry.location.lng()):(_this4.$scope.asset.location.latitude=null,_this4.$scope.asset.lng=null),citySet||(_this4.$scope.asset.location.city=null),streetSet||(_this4.$scope.asset.location.street=null),buildingSet||(_this4.$scope.asset.location.streetAddress=null),postCodeSet||(_this4.$scope.asset.location.postCode=null),_validation_engine2.default.getGroupConfig(_this4.addressValidationGroup).validate()}),this.$scope.asset.location.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this5=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this5.$scope.asset.location.countryId&&(curCountryCode=country.isoCode)}),curCountryCode&&this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),AssetEditModalController}();exports.default=AssetEditModalController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'assets.edit\') : Messages(\'assets.add\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form" name="settingsForm" class="asset-edit-form">\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-name" class="control-label">{{ Messages(\'assets.name\') }}</label>\r\n                    <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-broker" control-label>{{ Messages(\'assets.broker\') }}</label>\r\n                    <div>\r\n                        <div id="field-broker" dx-select-box="brokerSelectSettings" dx-validator="brokerValidationRules"></div>\r\n                        <p class="help-block"><small>{{ Messages(\'assets.broker.help\') }}</small></p>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-landlord" control-label>{{ Messages(\'assets.landlord\') }}</label>\r\n                    <div id="field-landlord">\r\n                        <ui-select multiple ng-model="landlords.selected" on-select="onLandlordSelect($item, $model)" close-on-select="false" theme="bootstrap" name="landlords">\r\n                            <ui-select-match class="text-muted" placeholder="{{Messages(\'assets.landlord.help\')}}">\r\n                                {{$item.name}}\r\n                            </ui-select-match>\r\n                            <ui-select-choices repeat="landlord in landlords.available track by $index" refresh="refreshLandlords($select.search)" refresh-delay="0" >\r\n                                {{landlord.name}}\r\n                            </ui-select-choices>\r\n                        </ui-select>\r\n                        <p class="help-block"><small>{{ Messages(\'assets.landlord.help\') }}</small></p>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n            <fieldset>\r\n                <div class="form-group">\r\n                    <label for="field-country" class="control-label">{{ Messages(\'assets.country\') }}</label>\r\n                    <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-address" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                    <div id="field-address" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n                </div>\r\n                <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n                <div class="panel panel-default">\r\n                    <div class="panel-body">\r\n                        <div class="form-group">\r\n                            <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                            <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                            <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                            <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                        </div>\r\n                        <div class="form-group">\r\n                            <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                            <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label for="field-market" control-label>{{ Messages(\'assets.market\') }}</label>\r\n                    <div>\r\n                        <div id="field-market" dx-select-box="marketSelectSettings" dx-validator="marketValidationRules"></div>\r\n                        <p class="help-block"><small>{{ Messages(\'assets.market.help\') }}</small></p>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings()">\r\n            {{ saveInProgress ? Messages(\'assets.saving\') : Messages(\'assets.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_assetEditModal=__webpack_require__(968),_assetEditModal2=_interopRequireDefault(_assetEditModal),_assetEditModalTemplate=__webpack_require__(969),_assetEditModalTemplate2=_interopRequireDefault(_assetEditModalTemplate);__webpack_require__(806);var _messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),AssetController=function(){function AssetController($scope,$state,Broker,Asset,assetObject,currentUser,ImageService,StoreAdapter,NotificationService,$filter,NgMap,$uibModal,sweetAlert,UtilsService,Market,LocationService){_classCallCheck(this,AssetController),this.$scope=$scope,this.$state=$state,this.$filter=$filter,this.Broker=Broker,this.Asset=Asset,this.assetObject=assetObject,this.currentUser=currentUser,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.NgMap=NgMap,this.$uibModal=$uibModal,this.sweetAlert=sweetAlert,this.utils=UtilsService,this.imageService=ImageService,this.Market=Market,this.locationService=LocationService,this.init(),this.initForm(),this.initScrollbar()}return AssetController.$inject=["$scope","$state","Broker","Asset","assetObject","currentUser","ImageService","StoreAdapter","NotificationService","$filter","NgMap","$uibModal","sweetAlert","UtilsService","Market","LocationService"],_createClass(AssetController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){var self=this;self.asset=self.assetObject,self.asset.address=self.locationService.getAddress(self.asset.location),self.asset.images=[],self.assetObject.mainImageUrl&&(self.asset.images=[{filePath:self.assetObject.mainImageUrl}]),self.$scope.isArchived=3===self.asset.state,self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.updateDataSources=function(initiator){"objects"==initiator?self.$scope.$broadcast("updateAssetObjectDataSource"):"floors"==initiator&&self.$scope.$broadcast("updateFloorDataSource")},self.NgMap.getMap().then(function(map){self.map=map,self.map.marker||(self.map.marker=new google.maps.Marker),self.map.marker.setMap(null),map.mapTypes.set("tehgrayz",_constants2.default.mapOptions().mapType),map.setMapTypeId("tehgrayz"),self.setMapCoordinates()}),self.$scope.saveUpdates=function(){self.saveUpdates()},self.$scope.updateImage=function(){self.updateImage()}}},{key:"initForm",value:function(){var self=this;this.stateStore=_constants2.default.assetStateStore(),this.countryStore=_constants2.default.countryStore();var brokersStore=this.storeAdapter.createStore(this.Broker,{},this.errorHandler);brokersStore.load().done(function(result){result.forEach(function(value){self.brokers.push({value:value.id,text:value.name})})}),this.brokers=[],this.brokerId=this.assetObject.brokerId,this.showBroker=function(){var selected=self.$filter("filter")(self.brokers,{value:self.brokerId});return"number"==typeof self.brokerId&&selected.length?selected[0].text:"Not set"},this.brokerDatabaseRecordId=this.asset.brokerDatabaseRecordId||"",this.brokerDatabaseRecordIdValidation=function(value){if(value.length>10)return(0,_messages2.default)("assets.brokerDatabaseRecordId.errorLength")},this.notes=this.asset.notes||"",this.notesValidation=function(value){if(value.length>500)return(0,_messages2.default)("assets.notes.errorLength")},this.markets=[];var marketsStore=this.storeAdapter.createStore(this.Market,{},this.errorHandler);marketsStore.load().done(function(result){result.forEach(function(value){self.markets.push({value:value.id,text:value.name})})}),this.marketId=this.asset.marketId,this.showMarket=function(){var selected=self.$filter("filter")(self.markets,{value:self.marketId});return"number"==typeof self.marketId&&selected.length?selected[0].text:"Not set"}}},{key:"setMapCoordinates",value:function(){var _this=this;if(this.map.marker.setMap(null),this.assetObject.location.latitude&&this.assetObject.location.longitude){var location={lat:this.assetObject.location.latitude,lng:this.assetObject.location.longitude};this.map.setCenter(location),this.map.marker.setPosition(location),this.map.marker.setMap(this.map)}else this.assetObject.address&&this.locationService.setLocationCoordinates(this.assetObject.location,function(){if(_this.assetObject.location.latitude&&_this.assetObject.location.longitude){var location={lat:_this.assetObject.location.latitude,lng:_this.assetObject.location.longitude};_this.map.setCenter(location),_this.map.marker.setPosition(location),_this.map.marker.setMap(_this.map)}})}},{key:"updateImage",value:function(){var _this2=this,self=this;if(0==self.asset.images.length)self.Asset.resetImage({id:this.asset.id},function(result){self.notificationService.success((0,_messages2.default)("assets.gallery.message.deleted")),self.saveInProgress=!1},function(error){_this2.notificationService.error(error.data),self.saveInProgress=!1});else{var blob=self.imageService.dataURItoBlob(self.asset.images[0].imageFile.imageData),fd=new FormData(document.forms[0]);fd.append("data",blob,self.asset.images[0].originalFileName),self.Asset.setImage({id:this.asset.id},fd,function(result){self.notificationService.success((0,_messages2.default)("assets.gallery.message.added")),self.saveInProgress=!1},function(error){_this2.notificationService.error(error.data),self.saveInProgress=!1})}}},{key:"saveUpdates",value:function(){var self=this;this.asset.brokerId!=this.brokerId?this.Asset.checkRequirementsToChangeBroker({id:this.asset.id},function(result){return result.result?void self.save():(self.notificationService.error((0,_messages2.default)("assets.update.broker.requirement.checkerror")),void(self.brokerId=self.asset.brokerId))},function(error){self.brokerId=self.asset.brokerId,self.notificationService.error(error.data.message?error.data.message:error.data)}):this.save()}},{key:"save",value:function(){var _this3=this;for(var i in this.asset)this.asset.hasOwnProperty(i)&&(void 0!==this[i]?this.asset[i]=this[i]:void 0!==this.$scope[i]&&(this.asset[i]=this.$scope[i]));this.Asset.update({id:this.asset.id},this.asset,function(result){_this3.notificationService.success((0,_messages2.default)("assets.message.updated")),_this3.saveInProgress=!1},function(error){_this3.notificationService.error(error.data),_this3.saveInProgress=!1})}},{key:"tabGridsRefresh",value:function($event){$event.preventDefault();var tab=$event.currentTarget.getAttribute("aria-controls");"floors"===tab&&$("#floorSettings #gridContainer").dxDataGrid("instance").refresh(),"spaces"===tab&&$("#spaceSettings #spacesGridContainer").dxDataGrid("instance").refresh(),"objects"===tab&&$("#objectsSettings #objectsGridContainer").dxDataGrid("instance").refresh()}},{key:"archiveTrigger",value:function(){this.$scope.isArchived?this.activate():this.archive()}},{key:"editAsset",value:function(){var _this4=this,modal=this.$uibModal.open({controller:_assetEditModal2.default,template:_assetEditModalTemplate2.default,resolve:{assetObject:Object.assign({},this.asset)}});modal.result.then(function(result){var newAddress=_this4.locationService.getAddress(result.location),newCountry=result.location.countryId,needToUpdateMap=void 0;newAddress===_this4.asset.address&&newCountry===_this4.asset.location.countryId||(needToUpdateMap=!0),$.extend(_this4.asset,result),_this4.asset.address=newAddress,needToUpdateMap&&_this4.setMapCoordinates()})}},{key:"archive",value:function(){var self=this;this.sweetAlert.swal({title:(0,_messages2.default)("assets.archive.title"),
type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.archive.confirmButton")},function(isConfirm){isConfirm&&self.Asset.archive({id:self.asset.id},function(result){self.$scope.isArchived=!0,self.notificationService.success((0,_messages2.default)("assets.message.archived"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"activate",value:function(){var self=this,asset=Object.assign({},this.asset);this.sweetAlert.swal({title:(0,_messages2.default)("assets.activate.title"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.activate.confirmButton")},function(isConfirm){isConfirm&&(asset.state=2,self.Asset.update({id:asset.id},asset,function(result){self.$scope.isArchived=!1,self.notificationService.success((0,_messages2.default)("assets.message.activated"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)}))})}}]),AssetController}();exports.default=AssetController}).call(exports,__webpack_require__(178))},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AssetGalleryComponent={bindings:{images:"=",maxImageWidth:"=?",maxImageHeight:"=?",maxImageCount:"=?",readonly:"=?",updateImage:"=?"},controller:function(){var self=this;self.maxImageCount=1,self.maxImageHeight=200,self.maxImageWidth=200,self.imageAddCallback=function(){self.updateImage()},self.imageDeleteCallback=function(){self.updateImage()},self.sortingChangeCallback=function(){}},template:"<imagegallery images='$ctrl.images'                         readonly='$ctrl.readonly'                         max-image-count='$ctrl.maxImageCount'                         max-image-height='$ctrl.maxImageHeight'                         max-image-width='$ctrl.maxImageWidth'                         image-add-callback='$ctrl.imageAddCallback'                         image-delete-callback='$ctrl.imageDeleteCallback'                         sorting-change-callback='$ctrl.sortingChangeCallback'                         show-main=false                        class='asset-gallery'></imagegallery>"};exports.default=AssetGalleryComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _floor=__webpack_require__(973),_floor2=_interopRequireDefault(_floor),_floorTemplate=__webpack_require__(976),_floorTemplate2=_interopRequireDefault(_floorTemplate),FloorComponent={bindings:{asset:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_floor2.default,template:_floorTemplate2.default};exports.default=FloorComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_custom_store=__webpack_require__(483),_custom_store2=_interopRequireDefault(_custom_store),_floorsAddRangeModalController=__webpack_require__(974),_floorsAddRangeModalController2=_interopRequireDefault(_floorsAddRangeModalController),_floorsAddRangeModalTemplate=__webpack_require__(975),_floorsAddRangeModalTemplate2=_interopRequireDefault(_floorsAddRangeModalTemplate),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_data_source=__webpack_require__(803),FloorController=(_interopRequireDefault(_data_source),function(){function FloorController($scope,$state,Floor,AssetObject,NotificationService,UtilsService,sweetAlert,$uibModal){var _this=this;_classCallCheck(this,FloorController),this.$scope=$scope,this.$state=$state,this.Floor=Floor,this.AssetObject=AssetObject,this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.loadData(function(t){_this.init(),_this.initGrid()})}return FloorController.$inject=["$scope","$state","Floor","AssetObject","NotificationService","UtilsService","sweetAlert","$uibModal"],_createClass(FloorController,[{key:"loadData",value:function(afterExecuteCallback){var self=this;self.loadAssetObjects(function(){self.loadFloors(function(){afterExecuteCallback&&afterExecuteCallback()})})}},{key:"loadAssetObjects",value:function(afterExecuteCallback){var self=this;self.AssetObject.query({assetId:self.asset.id,includeHiddenObjects:!0},function(result){self.objects=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"loadFloors",value:function(afterExecuteCallback){var self=this;self.Floor.getByAssetId({assetId:self.asset.id},function(result){self.floors=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"createStore",value:function(){var self=this;return self.store=new _array_store2.default({data:self.floors,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.store}},{key:"init",value:function(){var self=this;self.isFloorFormVisible=!1,self.isAddFloorRangeDisabled=!1,self.$scope.Messages=_messages2.default,self.$scope.$on("updateAssetObjectDataSource",function(e,data){self.updateDataSources()}),self.updateDataSources=function(){self.loadData(function(t){var dataGrid=$("#gridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.columnOption("assetObjectId","lookup.dataSource",{store:self.assetObjectStore}),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.createStore()}),dataGrid.endUpdate(),self.refreshGrid()})},self.validateFloor=function(oldValue,newValue){var floors=self.floors;if(!newValue||""==newValue.number&&0!=newValue.number)return!1;if(void 0==newValue.number)return!0;for(var i=0;i<floors.length;i++)if((!oldValue||floors[i].number!==oldValue.number)&&newValue.number==floors[i].number&&newValue.assetObjectId==floors[i].assetObjectId)return!1;return!0}}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.createStore(),self.assetObjectStore=new _custom_store2.default({load:function(loadOptions){return self.objects},byKey:function(key){return{id:key}}}),self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},groupPanel:{visible:!1},filterRow:{visible:!1},editing:{texts:{confirmDeleteMessage:""}},columns:[{dataField:"number",caption:(0,_messages2.default)("assets.floors.number"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:10}],width:150,alignment:"right"},{dataField:"description",caption:(0,_messages2.default)("assets.floors.description"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,validationRules:[{type:"stringLength",max:500}]},{dataField:"assetObjectId",caption:(0,_messages2.default)("assets.floors.assetobject"),width:100,allowSorting:!1,lookup:{dataSource:{store:self.assetObjectStore},displayExpr:"name",valueExpr:"id"},alignment:"right",allowEditing:!1},{dataField:"order",visible:!1,sortOrder:"asc"},{dataField:"id",caption:(0,_messages2.default)("actions"),width:100,allowSorting:!1,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){console.log("editing..."),$("#gridContainer").dxDataGrid("instance").editRow(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){options.data.spaces&&options.data.spaces.length>0?self.NotificationService.warning("Please remove spaces from the floor first"):self.sweetAlert.swal({title:(0,_messages2.default)("assets.floors.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.floors.delete.confirmButton")},function(isConfirm){isConfirm&&self.deleteFloor(options.data)})}}).appendTo(container)},editCellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-floppy-o"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").saveEditData(options.rowIndex),self.updateFloor&&self.updateFloor(options.data)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-times"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").cancelEditData(options.rowIndex)}}).appendTo(container)}}],onRowValidating:function(e){var dataGrid=e.component,rowIndex=dataGrid.getRowIndexByKey(e.key);self.validateFloor(e.oldData,e.newData)||(dataGrid.getCellElement(rowIndex,"number").find("input").css("background","rgba(255, 0, 0, 0.5)"),e.isValid=!1)}}),self.refreshGrid=function(){$("#gridContainer").dxDataGrid("instance").refresh()},self.updateFloor=function(floor){self.Floor.update({assetId:self.asset.id,objectId:floor.assetObjectId,id:floor.id},floor,function(result){self.NotificationService.success((0,_messages2.default)("assets.floors.updated")),self.saveInProgress=!1,self.needUpdateDataSources()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})},self.deleteFloor=function(floor){self.Floor.delete({assetId:self.asset.id,assetObjectId:floor.assetObjectId,id:floor.id},function(result){var floorIdx=self.floors.findIndex(function(t){return t.id==floor.id});self.floors.splice(floorIdx,1),self.NotificationService.success((0,_messages2.default)("assets.floors.deleted")),self.saveInProgress=!1,self.needUpdateDataSources(),self.refreshGrid()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})},self.addFloorRange=function(cnt,autoNumerate,assetObjectId){self.Floor.createRange({assetId:self.asset.id,assetObjectId:assetObjectId,count:cnt,autonumerate:autoNumerate},function(result){result.forEach(function(t){self.floors.push(t)}),self.NotificationService.success((0,_messages2.default)("assets.floors.created")),self.saveInProgress=!1,self.needUpdateDataSources(),self.refreshGrid()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})},self.temp=!0}},{key:"addFloorsRange",value:function(){var self=this,modal=this.$uibModal.open({controller:_floorsAddRangeModalController2.default,template:_floorsAddRangeModalTemplate2.default,resolve:{asset:self.asset}});modal.result.then(function(result){self.addFloorRange(result.addRangeFloorCount,result.autoNumerateFloors,result.assetObjectId)})}}]),FloorController}());exports.default=FloorController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547);_interopRequireDefault(_validation_engine);__webpack_require__(806);var _messages=__webpack_require__(721),_array_store=(_interopRequireDefault(_messages),__webpack_require__(479)),FloorsAddRangeModalController=(_interopRequireDefault(_array_store),function(){function FloorsAddRangeModalController($scope,asset,Asset,AssetObject,$uibModalInstance,NotificationService){_classCallCheck(this,FloorsAddRangeModalController),this.$scope=$scope,this.asset=this.$scope.asset=asset,this.Asset=Asset,this.AssetObject=AssetObject,this.$uibModalInstance=$uibModalInstance,this.notificationService=NotificationService,this.validationGroup="floors-add-range",this.init(),this.initDataSource()}return FloorsAddRangeModalController.$inject=["$scope","asset","Asset","AssetObject","$uibModalInstance","NotificationService"],_createClass(FloorsAddRangeModalController,[{key:"init",value:function(){var self=this;self.$scope.floorRequest={addRangeFloorCount:1,autoNumerateFloors:!1,assetObject:null},self.$scope.selectedAssetObject=null,self.$scope.getDataInProgress=!1,self.asset&&self.asset.id>0&&(self.$scope.isAddFloorRangeDisabled=!0),self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")}}},{key:"initDataSource",value:function(){var self=this;return 0==self.asset.id?(self.$scope.objects=[],void self.initForm()):(self.$scope.getDataInProgress=!0,void self.AssetObject.query({assetId:self.asset.id,includeHiddenObjects:!0},function(result){self.$scope.objects=result,self.$scope.getDataInProgress=!1,self.initForm()},function(error){}))}},{key:"initForm",value:function(){var self=this;self.$scope.validateAndSaveSettings=function(form){self.$scope.submitted=!0,form.$valid&&(self.$scope.saveInProgress=!0,self.$scope.isSaveOperationDisable=!0,self.$uibModalInstance.close({addRangeFloorCount:self.$scope.floorRequest.addRangeFloorCount,autoNumerateFloors:self.$scope.floorRequest.autoNumerateFloors,assetObjectId:self.$scope.floorRequest.assetObject?self.$scope.floorRequest.assetObject.id:null}))}}}]),FloorsAddRangeModalController}());exports.default=FloorsAddRangeModalController},function(module,exports){module.exports='<form role="form" class="form-horizontal" name="form" novalidate>\r\n    <div class="inmodal">\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">{{ Messages(\'assets.floors.range.modal.title\') }}</h4>\r\n        </div>\r\n        <div ng-if="getDataInProgress" class="modal-loader">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <div class="modal-body" ng-if="!getDataInProgress">\r\n            <div id="floorRangeForm" class="form-horizontal">\r\n                <h4 class="col-sm-offset-1">{{ Messages(\'assets.floors.range.title\') }}</h4><br>\r\n                <fieldset>\r\n                    <div class="row">\r\n                        <div class="col-sm-6" ng-if="asset.id > 0">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.floors.assetobject\') }}:</div>\r\n                                <ui-select ng-model="floorRequest.assetObject" close-on-select="true" theme="bootstrap" name="assetObject" required ng-class="{ \'has-error\' : form.assetObject.$invalid && (submitted || form.assetObject.$touched)}">\r\n                                    <ui-select-match class="text-muted">\r\n                                        {{$select.selected.name}}\r\n                                    </ui-select-match>\r\n                                    <ui-select-choices repeat="assetObject in objects | filter: $select.search">\r\n                                        {{assetObject.name}}\r\n                                    </ui-select-choices>\r\n                                </ui-select>\r\n                                <label ng-if="form.assetObject.$invalid && (submitted || form.assetObject.$touched)" class="error" for="assetObject">{{Messages(\'validation.required\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row">\r\n                        <div class="col-sm-6">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.floors.range.field\') }}:</div>\r\n                                <input type="number" min="1" max="100" step="1" ng-model="floorRequest.addRangeFloorCount" name="addRangeFloorCount" required>\r\n                                <label ng-if="form.addRangeFloorCount.$invalid && (submitted || form.addRangeFloorCount.$touched)" class="error" for="addRangeFloorCount">{{Messages(\'validation.required\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="row">\r\n                        <div class="col-sm-6">\r\n                            <div class="block">\r\n                                <div class="subheader">{{ Messages(\'assets.floors.range.checkbox\') }}:</div>\r\n                                <div class="t360-select-choice">\r\n                                    <input type="checkbox" id="autoNumerateFloors" name="autonumerate" ng-model="floorRequest.autoNumerateFloors"><label for="autoNumerateFloors"><span></span></label>\r\n                                </div>\r\n                                <p class="help-block"><small>{{ Messages(\'assets.floors.range.checkbox.help\') }}</small></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </fieldset>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'assets.floors.cancelbutton\') }}\r\n            </button>    \r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings(form)">\r\n                {{ Messages(\'assets.floors.addbutton\') }}\r\n            </button>\r\n        </div>\r\n    </div>\r\n</form>'},function(module,exports){module.exports='<form name="settingsForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.addFloorsRange()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.floors.addrange\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _floorsList=__webpack_require__(978),_floorsList2=_interopRequireDefault(_floorsList),_floorsListTemplate=__webpack_require__(979),_floorsListTemplate2=_interopRequireDefault(_floorsListTemplate),FloorsListComponent={bindings:{asset:"=",tower:"="},controller:_floorsList2.default,template:_floorsListTemplate2.default};exports.default=FloorsListComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_custom_store=__webpack_require__(483),_floorsAddRangeModalController=(_interopRequireDefault(_custom_store),__webpack_require__(974)),_floorsAddRangeModalController2=_interopRequireDefault(_floorsAddRangeModalController),_floorsAddRangeModalTemplate=__webpack_require__(975),_floorsAddRangeModalTemplate2=_interopRequireDefault(_floorsAddRangeModalTemplate),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_data_source=__webpack_require__(803),FloorsListController=(_interopRequireDefault(_data_source),function(){function FloorsListController($scope,$state,NotificationService,UtilsService,sweetAlert,$uibModal){var _this=this;_classCallCheck(this,FloorsListController),this.$scope=$scope,this.$state=$state,this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.asset=this.asset,this.tower=this.tower,this.init(),this.initGrid(),setTimeout(function(){_this.refreshGrid(),100})}return FloorsListController.$inject=["$scope","$state","NotificationService","UtilsService","sweetAlert","$uibModal"],_createClass(FloorsListController,[{key:"createStore",value:function(){var self=this;return self.store=new _array_store2.default({data:self.tower.floors,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.store}},{key:"init",value:function(){var self=this;self.isFloorFormVisible=!1,self.isAddFloorRangeDisabled=!1,self.$scope.Messages=_messages2.default,self.updateDataSources=function(){var dataGrid=$("#gridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.createStore()}),dataGrid.endUpdate(),self.refreshGrid()},self.validateFloor=function(oldValue,newValue){var floors=self.tower.floors;if(!newValue||""==newValue.number&&0!=newValue.number)return!1;if(void 0==newValue.number)return!0;for(var i=0;i<floors.length;i++)if((!oldValue||floors[i].number!==oldValue.number)&&newValue.number==floors[i].number)return!1;return!0},self.checkFloorNumber=function(num){for(var idx=0;idx<self.tower.floors.length;idx++)if(self.tower.floors[idx].number==num)return!1;return!0}}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.createStore(),self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},groupPanel:{visible:!1},filterRow:{visible:!1},editing:{texts:{confirmDeleteMessage:""}},columns:[{dataField:"number",caption:(0,_messages2.default)("assets.floors.number"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:10}],width:150,alignment:"right"},{dataField:"description",caption:(0,_messages2.default)("assets.floors.description"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,validationRules:[{type:"stringLength",max:500}]},{dataField:"order",visible:!1,sortOrder:"asc"},{dataField:"uniqueId",caption:(0,_messages2.default)("actions"),width:100,allowSorting:!1,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").editRow(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.sweetAlert.swal({title:(0,_messages2.default)("assets.floors.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.floors.delete.confirmButton")},function(isConfirm){isConfirm&&self.deleteFloor(options.data)})}}).appendTo(container)},editCellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-floppy-o"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").saveEditData(options.rowIndex),self.updateFloor&&self.updateFloor(options.data)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-times"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").cancelEditData(options.rowIndex)}}).appendTo(container)}}],onRowValidating:function(e){var dataGrid=e.component,rowIndex=dataGrid.getRowIndexByKey(e.key);self.validateFloor(e.oldData,e.newData)||(dataGrid.getCellElement(rowIndex,"number").find("input").css("background","rgba(255, 0, 0, 0.5)"),e.isValid=!1)}}),self.refreshGrid=function(){$("#gridContainer").dxDataGrid("instance").refresh()},self.updateFloor=function(floor){},self.deleteFloor=function(floor){var floorIdx=self.tower.floors.findIndex(function(t){return t.uniqueId==floor.uniqueId});self.tower.floors.splice(floorIdx,1),self.refreshGrid()},self.addFloorRange=function(cnt,autoNumerate){for(var order=self.tower.floors.length>0?Math.max.apply(null,self.tower.floors.map(function(t){return t.order}))+1:1,num=autoNumerate?self.tower.floors.length>0?Math.max.apply(null,self.tower.floors.map(function(t){var num=parseInt(t.number);return isNaN(num)?0:num}))+1:1:self.tower.floors.length+1,idx=0;idx<cnt;idx++,num++,order++){for(;!self.checkFloorNumber(num);)num++;self.tower.floors.push({uniqueId:self.utils.generateGuid(),number:num.toString(),order:order,description:""})}self.createStore(),self.refreshGrid()}}},{key:"addFloorsRange",value:function(){var self=this,modal=this.$uibModal.open({controller:_floorsAddRangeModalController2.default,template:_floorsAddRangeModalTemplate2.default,resolve:{asset:self.asset}});modal.result.then(function(result){self.addFloorRange(result.addRangeFloorCount,result.autoNumerateFloors)})}}]),FloorsListController}());exports.default=FloorsListController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<form name="settingsForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.addFloorsRange()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.floors.addrange\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="gridContainer" class="floors-container gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _space=__webpack_require__(802),_space2=_interopRequireDefault(_space),_spaceTemplate=__webpack_require__(804),_spaceTemplate2=_interopRequireDefault(_spaceTemplate),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),SpaceComponent={bindings:{asset:"=",listMode:"=",space:"=",tower:"="},controller:_space2.default,template:_spaceTemplate2.default,Messages:_messages2.default};exports.default=SpaceComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaces=__webpack_require__(982),_spaces2=_interopRequireDefault(_spaces),_spacesTemplate=__webpack_require__(983),_spacesTemplate2=_interopRequireDefault(_spacesTemplate),SpacesComponent={bindings:{asset:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_spaces2.default,template:_spacesTemplate2.default};exports.default=SpacesComponent},function(module,exports,__webpack_require__){(function($,jQuery){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_custom_store=__webpack_require__(483),_custom_store2=_interopRequireDefault(_custom_store),_data_source=__webpack_require__(803),_space=(_interopRequireDefault(_data_source),__webpack_require__(802)),_space2=_interopRequireDefault(_space),_spaceTemplate=__webpack_require__(804),_spaceTemplate2=_interopRequireDefault(_spaceTemplate),SpacesController=function(){function SpacesController($scope,AssetObject,Floor,Space,NotificationService,UtilsService,sweetAlert,$uibModal,SpaceTypeLookupService){var _this=this;_classCallCheck(this,SpacesController),this.asset=this.asset,this.$scope=$scope,this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.AssetObject=AssetObject,this.Floor=Floor,this.Space=Space,this.SpaceTypeLookupService=SpaceTypeLookupService,this.SpaceTypeLookupService.all().then(function(result){_this.loadData(function(t){_this.availableSpaceTypes=result,_this.init(),_this.initGrid()})})}return SpacesController.$inject=["$scope","AssetObject","Floor","Space","NotificationService","UtilsService","sweetAlert","$uibModal","SpaceTypeLookupService"],_createClass(SpacesController,[{key:"init",value:function(){var self=this;self.$scope.$on("updateAssetObjectDataSource",function(e,data){self.updateDataSources()}),self.$scope.$on("updateFloorDataSource",function(e,data){self.updateDataSources()}),self.updateDataSources=function(){self.loadData(function(t){var dataGrid=$("#spacesGridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.columnOption("floorId","lookup.dataSource",{store:self.floorStore}),dataGrid.columnOption("assetObjectId","lookup.dataSource",{store:self.assetObjectStore}),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.createStore()}),dataGrid.endUpdate(),self.refreshGrid()})}}},{key:"loadData",value:function(afterExecuteCallback){var self=this;self.loadAssetObjects(function(){
self.loadFloors(function(){self.loadSpaces(function(){afterExecuteCallback&&afterExecuteCallback()})})})}},{key:"loadAssetObjects",value:function(afterExecuteCallback){var self=this;self.AssetObject.query({assetId:self.asset.id,includeHiddenObjects:!0},function(result){self.objects=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"loadFloors",value:function(afterExecuteCallback){var self=this;self.Floor.getByAssetId({assetId:self.asset.id},function(result){self.floors=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"loadSpaces",value:function(afterExecuteCallback){var self=this;self.Space.getByAssetId({assetId:self.asset.id},function(result){self.spaces=result,afterExecuteCallback&&afterExecuteCallback()},function(error){})}},{key:"createStore",value:function(){var self=this;return self.store=new _array_store2.default({data:self.spaces,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.store}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.createStore(),self.floorStore=new _custom_store2.default({load:function(loadOptions){return self.floors},byKey:function(key){return{id:key}}}),self.assetObjectStore=new _custom_store2.default({load:function(loadOptions){return self.objects},byKey:function(key){return{id:key}}}),self.gridDataSource=self.store,self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},filterRow:{visible:!1},groupPanel:{visible:!1},columns:[{dataField:"number",caption:(0,_messages2.default)("assets.spaces.number"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",sortOrder:"asc",alignment:"right"},{dataField:"type",caption:(0,_messages2.default)("assets.spaces.type"),lookup:{dataSource:self.availableSpaceTypes,displayExpr:"text",valueExpr:"value"}},{dataField:"rentableArea",dataType:"number",caption:(0,_messages2.default)("assets.spaces.rentableArea"),filterOperations:[">","<","="],selectedFilterOperation:">",alignment:"right"},{dataField:"floorId",caption:(0,_messages2.default)("assets.spaces.floor"),lookup:{dataSource:{store:self.floorStore},displayExpr:"number",valueExpr:"id"},alignment:"right",allowEditing:!1},{dataField:"assetObjectId",caption:(0,_messages2.default)("assets.spaces.assetobject"),width:100,lookup:{dataSource:{store:self.assetObjectStore},displayExpr:"name",valueExpr:"id"},alignment:"right",allowEditing:!1},{dataField:"id",caption:(0,_messages2.default)("actions"),width:100,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){self.updateSpace(options.data)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.deleteSpace(options.data)}}).appendTo(container)}}]})}},{key:"createSpace",value:function(){var _this2=this,self=this,modal=this.$uibModal.open({controller:_space2.default,template:_spaceTemplate2.default,resolve:{asset:this.asset,tower:null,space:null,spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}],assets:function(){return[self.asset]}},size:"lg"});modal.result.then(function(result){_this2.Space.create({assetId:_this2.asset.id},result.space,function(result){_this2.spaces.push(result),_this2.NotificationService.success((0,_messages2.default)("assets.spaces.created")),_this2.saveInProgress=!1,_this2.refreshGrid()},function(error){_this2.NotificationService.error(error.data),_this2.saveInProgress=!1})}),modal.closed.then(function(){}),this.space=null}},{key:"updateSpace",value:function(space){var self=this,modal=self.$uibModal.open({controller:_space2.default,template:_spaceTemplate2.default,resolve:{asset:self.asset,tower:null,space:["Space",function(Space){return Space.getFull({assetId:self.asset.id,id:space.id}).$promise}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],currentUser:["SecurityService",function(SecurityService){return SecurityService.getUserInfo()}],assets:function(){return[self.asset]}},size:"lg"});modal.result.then(function(result){jQuery.extend(space,result.space),self.Space.update({assetId:self.asset.id,id:result.space.id},result.space,function(result){self.NotificationService.success((0,_messages2.default)("assets.spaces.updated")),self.saveInProgress=!1},function(error){self.NotificationService.error(error.data),self.saveInProgress=!1})}),modal.closed.then(function(){})}},{key:"deleteSpace",value:function(space){var self=this;self.sweetAlert.swal({title:(0,_messages2.default)("assets.spaces.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.spaces.delete.confirmButton")},function(isConfirm){isConfirm&&self.Space.delete({assetId:self.asset.id,id:space.id},function(result){var spaceIdx=self.spaces.findIndex(function(t){return t.id==space.id});self.spaces.splice(spaceIdx,1),self.refreshGrid(),self.NotificationService.success((0,_messages2.default)("assets.spaces.deleted")),self.saveInProgress=!1},function(error){self.NotificationService.error(error.data.message?error.data.message:error.data),self.saveInProgress=!1})})}},{key:"refreshGrid",value:function(){$("#spacesGridContainer").dxDataGrid("instance").refresh()}}]),SpacesController}();exports.default=SpacesController}).call(exports,__webpack_require__(178),__webpack_require__(178))},function(module,exports){module.exports='<form name="spacesForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.createSpace()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.spaces.add\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="spacesGridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spacesList=__webpack_require__(985),_spacesList2=_interopRequireDefault(_spacesList),_spacesListTemplate=__webpack_require__(986),_spacesListTemplate2=_interopRequireDefault(_spacesListTemplate),SpacesListComponent={bindings:{asset:"=",tower:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_spacesList2.default,template:_spacesListTemplate2.default};exports.default=SpacesListComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_custom_store=__webpack_require__(483),_custom_store2=_interopRequireDefault(_custom_store),_data_source=__webpack_require__(803),_space2=(_interopRequireDefault(_data_source),__webpack_require__(802)),_spaceTemplate=(_interopRequireDefault(_space2),__webpack_require__(804)),SpacesListController=(_interopRequireDefault(_spaceTemplate),function(){function SpacesListController($scope,NotificationService,UtilsService,sweetAlert,$uibModal,SpaceTypeLookupService){var _this=this;_classCallCheck(this,SpacesListController),this.asset=this.asset,this.tower=this.tower,this.$scope=$scope,this.NotificationService=NotificationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.SpaceTypeLookupService=SpaceTypeLookupService,this.SpaceTypeLookupService.all().then(function(result){_this.availableSpaceTypes=result,_this.init(),_this.initGrid()})}return SpacesListController.$inject=["$scope","NotificationService","UtilsService","sweetAlert","$uibModal","SpaceTypeLookupService"],_createClass(SpacesListController,[{key:"init",value:function(){}},{key:"createStore",value:function(){var _this2=this,self=this;return self.store=new _array_store2.default({data:self.tower.spaces,key:"uniqueId",errorHandler:self.errorHandler.requestFailed}),self.$scope.$watchCollection(function(){return self.tower.floors},function(newValue,oldValue){if(newValue!=oldValue){var spacesToDelete=[];self.tower.spaces.forEach(function(space){null==self.tower.floors.find(function(floor){return floor.uniqueId==space.floorUniqueId})&&spacesToDelete.push(space)},_this2);for(var _loop=function(){var space=spacesToDelete.pop(),idx=self.tower.spaces.findIndex(function(t){return t.uniqueId==space.uniqueId});self.tower.spaces.splice(idx,1)};spacesToDelete.length>0;)_loop();self.tower.floors.forEach(function(floor){self.$scope.$watch(function(){return floor.number},function(newValue,oldValue){newValue!=oldValue&&self.floorStore.load().done(function(){self.refreshGrid()})})}),self.createStore(),self.refreshGrid()}},!0),self.store}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.NotificationService.error(response.data)}},self.floorStore=new _custom_store2.default({load:function(loadOptions){return self.tower.floors},byKey:function(key){return{id:key}}}),self.createStore(),self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:{store:self.store},filterRow:{visible:!1},groupPanel:{visible:!1},editing:{texts:{confirmDeleteMessage:""},mode:"row"},columns:[{dataField:"number",caption:(0,_messages2.default)("assets.spaces.number"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",sortOrder:"asc",alignment:"right",validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:20}]},{dataField:"type",caption:(0,_messages2.default)("assets.spaces.type"),width:150,lookup:{dataSource:self.availableSpaceTypes,displayExpr:"text",valueExpr:"value"},validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}]},{dataField:"floorUniqueId",caption:(0,_messages2.default)("assets.spaces.floor"),alignment:"right",lookup:{dataSource:{store:self.floorStore},displayExpr:"number",valueExpr:"uniqueId"},validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}]},{dataField:"rentableArea",dataType:"number",caption:(0,_messages2.default)("assets.spaces.rentableArea"),filterOperations:[">","<","="],selectedFilterOperation:">",alignment:"right",validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"range",min:.1}],format:{type:"fixedPoint",precision:1}},{dataField:"minAskingPrice",dataType:"number",caption:(0,_messages2.default)("assets.spaces.placeholder.minAskingPrice"),filterOperations:[">","<","="],selectedFilterOperation:">",alignment:"right",width:80,validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"range",min:.1}],format:{type:"fixedPoint",precision:1}},{dataField:"maxAskingPrice",dataType:"number",caption:(0,_messages2.default)("assets.spaces.placeholder.maxAskingPrice"),filterOperations:[">","<","="],selectedFilterOperation:">",alignment:"right",width:80,validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"range",min:.1}],format:{type:"fixedPoint",precision:1}},{dataField:"initialVacantSince",dataType:"date",caption:(0,_messages2.default)("assets.spaces.vacant_since"),alignment:"right"},{dataField:"availabilityDate",dataType:"date",caption:(0,_messages2.default)("assets.spaces.availability.available"),alignment:"right"},{dataField:"uniqueId",caption:(0,_messages2.default)("actions"),width:100,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){$("#spacesGridContainer").dxDataGrid("instance").editRow(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){}}).appendTo(container)},editCellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-floppy-o"></div>',onClick:function(e){$("#spacesGridContainer").dxDataGrid("instance").saveEditData(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-times"></div>',onClick:function(e){$("#spacesGridContainer").dxDataGrid("instance").cancelEditData(options.rowIndex)}}).appendTo(container)}}],onEditorPreparing:function(e){"dataRow"!==e.parentType||"rentableArea"!==e.dataField&&"minAskingPrice"!==e.dataField&&"maxAskingPrice"!==e.dataField||(e.editorElement.dxNumberBox({min:0,showSpinButtons:!0,value:e.value,onValueChanged:function(ea){e.setValue(ea.value)}}),e.cancel=!0),"dataRow"===e.parentType&&"floorUniqueId"===e.dataField&&(e.editorElement.dxSelectBox({dataSource:self.tower.floors,displayExpr:"number",valueExpr:"uniqueId",value:e.value,onValueChanged:function(ea){e.setValue(ea.value)}}),e.cancel=!0)},onRowValidating:function(e){var dataGrid=e.component,rowIndex=dataGrid.getRowIndexByKey(e.key);e.newData.maxAskingPrice<=e.newData.minAskingPrice&&(dataGrid.getCellElement(rowIndex,"maxAskingPrice").find("input").css("background","rgba(255, 0, 0, 0.5)"),e.isValid=!1)},onRowInserting:function(e){e.data.uniqueId=self.utils.generateGuid(),e.data.availabilityDate&&(e.data.isAvailable=null!=e.data.availabilityDate)},onRowUpdating:function(e){if(e.newData.availabilityDate){var _space=self.tower.spaces.find(function(s){return s.uniqueId==e.key});_space.isAvailable=null!=e.newData.availabilityDate}}})}},{key:"createSpace",value:function(){$("#spacesGridContainer").dxDataGrid("instance").addRow()}},{key:"refreshGrid",value:function(){$("#spacesGridContainer").dxDataGrid("instance").refresh()}}]),SpacesListController}());exports.default=SpacesListController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<form name="spacesForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.createSpace()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.spaces.add\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="spacesGridContainer" class="units-container gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AssetDocumentsComponent={bindings:{documents:"=",asset:"=",maxAttachementSize:"=?",maxAttachementCount:"=?",readonly:"=?",documentCreateCallback:"=?",saveUpdates:"=?"},controller:function(){var self=this;self.maxAttachementCount=10,self.maxAttachementSize=5e6,self.documentCreateCallback=function(document){document.assetId=self.asset.id,self.saveUpdates()},self.documentDeleteCallback=function(document){self.saveUpdates()}},template:"<attachements documents='$ctrl.documents'                         readonly='$ctrl.readonly'                         max-attachement-count='$ctrl.maxAttachementCount'                         max-attachement-size='$ctrl.maxAttachementSize'                         document-create-callback='$ctrl.documentCreateCallback'                         document-delete-callback='$ctrl.documentDeleteCallback'                         class='asset-documents'></attachements>"};exports.default=AssetDocumentsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _object=__webpack_require__(989),_object2=_interopRequireDefault(_object),_objectTemplate=__webpack_require__(992),_objectTemplate2=_interopRequireDefault(_objectTemplate),AssetObjectComponent={bindings:{asset:"=",saveUpdates:"=?",needUpdateDataSources:"&"},controller:_object2.default,template:_objectTemplate2.default};exports.default=AssetObjectComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_messages=(_interopRequireDefault(_validation_engine),__webpack_require__(721)),_messages2=_interopRequireDefault(_messages),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_assetObjectEditModal=__webpack_require__(990),_assetObjectEditModal2=_interopRequireDefault(_assetObjectEditModal),_assetObjectEditModalTemplate=__webpack_require__(991),_assetObjectEditModalTemplate2=_interopRequireDefault(_assetObjectEditModalTemplate),AssetObjectController=function(){function AssetObjectController($scope,$state,AssetObject,NotificationService,UtilsService,LocationService,sweetAlert,$uibModal){_classCallCheck(this,AssetObjectController),this.$scope=$scope,this.$state=$state,this.AssetObject=AssetObject,this.NotificationService=NotificationService,this.locationService=LocationService,this.utils=UtilsService,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.messages=_messages2.default,this.init()}return AssetObjectController.$inject=["$scope","$state","AssetObject","NotificationService","UtilsService","LocationService","sweetAlert","$uibModal"],_createClass(AssetObjectController,[{key:"init",value:function(){var self=this;self.AssetObject.query({assetId:self.asset.id,includeHiddenObjects:!0},function(result){self.objects=result;for(var i=0;i<self.objects.length;i++)self.objects[i].uniqueId||(self.objects[i].uniqueId=self.utils.generateGuid()),self.objects[i].address=self.locationService.getAddress(self.objects[i].location);self.initGrid()},function(error){})}},{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.store=new _array_store2.default({data:self.objects,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,groupPanel:{visible:!1},filterRow:{visible:!1},columns:[{dataField:"name",caption:(0,_messages2.default)("assets.objects.name"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,width:150,alignment:"right"},{dataField:"address",caption:(0,_messages2.default)("assets.objects.address"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1},{dataField:"isDisplayOnStackingPlan",caption:(0,_messages2.default)("assets.objects.isDisplayOnStackingPlan"),filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",allowSorting:!1,dataType:"boolean"},{dataField:"id",visible:!1},{dataField:"uniqueId",caption:(0,_messages2.default)("actions"),width:100,allowSorting:!1,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){self.editAssetObject(options.data.id)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){self.sweetAlert.swal({title:(0,_messages2.default)("assets.objects.delete.title"),type:"warning",showCancelButton:!0,cancelButtonText:(0,_messages2.default)("assets.cancel"),confirmButtonColor:"#DD6B55",confirmButtonText:(0,_messages2.default)("assets.objects.delete.confirmButton")},function(isConfirm){isConfirm&&self.deleteAssetObject(options.data)})}}).appendTo(container)}}]}),self.refreshGrid=function(){$("#objectsGridContainer").dxDataGrid("instance").refresh()},self.deleteAssetObject=function(assetObject){self.AssetObject.archive({assetId:self.asset.id,id:assetObject.id},function(result){var assetObjectIdx=self.objects.findIndex(function(t){return t.id==assetObject.id});self.objects.splice(assetObjectIdx,1),self.NotificationService.success((0,_messages2.default)("assets.objects.message.deleted")),self.saveInProgress=!1,self.needUpdateDataSources(),self.refreshData()},function(error){console.log(error),self.NotificationService.error(error.data),self.saveInProgress=!1})}}},{key:"addAssetObject",value:function(){var self=this,modal=this.$uibModal.open({controller:_assetObjectEditModal2.default,template:_assetObjectEditModalTemplate2.default,resolve:{towerObject:null,assetId:self.asset.id}});modal.result.then(function(result){self.needUpdateDataSources(),self.refreshData()})}},{key:"editAssetObject",value:function(objectId){var _this=this,self=this;this.AssetObject.getById({id:objectId,assetId:self.asset.id},function(result){var modal=_this.$uibModal.open({controller:_assetObjectEditModal2.default,template:_assetObjectEditModalTemplate2.default,resolve:{towerObject:result,assetId:self.asset.id}});modal.result.then(function(result){self.needUpdateDataSources(),self.refreshData()})},function(error){_this.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"refreshData",value:function(){var self=this;self.AssetObject.query({assetId:self.asset.id,includeHiddenObjects:!0},function(result){self.objects=result;for(var i=0;i<self.objects.length;i++)self.objects[i].uniqueId||(self.objects[i].uniqueId=self.utils.generateGuid()),self.objects[i].address=self.locationService.getAddress(self.objects[i].location);self.store=new _array_store2.default({data:self.objects,key:"uniqueId",modified:function(){},errorHandler:self.errorHandler.requestFailed});var dataGrid=$("#objectsGridContainer").dxDataGrid("instance");dataGrid.beginUpdate(),dataGrid.option("dataSource",[]),dataGrid.option("dataSource",{store:self.store}),dataGrid.endUpdate(),self.refreshGrid()},function(error){})}}]),AssetObjectController}();exports.default=AssetObjectController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),AssetObjectEditController=function(){function AssetObjectEditController($scope,$state,$timeout,$filter,AssetObject,towerObject,assetId,NotificationService,LocationService,$uibModalInstance,UtilsService){_classCallCheck(this,AssetObjectEditController),this.$scope=$scope,this.$state=$state,this.$timeout=$timeout,this.$filter=$filter,this.AssetObject=AssetObject,this.towerObject=towerObject,this.notificationService=NotificationService,this.locationService=LocationService,this.$uibModalInstance=$uibModalInstance,this.utils=UtilsService,this.validationGroup="asset-object-edit",this.addressValidationGroup="asset-object-edit-address",this.assetId=assetId,this.init(),this.initForm()}return AssetObjectEditController.$inject=["$scope","$state","$timeout","$filter","AssetObject","towerObject","assetId","NotificationService","LocationService","$uibModalInstance","UtilsService"],_createClass(AssetObjectEditController,[{key:"init",value:function(){var _this=this,self=this;this.$timeout(function(){_this.initAutocomplete()}),this.$scope.clearAddress=function(){self.$scope.tower.address=null},this.$scope.resetAddressData=function(){var location=self.locationService.getEmptyLocation();location.countryId=self.locationService.countryId,$.extend(self.$scope.tower.location,location),self.$scope.clearAddress()}}},{key:"initForm",value:function(){var _this2=this,self=this;this.$scope.editMode=null!==this.towerObject,this.isSaveOperationDisable=!0,this.$scope.editMode?this.$scope.tower=this.towerObject:this.$scope.tower={name:"",location:this.locationService.getEmptyLocation(),isDisplayOnStackingPlan:!1,address:""},this.$scope.tower.address=this.locationService.getGoogleAddress(this.$scope.tower.location),this.$scope.nameSettings={placeholder:(0,_messages2.default)("assets.objects.placeholder.name"),bindingOptions:{value:"tower.name"}},this.$scope.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},this.$scope.displaySettings={bindingOptions:{value:"tower.isDisplayOnStackingPlan"}},this.$scope.displayValidationRules={validationRules:[],validationGroup:this.validationGroup},this.countryStore=_constants2.default.countryStore(),this.$scope.countrySettings={dataSource:this.countryStore,displayExpr:"display",valueExpr:"value",bindingOptions:{value:"tower.location.countryId"},onValueChanged:function(){self.$timeout(function(){self.$scope.resetAddressData(),self.initAutocomplete(),self.setAutocompleteCountry()})}},this.$scope.countryValidationRules={validationRules:[],validationGroup:this.validationGroup,onOptionChanged:function(){self.setAutocompleteCountry()}},this.$scope.addressSettings={bindingOptions:{value:"tower.address",disabled:"!tower.location.countryId"}},this.$scope.addressValidationRules={validationRules:[{type:"custom",validationCallback:function(options){return!!self.$scope.tower.location.countryId||(options.rule.message=(0,_messages2.default)("address.validation.countryRequired"),!1)}}],validationGroup:this.addressValidationGroup},this.$scope.citySettings={placeholder:(0,_messages2.default)("address.placeholder.city"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.location.city"}},this.$scope.cityValidationRules={validationRules:[{type:"stringLength",max:80}],validationGroup:this.validationGroup},this.$scope.streetSettings={placeholder:(0,_messages2.default)("address.placeholder.street"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.location.street"}},this.$scope.streetValidationRules={validationRules:[{type:"stringLength",max:100}],validationGroup:this.validationGroup},this.$scope.streetAddressSettings={placeholder:(0,_messages2.default)("address.placeholder.streetAddress"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.location.streetAddress"}},this.$scope.streetAddressValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.postCodeSettings={placeholder:(0,_messages2.default)("address.placeholder.postCode"),onChange:self.$scope.clearAddress,bindingOptions:{value:"tower.location.postCode"}},this.$scope.postCodeValidationRules={validationRules:[{type:"stringLength",max:10}],validationGroup:this.validationGroup},this.$scope.validateAndSave=function(){var self=_this2,result=_validation_engine2.default.getGroupConfig(_this2.validationGroup).validate();result.isValid&&(_this2.saveInProgress=!0,_this2.isSaveOperationDisable=!0,_this2.$scope.editMode?_this2.AssetObject.update({id:_this2.$scope.tower.id,assetId:self.assetId},_this2.$scope.tower,function(result){_this2.notificationService.success((0,_messages2.default)("assets.objects.message.updated")),_this2.saveInProgress=!1,_this2.$uibModalInstance.close(_this2.$scope.tower)},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1}):_this2.AssetObject.save({assetId:self.assetId},_this2.$scope.tower,function(result){_this2.saveInProgress=!1,_this2.$uibModalInstance.close(_this2.$scope.tower),_this2.notificationService.success((0,_messages2.default)("assets.objects.message.created"))},function(error){_this2.notificationService.error(error.data.message?error.data.message:error.data),_this2.saveInProgress=!1}))},this.$scope.cancel=function(){_validation_engine2.default.removeGroup(_this2.validationGroup),_this2.$uibModalInstance.dismiss("cancel")}}},{key:"initAutocomplete",value:function(){var _this3=this;window.google&&(this.autocomplete=new google.maps.places.Autocomplete($("#tower-address-field input")[0]),google.maps.event.addListener(this.autocomplete,"place_changed",function(){var place=_this3.autocomplete.getPlace(),citySet=void 0,streetSet=void 0,buildingSet=void 0,postCodeSet=void 0;place.address_components instanceof Array&&place.address_components.forEach(function(item){item.types.indexOf("locality")!==-1&&(_this3.$scope.tower.location.city=item.long_name,citySet=!0),item.types.indexOf("route")!==-1&&(_this3.$scope.tower.location.street=item.long_name,streetSet=!0),item.types.indexOf("street_number")!==-1&&(_this3.$scope.tower.location.streetAddress=item.long_name,buildingSet=!0),item.types.indexOf("postal_code")!==-1&&(_this3.$scope.tower.location.postCode=item.long_name,postCodeSet=!0)}),citySet||(_this3.$scope.tower.location.city=null),streetSet||(_this3.$scope.tower.location.street=null),buildingSet||(_this3.$scope.tower.location.streetAddress=null),postCodeSet||(_this3.$scope.tower.location.postCode=null),_validation_engine2.default.getGroupConfig(_this3.addressValidationGroup).validate()}),this.$scope.tower.location.countryId&&this.setAutocompleteCountry())}},{key:"setAutocompleteCountry",value:function(){var _this4=this,countries=_constants2.default.countryStorePlain(),curCountryCode=void 0;countries.forEach(function(country){country.value===_this4.$scope.tower.location.countryId&&(curCountryCode=country.isoCode);
}),this.autocomplete.setComponentRestrictions({country:curCountryCode})}}]),AssetObjectEditController}();exports.default=AssetObjectEditController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ editMode ? Messages(\'assets.objects.edit.title\') : Messages(\'assets.objects.create.title\') }}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        <form role="form">\r\n            <div class="form-group">\r\n                <label for="field-name" class="control-label">{{Messages(\'assets.objects.create.name\')}}</label>\r\n                <div id="field-name" dx-text-box="nameSettings" dx-validator="nameValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-display" class="control-label">{{Messages(\'assets.objects.create.isDisplayOnStackingPlan\')}}</label>\r\n                <div id="field-display" dx-check-box="displaySettings" dx-validator="displayValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="field-country" class="control-label">{{Messages(\'address.country\')}}</label>\r\n                <div id="field-country" dx-select-box="countrySettings" dx-validator="countryValidationRules"></div>\r\n            </div>\r\n            <div class="form-group">\r\n                <label for="tower-address-field" class="control-label">{{ Messages(\'address.autoComplete\') }}</label>\r\n                <div id="tower-address-field" dx-text-box="addressSettings" dx-validator="addressValidationRules"></div>\r\n            </div>\r\n            <label class="control-label">{{ Messages(\'address.manually\') }}</label>\r\n            <div class="panel panel-default">\r\n                <div class="panel-body">\r\n                    <div class="form-group">\r\n                        <label for="field-city" class="control-label">{{Messages(\'address.city\')}}</label>\r\n                        <div id="field-city" dx-text-box="citySettings" dx-validator="cityValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street" class="control-label">{{Messages(\'address.street\')}}</label>\r\n                        <div id="field-street" dx-text-box="streetSettings" dx-validator="streetValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-street-address" class="control-label">{{Messages(\'address.streetAddress\')}}</label>\r\n                        <div id="field-street-address" dx-text-box="streetAddressSettings" dx-validator="streetAddressValidationRules"></div>\r\n                    </div>\r\n                    <div class="form-group">\r\n                        <label for="field-post-code" class="control-label">{{Messages(\'address.postCode\')}}</label>\r\n                        <div id="field-post-code" dx-text-box="postCodeSettings" dx-validator="postCodeValidationRules"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="validateAndSave()">\r\n            {{ saveInProgress ? Messages(\'assets.objects.saving\') : Messages(\'assets.objects.save\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{ Messages(\'assets.objects.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports){module.exports='<form name="assetObjectsForm">\r\n    <div class="m-b-sm pull-right">\r\n        <a href="#" class="add-entity-btn" ng-click="$ctrl.addAssetObject()">\r\n            <i class="fa fa-plus"></i>\r\n            <span>{{$ctrl.messages(\'assets.objects.add\')}}</span>\r\n        </a>\r\n    </div>\r\n    <div dx-data-grid="$ctrl.gridSettings" id="objectsGridContainer" class="gridContainer gridContainer-sm clear"></div>\r\n</form>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assetsStatistic=__webpack_require__(994),_assetsStatistic2=_interopRequireDefault(_assetsStatistic),_assetsStatisticTemplate=__webpack_require__(995),_assetsStatisticTemplate2=_interopRequireDefault(_assetsStatisticTemplate),AssetsStatisticsComponent={bindings:{states:"=",assetId:"=?"},controller:_assetsStatistic2.default,template:_assetsStatisticTemplate2.default};exports.default=AssetsStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),AssetsStatisticsController=(_interopRequireDefault(_events),function(){function AssetsStatisticsController($scope,$state,Asset,UtilsService,NotificationService){_classCallCheck(this,AssetsStatisticsController),this.$scope=$scope,this.$state=$state,this.Asset=Asset,this.Utils=UtilsService,this.notificationService=NotificationService,this.assetId=this.assetId,this.$scope.statistics=null,this.$scope.Messages=_messages2.default,this.init()}return AssetsStatisticsController.$inject=["$scope","$state","Asset","UtilsService","NotificationService"],_createClass(AssetsStatisticsController,[{key:"init",value:function(){var self=this;self.Asset.getStatistics({assetId:self.assetId?self.assetId:null},function(result){self.$scope.statistics=result},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)}),"asset-stats"===this.$state.current.name?this.showAssetsPanel=!0:this.showAssetsPanel=!1}}]),AssetsStatisticsController}());exports.default=AssetsStatisticsController},function(module,exports){module.exports='<div ng-class="$ctrl.showAssetsPanel ? \'stat-box\' : \'asset-info-panel\'" class="clearfix">\r\n     <div class="asset-info-block main-stat" ng-if="$ctrl.assetId == null">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.assetscount\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{statistics.count}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.totalarea\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.totalRentableArea)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}" ng-show="!$ctrl.showAssetsPanel">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.vacancy\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.vacancy)}}</span>  \r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n            <span class="asset-info-percentage">[{{statistics.vacancyPercent.toFixed(1)}} %]</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.availability\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.availability)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n            <span class="asset-info-percentage">[{{statistics.availabilityPercent.toFixed(1)}} %]</span>\r\n        </div>\r\n    </div>\r\n   <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}" ng-show="!$ctrl.showAssetsPanel">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.occupancy\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue(statistics.occupancy)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n            <span class="asset-info-percentage">[{{statistics.occupancyPercent.toFixed(1)}} %]</span>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Asset=function(){function Asset(ConfigurationService,$resource){return _classCallCheck(this,Asset),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets",isArray:!0},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/full"},setImage:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/image",transformRequest:angular.identity,headers:{"Content-Type":void 0}},resetImage:{method:"DELETE",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/image"},create:{url:ConfigurationService.getApiBaseUrl()+"api/assets",method:"POST",transformRequest:function(data){var formData=new FormData;return formData.append("model",angular.toJson(data.model)),formData.append("data",data.file,data.fileName),formData},headers:{"Content-Type":void 0}},update:{method:"PUT"},archive:{method:"DELETE"},checkRequirementsToArchive:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/requirements/archive"},checkRequirementsToChangeBroker:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:id/requirements/brokerchanging"},getStatistics:{method:"GET",params:{assetId:"@assetId"},url:ConfigurationService.getApiBaseUrl()+"api/assets/statistics"},getMarkets:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/markets",isArray:!0},getCities:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/cities",isArray:!0},filtered:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/filtered",isArray:!0}})}return Asset.$inject=["ConfigurationService","$resource"],_createClass(Asset,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Asset.instance=new Asset(ConfigurationService,$resource),Asset.instance}]}]),Asset}();exports.default=Asset},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetObject=function(){function AssetObject(ConfigurationService,$resource){return _classCallCheck(this,AssetObject),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:id",{assetId:"@assetId",id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects",isArray:!0},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects"},update:{method:"PUT"},archive:{method:"DELETE"},getById:{method:"GET"},getAllObjects:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/objects",isArray:!0}})}return AssetObject.$inject=["ConfigurationService","$resource"],_createClass(AssetObject,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetObject.instance=new AssetObject(ConfigurationService,$resource),AssetObject.instance}]}]),AssetObject}();exports.default=AssetObject},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Floor=function(){function Floor(ConfigurationService,$resource){return _classCallCheck(this,Floor),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:id",{assetId:"@assetId",assetObjectId:"@assetObjectId",id:"@id",count:"@count",autonumerate:"@autonumerate"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors",isArray:!0},createRange:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors?count=:count&autonumerate=:autonumerate",isArray:!0},update:{method:"PUT"},delete:{method:"DELETE"},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:id/full"},getByAssetId:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/floors",isArray:!0}})}return Floor.$inject=["ConfigurationService","$resource"],_createClass(Floor,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Floor.instance=new Floor(ConfigurationService,$resource),Floor.instance}]}]),Floor}();exports.default=Floor},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Space=function(){function Space(ConfigurationService,$resource){return _classCallCheck(this,Space),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id",{assetId:"@assetId",id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/floors/:floorId/spaces",isArray:!0},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces"},update:{method:"PUT"},delete:{method:"DELETE"},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id/full"},getByAssetId:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces",isArray:!0},getByAssetObjectId:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/spaces",isArray:!0},getAvailableByDate:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/objects/:assetObjectId/spaces/available",isArray:!0},archive:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id/archive"},restore:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id/restore"},checkRequirementsToArchive:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id/requirements/archive"}})}return Space.$inject=["ConfigurationService","$resource"],_createClass(Space,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Space.instance=new Space(ConfigurationService,$resource),Space.instance}]}]),Space}();exports.default=Space},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _assetStats=__webpack_require__(1003),_assetStats2=_interopRequireDefault(_assetStats),_assetStatSpaces=__webpack_require__(1006),_assetStatSpaces2=_interopRequireDefault(_assetStatSpaces),_assetStatTenants=__webpack_require__(1009),_assetStatTenants2=_interopRequireDefault(_assetStatTenants),_assetStatDeals=__webpack_require__(1012),_assetStatDeals2=_interopRequireDefault(_assetStatDeals),_assetStatStackingPlan=__webpack_require__(1013),_assetStatStackingPlan2=_interopRequireDefault(_assetStatStackingPlan),_assetStatStackingPlan3=__webpack_require__(1014),_assetStatStackingPlan4=_interopRequireDefault(_assetStatStackingPlan3),_assetStats3=__webpack_require__(1015),_assetStats4=_interopRequireDefault(_assetStats3),_assetStatSpaces3=__webpack_require__(1016),_assetStatSpaces4=_interopRequireDefault(_assetStatSpaces3),_assetStatTenants3=__webpack_require__(1017),_assetStatTenants4=_interopRequireDefault(_assetStatTenants3),_module=angular.module("tower360.assetStats",[]).controller("AssetStatsController",_assetStats2.default).controller("AssetStatSpacesController",_assetStatSpaces2.default).controller("AssetStatTenantsController",_assetStatTenants2.default).controller("AssetStatDealsController",_assetStatDeals2.default).controller("AssetStatStackingPlanController",_assetStatStackingPlan4.default).factory("AssetStats",_assetStats4.default.activate).factory("AssetStatSpaces",_assetStatSpaces4.default.activate).factory("AssetStatTenants",_assetStatTenants4.default.activate).factory("AssetStatStackingPlan",_assetStatStackingPlan2.default.activate).directive("resize",["$window",function($window){return function(scope,element){var w=angular.element($window),changeHeight=function(){element.css("height",element.width())};w.bind("resize",function(){changeHeight()}),changeHeight()}}]);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_assetsFilterModal=__webpack_require__(1004),_assetsFilterModalTemplate=(_interopRequireDefault(_assetsFilterModal),__webpack_require__(1005)),enterKey=(_interopRequireDefault(_assetsFilterModalTemplate),13),AssetStatsController=function(){function AssetStatsController($scope,$rootScope,$state,$uibModal,StoreAdapter,AssetStats,Space,NotificationService,UtilsService){var _this=this;_classCallCheck(this,AssetStatsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.$uibModal=$uibModal,this.storeAdapter=StoreAdapter,this.notificationService=NotificationService,this.utils=UtilsService,this.Messages=_messages2.default,this.Constants=_constants2.default,this.assetStats=AssetStats,this.$scope.dataLoading=!1,this.page=0,this.pageSize=12,this.init(),$rootScope.$on(_events2.default.AssetsExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.search()}),this.initScrollbar()}return AssetStatsController.$inject=["$scope","$rootScope","$state","$uibModal","StoreAdapter","AssetStats","Space","NotificationService","UtilsService"],_createClass(AssetStatsController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){var self=this;this.$scope.openStackingPlan=function(item){self.$state.go("asset-stats-stacking-plan",{id:item.id})},this.tableFilter=null,this.$scope.extraFilters=[],this.$scope.sortType=_constants2.default.assetSortOptions.asset,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.loadInit()}},{key:"loadInit",value:function(onlyListUpdate){var _this2=this,self=this;self.$scope.dataLoading=!0;var assetIds=[],cities=[],markets=[];self.$scope.extraFilters.forEach(function(item){0===item.id.indexOf("city_")&&cities.push(item.value.name),0===item.id.indexOf("market_")&&markets.push(item.value),0===item.id.indexOf("asset_")&&assetIds.push(item.value)}),self.loadGlobalStats(assetIds,cities,markets),onlyListUpdate||(self.$scope.sortType=_constants2.default.assetSortOptions.asset,self.$scope.sortDirection=_constants2.default.sortDirection.asc),this.assetStats.search({assetFilter:self.tableFilter,markets:markets,cities:cities,srt:self.$scope.sortType,ord:self.$scope.sortDirection,assets:assetIds},function(result){if(self.$scope.dataLoading=!1,onlyListUpdate)_this2.assetsList=result.items;else{var assets=[],rowIndex=0;result.items.forEach(function(item,i){i%4===0&&0!==i&&rowIndex++,assets[rowIndex]||(assets[rowIndex]=[]),item.color=_this2.getPanelColor(),assets[rowIndex].push(item)}),_this2.assets=assets,_this2.assetsList=result.items,_this2.assetsLength=result.items.length,_this2.totalRowsCount=result.items.length}_this2.hasMore=_this2.calcHasMore()},function(error){self.$scope.dataLoading=!1,_this2.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"loadMore",value:function(){this.page++,this.hasMore=this.calcHasMore()}},{key:"calcHasMore",value:function(){return(this.page+1)*this.pageSize<=this.totalRowsCount}},{key:"isVisible",value:function(rowIndex){return 4*(rowIndex+1)<=(this.page+1)*this.pageSize}},{key:"imageLoad",value:function(){this.loadedImagesCount++,this.loadedImagesCount===this.assetsLength&&(this.loadedImages[this.page]=!0,this.isMore=this.assetsLength<this.totalRowsCount,this.$scope.$apply())}},{key:"isShow",value:function(index){return this.loadedImages[Math.floor(index/this.pageSize)]}},{key:"getPanelColor",value:function(){var panelColors=["hgreen","hblue","hyellow","hviolet","horange","hred","hreddeep","hnavyblue"];return panelColors[Math.floor(Math.random()*panelColors.length)]}},{key:"formatAreaValue",value:function(val){return this.utils.formatBadgeValue(val)}},{key:"resetFilter",value:function(){this.tableFilter=null,this.search()}},{key:"search",value:function(){this.assets=[],this.page=_constants2.default.defaultPageNumber,this.loadInit()}},{key:"onSearchPress",value:function(e){var key=e.which;key==enterKey&&this.search()}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});itemIndex>=0&&this.$scope.extraFilters.splice(itemIndex,1),this.search(),this.$rootScope.$emit(_events2.default.AssetsExtraFilterItemRemoved,{item:item})}},{key:"loadGlobalStats",value:function(assetIds,cities,marketIds){var _this3=this,self=this;self.assetStats.getGlobalStats({assetIds:assetIds,cities:cities,marketIds:marketIds},function(result){self.globalStats=result},function(error){console.log(error),_this3.$scope.error=error})}},{key:"getPercents",value:function(value,totalValue){return value&&totalValue&&0!==totalValue?(100*value/totalValue).toFixed(0):0}},{key:"sortList",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.loadInit(!0)}}]),AssetStatsController}();exports.default=AssetStatsController},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_constants=(_interopRequireDefault(_messages),__webpack_require__(720)),_moment=(_interopRequireDefault(_constants),__webpack_require__(212)),DealsFilterController=(_interopRequireDefault(_moment),function(){function DealsFilterController($scope,markets,$state,$uibModalInstance,Market){_classCallCheck(this,DealsFilterController),this.$scope=$scope,this.$state=$state,this.$uibModalInstance=$uibModalInstance,this.Market=Market,this.$scope.markets={available:[],selected:[]},$.extend(this.$scope.markets.selected,markets.selected),this.maxResults=100,this.init()}return DealsFilterController.$inject=["$scope","markets","$state","$uibModalInstance","Market"],_createClass(DealsFilterController,[{key:"init",value:function(){var _this=this,self=this;this.$scope.refreshMarkets=function(name){return self.Market.search({name:name,maxResults:self.maxResults},function(result){self.$scope.markets.available=result})},this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.save=function(){_this.$uibModalInstance.close({markets:_this.$scope.markets.selected})}}}]),DealsFilterController}());exports.default=DealsFilterController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<form role="form" class="form-horizontal">\r\n    <div class="inmodal hmodal-info">\r\n        <div class="color-line"></div>\r\n        <div class="modal-body">\r\n            <p>{{Messages(\'deals.markets\')}}</p>\r\n            <ui-select multiple ng-model="markets.selected" close-on-select="false" theme="bootstrap" required ng-class="{ \'has-error\' : form.markets.$invalid && (submitted || form.markets.$touched)}"\r\n                name="markets">\r\n                <ui-select-match class="text-muted" placeholder="{{Messages(\'deals.markets.placeholder\')}}">\r\n                    {{$item.name}}\r\n                </ui-select-match>\r\n                <ui-select-choices repeat="market in markets.available track by $index" refresh="refreshMarkets($select.search)" refresh-delay="0" >\r\n                    {{market.name}}\r\n                </ui-select-choices>\r\n            </ui-select>\r\n            <label ng-if="form.markets.$invalid && (submitted || form.markets.$touched)" class="error" for="markets">{{Messages(\'validation.required\')}}</label>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-primary" ng-click="save()">\r\n                {{Messages(\'deals.filter.apply\')}}\r\n            </button>\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{Messages(\'deals.filter.cancel\')}}\r\n            </button>\r\n        \r\n        </div>\r\n    </div>\r\n</form>'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_spacesFilterModal=__webpack_require__(1007),_spacesFilterModalTemplate=(_interopRequireDefault(_spacesFilterModal),__webpack_require__(1008)),_constants=(_interopRequireDefault(_spacesFilterModalTemplate),__webpack_require__(720)),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_events=(_interopRequireDefault(_moment),__webpack_require__(791)),_events2=_interopRequireDefault(_events),AssetStatSpacesController=function(){function AssetStatSpacesController($scope,$rootScope,$state,asset,assetId,AssetStatSpaces,AssetObject,$uibModal,uibDateParser,$timeout,UtilsService,IndustryLookupService,availableSpaceTypes,SpaceTypeLookupService,Space,NotificationService,ExportDataService,Settings){var _this=this;_classCallCheck(this,AssetStatSpacesController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.asset=asset,this.assetId=assetId,this.AssetStatSpaces=AssetStatSpaces,this.AssetObject=AssetObject,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.utils=UtilsService,this.IndustryLookupService=IndustryLookupService,this.availableSpaceTypes=availableSpaceTypes,this.SpaceTypeLookupService=SpaceTypeLookupService,
this.Space=Space,this.NotificationService=NotificationService,this.Settings=Settings,this.Messages=_messages2.default,this.const=_constants2.default,this.ExportDataService=ExportDataService,this.init(),$scope.$on("$destroy",function(){$rootScope.$broadcast(_events2.default.RightSideBarClose)}),$scope.$on(_events2.default.RightSideBarClosed,function(){_this.selectSpaceRow([]),_this.selectedSpace=null}),$rootScope.$on(_events2.default.SpaceBasicDataChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id===data.id){self.$scope.greedData[i].minAskingPrice=data.minAskingPrice,self.$scope.greedData[i].maxAskingPrice=data.maxAskingPrice,self.$scope.greedData[i].type=data.type,self.$scope.greedData[i].rentableArea=data.rentableArea,self.$scope.greedData[i].isAvailable=data.isAvailable,self.$scope.greedData[i].availabilityDate=data.availabilityDate,self.$scope.greedData[i].isImmediateAvailable=data.isImmediateAvailable,self.$scope.greedData[i].daysVacant=data.daysVacant;break}self.$rootScope.$broadcast(_events2.default.SpaceStatsReload,{criteria:self.getSearchCriteria()})}),$rootScope.$on(_events2.default.ContractSpaceCostsChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.id){self.$scope.greedData[i].contract.inPlaceRent=data.inPlaceRent;break}}),$rootScope.$on(_events2.default.ContractCreated,function(ev){var self=_this;self.gridUpdate(_constants2.default.defaultPageNumber)}),$rootScope.$on(_events2.default.SpacesExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.gridUpdate(_constants2.default.defaultPageNumber)}),this.initScrollbar()}return AssetStatSpacesController.$inject=["$scope","$rootScope","$state","asset","assetId","AssetStatSpaces","AssetObject","$uibModal","uibDateParser","$timeout","UtilsService","IndustryLookupService","availableSpaceTypes","SpaceTypeLookupService","Space","NotificationService","ExportDataService","Settings"],_createClass(AssetStatSpacesController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){this.$scope.greedData=[],this.$scope.availabilities=[{id:_constants2.default.spaceAvailabilities.available,value:_constants2.default.spaceAvailabilityIds.available,name:(0,_messages2.default)("assets.spaces.filter.available")},{id:_constants2.default.spaceAvailabilities.notAvailable,value:_constants2.default.spaceAvailabilityIds.notAvailable,name:(0,_messages2.default)("assets.spaces.filter.notAvailable")},{id:_constants2.default.spaceAvailabilities.all,value:_constants2.default.spaceAvailabilityIds.all,name:(0,_messages2.default)("assets.spaces.filter.all")},{id:_constants2.default.spaceAvailabilities.archived,value:_constants2.default.spaceAvailabilityIds.archived,name:(0,_messages2.default)("assets.spaces.filter.archived")}],this.$scope.selectedAvailability=this.$scope.availabilities[2],this.$scope.extraFilters=[],this.$scope.sortType=_constants2.default.spaceSortOptions.unit,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.gridUpdate(_constants2.default.defaultPageNumber),this.$scope.spaceStatusesDictionary={},this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.vacant]=(0,_messages2.default)("assets.spaces.status.vacant"),this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.occupied]=(0,_messages2.default)("assets.spaces.status.occupied"),this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.reserved]=(0,_messages2.default)("assets.spaces.status.reserved")}},{key:"gridUpdate",value:function(page){var _this2=this;this.$scope.update=!0,this.page=page;var criteria=this.getSearchCriteria();this.AssetStatSpaces.search({assets:criteria.assetId,av:criteria.av,agte:criteria.agte,alte:criteria.alte,apgte:criteria.apgte,aplte:criteria.aplte,ipgte:criteria.ipgte,iplte:criteria.iplte,expgte:criteria.expgte,explte:criteria.explte,fgte:criteria.fgte,flte:criteria.flte,twr:criteria.twr,ot:criteria.ot,st:criteria.st,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20},function(result){_this2.$scope.update=!1,_this2.floorsMax=result.maxFloor,_this2.floorsMin=result.minFloor,1===page?(_this2.$scope.greedData=result.items,_this2.$scope.disable_infinite_scrolling=!1):0===result.items.length?_this2.$scope.disable_infinite_scrolling=!0:(_this2.$scope.disable_infinite_scrolling=!1,_this2.$scope.greedData=_this2.$scope.greedData.concat(result.items)),_this2.$timeout(function(){_this2.$scope.load_more=!1},1)},function(error){console.log(error),_this2.$scope.update=!1,_this2.$scope.error=error}),this.$rootScope.$broadcast(_events2.default.RightSideBarClose)}},{key:"getSearchCriteria",value:function(){var extraFilters=this.$scope.extraFilters,availability=null,availableFrom=null,availableTo=null,inPlacePriceFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRentFrom}),inPlacePriceTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRentTo}),inPlacePrice=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRent}),priceFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.priceFrom}),priceTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.priceTo}),price=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.price}),areaFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.areaFrom}),areaTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.areaTo}),area=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.area}),floorFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.floorFrom}),floorTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.floorTo}),towers=[],spaceTypes=[],status=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.status});return extraFilters.forEach(function(item){0===item.id.indexOf("tower_")&&towers.push(item.value.id),0===item.id.indexOf("office_type_")&&spaceTypes.push(item.value.value)}),availability=this.$scope.selectedAvailability.value,{assetId:this.assetId,av:availability,agte:areaFrom&&areaFrom.value||area&&area.value,alte:areaTo&&areaTo.value||area&&area.value,apgte:priceFrom&&priceFrom.value||price&&price.value,aplte:priceTo&&priceTo.value||price&&price.value,ipgte:inPlacePriceFrom&&inPlacePriceFrom.value||inPlacePrice&&inPlacePrice.value,iplte:inPlacePriceTo&&inPlacePriceTo.value||inPlacePrice&&inPlacePrice.value,expgte:availableFrom,explte:availableTo,fgte:floorFrom&&floorFrom.value,flte:floorTo&&floorTo.value,twr:towers,ot:spaceTypes,st:status&&status.value}}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"getOfficeType",value:function(type){var officeType=this.availableSpaceTypes.find(function(item){return item.value===type});return officeType.text}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"selectAvailability",value:function(e,availability){e.preventDefault(),this.prevSelectedAvailability=this.$scope.selectedAvailability,this.$scope.selectedAvailability=availability,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"showDateRangeSelector",value:function(){$(this.customDateElement).focus()}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(_constants2.default.defaultPageNumber),this.$rootScope.$emit(_events2.default.SpacesExtraFilterItemRemoved,{item:item})}},{key:"selectSpaceRow",value:function(row){var cl="filtered-spaces-row-selected";$("#filtered-spaces-grid tr").each(function(i,item){item===row[0]?$(item).addClass(cl):$(item).removeClass(cl)})}},{key:"showSpaceInfo",value:function(event,data){var self=this;return self.selectedSpace===data.number?void self.$rootScope.$broadcast(_events2.default.RightSideBarClose):(self.selectedSpace=data.number,void self.Space.getFull({assetId:data.assetId,id:data.id},function(result){var contract=result.contract;contract&&null!=contract.industryId&&self.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){result.industryId=contract.industryId,result.industry=dataItem.display}),self.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.space,data:result}),self.selectSpaceRow($(event.target).parent("tr"))},function(error){self.NotificationService.error(error.data.message?error.data.message:error.data)}))}},{key:"getSpaceAvailability",value:function(item){return item.isAvailable?item.isImmediateAvailable?(0,_messages2.default)("assets.spaces.availability.immediateAvailable"):item.availabilityDate?this.getParsedDate(item.availabilityDate):(0,_messages2.default)("assets.spaces.availability.available"):(0,_messages2.default)("assets.spaces.availability.notAvailable")}},{key:"getExpiryDate",value:function(contract){return contract&&contract.endsAt?this.getParsedDate(contract.endsAt):_constants2.default.emptyValuePlaceholder}},{key:"getTenantName",value:function(contract){return contract&&contract.tenantName?contract.tenantName:_constants2.default.emptyValuePlaceholder}},{key:"getAskingPrice",value:function(item){return item.minAskingPrice&&item.maxAskingPrice?item.minAskingPrice.toFixed(2)+"-"+item.maxAskingPrice.toFixed(2):item.minAskingPrice?(0,_messages2.default)("assets.spaces.filter.from")+" "+item.minAskingPrice.toFixed(2):item.maxAskingPrice?(0,_messages2.default)("assets.spaces.filter.to")+" "+item.maxAskingPrice.toFixed(2):null}},{key:"exportData",value:function(){this.$scope.selectedAvailability.value===this.const.spaceAvailabilityIds.available?this.exportAvailableUnitsData():this.$scope.selectedAvailability.value===this.const.spaceAvailabilityIds.notAvailable?this.exportUnavailableUnitsData():this.exportAllUnitsData()}},{key:"exportUnavailableUnitsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportUnavailableUnits(this.prepareCryteria(criteria))}},{key:"exportAvailableUnitsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportAvailableUnits(this.prepareCryteria(criteria))}},{key:"exportAllUnitsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportAllUnits(this.prepareCryteria(criteria))}},{key:"prepareCryteria",value:function(criteria){return{assets:criteria.assetId,av:criteria.av,agte:criteria.agte,alte:criteria.alte,apgte:criteria.apgte,aplte:criteria.aplte,ipgte:criteria.ipgte,iplte:criteria.iplte,expgte:criteria.expgte,explte:criteria.explte,fgte:criteria.fgte,flte:criteria.flte,twr:criteria.twr,ot:criteria.ot,st:criteria.st,srt:this.$scope.sortType,ord:this.$scope.sortDirection,ct:criteria.ct,mr:criteria.mr}}}]),AssetStatSpacesController}();exports.default=AssetStatSpacesController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),SpacesFilterController=function(){function SpacesFilterController($scope,$state,filter,towers,floors,$uibModalInstance,uibDateParser,availableSpaceTypes,UtilsService,Settings){_classCallCheck(this,SpacesFilterController),this.$scope=$scope,this.$state=$state,this.filter=filter.data,this.towers=towers.data,this.floors=floors,this.$uibModalInstance=$uibModalInstance,this.uibDateParser=uibDateParser,this.availableSpaceTypes=availableSpaceTypes,this.utils=UtilsService,this.Settings=Settings,this.init(),this.initForm()}return SpacesFilterController.$inject=["$scope","$state","filter","towers","floors","$uibModalInstance","uibDateParser","availableSpaceTypes","UtilsService","Settings"],_createClass(SpacesFilterController,[{key:"init",value:function(){this.$scope.typesRows=this.utils.splitArray(this.availableSpaceTypes,3);var self=this;this.towers.forEach(function(item){item.label=item.assetName?item.assetName+(item.name?" -"+item.name:""):item.name,item.isVisible=!0}),this.$scope.onTowerSelect=function(item,model){item.id||(self.$scope.towers.available.forEach(function(el){el.id&&el.assetId==item.assetId&&(el.isVisible=!1)}),self.$scope.towers.selected=self.$scope.towers.selected.filter(function(el){return el.assetId!==item.assetId||!el.id}))},this.$scope.onTowerRemove=function(item,model){item.id||self.$scope.towers.available.forEach(function(el){el.id&&el.assetId==item.assetId&&(el.isVisible=!0)})}}},{key:"initForm",value:function(){var _this=this;this.$scope.fromValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[from]>_this.$scope[to]&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[to]<_this.$scope[from]&&(_this.$scope[from]=_this.$scope[to])},this.$scope.fromSelectorChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&Number(_this.$scope[from])>Number(_this.$scope[to])&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toSelectorChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&Number(_this.$scope[to])<Number(_this.$scope[from])&&(_this.$scope[from]=_this.$scope[to])};var price_from=this.filter.find(function(item){return"price_from"===item.id});this.$scope.price_from=price_from&&price_from.value;var price_to=this.filter.find(function(item){return"price_to"===item.id});this.$scope.price_to=price_to&&price_to.value;var area_from=this.filter.find(function(item){return"area_from"===item.id});this.$scope.area_from=area_from&&area_from.value;var area_to=this.filter.find(function(item){return"area_to"===item.id});this.$scope.area_to=area_to&&area_to.value;var floor_from=this.filter.find(function(item){return"floor_from"===item.id});this.$scope.floor_from=floor_from&&floor_from.value;var floor_to=this.filter.find(function(item){return"floor_to"===item.id});this.$scope.floor_to=floor_to&&floor_to.value,this.$scope.floors=[];for(var i=this.floors.min,l=this.floors.max;i<=l;i++){var name=void 0;name=i<0?i+" UG":i>0?i+" OG":"EG",this.$scope.floors.push({id:i,name:name})}var in_place_rent_from=this.filter.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRentFrom});this.$scope.in_place_rent_from=in_place_rent_from&&in_place_rent_from.value;var in_place_rent_to=this.filter.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRentTo});this.$scope.in_place_rent_to=in_place_rent_to&&in_place_rent_to.value,this.$scope.towers={available:this.towers,selected:[]},this.filter.forEach(function(item){0===item.id.indexOf("tower_")&&(_this.$scope.towers.selected.push(item.value),item.value.id||_this.$scope.towers.available.forEach(function(el){el.id&&el.assetId==item.value.assetId&&(el.isVisible=!1)}))}),this.$scope.office_types=[],this.$scope.office_types_ids=[],this.filter.forEach(function(item){0===item.id.indexOf("office_type_")&&(_this.$scope.office_types.push(item.value),_this.$scope.office_types_ids.push(item.value.id))}),this.$scope.officeTypeToggleSelection=function(type,valueString){var id=_this.$scope.office_types.findIndex(function(item){return item.id===type});id>-1?(_this.$scope.office_types.splice(id,1),_this.$scope.office_types_ids.splice(id,1)):(_this.$scope.office_types.push({id:type,name:valueString}),_this.$scope.office_types_ids.push(type))},this.$scope.statuses={available:[{label:(0,_messages2.default)("assets.spaces.status.vacant"),value:_constants2.default.spaceStatusIds.vacant},{label:(0,_messages2.default)("assets.spaces.status.occupied"),value:_constants2.default.spaceStatusIds.occupied},{label:(0,_messages2.default)("assets.spaces.status.reserved"),value:_constants2.default.spaceStatusIds.reserved}],selected:null};var status=this.filter.find(function(item){return item.id===_constants2.default.spacesExtraFilters.status});this.$scope.statuses.selected=status&&status.value,this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.save=function(){var result=[];if(_this.$scope.price_from&&result.push({id:_constants2.default.spacesExtraFilters.priceFrom,name:(0,_messages2.default)("assets.spaces.filter.asking_price_from"),value:_this.$scope.price_from,text:_this.$scope.price_from+" ["+_this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.price_to&&result.push({id:_constants2.default.spacesExtraFilters.priceTo,name:(0,_messages2.default)("assets.spaces.filter.asking_price_to"),value:_this.$scope.price_to,text:_this.$scope.price_to+" ["+_this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.area_from&&result.push({id:_constants2.default.spacesExtraFilters.areaFrom,name:(0,_messages2.default)("assets.spaces.filter.rentable_area_from"),value:_this.$scope.area_from,text:_this.$scope.area_from+" "+(0,_messages2.default)("square.meter")}),_this.$scope.area_to&&result.push({id:_constants2.default.spacesExtraFilters.areaTo,name:(0,_messages2.default)("assets.spaces.filter.rentable_area_to"),value:_this.$scope.area_to,text:_this.$scope.area_to+" "+(0,_messages2.default)("square.meter")}),_this.$scope.floor_from){var florFrom=_this.$scope.floors.find(function(item){return item.id===Number(_this.$scope.floor_from)});result.push({id:_constants2.default.spacesExtraFilters.floorFrom,name:(0,_messages2.default)("assets.spaces.filter.floor_from"),value:_this.$scope.floor_from,text:""+florFrom.name})}if(_this.$scope.floor_to){var florTo=_this.$scope.floors.find(function(item){return item.id===Number(_this.$scope.floor_to)});result.push({id:_constants2.default.spacesExtraFilters.floorTo,name:(0,_messages2.default)("assets.spaces.filter.floor_to"),value:_this.$scope.floor_to,text:""+florTo.name})}_this.$scope.in_place_rent_from&&result.push({id:_constants2.default.spacesExtraFilters.inPlaceRentFrom,name:(0,_messages2.default)("assets.spaces.filter.in_place_rent_from"),value:_this.$scope.in_place_rent_from,text:_this.$scope.in_place_rent_from+" ["+_this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.in_place_rent_to&&result.push({id:_constants2.default.spacesExtraFilters.inPlaceRentTo,name:(0,_messages2.default)("assets.spaces.filter.in_place_rent_to"),value:_this.$scope.in_place_rent_to,text:_this.$scope.in_place_rent_to+" ["+_this.Settings.getCurrency()+"/"+(0,_messages2.default)("square.meter")+"]"}),_this.$scope.towers.selected.length&&_this.$scope.towers.selected.forEach(function(item){result.push({id:"tower_"+item.label,value:item,text:item.label})}),_this.$scope.office_types.length&&_this.$scope.office_types.forEach(function(item){result.push({id:"office_type_"+item.id,value:item,text:item.name})}),_this.$scope.statuses.selected&&result.push({id:_constants2.default.spacesExtraFilters.status,value:_this.$scope.statuses.selected,text:_this.$scope.statuses.selected.label}),_this.$uibModalInstance.close(result)}}}]),SpacesFilterController}();exports.default=SpacesFilterController},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-body">\r\n        <form role="form" class="o-hidden">\r\n            <div class="col-md-6">\r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.asking_price\')}} [{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="asking_price_from"\r\n                            ng-model="price_from"\r\n                            ng-blur="fromValueChanged(\'asking_price_from\', \'asking_price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="price_to"\r\n                            ng-blur="toValueChanged(\'asking_price_from\', \'asking_price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.in_place_rent\')}} [{{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="price_from"\r\n                            ng-model="in_place_rent_from"\r\n                            ng-blur="fromValueChanged(\'price_from\', \'price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="in_place_rent_to"\r\n                            ng-blur="toValueChanged(\'price_from\', \'price_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-6">\r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.rentable_area\')}} [<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="areaFrom"\r\n                            ng-model="area_from"\r\n                            ng-blur="fromValueChanged(\'area_from\', \'area_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="area_to"\r\n                            ng-blur="toValueChanged(\'area_from\', \'area_to\')"\r\n                            placeholder="{{Messages(\'assets.spaces.filter.to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'assets.spaces.filter.floor\')}}</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <select class="input-sm form-control" ng-model="floor_from" ng-change="fromSelectorChanged(\'floor_from\', \'floor_to\')">\r\n                            <option value="{{floor.id}}" ng-repeat="floor in floors">\r\n                                {{floor.name}}\r\n                            </option>\r\n                        </select>\r\n                        <span class="input-group-addon">-</span>\r\n                        <select class="input-sm form-control" ng-model="floor_to" ng-change="toSelectorChanged(\'floor_from\', \'floor_to\')">\r\n                            <option value="{{floor.id}}" ng-repeat="floor in floors">\r\n                                {{floor.name}}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-12 m-b-xl">\r\n                <p>{{Messages(\'assets.spaces.filter.towers\')}}</p>\r\n                <ui-select multiple ng-model="towers.selected" close-on-select="false" theme="bootstrap" on-select="onTowerSelect($item, $model)" on-remove="onTowerRemove($item, $model)">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.spaces.filter.towers.placeholder\')}}">\r\n                        {{$item.label}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in towers.available | filter: $select.search |filter: {isVisible : true}">\r\n                        {{item.label}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="col-md-12 m-b-xl">\r\n                <p>{{Messages(\'assets.spaces.filter.status\')}}</p>\r\n                <ui-select ng-model="statuses.selected" close-on-select="true" theme="bootstrap" class="space-status-select" search-enabled="false">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.spaces.filter.status.placeholder\')}}">\r\n                         {{$select.selected.label}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in statuses.available">\r\n                        {{item.label}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="col-md-4 m-b-xl" ng-repeat="row in typesRows">\r\n                <p ng-if="$index === 0">{{Messages(\'assets.spaces.filter.type\')}}</p>\r\n                <p ng-if="$index !== 0">&nbsp;</p>\r\n                <div class="checkbox green" ng-repeat="item in row">\r\n                    <label>\r\n                        <input\r\n                            type="checkbox"\r\n                            class="i-checks"\r\n                            name="office_type"\r\n                            ng-checked="office_types_ids.indexOf(item.value) !== -1"\r\n                            ng-click="officeTypeToggleSelection(item.value, item.text)"\r\n                        >\r\n                        <span class="icheckbox_square"></span>\r\n                        <span class="label">{{item.text}}</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()">\r\n            {{Messages(\'assets.spaces.filter.apply\')}}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{Messages(\'assets.spaces.filter.cancel\')}}\r\n        </button>\r\n       \r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_tenantsFilterModal=__webpack_require__(1010),_tenantsFilterModalTemplate=(_interopRequireDefault(_tenantsFilterModal),__webpack_require__(1011)),_constants=(_interopRequireDefault(_tenantsFilterModalTemplate),__webpack_require__(720)),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),AssetStatsTenantsController=function(){function AssetStatsTenantsController($scope,$rootScope,$state,asset,assetId,AssetStatTenants,AssetObject,sweetAlert,$uibModal,uibDateParser,UtilsService,$timeout,IndustryLookupService,availableSpaceTypes,Settings,ExportDataService){var _this=this;_classCallCheck(this,AssetStatsTenantsController),this.$scope=$scope,this.$rootScope=$rootScope,this.asset=asset,this.assetId=assetId,this.$state=$state,this.AssetStatTenants=AssetStatTenants,this.AssetObject=AssetObject,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.$timeout=$timeout,this.IndustryLookupService=IndustryLookupService,this.availableSpaceTypes=availableSpaceTypes,this.const=_constants2.default,this.Settings=Settings,this.ExportDataService=ExportDataService,this.init(),$scope.$on("$destroy",function(){$rootScope.$broadcast(_events2.default.RightSideBarClose)}),$scope.$on(_events2.default.RightSideBarClosed,function(){_this.selectSpaceRow([]),_this.selectedTenant=null}),$rootScope.$on(_events2.default.ContractDatesChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.contractId){self.$scope.greedData[i].startDate=data.startDate,self.$scope.greedData[i].endDate=data.endDate;break}}),$rootScope.$on(_events2.default.ContractTenantNameChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.contractId){self.$scope.greedData[i].tenantName=data.tenantName;break}}),$rootScope.$on(_events2.default.ContractSpaceCostsChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.contractId){self.$scope.greedData[i].totalRentCost=data.totalRent,
self.$scope.greedData[i].averageMeterCost=data.inPlaceRent;break}}),$rootScope.$on(_events2.default.ContractCreated,function(ev,data){var self=_this;data.assetId===self.assetId&&self.gridUpdate(_constants2.default.defaultPageNumber)}),$rootScope.$on(_events2.default.ContractExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.gridUpdate(_constants2.default.defaultPageNumber)}),this.initScrollbar()}return AssetStatsTenantsController.$inject=["$scope","$rootScope","$state","asset","assetId","AssetStatTenants","AssetObject","sweetAlert","$uibModal","uibDateParser","UtilsService","$timeout","IndustryLookupService","availableSpaceTypes","Settings","ExportDataService"],_createClass(AssetStatsTenantsController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){var self=this;this.$scope.greedData=[],this.$scope.statuses=[{id:_constants2.default.contractStatuses.inPlace,value:_constants2.default.contractStatusIds.inPlace,name:(0,_messages2.default)("assets.tenants.filter.in_place")},{id:_constants2.default.contractStatuses.incoming,value:_constants2.default.contractStatusIds.incoming,name:(0,_messages2.default)("assets.tenants.filter.incoming")},{id:_constants2.default.contractStatuses.expired,value:_constants2.default.contractStatusIds.expired,name:(0,_messages2.default)("assets.tenants.filter.expired")},{id:_constants2.default.contractStatuses.archived,value:_constants2.default.contractStatusIds.archived,name:(0,_messages2.default)("assets.tenants.filter.archived")}],this.$scope.selectedStatus=this.$scope.statuses[0],this.$scope.extraFilters=[],this.IndustryLookupService.all().then(function(result){self.$scope.industries=result},function(err){}),this.expiryDatesDictionary=[],this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in1Year]=(0,_moment2.default)().add(1,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in2Year]=(0,_moment2.default)().add(2,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in3Year]=(0,_moment2.default)().add(3,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in4Year]=(0,_moment2.default)().add(4,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in5Year]=(0,_moment2.default)().add(5,"y").format(),this.$scope.sortType=_constants2.default.contractSortOptions.endDate,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"selectStatus",value:function(e,status){e.preventDefault(),this.prevSelectedStatus=this.$scope.selectedStatus,this.$scope.selectedStatus=status,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"gridUpdate",value:function(page){var _this2=this;this.$scope.update=!0,this.page=page;var criteria=this.getSearchCriteria(page);this.AssetStatTenants.query({st:criteria.st,expgte:criteria.expgte,explte:criteria.explte,ipgte:criteria.ipgte,iplte:criteria.iplte,stgte:criteria.stgte,stlte:criteria.stlte,twr:criteria.twr,ot:criteria.ot,ind:criteria.ind,assets:criteria.assetIds,srt:criteria.srt,ord:criteria.ord,pg:criteria.pg,ps:criteria.ps},function(result){_this2.$scope.update=!1,1===page?(_this2.$scope.greedData=result.items,_this2.$scope.disable_infinite_scrolling=!1):0===result.items.length?_this2.$scope.disable_infinite_scrolling=!0:(_this2.$scope.disable_infinite_scrolling=!1,_this2.$scope.greedData=_this2.$scope.greedData.concat(result.items)),_this2.$timeout(function(){_this2.$scope.load_more=!1},1)},function(error){console.log(error),_this2.$scope.update=!1,_this2.$scope.error=error}),this.$rootScope.$broadcast(_events2.default.RightSideBarClose)}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(_constants2.default.defaultPageNumber),this.$rootScope.$emit(_events2.default.ContractExtraFilterItemRemoved,{item:item})}},{key:"getParsedDate",value:function(date){return date?this.uibDateParser.filter(new Date(date),"dd/MM/yyyy"):null}},{key:"selectSpaceRow",value:function(row){var cl="filtered-spaces-row-selected";$("#filtered-spaces-grid tr").each(function(i,item){item===row[0]?$(item).addClass(cl):$(item).removeClass(cl)})}},{key:"getOfficeType",value:function(type){var officeType=this.availableSpaceTypes.find(function(item){return item.value===type});return officeType.text}},{key:"getIndustry",value:function(item){var industry=this.$scope.industries.find(function(t){return item.industryId===t.id});return null!=industry?industry.display:""}},{key:"getUniqueSpacesTowers",value:function(spaces){var uniqueSpacesTowers=[];return spaces.forEach(function(item){uniqueSpacesTowers.indexOf(item.towerName)===-1&&uniqueSpacesTowers.push(item.towerName)}),uniqueSpacesTowers}},{key:"showSpaceInfo",value:function(space){var _this3=this;this.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:"loading"}),this.AssetStatTenants.getSpaceInfo({assetId:this.assetId,id:space.id},function(result){var contract=result.contract;result.spaceTypeString=_this3.getOfficeType(result.type),result.spaceNumber=result.number,result.spaceArea=result.rentableArea,contract&&null!=contract.industryId&&_this3.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){result.industryId=contract.industryId,result.industry=dataItem.display}),result.tenantName=contract&&contract.tenantName,result.leaseStartDate=contract&&contract.startsAt,result.leaseEndDate=contract&&contract.endsAt,result.leaseStartDate&&result.leaseEndDate&&(result.expires=100*((0,_moment2.default)(_moment2.default.utc()).diff((0,_moment2.default)(result.leaseStartDate))/(0,_moment2.default)(result.leaseEndDate).diff((0,_moment2.default)(result.leaseStartDate))).toFixed(2)),result.totalCosts=contract&&contract.totalCosts,result.inPlaceRent=contract&&contract.inPlaceRent,result.netRent=contract&&contract.netRent,result.additionalCosts=contract&&contract.additionalCosts,result.otherCosts=contract&&contract.otherCosts,result.vatCosts=contract&&contract.vatCosts,_this3.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.space,data:result})})}},{key:"showTenantInfo",value:function(event,tenant){if("A"!==event.target.nodeName){var row=$(event.target).parent("tr");if(this.selectedTenant===row[0])return void this.$rootScope.$broadcast(_events2.default.RightSideBarClose);this.selectedTenant=row[0],tenant.assetId=this.assetId,this.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.tenant,data:tenant}),this.selectSpaceRow($("#row"+tenant.id.toString()))}}},{key:"getSearchCriteria",value:function(page){var extraFilters=this.$scope.extraFilters,status=void 0,expirationFrom=void 0,expirationTo=void 0,expiryIn1Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in1Year}),expiryIn2Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in2Year}),expiryIn3Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in3Year}),expiryIn4Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in4Year}),expiryIn5Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in5Year}),pricePerMeterFrom=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.inPlaceRentFrom}),pricePerMeterTo=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.inPlaceRentTo}),pricePerMeter=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.inPlaceRent}),contractStartDate=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.expiry_from}),contractEndDate=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.expiry_to}),towers=[],industries=[],expiry=expiryIn1Year||expiryIn2Year||expiryIn3Year||expiryIn4Year||expiryIn5Year;return expiry&&(expirationFrom=(0,_moment2.default)().format(),expirationTo=this.expiryDatesDictionary[expiry.value]),extraFilters.forEach(function(item){0===item.id.indexOf("tower_")&&towers.push(item.value.id),0===item.id.indexOf("industry_")&&industries.push(item.value.id)}),status=this.$scope.selectedStatus.value,{assetIds:this.assetId,st:status,expgte:expirationFrom,explte:expirationTo,ipgte:pricePerMeterFrom&&pricePerMeterFrom.value||pricePerMeter&&pricePerMeter.value,iplte:pricePerMeterTo&&pricePerMeterTo.value||pricePerMeter&&pricePerMeter.value,stgte:contractStartDate&&(0,_moment2.default)(contractStartDate.value,"MM/DD/YYYY").format(),stlte:contractEndDate&&(0,_moment2.default)(contractEndDate.value,"MM/DD/YYYY").format(),twr:towers,ind:industries,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20}}},{key:"prepareCryteria",value:function(criteria){return{st:criteria.st,expgte:criteria.expgte,explte:criteria.explte,ipgte:criteria.ipgte,iplte:criteria.iplte,stgte:criteria.stgte,stlte:criteria.stlte,twr:criteria.twr,ot:criteria.ot,ind:criteria.ind,srt:criteria.srt,ord:criteria.ord,assets:criteria.assetIds}}},{key:"exportData",value:function(){this.$scope.selectedStatus.value===this.const.contractStatusIds.inPlace?this.exportInPlaceContractsData():this.$scope.selectedStatus.value===this.const.contractStatusIds.incoming?this.exportInComingContractsData():this.$scope.selectedStatus.value===this.const.contractStatusIds.expired?this.exportExpiredContractsData():this.exportArchivedContractsData()}},{key:"exportInPlaceContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportInPlaceContracts(this.prepareCryteria(criteria))}},{key:"exportInComingContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportInComingContracts(this.prepareCryteria(criteria))}},{key:"exportExpiredContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportExpiredContracts(this.prepareCryteria(criteria))}},{key:"exportArchivedContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportArchivedContracts(this.prepareCryteria(criteria))}}]),AssetStatsTenantsController}();exports.default=AssetStatsTenantsController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_moment=(_interopRequireDefault(_constants),__webpack_require__(212)),_moment2=_interopRequireDefault(_moment),SpacesFilterController=function(){function SpacesFilterController($scope,$state,filter,towers,$uibModalInstance,uibDateParser,$timeout,availableSpaceTypes,UtilsService,industries){_classCallCheck(this,SpacesFilterController),this.$scope=$scope,this.$state=$state,this.filter=filter.data,this.towers=towers.data,this.$uibModalInstance=$uibModalInstance,this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.utils=UtilsService,this.industries=industries,this.availableSpaceTypes=availableSpaceTypes,this.init(),this.initForm()}return SpacesFilterController.$inject=["$scope","$state","filter","towers","$uibModalInstance","uibDateParser","$timeout","availableSpaceTypes","UtilsService","industries"],_createClass(SpacesFilterController,[{key:"init",value:function(){this.$scope.typesRows=this.utils.splitArray(this.availableSpaceTypes,3);var self=this;this.towers.forEach(function(item){item.label=item.assetName?item.assetName+(item.name?" -"+item.name:""):item.name,item.isVisible=!0}),this.$scope.onTowerSelect=function(item,model){item.id||(self.$scope.towers.available.forEach(function(el){el.id&&el.assetId==item.assetId&&(el.isVisible=!1)}),self.$scope.towers.selected=self.$scope.towers.selected.filter(function(el){return el.assetId!==item.assetId||!el.id}))},this.$scope.onTowerRemove=function(item,model){item.id||self.$scope.towers.available.forEach(function(el){el.id&&el.assetId==item.assetId&&(el.isVisible=!0)})}}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.fromValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[from]>_this.$scope[to]&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[to]<_this.$scope[from]&&(_this.$scope[from]=_this.$scope[to])};var area_from=this.filter.find(function(item){return"area_from"===item.id});this.$scope.area_from=area_from&&area_from.value;var area_to=this.filter.find(function(item){return"area_to"===item.id});this.$scope.area_to=area_to&&area_to.value,this.$scope.towers={available:this.towers,selected:[]},this.$scope.industry={available:self.industries,selected:[]},this.$scope.office_types=[],this.$scope.office_types_ids=[],this.$scope.officeTypeToggleSelection=function(type,valueString){var id=_this.$scope.office_types.findIndex(function(item){return item.id===type});id>-1?(_this.$scope.office_types.splice(id,1),_this.$scope.office_types_ids.splice(id,1)):(_this.$scope.office_types.push({id:type,name:valueString}),_this.$scope.office_types_ids.push(type))},this.leaseDateStart=null,this.leaseDateEnd=null,this.filter.forEach(function(item){0===item.id.indexOf("tower_")?_this.$scope.towers.selected.push(item.value):0===item.id.indexOf("industry_")?_this.$scope.industry.selected.push(item.value):0===item.id.indexOf("office_type_")?(_this.$scope.office_types.push(item.value),_this.$scope.office_types_ids.push(item.value.id)):0===item.id.indexOf("lease_start")?_this.leaseDateStart=item.value:0===item.id.indexOf("lease_end")&&(_this.leaseDateEnd=item.value)}),this.leaseDateStart&&this.leaseDateEnd&&(this.$scope.lease_date=this.getParsedDate(this.leaseDateStart)+" - "+this.getParsedDate(this.leaseDateEnd)),this.$timeout(function(){var _ranges,pickerField=$("#tenants-filter-daterangepicker");pickerField.daterangepicker({startDate:_this.leaseDateStart||new Date,endDate:_this.leaseDateEnd||new Date,locale:{cancelLabel:(0,_messages2.default)("assets.tenants.filter.datepicker.clear")},autoUpdateInput:!1,ranges:(_ranges={},_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.this_month"),[(0,_moment2.default)().startOf("month"),(0,_moment2.default)().endOf("month")]),_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.last_month"),[(0,_moment2.default)().subtract(1,"month").startOf("month"),(0,_moment2.default)().subtract(1,"month").endOf("month")]),_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.this_year"),[(0,_moment2.default)().startOf("year"),(0,_moment2.default)().endOf("year")]),_defineProperty(_ranges,(0,_messages2.default)("assets.tenants.filter.last_year"),[(0,_moment2.default)().subtract(1,"year").startOf("year"),(0,_moment2.default)().subtract(1,"year").endOf("year")]),_ranges)}),pickerField.on("apply.daterangepicker",function(ev,picker){_this.leaseDateStart=picker.startDate,_this.leaseDateEnd=picker.endDate,pickerField.val(_this.getParsedDate(picker.startDate)+" - "+_this.getParsedDate(picker.endDate))}),pickerField.on("cancel.daterangepicker",function(ev,picker){pickerField.val("");var d=new Date;_this.leaseDateStart=null,_this.leaseDateEnd=null,pickerField.data("daterangepicker").setStartDate(d),pickerField.data("daterangepicker").setEndDate(d)})},10),this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.save=function(){var result=[];_this.$scope.area_from&&result.push({id:"area_from",name:(0,_messages2.default)("assets.tenants.filter.rentable_area_from"),value:_this.$scope.area_from,text:_this.$scope.area_from+" "+(0,_messages2.default)("square.meter")}),_this.$scope.area_to&&result.push({id:"area_to",name:(0,_messages2.default)("assets.tenants.filter.rentable_area_to"),value:_this.$scope.area_to,text:_this.$scope.area_to+" "+(0,_messages2.default)("square.meter")}),_this.$scope.towers.selected.length&&_this.$scope.towers.selected.forEach(function(item){result.push({id:"tower_"+item.label,value:item,text:item.label})}),_this.$scope.industry.selected.length&&_this.$scope.industry.selected.forEach(function(item){result.push({id:"industry_"+item.id,value:item,text:item.display})}),_this.$scope.office_types.length&&_this.$scope.office_types.forEach(function(item){result.push({id:"office_type_"+item.id,value:item,text:item.name})}),_this.leaseDateStart&&result.push({id:"lease_start",name:(0,_messages2.default)("assets.tenants.filter.lease_start_date"),value:_this.leaseDateStart,text:_this.getParsedDate(_this.leaseDateStart)}),_this.leaseDateEnd&&result.push({id:"lease_end",name:(0,_messages2.default)("assets.tenants.filter.lease_end_date"),value:_this.leaseDateEnd,text:_this.getParsedDate(_this.leaseDateEnd)}),_this.$uibModalInstance.close(result)}}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}}]),SpacesFilterController}();exports.default=SpacesFilterController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-body">\r\n        <form role="form" class="o-hidden">\r\n            <div class="col-md-6 m-b-xl">\r\n                <p>{{Messages(\'assets.tenants.filter.towers\')}}</p>\r\n                <ui-select multiple ng-model="towers.selected" close-on-select="false" theme="bootstrap" on-select="onTowerSelect($item, $model)" on-remove="onTowerRemove($item, $model)">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.tenants.filter.towers.placeholder\')}}">\r\n                        {{$item.label}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in towers.available | filter: $select.search |filter: {isVisible : true}">\r\n                        {{item.label}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="col-md-6 m-b-xl">\r\n                <p>{{Messages(\'assets.tenants.filter.industry\')}}</p>\r\n                <ui-select multiple ng-model="industry.selected" close-on-select="false" theme="bootstrap">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.tenants.filter.industry.placeholder\')}}">\r\n                        {{$item.display}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in industry.available | filter: $select.search">\r\n                        {{item.display}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="clear">\r\n                <div class="col-md-6">\r\n                    <div class="m-b-xl">\r\n                        <p>{{Messages(\'assets.tenants.filter.lease_date\')}}</p>\r\n                        <div class=\'input-group date\' id=\'datetimepicker1\'>\r\n                            <input type=\'text\' class="input-sm form-control" ng-model="lease_date" id="tenants-filter-daterangepicker">\r\n                            <span class="input-group-addon">\r\n                                <span class="glyphicon glyphicon-calendar"></span>\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="col-md-6">\r\n                    <div class="m-b-xl">\r\n                        <p>{{Messages(\'assets.tenants.filter.rentable_area\')}} [<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                        <div class="input-group space-filter-range-inputs">\r\n                            <input\r\n                                type="number"\r\n                                class="input-sm form-control"\r\n                                id="areaFrom"\r\n                                ng-model="area_from"\r\n                                ng-blur="fromValueChanged(\'area_from\', \'area_to\')"\r\n                                placeholder="{{Messages(\'assets.tenants.filter.from\')}}"\r\n                            >\r\n                            <span class="input-group-addon">-</span>\r\n                            <input\r\n                                type="number"\r\n                                class="input-sm form-control"\r\n                                ng-model="area_to"\r\n                                ng-blur="toValueChanged(\'area_from\', \'area_to\')"\r\n                                placeholder="{{Messages(\'assets.tenants.filter.to\')}}"\r\n                            >\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-md-4 m-b-xl" ng-repeat="row in typesRows">\r\n                <p ng-if="$index === 0">{{Messages(\'assets.tenants.filter.type\')}}</p>\r\n                <p ng-if="$index !== 0">&nbsp;</p>\r\n                <div class="checkbox green" ng-repeat="item in row">\r\n                    <label>\r\n                        <input\r\n                            type="checkbox"\r\n                            class="i-checks"\r\n                            name="office_type"\r\n                            ng-checked="office_types_ids.indexOf(item.value) !== -1"\r\n                            ng-click="officeTypeToggleSelection(item.value, item.text)"\r\n                        >\r\n                        <span class="icheckbox_square"></span>\r\n                        <span class="label">{{item.text}}</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()">\r\n            {{Messages(\'assets.tenants.filter.apply\')}}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{Messages(\'assets.tenants.filter.cancel\')}}\r\n        </button>\r\n       \r\n    </div>\r\n</div>\r\n\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _constants=__webpack_require__(720),_messages=(_interopRequireDefault(_constants),__webpack_require__(721)),_moment=(_interopRequireDefault(_messages),__webpack_require__(212)),_events=(_interopRequireDefault(_moment),__webpack_require__(791)),DealsController=(_interopRequireDefault(_events),function DealsController($scope,$rootScope,$state,assetId,asset,dealStages,spaceTypes){_classCallCheck(this,DealsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.assetId=assetId,this.asset=asset,this.dealStages=dealStages,this.spaceTypes=spaceTypes});DealsController.$inject=["$scope","$rootScope","$state","assetId","asset","dealStages","spaceTypes"],exports.default=DealsController},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStatStackingPlan=function(){function AssetStatStackingPlan(ConfigurationService,$resource){return _classCallCheck(this,AssetStatStackingPlan),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:asset/objects",{asset:"@asset",object:"@object"},{getObjectData:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:asset/objects/:object/plan"}})}return AssetStatStackingPlan.$inject=["ConfigurationService","$resource"],_createClass(AssetStatStackingPlan,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStatStackingPlan.instance=new AssetStatStackingPlan(ConfigurationService,$resource),AssetStatStackingPlan.instance}]}]),AssetStatStackingPlan}();exports.default=AssetStatStackingPlan},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),AssetStatStackingPlanController=function(){function AssetStatStackingPlanController($scope,$rootScope,$timeout,asset,assetId,AssetStatStackingPlan,AssetObject,IndustryLookupService,SpaceTypeLookupService,Settings){_classCallCheck(this,AssetStatStackingPlanController),this.$scope=$scope,this.$rootScope=$rootScope,this.viewHeight=0,this.assetId=assetId,this.asset=asset,this.AssetStatStackingPlan=AssetStatStackingPlan,this.AssetObject=AssetObject,this.$timeout=$timeout,this.IndustryLookupService=IndustryLookupService,this.SpaceTypeLookupService=SpaceTypeLookupService,this.Messages=_messages2.default,this.Settings=Settings,this.breadcrumbStates=[{path:"asset-stats",title:this.Messages("assets.title")},{title:this.Messages("stacking-plan.title")}],this.init()}return AssetStatStackingPlanController.$inject=["$scope","$rootScope","$timeout","asset","assetId","AssetStatStackingPlan","AssetObject","IndustryLookupService","SpaceTypeLookupService","Settings"],_createClass(AssetStatStackingPlanController,[{key:"init",value:function(){var _this=this;this.$scope.isTabsLoadingState=!0,this.$scope.noStackingPlan=!1,this.AssetObject.query({assetId:this.assetId},function(result){_this.$scope.tabs=result,_this.$rootScope.$emit(_events2.default.TowersTabsCreated,{tabs:result}),_this.$scope.isTabsLoadingState=!1,result.length?(_this.$scope.isLoadingState=!0,_this.getFloorData(result[0])):_this.$scope.noStackingPlan=!0},function(err){_this.$scope.isTabsLoadingState=!1,_this.$scope.noStackingPlan=!0,_this.$scope.noStackingPlanMessage=err.data.message}),this.$rootScope.$on(_events2.default.TowersTabsChoosed,function(ev,data){_this.tabSelected(ev,data)}),this.legendYears=this.generateYearsList(),this.initScrollbar()}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"showSpaceDescription",value:function(data){var _this2=this,self=this;self.$scope.description=data,self.$scope.details=null,self.$timeout(function(){self.$scope.details=data,data.leaseStartDate&&data.leaseEndDate?self.$scope.details.expires=100*((0,_moment2.default)(_moment2.default.utc()).diff((0,_moment2.default)(data.leaseStartDate))/(0,_moment2.default)(data.leaseEndDate).diff((0,_moment2.default)(data.leaseStartDate))).toFixed(2):self.$scope.details.expires=null,_this2.SpaceTypeLookupService.byKey(_this2.$scope.details.spaceType).then(function(dataItem){self.$scope.details.spaceTypeString=dataItem.text}),self.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.stackingPlan,data:{assetId:self.assetId,details:self.$scope.details}})},51)}},{key:"hideSpaceDescription",value:function(){var self=this;self.$scope.description=null,self.$scope.details=null}},{key:"tabSelected",value:function(e,data){e.preventDefault(),this.$scope.description=null,this.$scope.isLoadingState=!0,this.getFloorData(data)}},{key:"getMaxOfFloorArea",value:function(floors){var maxFloorArea=0;return floors.forEach(function(floor){floor.totalFloorArea>maxFloorArea&&(maxFloorArea=floor.totalFloorArea)}),maxFloorArea}},{key:"getFloorData",value:function(object){var _this3=this;this.AssetStatStackingPlan.getObjectData({asset:this.assetId,object:object.id},function(result){var maxFloorArea=_this3.getMaxOfFloorArea(result.floors);result.floors.forEach(function(floor){var floorWidth=void 0;floorWidth="actual"===_this3.$scope.view?floor.totalFloorArea/(maxFloorArea/100)+"%":"100%",floor.width=floorWidth;for(var _loop=function(i,l){var space=floor.spaces[i],spaceInPercents=void 0;null!=space.industryId&&_this3.IndustryLookupService.byKey(space.industryId).then(function(dataItem){space.industry=dataItem.display}),space.leaseEndYearIndex=_this3.getLeaseEndYearIndex(space.leaseEndDate),spaceInPercents=space.spaceArea/(floor.totalFloorArea/100),space.weight=spaceInPercents},i=0,l=floor.spaces.length;i<l;i++)_loop(i,l);floor.spaces.sort(function(a,b){return!a.tenantId&&b.tenantId?1:a.tenantId&&!b.tenantId?-1:0})}),result.floors.sort(function(a,b){return a.floorOrder>b.floorOrder?-1:a.floorOrder<b.floorOrder?1:0}),_this3.$scope.floors=result.floors,_this3.$scope.isLoadingState=!1})}},{key:"viewChanged",value:function(e){var _this4=this;e.originalEvent.preventDefault();var target=e.originalEvent.target,viewType=target.getAttribute("data-type"),maxFloorArea=this.getMaxOfFloorArea(this.$scope.floors);this.$scope.floors.forEach(function(floor){_this4.$scope.view=viewType;
var floorWidth=void 0;floorWidth="actual"===viewType?floor.totalFloorArea/(maxFloorArea/100)+"%":"100%",floor.width=floorWidth})}},{key:"generateYearsList",value:function(){for(var currentYear=(new Date).getFullYear(),result=[],i=0;i<5;i++)result.push({title:currentYear+i,index:i});return result}},{key:"getLeaseEndYearIndex",value:function(leaseEndDate){if(null==leaseEndDate)return null;var date=new Date(leaseEndDate),leaseEndYear=date.getFullYear(),currentYear=(new Date).getFullYear(),result=leaseEndYear-currentYear;return result>4&&(result=4),result}}]),AssetStatStackingPlanController}();exports.default=AssetStatStackingPlanController},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStats=function(){function AssetStats(ConfigurationService,$resource){return _classCallCheck(this,AssetStats),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets",isArray:!0},search:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/search"},getGlobalStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/global-stats"}})}return AssetStats.$inject=["ConfigurationService","$resource"],_createClass(AssetStats,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStats.instance=new AssetStats(ConfigurationService,$resource),AssetStats.instance}]}]),AssetStats}();exports.default=AssetStats},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStatSpaces=function(){function AssetStatSpaces(ConfigurationService,$resource){return _classCallCheck(this,AssetStatSpaces),$resource(ConfigurationService.getApiBaseUrl()+"api/assets/:id/spaces",{id:"@id"},{query:{method:"GET",isArray:!0},search:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/spaces/search"},updateBasic:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id/basic"},getStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/spaces/stats"},getStatsExt:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/spaces/statsext"}})}return AssetStatSpaces.$inject=["ConfigurationService","$resource"],_createClass(AssetStatSpaces,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStatSpaces.instance=new AssetStatSpaces(ConfigurationService,$resource),AssetStatSpaces.instance}]}]),AssetStatSpaces}();exports.default=AssetStatSpaces},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),AssetStatTenants=function(){function AssetStatTenants(ConfigurationService,$resource){return _classCallCheck(this,AssetStatTenants),$resource(ConfigurationService.getApiBaseUrl()+"api/contracts",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/contracts/search"},getSpaceInfo:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/assets/:assetId/spaces/:id/full"},getStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/contracts/stats"},getGlobalStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/contracts/global-stats"}})}return AssetStatTenants.$inject=["ConfigurationService","$resource"],_createClass(AssetStatTenants,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return AssetStatTenants.instance=new AssetStatTenants(ConfigurationService,$resource),AssetStatTenants.instance}]}]),AssetStatTenants}();exports.default=AssetStatTenants},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(394);var _client=__webpack_require__(1019),_client2=_interopRequireDefault(_client),_representatives=__webpack_require__(1020),_representatives2=_interopRequireDefault(_representatives),_module=angular.module("tower360.clients",["dx"]).factory("Client",_client2.default.activate).factory("Representative",_representatives2.default.activate);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Client=function(){function Client(ConfigurationService,$resource){return _classCallCheck(this,Client),$resource(ConfigurationService.getApiBaseUrl()+"api/clients/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients",isArray:!0},update:{method:"PUT"},updateBasic:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/clients/:id/basic"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/clients"},getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients/:id/full"},search:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/clients/search?name=:name&maxResults=:maxResults"}})}return Client.$inject=["ConfigurationService","$resource"],_createClass(Client,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Client.instance=new Client(ConfigurationService,$resource),Client.instance}]}]),Client}();exports.default=Client},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Representative=function(){function Representative(ConfigurationService,$resource){return _classCallCheck(this,Representative),$resource(ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives/:id",{id:"@id",clientId:"@clientId"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives",isArray:!0},update:{method:"PUT"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives"},delete:{method:"DELETE"},search:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/clients/:clientId/representatives?search=:search&maxResults=:maxResults",isArray:!0}})}return Representative.$inject=["ConfigurationService","$resource"],_createClass(Representative,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Representative.instance=new Representative(ConfigurationService,$resource),Representative.instance}]}]),Representative}();exports.default=Representative},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _registration=__webpack_require__(1022),_registration2=_interopRequireDefault(_registration),_registration3=__webpack_require__(1023),_registration4=_interopRequireDefault(_registration3),_module=angular.module("tower360.registration",[]).controller("RegistrationController",_registration2.default).factory("Registration",_registration4.default.activate);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_validation_engine=__webpack_require__(547),_validation_engine2=_interopRequireDefault(_validation_engine),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),RegistrationController=function(){function RegistrationController($scope,$state,$stateParams,Registration,NotificationService,SecurityService){_classCallCheck(this,RegistrationController),this.$scope=$scope,this.$state=$state,this.Registration=Registration,this.notificationService=NotificationService,this.$stateParams=$stateParams,this.securityService=SecurityService,this.validationGroup="settings",this.error=!1,this.form=!1,this.getRegistrationObject()}return RegistrationController.$inject=["$scope","$state","$stateParams","Registration","NotificationService","SecurityService"],_createClass(RegistrationController,[{key:"startInit",value:function(){var self=this;self.init(),self.initForm(),self.initScrollbar()}},{key:"getRegistrationObject",value:function(){var self=this;self.Registration.get({token:this.$stateParams.token}).$promise.then(function(registrationObject){self.registrationObject=registrationObject,self.startInit(),self.form=!0},function(error){self.error=!0})}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){var self=this;self.validate=function(){var validateGroup=_validation_engine2.default.getGroupConfig(self.validationGroup);if(!validateGroup)return!1;var result=validateGroup.validate();return result.isValid},self.comprasionTarget=function(){if(self.registrationObject.password)return self.registrationObject.password}}},{key:"initForm",value:function(){var self=this;self.errorHandler={requestFailed:function(response){this.NotificationService.error(response.data)}},self.nameSettings={bindingOptions:{value:"$ctrl.registrationObject.email"},disabled:!0},self.nameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:"settings"},self.passwordSettings={bindingOptions:{value:"$ctrl.registrationObject.password"},mode:"password"},self.passwordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",min:6,message:(0,_messages2.default)("validation.shortPassword")}],validationGroup:"settings"},self.confirmPasswordSettings={bindingOptions:{value:"$ctrl.registrationObject.confirmPassword"},mode:"password"},self.confirmPasswordValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"compare",comparisonTarget:self.comprasionTarget,message:(0,_messages2.default)("validation.passwordsNotMatch")}],validationGroup:"settings"},self.displayNameSettings={bindingOptions:{value:"$ctrl.registrationObject.displayName"}},self.displayNameValidationRules={validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")}],validationGroup:"settings"},self.saveSettingsBtnConfig={text:(0,_messages2.default)("registration.submit"),type:"default",onClick:self.submit,template:"saveButtonWithLoadIndicator",bindingOptions:{disabled:"$ctrl.isSaveOperationDisabled || $ctrl.saveInProgress"}},self.cancelSettingsBtnConfig={text:(0,_messages2.default)("registration.cancel"),type:"normal",onClick:function(){self.$state.go("home")}},self.phoneSettings={placeholder:(0,_messages2.default)("registration.placeholder.phone"),bindingOptions:{value:"$ctrl.registrationObject.mobilePhone"}},self.phoneValidationRules={validationRules:[{type:"pattern",pattern:_constants2.default.phonePattern(),message:(0,_messages2.default)("validation.phone")},{type:"stringLength",max:_constants2.default.maxPhoneLength,message:(0,_messages2.default)("validation.maxLength")}],validationGroup:this.validationGroup},self.$scope.$watch("$ctrl.registrationObject",function(newValue,oldValue){self.isSaveOperationDisabled=!self.validate()},!0)}},{key:"submit",value:function(){var self=this.$ctrl,result=_validation_engine2.default.getGroupConfig("settings").validate();result.isValid&&(self.saveInProgress=!0,self.Registration.confirm({token:self.$stateParams.token},self.registrationObject,function(result){self.notificationService.success((0,_messages2.default)("clients.message.created")),self.saveInProgress=!1,self.signIn(self.registrationObject.email,self.registrationObject.password)},function(error){self.notificationService.error(error.data),self.saveInProgress=!1}))}},{key:"signIn",value:function(login,password){var _this=this;this.$ctrl;this.securityService.signIn(login,password).then(function(response){_this.securityService.reset(),_this.$state.go("home")},function(err){_this.error=err.data.error_description})}}]),RegistrationController}();exports.default=RegistrationController},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Registration=function(){function Registration(ConfigurationService,$resource){return _classCallCheck(this,Registration),$resource(ConfigurationService.getApiBaseUrl()+"api/account/registration/:token",{token:"@token"},{query:{method:"GET"},confirm:{method:"PUT"}})}return Registration.$inject=["ConfigurationService","$resource"],_createClass(Registration,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Registration.instance=new Registration(ConfigurationService,$resource),Registration.instance}]}]),Registration}();exports.default=Registration},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _contract=__webpack_require__(1025),_contract2=_interopRequireDefault(_contract),_statistics=__webpack_require__(1026),_statistics2=_interopRequireDefault(_statistics),_module=angular.module("tower360.resources",[]).factory("Contract",_contract2.default.activate).factory("Statistics",_statistics2.default.activate);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Contract=function(){function Contract(ConfigurationService,$resource){return _classCallCheck(this,Contract),$resource(ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId",{contractId:"@contractId",attachmentId:"@attachmentId"},{getFull:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/full"},getDocumentTypes:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/mastercontractfiletypes",isArray:!0},uploadDocument:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/attachments",transformRequest:angular.identity,headers:{"Content-Type":void 0}},deleteDocument:{method:"DELETE",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/attachments/:attachmentId"},addComment:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/comments"},getComments:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/comments",params:{offset:"@offset",count:"@count"},isArray:!0},updateDates:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/dates"},updateSpaceContract:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/spaces/:spaceId"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/contracts"},archive:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/archive"},restore:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/contracts/:contractId/restore"}})}return Contract.$inject=["ConfigurationService","$resource"],_createClass(Contract,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Contract.instance=new Contract(ConfigurationService,$resource),Contract.instance}]}]),Contract}();exports.default=Contract},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Statistics=function(){function Statistics(ConfigurationService,$resource){return _classCallCheck(this,Statistics),$resource(ConfigurationService.getApiBaseUrl()+"api/statistics",{},{getActiveDealsStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/statistics/global/deals/active"},getExecutedDealsStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/statistics/global/deals/executed"},getDeadDealsStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/statistics/global/deals/dead"},getActiveTenantsStats:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/statistics/global/tenants/active"}})}return Statistics.$inject=["ConfigurationService","$resource"],_createClass(Statistics,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Statistics.instance=new Statistics(ConfigurationService,$resource),Statistics.instance}]}]),Statistics}();exports.default=Statistics},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _markets=__webpack_require__(1028),_markets2=_interopRequireDefault(_markets);__webpack_require__(394);var _market=__webpack_require__(1029),_market2=_interopRequireDefault(_market),_module=angular.module("tower360.markets",["dx"]).controller("MarketsController",_markets2.default).factory("Market",_market2.default.activate);exports.default=_module},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_array_store=__webpack_require__(479),_array_store2=_interopRequireDefault(_array_store),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),MarketsController=function(){function MarketsController($scope,$state,Market,NotificationService,UtilsService){_classCallCheck(this,MarketsController),this.$scope=$scope,this.$state=$state,this.Market=Market,this.notificationService=NotificationService,this.utils=UtilsService,this.initGrid()}return MarketsController.$inject=["$scope","$state","Market","NotificationService","UtilsService"],_createClass(MarketsController,[{key:"initGrid",value:function(){var self=this;self.errorHandler={requestFailed:function(response){self.notificationService.error(response.data)}},self.markets=[],self.Market.query({},function(result){self.markets=result,self.store=new _array_store2.default({data:self.markets,key:"id",modified:function(){},errorHandler:self.errorHandler.requestFailed}),self.gridDataSource={store:self.store},self.gridSettings=$.extend(_constants2.default.defaultGridSettings(),{dataSource:self.gridDataSource,filterRow:{visible:!1},groupPanel:{visible:!1},editing:{allowUpdate:!0,allowDelete:!0},columns:[{dataField:"id",visible:!1},{dataField:"name",caption:(0,_messages2.default)("markets.name"),sortOrder:"asc",filterOperations:["contains","startswith","="],selectedFilterOperation:"contains",validationRules:[{type:"required",message:(0,_messages2.default)("validation.required")},{type:"stringLength",max:255}]},{dataField:"id",caption:(0,_messages2.default)("actions"),width:100,alignment:"right",cellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-pencil"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").editRow(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").deleteRow(options.rowIndex)}}).appendTo(container)},editCellTemplate:function(container,options){container.addClass("actions-cell"),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-floppy-o"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").saveEditData(options.rowIndex)}}).appendTo(container),$("<div />").dxButton({type:"custom",template:'<div class="fa fa-trash-o"></div>',onClick:function(e){$("#gridContainer").dxDataGrid("instance").cancelEditData(options.rowIndex)}}).appendTo(container)}}],onRowInserting:function(e){self.create(e)},onRowUpdating:function(e){self.update(e)},onRowRemoving:function(e){self.delete(e)}})})}},{key:"create",value:function(e){var self=this,d=$.Deferred();self.Market.create(e.data,function(result){self.notificationService.success((0,_messages2.default)("markets.message.created")),e.data.id=result.id,d.resolve()},function(error){self.notificationService.error(error.data),d.resolve(!0)}),e.cancel=d.promise()}},{key:"delete",value:function(e){var self=this,d=$.Deferred();self.Market.delete({id:e.data.id},function(result){self.notificationService.success((0,_messages2.default)("markets.message.deleted")),d.resolve()},function(error){self.notificationService.error(error.data.message),d.resolve(!0)}),e.cancel=d.promise()}},{key:"update",value:function(e){var data=e.oldData;null!=e.newData.name&&(data.name=e.newData.name);var self=this,d=$.Deferred();self.Market.update({id:data.id},data,function(result){self.notificationService.success((0,_messages2.default)("markets.message.updated")),d.resolve()},function(error){self.notificationService.error(error.data),d.resolve(!0)}),e.cancel=d.promise()}}]),MarketsController}();exports.default=MarketsController}).call(exports,__webpack_require__(178))},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Market=function(){function Market(ConfigurationService,$resource){return _classCallCheck(this,Market),$resource(ConfigurationService.getApiBaseUrl()+"api/markets/:id",{id:"@id"},{update:{method:"PUT"},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/markets"},search:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/markets/search?name=:name&maxResults=:maxResults"}})}return Market.$inject=["ConfigurationService","$resource"],_createClass(Market,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Market.instance=new Market(ConfigurationService,$resource),Market.instance}]}]),Market}();exports.default=Market},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard=__webpack_require__(1031),_dashboard2=_interopRequireDefault(_dashboard),_dashboard3=__webpack_require__(1033),_dashboard4=_interopRequireDefault(_dashboard3),_messages=__webpack_require__(721),_module=(_interopRequireDefault(_messages),angular.module("tower360.dashboard",[]).controller("DashboardController",_dashboard2.default).factory("Dashboard",_dashboard4.default.activate));exports.default=_module},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_googleMapsInfobox=__webpack_require__(1032),_googleMapsInfobox2=_interopRequireDefault(_googleMapsInfobox),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),DashboardController=function(){function DashboardController($scope,$rootScope,$state,uibDateParser,Asset,NotificationService,UtilsService,currentUser,AssetStats,LocationService,Dashboard,Settings){var _this=this;_classCallCheck(this,DashboardController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.Asset=Asset,this.AssetStats=AssetStats,this.Dashboard=Dashboard,this.NotificationService=NotificationService,this.UtilsService=UtilsService,this.locationService=LocationService,this.Settings=Settings,this.currentUser=currentUser,this.messages=_messages2.default,this.constants=_constants2.default,this.uibDateParser=uibDateParser,this.industryStats=[],this.industryStatsLoading=!0,this.industryStatsData=[],this.industryStatsLabels=[],this.Dashboard=Dashboard,this.rolloverData=[],this.globalStats={},this.$scope.extraFilters=[],this.initInfoBox(),this.initMap(),this.initRolloverChart(),this.initDealsViewingChart(),this.initFunnelChart(),this.initVacancyChart(),this.refreshIndustryChart();$rootScope.$on(_events2.default.DashboardExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.loadAssets(),self.initVacancyChart(),self.refreshIndustryChart(),_this.initRolloverChart(),_this.initFunnelChart(),_this.initDealsViewingChart()}),this.resetFilter(),this.initScrollbar()}return DashboardController.$inject=["$scope","$rootScope","$state","uibDateParser","Asset","NotificationService","UtilsService","currentUser","AssetStats","LocationService","Dashboard","Settings"],
_createClass(DashboardController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"initMap",value:function(){var self=this,mapElement=document.getElementById("assets-map"),mapOptions={disableDefaultUI:!0,zoomControl:!0,scrollwheel:!1,center:new google.maps.LatLng({lat:52.520468,lng:13.407234}),zoom:11};self.image=_constants2.default.mapOptions().markerImage,self.selectedImage=_constants2.default.mapOptions().markerSelectedImage,self.map=new google.maps.Map(mapElement,mapOptions),google.maps.event.addListener(self.map,"click",function(){self.closeInfoBox()});var assetIds=[];self.loadGlobalStats(assetIds),self.loadAssets()}},{key:"loadAssets",value:function(){var _this2=this,self=this;self.assets=[],self.markers=[];var criteria=this.getFilter();this.Asset.filtered(criteria,function(result){self.totalArea=result.reduce(function(sum,asset){return sum+asset.totalRentableArea},0),self.bounds=new google.maps.LatLngBounds,result.forEach(function(item){if(item.$ctrl=self,item.piedata=[item.totalRentableArea-item.occupancy,item.occupancy],item.location.latitude&&item.location.longitude){var marker=new google.maps.Marker({position:{lat:item.location.latitude,lng:item.location.longitude},map:self.map,title:item.name,icon:self.image,asset:item});self.markers.push(marker),self.bounds.extend(marker.position),google.maps.event.addListener(marker,"click",function(){self.openInfoBox(marker)})}}),self.assets=result,self.markerCluster&&self.markerCluster.clearMarkers(),self.markerCluster=new MarkerClusterer(self.map,self.markers,{imagePath:_constants2.default.mapOptions().clustersImagePath}),self.markers.length>0&&self.map.fitBounds(self.bounds)},function(error){_this2.NotificationService.error(error.data)})}},{key:"initInfoBox",value:function(){var self=this;self.infoBox=new _googleMapsInfobox2.default({alignBottom:!0,content:document.getElementById("infobox"),disableAutoPan:!1,isHidden:!1,boxStyle:{overflow:"visible"},pixelOffset:new google.maps.Size(-30,-33),zIndex:null,closeBoxURL:"",enableEventPropagation:!1})}},{key:"openInfoBox",value:function(marker){var self=this;self.selectedMarker&&self.selectedMarker.setOptions({icon:self.image}),self.$scope.$apply(function(){self.selectedMarker=marker,self.infoBoxAsset=marker.asset,self.infoBoxAsset.fullAddress=self.locationService.getAddress(marker.asset.location)}),self.infoBox.open(self.map,marker),self.selectedMarker.setOptions({icon:self.selectedImage})}},{key:"closeInfoBox",value:function(){var self=this;self.selectedMarker&&(self.selectedMarker.setOptions({icon:self.image}),self.infoBox.close())}},{key:"navigateToAsset",value:function(assetId){var self=this;1==self.currentUser.roleId?self.$state.go("asset",{id:assetId}):self.$state.go("asset-stats-stacking-plan",{id:assetId})}},{key:"filterAsset",value:function(asset){var scope=asset.$ctrl.$scope;if(!scope.tableFilter)return!0;var lcSearchString=scope.tableFilter.toLowerCase(),lcString=asset.name.toLowerCase();return lcString.indexOf(lcSearchString)>=0}},{key:"resetFilter",value:function(){var self=this;self.$scope.tableFilter=null}},{key:"initRolloverChart",value:function(){var _this3=this,self=this;this.rolloverModel={series:[(0,_messages2.default)("dashboard.rent_rollovert_chart.series")],options:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1,callbacks:{label:function(tooltipItem,data){return tooltipItem.xLabel}},custom:function(tooltip){var index=void 0,tooltipEl=$("#chartjs-rollover-tooltip");if(tooltipEl[0]||($("body").append('<div id="chartjs-rollover-tooltip"></div>'),tooltipEl=$("#chartjs-rollover-tooltip")),!tooltip.opacity)return tooltipEl.css({opacity:0}),void $(".chartjs-wrap canvas").each(function(index,el){$(el).css("cursor","default")});tooltipEl.removeClass("above below"),tooltipEl.addClass(tooltip.yAlign),tooltipEl.addClass(tooltip.xAlign);var tooltipWidth=void 0,isData=!1;if(tooltip.body&&tooltip.body[0].lines.length>0){for(var label=tooltip.body[0].lines[0],data=self.rolloverData.find(function(t){return t.label===label}),i=0;i<self.rolloverData.length;i++)if(self.rolloverData[i].label===label){index=i;break}var innerHtml="";if(innerHtml+="<div style='padding-bottom: 15px' class='row font-bold'>",innerHtml+="<div class='col-md-12'><span>"+(0,_messages2.default)("rent-rollover.tooltip.totalArea")+" "+data.totalArea.toFixed(2)+" "+(0,_messages2.default)("square.meter")+"</span></div>\n",innerHtml+="</div>",data.items.length){isData=!0,innerHtml+="<div style='padding-bottom: 15px' class='row font-bold'>",innerHtml+="<div class='col-md-3'>"+(0,_messages2.default)("rent-rollover.tooltip.tenant")+"</div>",innerHtml+="<div class='col-md-2'>"+(0,_messages2.default)("rent-rollover.tooltip.tower")+"</div>",innerHtml+="<div class='col-md-2'>"+(0,_messages2.default)("rent-rollover.tooltip.floor")+"</div>",innerHtml+="<div class='col-md-1'>"+(0,_messages2.default)("rent-rollover.tooltip.unit")+"</div>",innerHtml+="<div class='col-md-2'>"+(0,_messages2.default)("rent-rollover.tooltip.area")+"</div>",innerHtml+="<div class='col-md-2'>"+(0,_messages2.default)("rent-rollover.tooltip.expiration")+"</div>",innerHtml+="</div>";for(var _i=0;_i<data.items.length;_i++){var item=data.items[_i];innerHtml+="<div class='row'>",innerHtml+="<div class='col-md-3' style='word-wrap: break-word; '>"+item.tenantName+"</div>",innerHtml+="<div class='col-md-2'>"+item.assetName+"-"+item.towerName+"</div>",innerHtml+="<div class='col-md-2'>"+item.floorNumber+"</div>",innerHtml+="<div class='col-md-1'>"+item.unitNumber+"</div>",innerHtml+="<div class='col-md-2'>"+item.rentableArea.toFixed(2)+"  "+(0,_messages2.default)("square.meter")+"</div>",innerHtml+="<div class='col-md-2'>"+self.getParsedDate(item.expirationDate)+"</div>",innerHtml+="</div>"}}tooltipEl.html("<div class='arrow_box' id=\"arrow-box\"><div class='tooltip-container'>"+innerHtml+"</div></div>"),tooltipWidth=800}var top=0,left=0;if(tooltip.yAlign){var ch=0;tooltip.caretHeight&&(ch=tooltip.caretHeight),top="above"==tooltip.yAlign?tooltip.y-ch+5:tooltip.y+ch+5}if(tooltip.xAlign){var _ch=0;switch(tooltip.caretSize&&(_ch=tooltip.caretSize),tooltip.xAlign){case"right":left=tooltip.x+60+_ch+tooltip.caretPadding;break;case"left":left=tooltip.x+_ch+tooltip.caretPadding+10;break;case"center":left=tooltip.x+_ch+tooltip.caretPadding+30}}0===index&&isData&&(left=left+tooltipWidth/2-100,$("#arrow-box").addClass("shifted_to_left")),index===self.rolloverData.length-1&&isData&&(left=left-tooltipWidth/2+100,$("#arrow-box").addClass("shifted_to_right")),tooltipEl.css({opacity:1,width:isData?"800px":"auto",top:top-tooltipEl[0].offsetHeight+10+"px",left:left+"px",fontFamily:tooltip._fontFamily,fontSize:tooltip.fontSize,fontStyle:tooltip._fontStyle,padding:tooltip.yPadding+"px "+tooltip.xPadding+"px"})}},scales:{xAxes:[{ticks:{fontSize:12,fontColor:"#485465"},gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0}}],yAxes:[{ticks:{fontSize:12,fontColor:"#485465"},gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0}}]}},colors:[{backgroundColor:"#beed0b",borderColor:"#ffffff"}]},this.rolloverInProgress=!0;var criteria=self.getFilter();this.Dashboard.rolloverData({assetIds:criteria.assets,mr:criteria.mr,ct:criteria.ct},function(result){var labels=[],data=[];result.forEach(function(item){labels.push(item.label),data.push(item.totalArea)}),_this3.rolloverModel.labels=labels,_this3.rolloverModel.data=[data],_this3.rolloverInProgress=!1,_this3.rolloverData=result},function(error){_this3.NotificationService.error(error.data),_this3.rolloverInProgress=!1})}},{key:"initDealsViewingChart",value:function(){var _this4=this,TOURS_CHART_FIRST_POPUP_LEFT_POSITION=210,self=this;this.dealsViewingStatsModel={series:[(0,_messages2.default)("dashboard.deal_viewing_chart.series")],colors:[{backgroundColor:"#fbc40b",borderColor:"#ffffff"}],options:{responsive:!0,maintainAspectRatio:!1,tooltips:{enabled:!1,callbacks:{label:function(tooltipItem,data){self.dealsViewingStats.find(function(t){return(0,_moment2.default)(t.timeStamp).format("MMM")==data.labels[tooltipItem.index]});return data.labels[tooltipItem.index]}},position:"average",custom:function(tooltip){var index=void 0,tooltipEl=$("#chartjs-dealviewings-tooltip");if(tooltipEl[0]||($("body").append('<div id="chartjs-dealviewings-tooltip"></div>'),tooltipEl=$("#chartjs-dealviewings-tooltip")),!tooltip.opacity)return tooltipEl.css({opacity:0}),void $(".chartjs-wrap canvas").each(function(index,el){$(el).css("cursor","default")});tooltipEl.removeClass("above below"),tooltipEl.addClass(tooltip.yAlign),tooltipEl.addClass(tooltip.xAlign);var tooltipWidth=void 0,isData=!1;if(tooltip.body&&tooltip.body[0].lines.length>0){index=null;for(var timeStamp=tooltip.body[0].lines[0],stat=self.dealsViewingStats.find(function(t){return(0,_moment2.default)(t.timeStamp).format("MMM")==timeStamp}),i=0;i<self.dealsViewingStats.length;i++)if((0,_moment2.default)(self.dealsViewingStats[i].timeStamp).format("MMM")===timeStamp){index=i;break}var innerHtml="";if(innerHtml+="<div style='padding-bottom: 15px' class='row font-bold'>",innerHtml+="<div class='col-md-12'><span>"+self.messages("dashboard.deal_viewing_chart.series")+": "+stat.dealCount+"</span></div></div>\n",innerHtml+="<div style='padding-bottom: 15px' class='row font-bold'>",innerHtml+="<div class='col-md-4'><span>"+self.messages("dashboard.deal_viewing_chart.header.tenant")+"</span></div>\n",innerHtml+="<div class='col-md-4' style='padding-left: 5px'><span>"+self.messages("dashboard.deal_viewing_chart.header.asset")+"</span></div>\n",innerHtml+="<div class='col-md-4' style='padding-left: 5px'><span>"+self.messages("dashboard.deal_viewing_chart.header.area")+"</span></div>\n</div>\n",null!=stat&&null!=stat.assetObjects)for(var idx=0;idx<self.constants.dealViewingStatObjectsInList&&idx<stat.assetObjects.length;idx++){var t=stat.assetObjects[idx],name=null!=t.tenantShortName?t.tenantShortName:t.tenantName,asset=t.assetName+" - "+t.assetObjectName,cost=t.rentableAreaDiscrete?t.rentableAreaDiscrete:t.rentableAreaMin+" - "+t.rentableAreaMax;innerHtml+="<div style='padding-bottom: 5px' class='row'>",innerHtml+="<div class='col-md-4' style='word-wrap: break-word; '>"+name+"</div>\n",innerHtml+="<div class='col-md-4' style='padding-left: 5px'><span>"+asset+"</span></div>\n",innerHtml+="<div class='col-md-4' style='padding-left: 5px'><span>"+cost+" "+self.messages("square.meter")+"</span></div>\n</div>\n"}tooltipEl.html("<div class='arrow_box' id=\"arrow-box\"><div class='tooltip-container'>"+innerHtml+"</div></div>"),tooltipWidth=self.getTextWidth(timeStamp,tooltip.bodyFontSize+"px"+tooltip._bodyFontFamily),isData=null!=stat}var top=0,left=0;if(tooltip.yAlign){var ch=0;tooltip.caretHeight&&(ch=tooltip.caretHeight),top="above"==tooltip.yAlign?tooltip.y-ch+5:tooltip.y+ch+5}if(tooltip.xAlign){var _ch2=0;tooltip.caretSize&&(_ch2=tooltip.caretSize),left="right"==tooltip.xAlign?tooltip.x+tooltipWidth+30+_ch2+tooltip.caretPadding:tooltip.x+_ch2+tooltip.caretPadding+10}0===index&&isData&&(left=TOURS_CHART_FIRST_POPUP_LEFT_POSITION,$("#arrow-box").addClass("shifted_to_left")),tooltipEl.css({opacity:1,width:isData?"400px":"auto",top:top-tooltipEl[0].offsetHeight+10+"px",left:left+"px",fontFamily:tooltip._fontFamily,fontSize:tooltip.fontSize,fontStyle:tooltip._fontStyle,padding:tooltip.yPadding+"px "+tooltip.xPadding+"px"})}},scales:{xAxes:[{ticks:{fontSize:12,fontColor:"#485465"},gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0}}],yAxes:[{ticks:{fontSize:12,fontColor:"#485465",stepSize:1},gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0}}]}}},this.dealViewingInProgress=!0;var criteria=this.getFilter();this.Dashboard.dealViewingStatsData({mr:criteria.mr,ct:criteria.ct,assetIds:criteria.assets},function(result){_this4.dealsViewingStats=result.items,_this4.dealsViewingStatsModel.labels=result.items.map(function(t){return(0,_moment2.default)(t.timeStamp).format("MMM")}),_this4.dealsViewingStatsModel.data=[result.items.map(function(t){return t.dealCount})],_this4.dealViewingInProgress=!1},function(error){_this4.NotificationService.error(error.data),_this4.dealViewingInProgress=!1})}},{key:"refreshIndustryChart",value:function(){var self=this,criteria=this.getFilter();this.industryStatsLoading=!0,this.Dashboard.industryStatsData(criteria,function(result){self.industryStatsLoading=!1,result.items.forEach(function(t){0==t.industryId&&(t.industryId=9999,t.industryType=self.messages("dashboard.tenant_exposure.industry.notset"))}),self.industryStats=result.items.splice(0,self.constants.industryStatItemInList-1);var otherTenant=[],otherTotalArea=0,otherTotalCost=0;result.items.forEach(function(t){otherTenant=otherTenant.concat(t.tenants)}),otherTenant.sort(function(a,b){return+(a.rentableArea<b.rentableArea)||+(a.rentableArea===b.rentableArea)-1}),otherTenant.forEach(function(t){otherTotalArea+=t.rentableArea,otherTotalCost+=t.rentableCost}),self.industryStats.push({industryId:99,industryType:self.messages("dashboard.tenant_exposure.industry.other"),rentableArea:otherTotalArea,rentableCost:otherTotalCost,tenants:otherTenant.splice(0,self.constants.industryStatTenantInList)}),self.industryStatsData=self.industryStats.map(function(t){return t.rentableArea}),self.industryStatsLabels=self.industryStats.map(function(t){return t.industryType});var totalArea=0;self.industryStats.forEach(function(t){return totalArea+=t.rentableArea}),self.industryStats.forEach(function(t){return t.percentage=(t.rentableArea/totalArea*100).toFixed(0)}),self.initIndustryChart()},function(error){self.NotificationService.error(error.data.message?error.data.message:error.data)})}},{key:"initIndustryChart",value:function(){var self=this;this.industryChartModel={labels:this.industryStatsLabels,data:this.industryStatsData,options:{cutoutPercentage:70,maintainAspectRatio:!1,legend:{display:!0,position:"right",labels:{boxWidth:12,fontSize:12,fontColor:"#485465",padding:20,generateLabels:function(chart){for(var array=[],idx=0;idx<chart.data.labels.length;idx++){var stat=self.industryStats.find(function(t){return t.industryType==chart.data.labels[idx]});stat&&array.push({text:chart.data.labels[idx]+" "+stat.percentage+"%",fillStyle:chart.data.datasets[0].backgroundColor[idx]})}return array}}},tooltips:{enabled:!1,callbacks:{label:function(tooltipItem,data){var stat=self.industryStats.find(function(t){return t.industryType==data.labels[tooltipItem.index]});return stat.industryId}},position:"average",custom:function(tooltip){var tooltipEl=$("#chartjs-tooltip");if(tooltipEl[0]||($("body").append('<div id="chartjs-tooltip"></div>'),tooltipEl=$("#chartjs-tooltip")),!tooltip.opacity)return tooltipEl.css({opacity:0}),void $(".chartjs-wrap canvas").each(function(index,el){$(el).css("cursor","default")});tooltipEl.removeClass("above below"),tooltipEl.addClass(tooltip.yAlign),tooltipEl.addClass(tooltip.xAlign);var tooltipWidth=void 0;if(tooltip.body&&tooltip.body[0].lines.length>0){var industryId=tooltip.body[0].lines[0],stat=self.industryStats.find(function(t){return t.industryId==industryId}),innerHtml="";innerHtml+="<div style='padding-bottom: 15px' class='row font-bold'>",innerHtml+="<div class='col-md-9'><span>"+stat.industryType+"</span></div>\n",innerHtml+="<div class='col-md-3' style='padding-left: 5px; text-align: right'>"+stat.percentage+" %</div>\n</div>\n",innerHtml+="<div style='padding-bottom: 15px' class='row font-bold'>",innerHtml+="<div class='col-md-6'><span>"+self.messages("dashboard.tenant_exposure.tooltip.total")+": </span></div>\n",innerHtml+="<div class='col-md-3' style='padding-left: 5px; text-align: right'><span>"+stat.rentableArea.toFixed(0)+" "+self.messages("square.meter")+"</span></div>\n",innerHtml+="<div class='col-md-3' style='padding-left: 5px; text-align: right'><span>"+self.Settings.getCurrency()+" "+stat.rentableCost.toFixed(0)+"</span></div>\n</div>\n",null!=stat&&null!=stat.tenants&&stat.tenants.forEach(function(t){var name=null!=t.tenantShortName?t.tenantShortName:t.tenantName;innerHtml+="<div style='padding-bottom: 5px' class='row'>",innerHtml+="<div class='col-md-6' style='word-wrap: break-word; '>"+name+"</div>\n",innerHtml+="<div class='col-md-3' style='padding-left: 5px; text-align: right'><span>"+t.rentableArea.toFixed(0)+" "+self.messages("square.meter")+"</span></div>\n",innerHtml+="<div class='col-md-3' style='padding-left: 5px; text-align: right'><span>"+self.Settings.getCurrency()+" "+t.rentableCost.toFixed(0)+"</span></div>\n</div>\n"}),tooltipEl.html("<div class='arrow_box'><div class='tooltip-container'>"+innerHtml+"</div></div>"),tooltipWidth=self.getTextWidth(industryId,tooltip.bodyFontSize+"px"+tooltip._bodyFontFamily)}var top=0,left=0;if(tooltip.yAlign){var ch=0;tooltip.caretHeight&&(ch=tooltip.caretHeight),top="above"==tooltip.yAlign?tooltip.y-ch+5:tooltip.y+ch+5}if(tooltip.xAlign){var _ch3=0;tooltip.caretSize&&(_ch3=tooltip.caretSize),left="right"==tooltip.xAlign?tooltip.x+tooltipWidth+30+_ch3+tooltip.caretPadding:tooltip.x+_ch3+tooltip.caretPadding+10}tooltipEl.css({opacity:1,width:"auto",top:top-tooltipEl[0].offsetHeight+10+"px",left:left+"px",fontFamily:tooltip._fontFamily,fontSize:tooltip.fontSize,fontStyle:tooltip._fontStyle,padding:tooltip.yPadding+"px "+tooltip.xPadding+"px"})}},layout:{padding:{left:0,right:100,top:0,bottom:0}}},colors:["#beed0a","#f74b60","#fdb900","#4990e2","#051739","#cf6c09"]}}},{key:"initFunnelChart",value:function(){var _this5=this,self=this;self.funnelData=[],this.funnelModel={series:["1","2","3"],options:{responsive:!0,maintainAspectRatio:!1,hover:{animationDuration:0},tooltips:{enabled:!1},legend:{display:!1},scales:{xAxes:[{stacked:!0,barThickness:20,gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0},ticks:{display:!1}}],yAxes:[{stacked:!0,barThickness:20,gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0}}]},animation:{onComplete:function(){var chartInstance=this.chart,ctx=chartInstance.ctx;ctx.textAlign="left",ctx.font="10px",ctx.fillStyle="#485465";var meta=chartInstance.controller.getDatasetMeta(1);$(".funnel-chart-values").empty(),Chart.helpers.each(meta.data.forEach(function(bar,index){if(0!==self.funnelModel.data[1][index]){var data=self.funnelData[index]+" ("+self.funnelModel.data[1][index]+"%)";$(".funnel-chart-values").append("<div>"+data+"</div>")}}),this)}}},colors:[{backgroundColor:"#dbecf8",borderColor:"#dbecf8"},{backgroundColor:"#116bb5",borderColor:"#116bb5"},{backgroundColor:"#dbecf8",borderColor:"#dbecf8"}]},this.funnelInProgress=!0;var criteria=self.getFilter();this.Dashboard.funnelData({mr:criteria.mr,ct:criteria.ct,assetIds:criteria.assets},function(result){var labels=[(0,_messages2.default)("dashboard.funnel-chart.inquiry"),(0,_messages2.default)("dashboard.funnel-chart.viewing"),(0,_messages2.default)("dashboard.funnel-chart.negotiating"),(0,_messages2.default)("dashboard.funnel-chart.underOffer"),(0,_messages2.default)("dashboard.funnel-chart.executed")],data=[[0,(100-result.viewingPercent)/2,(100-result.negotiatingPercent)/2,(100-result.underOfferPercent)/2,(100-result.executedPercent)/2],[result.inquiryPercent,result.viewingPercent,result.negotiatingPercent,result.underOfferPercent,result.executedPercent],[0,(100-result.viewingPercent)/2,(100-result.negotiatingPercent)/2,(100-result.underOfferPercent)/2,(100-result.executedPercent)/2]];self.funnelData.push(result.inquiryCount),self.funnelData.push(result.viewingCount),self.funnelData.push(result.negotiatingCount),self.funnelData.push(result.underOfferCount),self.funnelData.push(result.executedCount),_this5.funnelModel.labels=labels,_this5.funnelModel.data=data,_this5.funnelInProgress=!1},function(error){_this5.NotificationService.error(error.data),_this5.funnelInProgress=!1})}},{key:"initVacancyChart",value:function(){var _this6=this,self=this;this.vacancyModel={series:[(0,_messages2.default)("dashboard.vacancy_chart.series")],colors:[{backgroundColor:"#ffffff",hoverBackgroundColor:"#ffffff",borderColor:"#f5ab5e",hoverBorderColor:"#f5ab5e"}],options:{responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0},ticks:{display:!0}}],yAxes:[{gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0},ticks:{suggestedMin:5,suggestedMax:50,fontSize:12,fontColor:"#485465"}}]},elements:{line:{tension:0,borderWidth:4},point:{hitRadius:8,hoverRadius:8,radius:6,borderWidth:2}}}},this.vacancyInProgress=!0;var criteria=this.getFilter();this.Dashboard.vacancyData(criteria,function(result){var labels=[],data=[];result.forEach(function(item){labels.push(self.getParsedShortDate(item.date)),data.push(item.availabilityRate)}),_this6.vacancyModel.labels=labels,_this6.vacancyModel.data=[data],_this6.vacancyInProgress=!1,_this6.vacancyData=result},function(error){_this6.NotificationService.error(error.data),_this6.vacancyInProgress=!1})}},{key:"getTextWidth",value:function(text,font){var canvas=document.createElement("canvas"),ctx=canvas.getContext("2d");ctx.font=font;var width=ctx.measureText(text).width;return width}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"getParsedShortDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM")}},{key:"loadGlobalStats",value:function(assetIds){var _this7=this,self=this;self.AssetStats.getGlobalStats({assetIds:assetIds},function(result){self.globalStats=result},function(error){_this7.$scope.error=error})}},{key:"getFilter",value:function(){var assets=[],markets=[],cities=[],assetStates=[];return this.$scope.extraFilters.forEach(function(item){0===item.id.indexOf("asset_")&&assets.push(item.value.id),0===item.id.indexOf("city_")&&cities.push(item.value.name),0===item.id.indexOf("market_")&&markets.push(item.value)}),assetStates.push(_constants2.default.assetStateIds.active),{assets:assets,ct:cities,mr:markets,brokerId:this.currentUser.brokerId,assetStates:assetStates}}}]),DashboardController}();exports.default=DashboardController}).call(exports,__webpack_require__(178))},,function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Dashboard=function(){function Dashboard(ConfigurationService,$resource){return _classCallCheck(this,Dashboard),$resource(ConfigurationService.getApiBaseUrl()+"api/dashboard",{},{rolloverData:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/rollover"},industryStatsData:{method:"GET",isArray:!1,url:ConfigurationService.getApiBaseUrl()+"api/contracts/industrystats"},dealViewingStatsData:{method:"GET",isArray:!1,url:ConfigurationService.getApiBaseUrl()+"api/deals/viewingstat"},funnelData:{method:"GET",isArray:!1,url:ConfigurationService.getApiBaseUrl()+"api/funnel/deal-stats"},vacancyData:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/space-availability/stats"}})}return Dashboard.$inject=["ConfigurationService","$resource"],_createClass(Dashboard,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Dashboard.instance=new Dashboard(ConfigurationService,$resource),Dashboard.instance}]}]),Dashboard}();exports.default=Dashboard},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaces=__webpack_require__(1035),_spaces2=_interopRequireDefault(_spaces),_spaceStatistic=__webpack_require__(1036),_spaceStatistic2=_interopRequireDefault(_spaceStatistic),_globalSpacesList=__webpack_require__(1039),_globalSpacesList2=_interopRequireDefault(_globalSpacesList),_module=angular.module("tower360.spaces",[]).controller("SpacesController",_spaces2.default).component("spaceStatistics",_spaceStatistic2.default).component("globalSpacesList",_globalSpacesList2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _spacesFilterModal=__webpack_require__(1007),_spacesFilterModalTemplate=(_interopRequireDefault(_spacesFilterModal),__webpack_require__(1008)),_constants=(_interopRequireDefault(_spacesFilterModalTemplate),__webpack_require__(720)),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_events=(_interopRequireDefault(_moment),__webpack_require__(791)),SpacesController=(_interopRequireDefault(_events),function SpacesController($scope,$rootScope,$state,AssetStatSpaces,$uibModal,uibDateParser,$timeout,UtilsService,IndustryLookupService,AssetStats,availableSpaceTypes,SpaceTypeLookupService,Space,NotificationService,ExportDataService,Settings){_classCallCheck(this,SpacesController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.AssetStatSpaces=AssetStatSpaces,this.AssetStats=AssetStats,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.utils=UtilsService,this.IndustryLookupService=IndustryLookupService,this.availableSpaceTypes=availableSpaceTypes,this.SpaceTypeLookupService=SpaceTypeLookupService,this.Settings=Settings,this.Space=Space,this.NotificationService=NotificationService,this.ExportDataService=ExportDataService,this.Messages=_messages2.default,this.const=_constants2.default,this.globalStats={}});SpacesController.$inject=["$scope","$rootScope","$state","AssetStatSpaces","$uibModal","uibDateParser","$timeout","UtilsService","IndustryLookupService","AssetStats","availableSpaceTypes","SpaceTypeLookupService","Space","NotificationService","ExportDataService","Settings"],exports.default=SpacesController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _spaceStatistic=__webpack_require__(1037),_spaceStatistic2=_interopRequireDefault(_spaceStatistic),_spaceStatisticTemplate=__webpack_require__(1038),_spaceStatisticTemplate2=_interopRequireDefault(_spaceStatisticTemplate),SpaceStatisticsComponent={bindings:{},controller:_spaceStatistic2.default,template:_spaceStatisticTemplate2.default};exports.default=SpaceStatisticsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),SpaceStatisticsController=function(){function SpaceStatisticsController($scope,$rootScope,$state,UtilsService,NotificationService,AssetStatSpaces,Settings){_classCallCheck(this,SpaceStatisticsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.Utils=UtilsService,this.notificationService=NotificationService,this.Settings=Settings,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.criteria=this.getEmptyCriteria(),this.loadingData=!1,this.stats={},this.AssetStatSpaces=AssetStatSpaces,this.init(this.$scope.criteria);var self=this;this.$rootScope.$on(_events2.default.SpaceStatsReload,function(ev,data){var criteria=data&&data.criteria?data.criteria:self.$scope.criteria;self.init(criteria)})}return SpaceStatisticsController.$inject=["$scope","$rootScope","$state","UtilsService","NotificationService","AssetStatSpaces","Settings"],_createClass(SpaceStatisticsController,[{key:"init",value:function(criteria){var self=this;self.$scope.criteria=criteria,self.loading=!0,self.AssetStatSpaces.getStatsExt({av:criteria.av,agte:criteria.agte,alte:criteria.alte,apgte:criteria.apgte,aplte:criteria.aplte,ipgte:criteria.ipgte,iplte:criteria.iplte,expgte:criteria.expgte,explte:criteria.explte,fgte:criteria.fgte,flte:criteria.flte,twr:criteria.twr,ot:criteria.ot,st:criteria.st,ct:criteria.ct,mr:criteria.mr,assets:criteria.assetIds},function(result){self.stats=result,self.loading=!1},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"getEmptyCriteria",value:function(){return{av:null,agte:null,alte:null,apgte:null,aplte:null,ipgte:null,iplte:null,expgte:null,explte:null,fgte:null,flte:null,twr:null,ot:null,st:null,ct:null,mr:null,assets:null}}}]),SpaceStatisticsController}();exports.default=SpaceStatisticsController},function(module,exports){module.exports='<div ng-if="$ctrl.loading" class="text-center">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n<div ng-if="!$ctrl.loading" ng-class="$ctrl.showAssetsPanel ? \'stat-box\' : \'asset-info-panel\'" class="clearfix">\r\n    <div class="asset-info-block main-stat">\r\n        <div class="asset-info-header">{{Messages(\'spaces.statistics.unitscount\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.spaceNumber}}</span>\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}">\r\n        <div class="asset-info-header">{{Messages(\'assets.statistics.area\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue($ctrl.stats.totalRentableArea)}}</span>\r\n            <span ng-bind-html="Messages(\'square.meter\')" class="asset-info-unit" />\r\n        </div>\r\n    </div>\r\n    <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}"  ng-if="criteria.av === Constants.spaceAvailabilityIds.available">\r\n        <div class="asset-info-header">{{Messages(\'spaces.statistics.daysvacancy\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.daysVacancy != null ? $ctrl.stats.daysVacancy : 0}}</span>\r\n        </div>\r\n    </div>\r\n    <!--<div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}">\r\n        <div class="asset-info-header">{{Messages(\'spaces.statistics.daysavailable\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.stats.daysAvailable != null ? $ctrl.stats.daysAvailable : 0}}</span>\r\n        </div>\r\n    </div>-->\r\n    <div class="asset-info-block" ng-class="{\'pull-right\': $ctrl.assetId != null}" ng-if="criteria.av === Constants.spaceAvailabilityIds.available">\r\n        <div class="asset-info-header">{{Messages(\'spaces.statistics.askingrent\')}}</div>\r\n        <div>\r\n            <span class="asset-info-value">{{$ctrl.Utils.formatBadgeValue($ctrl.stats.askingRent)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/></span>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _globalSpacesList=__webpack_require__(1040),_globalSpacesList2=_interopRequireDefault(_globalSpacesList),_globalSpacesListTemplate=__webpack_require__(1041),_globalSpacesListTemplate2=_interopRequireDefault(_globalSpacesListTemplate),GlobalSpacesListComponent={bindings:{availableSpaceTypes:"=?",globalStats:"=?",statsFilter:"=?"},controller:_globalSpacesList2.default,template:_globalSpacesListTemplate2.default};exports.default=GlobalSpacesListComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_spacesFilterModal=__webpack_require__(1007),_spacesFilterModalTemplate=(_interopRequireDefault(_spacesFilterModal),__webpack_require__(1008)),_constants=(_interopRequireDefault(_spacesFilterModalTemplate),__webpack_require__(720)),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_events=(_interopRequireDefault(_moment),__webpack_require__(791)),_events2=_interopRequireDefault(_events),GlobalSpacesListController=function(){function GlobalSpacesListController($scope,$rootScope,$state,AssetStatSpaces,AssetObject,$uibModal,uibDateParser,$timeout,UtilsService,IndustryLookupService,AssetStats,SpaceTypeLookupService,Space,NotificationService,ExportDataService,Settings){var _this=this;_classCallCheck(this,GlobalSpacesListController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.AssetStatSpaces=AssetStatSpaces,this.AssetObject=AssetObject,this.AssetStats=AssetStats,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.utils=UtilsService,this.IndustryLookupService=IndustryLookupService,this.SpaceTypeLookupService=SpaceTypeLookupService,this.Settings=Settings,this.Space=Space,this.NotificationService=NotificationService,this.ExportDataService=ExportDataService,this.Messages=_messages2.default,this.const=_constants2.default,this.globalStats={},this.lastUsedCriteria=null,this.init(),$scope.$on("$destroy",function(){$rootScope.$broadcast(_events2.default.RightSideBarClose)}),$scope.$on(_events2.default.RightSideBarClosed,function(){_this.selectSpaceRow([]),_this.selectedSpace=null}),$rootScope.$on(_events2.default.SpaceBasicDataChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id===data.id){self.$scope.greedData[i].minAskingPrice=data.minAskingPrice,self.$scope.greedData[i].maxAskingPrice=data.maxAskingPrice,self.$scope.greedData[i].type=data.type,self.$scope.greedData[i].rentableArea=data.rentableArea,self.$scope.greedData[i].isAvailable=data.isAvailable,self.$scope.greedData[i].availabilityDate=data.availabilityDate,self.$scope.greedData[i].isImmediateAvailable=data.isImmediateAvailable,self.$scope.greedData[i].daysVacant=data.daysVacant;break}self.$rootScope.$broadcast(_events2.default.SpaceStatsReload,{criteria:self.getSearchCriteria()})}),$rootScope.$on(_events2.default.UnitCreated,function(ev,data){_this.gridUpdate(_constants2.default.defaultPageNumber)}),$rootScope.$on(_events2.default.ContractSpaceCostsChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.id){self.$scope.greedData[i].contract.inPlaceRent=data.inPlaceRent;break}}),$rootScope.$on(_events2.default.ContractCreated,function(ev){var self=_this;self.gridUpdate(_constants2.default.defaultPageNumber)}),$rootScope.$on(_events2.default.SpacesExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.gridUpdate(_constants2.default.defaultPageNumber)}),this.initScrollbar()}return GlobalSpacesListController.$inject=["$scope","$rootScope","$state","AssetStatSpaces","AssetObject","$uibModal","uibDateParser","$timeout","UtilsService","IndustryLookupService","AssetStats","SpaceTypeLookupService","Space","NotificationService","ExportDataService","Settings"],_createClass(GlobalSpacesListController,[{key:"initScrollbar",value:function(){var self=this;angular.element(document).ready(function(){SimpleScrollbar.initAll(),self.$scope.showData=!0})}},{key:"init",value:function(){this.$scope.showData=!1,this.$scope.greedData=[],this.$scope.availabilities=[{id:_constants2.default.spaceAvailabilities.available,value:_constants2.default.spaceAvailabilityIds.available,name:(0,_messages2.default)("assets.spaces.filter.available")},{id:_constants2.default.spaceAvailabilities.notAvailable,value:_constants2.default.spaceAvailabilityIds.notAvailable,name:(0,_messages2.default)("assets.spaces.filter.notAvailable")},{id:_constants2.default.spaceAvailabilities.all,value:_constants2.default.spaceAvailabilityIds.all,name:(0,_messages2.default)("assets.spaces.filter.all")},{id:_constants2.default.spaceAvailabilities.archived,value:_constants2.default.spaceAvailabilityIds.archived,name:(0,_messages2.default)("assets.spaces.filter.archived")}],this.$scope.selectedAvailability=this.$scope.availabilities[2],this.$scope.extraFilters=[],this.$scope.sortType=_constants2.default.spaceSortOptions.asset,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.gridUpdate(_constants2.default.defaultPageNumber),this.$scope.spaceStatusesDictionary={},this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.vacant]=(0,_messages2.default)("assets.spaces.status.vacant"),this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.occupied]=(0,_messages2.default)("assets.spaces.status.occupied"),this.$scope.spaceStatusesDictionary[_constants2.default.spaceStatusIds.reserved]=(0,_messages2.default)("assets.spaces.status.reserved")}},{key:"gridUpdate",value:function(page){var _this2=this;this.$scope.update=!0,this.page=page;var criteria=this.getSearchCriteria();this.isGlobalStatsFiltersChanged(criteria)&&this.loadGlobalStats(criteria.assetIds,criteria.ct,criteria.mr),this.isSecondLevelStatsFiltersChanged(criteria)&&this.$rootScope.$broadcast(_events2.default.SpaceStatsReload,{criteria:criteria}),this.AssetStatSpaces.search({av:criteria.av,agte:criteria.agte,alte:criteria.alte,apgte:criteria.apgte,aplte:criteria.aplte,ipgte:criteria.ipgte,iplte:criteria.iplte,expgte:criteria.expgte,explte:criteria.explte,fgte:criteria.fgte,flte:criteria.flte,twr:criteria.twr,ot:criteria.ot,st:criteria.st,ct:criteria.ct,mr:criteria.mr,assets:criteria.assetIds,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20},function(result){_this2.$scope.update=!1,_this2.floorsMax=result.maxFloor,_this2.floorsMin=result.minFloor,1===page?(_this2.$scope.greedData=result.items,_this2.$scope.disable_infinite_scrolling=!1):0===result.items.length?_this2.$scope.disable_infinite_scrolling=!0:(_this2.$scope.disable_infinite_scrolling=!1,_this2.$scope.greedData=_this2.$scope.greedData.concat(result.items)),_this2.$timeout(function(){_this2.$scope.load_more=!1},1)},function(error){console.log(error),_this2.$scope.update=!1,_this2.$scope.error=error}),this.lastUsedCriteria=criteria,this.$rootScope.$broadcast(_events2.default.RightSideBarClose)}},{key:"getSearchCriteria",value:function(){var extraFilters=this.$scope.extraFilters,availability=null,availableFrom=null,availableTo=null,inPlacePriceFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRentFrom}),inPlacePriceTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRentTo}),inPlacePrice=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.inPlaceRent}),priceFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.priceFrom}),priceTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.priceTo}),price=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.price}),areaFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.areaFrom}),areaTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.areaTo}),area=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.area}),floorFrom=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.floorFrom}),floorTo=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.floorTo}),towers=[],spaceTypes=[],assetIds=[],markets=[],cities=[],status=extraFilters.find(function(item){return item.id===_constants2.default.spacesExtraFilters.status});return extraFilters.forEach(function(item){0===item.id.indexOf("tower_")&&towers.push(item.value.id),0===item.id.indexOf("asset_")&&assetIds.push(item.value),0===item.id.indexOf("office_type_")&&spaceTypes.push(item.value.value),0===item.id.indexOf("city_")&&cities.push(item.value.name),0===item.id.indexOf("market_")&&markets.push(item.value)}),availability=this.$scope.selectedAvailability.value,this.statsFilter&&(this.statsFilter.assetIds=assetIds,this.statsFilter.citiesIds=cities,this.statsFilter.marketIds=markets),{av:availability,agte:areaFrom&&areaFrom.value||area&&area.value,alte:areaTo&&areaTo.value||area&&area.value,apgte:priceFrom&&priceFrom.value||price&&price.value,aplte:priceTo&&priceTo.value||price&&price.value,ipgte:inPlacePriceFrom&&inPlacePriceFrom.value||inPlacePrice&&inPlacePrice.value,iplte:inPlacePriceTo&&inPlacePriceTo.value||inPlacePrice&&inPlacePrice.value,expgte:availableFrom,explte:availableTo,fgte:floorFrom&&floorFrom.value,flte:floorTo&&floorTo.value,twr:towers,ot:spaceTypes,st:status&&status.value,assetIds:assetIds,ct:cities,mr:markets}}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"getOfficeType",value:function(type){var officeType=this.availableSpaceTypes.find(function(item){return item.value===type});return officeType.text}},{key:"getParsedDate",value:function(date){return this.uibDateParser.filter(new Date(date),"dd/MM/yyyy")}},{key:"selectAvailability",value:function(e,availability){e.preventDefault(),this.prevSelectedAvailability=this.$scope.selectedAvailability,this.$scope.selectedAvailability=availability,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"showDateRangeSelector",value:function(){$(this.customDateElement).focus()}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(_constants2.default.defaultPageNumber),this.$rootScope.$emit(_events2.default.SpacesExtraFilterItemRemoved,{item:item})}},{key:"selectSpaceRow",value:function(row){var cl="filtered-spaces-row-selected";$("#filtered-spaces-grid tr").each(function(i,item){item===row[0]?$(item).addClass(cl):$(item).removeClass(cl)})}},{key:"showSpaceInfo",value:function(event,data){var self=this;return self.selectedSpace===data.id?void self.$rootScope.$broadcast(_events2.default.RightSideBarClose):(self.selectedSpace=data.id,void self.Space.getFull({assetId:data.assetId,id:data.id},function(result){var contract=result.contract;contract&&null!=contract.industryId&&self.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){result.industryId=contract.industryId,result.industry=dataItem.display}),self.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.space,data:result})},function(error){self.NotificationService.error(error.data.message?error.data.message:error.data)}))}},{key:"getSpaceAvailability",value:function(item){return item.isAvailable?item.isImmediateAvailable?(0,_messages2.default)("assets.spaces.availability.immediateAvailable"):item.availabilityDate?this.getParsedDate(item.availabilityDate):(0,_messages2.default)("assets.spaces.availability.available"):(0,_messages2.default)("assets.spaces.availability.notAvailable")}},{key:"getExpiryDate",value:function(contract){return contract&&contract.endsAt?this.getParsedDate(contract.endsAt):_constants2.default.emptyValuePlaceholder}},{key:"getTenantName",value:function(contract){return contract&&contract.tenantName?contract.tenantName:_constants2.default.emptyValuePlaceholder}},{key:"getAskingPrice",value:function(item){return item.minAskingPrice&&item.maxAskingPrice?item.minAskingPrice.toFixed(2)+"-"+item.maxAskingPrice.toFixed(2):item.minAskingPrice?(0,_messages2.default)("assets.spaces.filter.from")+" "+item.minAskingPrice.toFixed(2):item.maxAskingPrice?(0,_messages2.default)("assets.spaces.filter.to")+" "+item.maxAskingPrice.toFixed(2):null}},{key:"exportData",value:function(){this.$scope.selectedAvailability.value===this.const.spaceAvailabilityIds.available?this.exportAvailableUnitsData():this.$scope.selectedAvailability.value===this.const.spaceAvailabilityIds.notAvailable?this.exportUnavailableUnitsData():this.exportAllUnitsData()}},{key:"exportUnavailableUnitsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportUnavailableUnits(this.prepareCryteria(criteria))}},{key:"exportAvailableUnitsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportAvailableUnits(this.prepareCryteria(criteria))}},{key:"exportAllUnitsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportAllUnits(this.prepareCryteria(criteria))}},{key:"prepareCryteria",value:function(criteria){return{av:criteria.av,agte:criteria.agte,alte:criteria.alte,apgte:criteria.apgte,aplte:criteria.aplte,ipgte:criteria.ipgte,iplte:criteria.iplte,expgte:criteria.expgte,explte:criteria.explte,fgte:criteria.fgte,flte:criteria.flte,twr:criteria.twr,ot:criteria.ot,st:criteria.st,assets:criteria.assetIds,srt:this.$scope.sortType,ord:this.$scope.sortDirection,ct:criteria.ct,mr:criteria.mr}}},{key:"loadGlobalStats",value:function(assetIds,cities,marketIds){var _this3=this,self=this;self.AssetStats.getGlobalStats({assetIds:assetIds,cities:cities,marketIds:marketIds},function(result){self.globalStats=result},function(error){console.log(error),_this3.$scope.error=error})}},{key:"isGlobalStatsFiltersChanged",value:function(criteria){return!this.lastUsedCriteria||(!this.utils.compareIntArrays(criteria.ct,this.lastUsedCriteria.ct)||!this.utils.compareIntArrays(criteria.mr,this.lastUsedCriteria.mr)||!this.utils.compareIntArrays(criteria.assetIds,this.lastUsedCriteria.assetIds))}},{key:"isSecondLevelStatsFiltersChanged",value:function(criteria){return!this.lastUsedCriteria||!(this.utils.compareIntArrays(criteria.ct,this.lastUsedCriteria.ct)&&this.utils.compareIntArrays(criteria.mr,this.lastUsedCriteria.mr)&&this.utils.compareIntArrays(criteria.assetIds,this.lastUsedCriteria.assetIds)&&this.utils.compareIntArrays(criteria.twr,this.lastUsedCriteria.twr)&&this.utils.compareIntArrays(criteria.ot,this.lastUsedCriteria.ot)&&criteria.av===this.lastUsedCriteria.av&&criteria.agte===this.lastUsedCriteria.agte&&criteria.alte===this.lastUsedCriteria.alte&&criteria.apgte===this.lastUsedCriteria.apgte&&criteria.aplte===this.lastUsedCriteria.aplte&&criteria.ipgte===this.lastUsedCriteria.ipgte&&criteria.iplte===this.lastUsedCriteria.iplte&&criteria.expgte===this.lastUsedCriteria.expgte&&criteria.fgte===this.lastUsedCriteria.fgte&&criteria.flte===this.lastUsedCriteria.flte&&criteria.st===this.lastUsedCriteria.st)}}]),GlobalSpacesListController}();exports.default=GlobalSpacesListController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status">\r\n                <li class="spaces-filter-status-item" ng-repeat="item in availabilities" role="presentation" ng-class="selectedAvailability.id === item.id ? \'active\' : \'\'">\r\n                    <a href="#" ng-click="$ctrl.selectAvailability($event, item)">\r\n                        <span>\r\n                            {{ item.name }}\r\n                        </span>\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div ng-if="selectedAvailability.value !== $ctrl.const.spaceAvailabilityIds.archived" class="pull-right">\r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<space-statistics/>\r\n\r\n<div ng-if="extraFilters.length" class="m-t-l">\r\n    <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n        <span ng-if="item.name">{{item.name}}: </span>\r\n        <strong ng-bind-html="item.text" />\r\n        <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n    </div>\r\n    <div class="stats-top-space"></div>\r\n</div>\r\n\r\n<div ng-if="!greedData.length && !update" class="text-center">\r\n    {{$ctrl.Messages(\'assets.spaces.filter.empty\')}}\r\n    <div class="stats-top-space"></div>\r\n</div>\r\n\r\n<table ng-if="showData && greedData.length" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="filtered-spaces-grid" infinite-scroll="$ctrl.loadMoreItems()"  infinite-scroll-container="\'.main-content .ss-content\'" infinite-scroll-disabled="load_more || disable_infinite_scrolling">\r\n    <colgroup ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="8%">\r\n        <col width="7%">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="14%">\r\n        <col width="10%">\r\n        <col width="10%">\r\n        <col width="7%">\r\n    </colgroup>\r\n    <colgroup ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="8%">\r\n        <col width="7%">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="14%">\r\n        <col width="14%">\r\n        <col width="13%">\r\n    </colgroup>\r\n    <colgroup ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all">\r\n        <col width="12%">\r\n        <col width="10%">\r\n        <col width="8%">\r\n        <col width="7%">\r\n        <col width="12%">\r\n        <col width="8%">\r\n        <col width="14%">\r\n        <col width="8%">\r\n        <col width="8%">\r\n        <col width="8%">\r\n        <col width="8%">\r\n    </colgroup>\r\n    <thead class="t360-sticky" data-sticky="136">\r\n        <tr>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.asset)">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.asset\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.asset" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.asset && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.asset && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.tower)">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.tower\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.tower" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.tower && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.tower && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.floor)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.floor\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.floor" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.floor && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.floor && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.unit)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.unit\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.unit" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.unit && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.unit && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.area)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.rentable_area\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.area" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.area && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.area && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.type)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.type\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.type" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.type && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.type && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.tenant)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.tenant\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.tenant" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.tenant && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.tenant && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.price)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.asking_price\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.price" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.price && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.price && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.rent)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.in_place_rent\')}}\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.rent" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.rent && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.rent && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.expiry)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.expiry\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.expiry" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.expiry && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.expiry && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all" ng-click="$ctrl.sortGrid($ctrl.const.spaceSortOptions.availability)" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.availability\')}}&nbsp;&nbsp;\r\n                <i ng-if="sortType !== $ctrl.const.spaceSortOptions.availability" class="fa fa-sort"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.availability && sortDirection === $ctrl.const.sortDirection.desc" class="fa fa-sort-amount-desc"></i>\r\n                <i ng-if="sortType === $ctrl.const.spaceSortOptions.availability && sortDirection === $ctrl.const.sortDirection.asc" class="fa fa-sort-amount-asc"></i>\r\n            </th>\r\n            <th ng-if="selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available" class="text-right">\r\n                {{$ctrl.Messages(\'assets.spaces.filter.vacant\')}}&nbsp;&nbsp;\r\n            </th>\r\n        </tr>\r\n    </thead>\r\n    <tr ng-repeat="item in greedData" ng-click="$ctrl.showSpaceInfo($event, item)" ng-class="item.id === $ctrl.selectedSpace ? \'filtered-spaces-row-selected\' : \'\'">\r\n        <td>{{item.assetName}}</td>\r\n        <td>{{item.towerName}}</td>\r\n        <td class="text-right">{{item.floorName}}</td>\r\n        <td class="text-right"><span class="unit-square">{{item.number}}</span></td>        \r\n        <td class="text-right">\r\n            {{item.rentableArea.toFixed(2)}} <span ng-bind-html="$ctrl.Messages(\'square.meter\')"/>\r\n        </td>\r\n        <td class="text-right">{{$ctrl.getOfficeType(item.type)}}</td>\r\n        <td class="text-right">{{$ctrl.getTenantName(item.contract)}}</td>\r\n        <td class="text-right" ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && (item.minAskingPrice || item.maxAskingPrice)">\r\n            {{$ctrl.getAskingPrice(item)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="$ctrl.Messages(\'square.meter\')"/>/{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n        </td>\r\n        <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && (!item.minAskingPrice && !item.maxAskingPrice)" class="text-right">--</td>\r\n        <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && item.contract" class="text-right">\r\n            {{item.contract && item.contract.inPlaceRent.toFixed(2)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="$ctrl.Messages(\'square.meter\')"/>/{{$ctrl.const.paymentPeriodLabels()[$ctrl.Settings.getPaymentPeriodType()]}}\r\n        </td>\r\n        <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all) && !item.contract" class="text-right">--</td>\r\n         <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.notAvailable || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all)" class="text-right">\r\n            {{$ctrl.getExpiryDate(item.contract)}}\r\n        </td>\r\n        <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available || selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.all)" class="text-right">\r\n            {{$ctrl.getSpaceAvailability(item)}}\r\n        </td>\r\n        <td ng-if="(selectedAvailability.value === $ctrl.const.spaceAvailabilityIds.available)" class="text-right">\r\n            {{item.daysVacant? item.daysVacant : $ctrl.const.emptyValuePlaceholder}}\r\n        </td>\r\n    </tr>\r\n</table>\r\n<div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n<div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n\r\n<script type="text/javascript">\r\n    $(\'.search-box input\').focusin(function() {\r\n        $(this).parent(\'.search-box\').addClass("active");\r\n    });\r\n\r\n    $(\'.search-box input\').focusout(function() {\r\n        $(this).parent(\'.search-box\').removeClass("active");\r\n    });    \r\n</script>\r\n'},function(module,exports,__webpack_require__){"use strict";
function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _tenants=__webpack_require__(1043),_tenants2=_interopRequireDefault(_tenants),_module=angular.module("tower360.tenants",[]).controller("TenantsController",_tenants2.default);exports.default=_module},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_tenantsFilterModal=__webpack_require__(1010),_tenantsFilterModalTemplate=(_interopRequireDefault(_tenantsFilterModal),__webpack_require__(1011)),_constants=(_interopRequireDefault(_tenantsFilterModalTemplate),__webpack_require__(720)),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),TenantsController=function(){function TenantsController($scope,$rootScope,$state,AssetStatTenants,Dashboard,sweetAlert,$uibModal,uibDateParser,UtilsService,$timeout,IndustryLookupService,NotificationService,availableSpaceTypes,ExportDataService,Settings){var _this=this;_classCallCheck(this,TenantsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.AssetStatTenants=AssetStatTenants,this.Dashboard=Dashboard,this.sweetAlert=sweetAlert,this.$uibModal=$uibModal,this.uibDateParser=uibDateParser,this.utils=UtilsService,this.$timeout=$timeout,this.IndustryLookupService=IndustryLookupService,this.notificationService=NotificationService,this.availableSpaceTypes=availableSpaceTypes,this.ExportDataService=ExportDataService,this.Settings=Settings,this.const=_constants2.default,this.globalStats=[],this.lastUsedCriteria=null,this.init(),$scope.$on("$destroy",function(){$rootScope.$broadcast(_events2.default.RightSideBarClose)}),$scope.$on(_events2.default.RightSideBarClosed,function(){_this.selectedTenant=null}),$rootScope.$on(_events2.default.ContractDatesChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.contractId){self.$scope.greedData[i].startDate=data.startDate,self.$scope.greedData[i].endDate=data.endDate;break}}),$rootScope.$on(_events2.default.ContractTenantNameChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.contractId){self.$scope.greedData[i].tenantName=data.tenantName;break}}),$rootScope.$on(_events2.default.ContractSpaceCostsChanged,function(ev,data){var self=_this;if(_this.$scope.greedData.length>0)for(var i=0;i<self.$scope.greedData.length;i++)if(self.$scope.greedData[i].id==data.contractId){self.$scope.greedData[i].netRentCost=data.totalRent,self.$scope.greedData[i].averageMeterCost=data.inPlaceRent;break}}),$rootScope.$on(_events2.default.ContractCreated,function(ev){var self=_this;self.gridUpdate(_constants2.default.defaultPageNumber)}),$rootScope.$on(_events2.default.ContractArchived,function(ev){}),$rootScope.$on(_events2.default.ContractRestored,function(ev){}),$rootScope.$on(_events2.default.ContractExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.gridUpdate(_constants2.default.defaultPageNumber)}),this.initScrollbar()}return TenantsController.$inject=["$scope","$rootScope","$state","AssetStatTenants","Dashboard","sweetAlert","$uibModal","uibDateParser","UtilsService","$timeout","IndustryLookupService","NotificationService","availableSpaceTypes","ExportDataService","Settings"],_createClass(TenantsController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){var self=this;this.$scope.greedData=[],this.$scope.statuses=[{id:_constants2.default.contractStatuses.inPlace,value:_constants2.default.contractStatusIds.inPlace,name:(0,_messages2.default)("assets.tenants.filter.in_place")},{id:_constants2.default.contractStatuses.incoming,value:_constants2.default.contractStatusIds.incoming,name:(0,_messages2.default)("assets.tenants.filter.incoming")},{id:_constants2.default.contractStatuses.expired,value:_constants2.default.contractStatusIds.expired,name:(0,_messages2.default)("assets.tenants.filter.expired")},{id:_constants2.default.contractStatuses.archived,value:_constants2.default.contractStatusIds.archived,name:(0,_messages2.default)("assets.tenants.filter.archived")}],this.$scope.selectedStatus=this.$scope.statuses[0],this.$scope.extraFilters=[],this.$scope.towers=[],this.IndustryLookupService.all().then(function(result){self.$scope.industries=result},function(err){}),this.expiryDatesDictionary=[],this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in1Year]=(0,_moment2.default)().add(1,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in2Year]=(0,_moment2.default)().add(2,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in3Year]=(0,_moment2.default)().add(3,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in4Year]=(0,_moment2.default)().add(4,"y").format(),this.expiryDatesDictionary[_constants2.default.contractExtraFilters.in5Year]=(0,_moment2.default)().add(5,"y").format(),this.$scope.sortType=_constants2.default.contractSortOptions.endDate,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.gridUpdate(_constants2.default.defaultPageNumber),this.selectedTenant=null}},{key:"selectStatus",value:function(e,status){e.preventDefault(),this.lastUsedCriteria=null,this.prevSelectedStatus=this.$scope.selectedStatus,this.$scope.selectedStatus=status,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"gridUpdate",value:function(page){var _this2=this,self=this;this.$scope.update=!0,this.page=page;var criteria=this.getSearchCriteria(page),isFirstLoad=!self.lastUsedCriteria;this.isGlobalStatsFiltersChanged(criteria)&&this.loadGlobalStats(criteria.assetIds,criteria.ct,criteria.mr),isFirstLoad||!this.isSecondLevelStatsFiltersChanged(criteria)||self.$scope.selectedStatus.id!=self.const.contractStatuses.inPlace&&self.$scope.selectedStatus.id!=self.const.contractStatuses.incoming||this.$rootScope.$broadcast(_events2.default.ActiveTenantsStatsReload,{criteria:criteria}),this.AssetStatTenants.query({assetId:criteria.id,st:criteria.st,expgte:criteria.expgte,explte:criteria.explte,ipgte:criteria.ipgte,iplte:criteria.iplte,stgte:criteria.stgte,stlte:criteria.stlte,twr:criteria.twr,ot:criteria.ot,ind:criteria.ind,mr:criteria.mr,ct:criteria.ct,assets:criteria.assetIds,srt:criteria.srt,ord:criteria.ord,pg:criteria.pg,ps:criteria.ps},function(result){_this2.$scope.update=!1,page===_constants2.default.defaultPageNumber?(!isFirstLoad||self.$scope.selectedStatus.id!=self.const.contractStatuses.inPlace&&self.$scope.selectedStatus.id!=self.const.contractStatuses.incoming||_this2.$rootScope.$broadcast(_events2.default.ActiveTenantsStatsReload,{criteria:criteria}),_this2.$scope.greedData=result.items,_this2.$scope.disable_infinite_scrolling=!1):0===result.items.length?_this2.$scope.disable_infinite_scrolling=!0:(_this2.$scope.disable_infinite_scrolling=!1,_this2.$scope.greedData=_this2.$scope.greedData.concat(result.items)),_this2.$timeout(function(){_this2.$scope.load_more=!1},1)},function(error){console.log(error),_this2.$scope.update=!1,_this2.$scope.error=error}),this.lastUsedCriteria=criteria,this.$rootScope.$broadcast(_events2.default.RightSideBarClose)}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(_constants2.default.defaultPageNumber),this.$rootScope.$emit(_events2.default.ContractExtraFilterItemRemoved,{item:item})}},{key:"getParsedDate",value:function(date){return date?this.uibDateParser.filter(new Date(date),"dd/MM/yyyy"):null}},{key:"getOfficeType",value:function(type){var officeType=this.availableSpaceTypes.find(function(item){return item.value===type});return officeType.text}},{key:"getIndustry",value:function(item){var industry=this.$scope.industries.find(function(t){return item.industryId===t.id});return null!=industry?industry.display:""}},{key:"getUniqueSpacesTowers",value:function(spaces){var uniqueSpacesTowers=[],self=this;return spaces.forEach(function(item){self.isSpaceTowerInList(uniqueSpacesTowers,item)===-1&&uniqueSpacesTowers.push(item)}),uniqueSpacesTowers}},{key:"showSpaceInfo",value:function(space){var _this3=this;this.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:"loading"}),this.AssetStatTenants.getSpaceInfo({assetId:space.assetObject.assetId,id:space.id},function(result){var contract=result.contract;result.spaceTypeString=_this3.getOfficeType(result.type),result.spaceNumber=result.number,result.spaceArea=result.rentableArea,contract&&null!=contract.industryId&&_this3.IndustryLookupService.byKey(contract.industryId).then(function(dataItem){result.industryId=contract.industryId,result.industry=dataItem.display}),result.tenantName=contract&&contract.tenantName,result.leaseStartDate=contract&&contract.startsAt,result.leaseEndDate=contract&&contract.endsAt,result.leaseStartDate&&result.leaseEndDate&&(result.expires=100*((0,_moment2.default)(_moment2.default.utc()).diff((0,_moment2.default)(result.leaseStartDate))/(0,_moment2.default)(result.leaseEndDate).diff((0,_moment2.default)(result.leaseStartDate))).toFixed(2)),result.totalCosts=contract&&contract.totalCosts,result.inPlaceRent=contract&&contract.inPlaceRent,result.netRent=contract&&contract.netRent,result.additionalCosts=contract&&contract.additionalCosts,result.otherCosts=contract&&contract.otherCosts,result.vatCosts=contract&&contract.vatCosts,_this3.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.space,data:result})},function(error){_this3.notificationService.error(error.data.message?error.data.message:error.data)})}},{key:"showTenantInfo",value:function(event,tenant){if("A"!==event.target.nodeName){$(event.target).parent("tr");if(this.selectedTenant===tenant)return void this.$rootScope.$broadcast(_events2.default.RightSideBarClose);this.selectedTenant=tenant,this.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.tenant,data:tenant})}}},{key:"getSearchCriteria",value:function(page){var extraFilters=this.$scope.extraFilters,status=void 0,expirationFrom=void 0,expirationTo=void 0,expiryIn1Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in1Year}),expiryIn2Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in2Year}),expiryIn3Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in3Year}),expiryIn4Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in4Year}),expiryIn5Year=extraFilters.find(function(item){return item.value===_constants2.default.contractExtraFilters.in5Year}),pricePerMeterFrom=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.inPlaceRentFrom}),pricePerMeterTo=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.inPlaceRentTo}),pricePerMeter=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.inPlaceRent}),contractStartDate=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.expiry_from}),contractEndDate=extraFilters.find(function(item){return item.id===_constants2.default.contractExtraFilters.expiry_to}),towers=[],industries=[],assets=[],markets=[],cities=[],expiry=expiryIn1Year||expiryIn2Year||expiryIn3Year||expiryIn4Year||expiryIn5Year;return expiry&&(expirationFrom=(0,_moment2.default)().format(),expirationTo=this.expiryDatesDictionary[expiry.value]),extraFilters.forEach(function(item){0===item.id.indexOf("tower_")&&towers.push(item.value.id),0===item.id.indexOf("asset_")&&assets.push(item.value.id),0===item.id.indexOf("industry_")&&industries.push(item.value.id),0===item.id.indexOf("city_")&&cities.push(item.value.name),0===item.id.indexOf("market_")&&markets.push(item.value)}),status=this.$scope.selectedStatus.value,{id:this.assetId,st:status,expgte:expirationFrom,explte:expirationTo,ipgte:pricePerMeterFrom&&pricePerMeterFrom.value||pricePerMeter&&pricePerMeter.value,iplte:pricePerMeterTo&&pricePerMeterTo.value||pricePerMeter&&pricePerMeter.value,stgte:contractStartDate&&(0,_moment2.default)(contractStartDate.value,"MM/DD/YYYY").format(),stlte:contractEndDate&&(0,_moment2.default)(contractEndDate.value,"MM/DD/YYYY").format(),twr:towers,assetIds:assets,ind:industries,mr:markets,ct:cities,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20}}},{key:"isSpaceTowerInList",value:function(items,item){for(var index=-1,i=0;i<items.length;i++)if(items[i].assetName===item.assetName&&items[i].towerName===item.towerName){index=i;break}return index}},{key:"exportData",value:function(){this.$scope.selectedStatus.value===this.const.contractStatusIds.inPlace?this.exportInPlaceContractsData():this.$scope.selectedStatus.value===this.const.contractStatusIds.incoming?this.exportInComingContractsData():this.$scope.selectedStatus.value===this.const.contractStatusIds.expired?this.exportExpiredContractsData():this.exportArchivedContractsData()}},{key:"exportInPlaceContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportInPlaceContracts(this.prepareCryteria(criteria))}},{key:"exportInComingContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportInComingContracts(this.prepareCryteria(criteria))}},{key:"exportExpiredContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportExpiredContracts(this.prepareCryteria(criteria))}},{key:"exportArchivedContractsData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportArchivedContracts(this.prepareCryteria(criteria))}},{key:"prepareCryteria",value:function(criteria){return{st:criteria.st,expgte:criteria.expgte,explte:criteria.explte,ipgte:criteria.ipgte,iplte:criteria.iplte,stgte:criteria.stgte,stlte:criteria.stlte,twr:criteria.twr,ot:criteria.ot,ind:criteria.ind,srt:criteria.srt,ord:criteria.ord,assets:criteria.assetIds,ct:criteria.ct,mr:criteria.mr}}},{key:"loadGlobalStats",value:function(assetIds,cities,marketIds){var _this4=this,self=this;self.AssetStatTenants.getGlobalStats({assetIds:assetIds,cities:cities,marketIds:marketIds},function(result){self.globalStats=result},function(error){console.log(error),_this4.$scope.error=error})}},{key:"isGlobalStatsFiltersChanged",value:function(criteria){return!this.lastUsedCriteria||(!this.utils.compareIntArrays(criteria.ct,this.lastUsedCriteria.ct)||!this.utils.compareIntArrays(criteria.mr,this.lastUsedCriteria.mr)||!this.utils.compareIntArrays(criteria.assetIds,this.lastUsedCriteria.assetIds))}},{key:"isSecondLevelStatsFiltersChanged",value:function(criteria){return!this.lastUsedCriteria||!(this.utils.compareIntArrays(criteria.ct,this.lastUsedCriteria.ct)&&this.utils.compareIntArrays(criteria.mr,this.lastUsedCriteria.mr)&&this.utils.compareIntArrays(criteria.assetIds,this.lastUsedCriteria.assetIds)&&this.utils.compareIntArrays(criteria.ind,this.lastUsedCriteria.ind)&&criteria.ipgte===this.lastUsedCriteria.ipgte&&criteria.iplte===this.lastUsedCriteria.iplte&&criteria.expgte===this.lastUsedCriteria.expgte&&criteria.explte===this.lastUsedCriteria.explte&&criteria.stgte===this.lastUsedCriteria.stgte&&criteria.stlte===this.lastUsedCriteria.stlte&&criteria.st===this.lastUsedCriteria.st)}}]),TenantsController}();exports.default=TenantsController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _deals=__webpack_require__(1045),_deals2=_interopRequireDefault(_deals),_deal=__webpack_require__(1046),_deal2=_interopRequireDefault(_deal),_dealDescription=__webpack_require__(1047),_dealDescription2=_interopRequireDefault(_dealDescription),_dealDetails=__webpack_require__(1054),_dealDetails2=_interopRequireDefault(_dealDetails),_dealContacts=__webpack_require__(1057),_dealContacts2=_interopRequireDefault(_dealContacts),_dealOptions=__webpack_require__(1060),_dealOptions2=_interopRequireDefault(_dealOptions),_dealAttachments=__webpack_require__(1063),_dealAttachments2=_interopRequireDefault(_dealAttachments),_attachmentList=__webpack_require__(1066),_attachmentList2=_interopRequireDefault(_attachmentList),_dealExecutedTerms=__webpack_require__(1071),_dealExecutedTerms2=_interopRequireDefault(_dealExecutedTerms),_dealLog=__webpack_require__(1074),_dealLog2=_interopRequireDefault(_dealLog),_dealsList=__webpack_require__(1077),_dealsList2=_interopRequireDefault(_dealsList),_dealCreateDetails=__webpack_require__(1082),_dealCreateDetails2=_interopRequireDefault(_dealCreateDetails),_dealCreateContacts=__webpack_require__(1084),_dealCreateContacts2=_interopRequireDefault(_dealCreateContacts),_dealCreateOptions=__webpack_require__(1086),_dealCreateOptions2=_interopRequireDefault(_dealCreateOptions),_dealCreateAttachments=__webpack_require__(1088),_dealCreateAttachments2=_interopRequireDefault(_dealCreateAttachments),_dealCreateAttachmentList=__webpack_require__(1090),_dealCreateAttachmentList2=_interopRequireDefault(_dealCreateAttachmentList),_module=angular.module("tower360.deals",[]).controller("DealsController",_deals2.default).factory("Deal",_deal2.default.activate).component("dealDescription",_dealDescription2.default).component("dealDetails",_dealDetails2.default).component("dealContacts",_dealContacts2.default).component("dealOptions",_dealOptions2.default).component("dealAttachments",_dealAttachments2.default).component("dealAttachmentList",_attachmentList2.default).component("dealExecutedTerms",_dealExecutedTerms2.default).component("dealsList",_dealsList2.default).component("dealLog",_dealLog2.default).component("dealCreateDetails",_dealCreateDetails2.default).component("dealCreateContacts",_dealCreateContacts2.default).component("dealCreateOptions",_dealCreateOptions2.default).component("dealCreateAttachments",_dealCreateAttachments2.default).component("dealCreateAttachmentList",_dealCreateAttachmentList2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(720),_messages=(_interopRequireDefault(_constants),__webpack_require__(721)),_moment=(_interopRequireDefault(_messages),__webpack_require__(212)),_events=(_interopRequireDefault(_moment),__webpack_require__(791)),_events2=_interopRequireDefault(_events),DealsController=function(){function DealsController($scope,$rootScope,$state,dealStages,spaceTypes,AssetStats,NotificationService){_classCallCheck(this,DealsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.dealStages=dealStages,this.spaceTypes=spaceTypes,this.globalStats={},this.assets=[],this.markets=[],this.cities=[],this.AssetStats=AssetStats,this.notificationService=NotificationService;var self=this;self.refreshGlobalStats(),$rootScope.$on(_events2.default.DealExtraFilterUpdated,function(ev,data){self.loadExtraFilter(data.filter),self.refreshGlobalStats()}),$rootScope.$on(_events2.default.DealExtraFilterItemRemoved,function(ev,data){self.removeExtraFilterItem(data.item),self.refreshGlobalStats()})}return DealsController.$inject=["$scope","$rootScope","$state","dealStages","spaceTypes","AssetStats","NotificationService"],_createClass(DealsController,[{key:"loadExtraFilter",value:function(extraFilters){var _this=this;this.assets=[],this.markets=[],this.cities=[],extraFilters.forEach(function(item){0===item.id.indexOf("asset_")&&_this.assets.push(item.value),0===item.id.indexOf("city_")&&_this.cities.push(item.value.name),0===item.id.indexOf("market_")&&_this.markets.push(item.value)})}},{key:"removeExtraFilterItem",value:function(filterItem){if(0===filterItem.id.indexOf("asset_")){var assetIdx=this.assets.findIndex(function(item){return filterItem.value===item});assetIdx>-1&&this.assets.splice(assetIdx,1)}if(0===filterItem.id.indexOf("city_")){var cityIdx=this.cities.findIndex(function(item){return filterItem.value.name===item});cityIdx>-1&&this.cities.splice(cityIdx,1)}if(0===filterItem.id.indexOf("market_")){var marketIdx=this.markets.findIndex(function(item){return filterItem.value===item});marketIdx>-1&&this.markets.splice(marketIdx,1)}}},{key:"refreshGlobalStats",value:function(){var self=this;this.AssetStats.getGlobalStats({assetIds:this.assets,cities:this.cities,marketIds:this.markets},function(result){self.globalStats=result},function(error){self.notificationService.error(error.data&&error.data.message?error.data.message:error.data)})}}]),DealsController}();exports.default=DealsController},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Deal=function(){function Deal(ConfigurationService,$resource){return _classCallCheck(this,Deal),$resource(ConfigurationService.getApiBaseUrl()+"api/deals/:id",{id:"@id"},{search:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/deals/search"},objects:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/deals/objects",isArray:!0},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/deals",transformRequest:function(data){var formData=new FormData;if(formData.append("model",angular.toJson(data.model)),data.files)for(var i=0;i<data.files.length;i++)formData.append(data.files[i].id,data.files[i].data);return formData},headers:{"Content-Type":void 0}},deleteOption:{method:"DELETE",params:{optionId:"@optionId"},url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/options/:optionId"},updateOptions:{method:"PUT",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/options"},full:{method:"GET",isArray:!1,url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/full"},addContact:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/representatives/:contactId"},removeContact:{method:"DELETE",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/representatives/:contactId"},updateDetails:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/details"},uploadDocument:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/attachments",transformRequest:angular.identity,headers:{"Content-Type":void 0}},addComment:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/comments"},getComments:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/comments",params:{offset:"@offset",count:"@count"},isArray:!0},setStage:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/stage"},markAsDead:{method:"PUT",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/dead"},logs:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/deals/:id/history"},delete:{method:"DELETE",url:ConfigurationService.getApiBaseUrl()+"api/deals/:id"},getLeadUsers:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/deals/leadusers"}})}return Deal.$inject=["ConfigurationService","$resource"],_createClass(Deal,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Deal.instance=new Deal(ConfigurationService,$resource),Deal.instance}]}]),Deal}();exports.default=Deal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealDescription=__webpack_require__(1048),_dealDescription2=_interopRequireDefault(_dealDescription),_dealDescriptionTemplate=__webpack_require__(1053),_dealDescriptionTemplate2=_interopRequireDefault(_dealDescriptionTemplate),DealDescriptionComponent={bindings:{data:"=",context:"=?"},controller:_dealDescription2.default,template:_dealDescriptionTemplate2.default};exports.default=DealDescriptionComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),_dealDeadStageModal=__webpack_require__(1049),_dealDeadStageModal2=_interopRequireDefault(_dealDeadStageModal),_dealDeadStageModalTemplate=__webpack_require__(1050),_dealDeadStageModalTemplate2=_interopRequireDefault(_dealDeadStageModalTemplate),_contractCreateModal=__webpack_require__(798),_contractCreateModal2=_interopRequireDefault(_contractCreateModal),_contractCreateModalTemplate=__webpack_require__(801),_contractCreateModalTemplate2=_interopRequireDefault(_contractCreateModalTemplate),_dealConfirmDialog=__webpack_require__(1051),_dealConfirmDialog2=_interopRequireDefault(_dealConfirmDialog),_dealConfirmDialogTemplate=__webpack_require__(1052),_dealConfirmDialogTemplate2=_interopRequireDefault(_dealConfirmDialogTemplate),DealDescriptionController=function(){function DealDescriptionController($scope,$rootScope,$uibModal,SpaceTypeLookupService,Deal,NotificationService,SecurityService,DealStageLookupService){_classCallCheck(this,DealDescriptionController),this.$scope=$scope,this.$rootScope=$rootScope,this.$uibModal=$uibModal,this.SpaceTypeLookupService=SpaceTypeLookupService,this.NotificationService=NotificationService,this.securityService=SecurityService,this.dealStageLookupService=DealStageLookupService,this.Deal=Deal,this.messages=this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.comments=[],this.$scope.reloadComments=!1,this.$scope.currentUser=null,this.$scope.readonly=!1,this.$scope.chatMode=!0,this.$scope.isDisabled=!0,this.initModel(),this.init(),this.initScrollbar()}return DealDescriptionController.$inject=["$scope","$rootScope","$uibModal","SpaceTypeLookupService","Deal","NotificationService","SecurityService","DealStageLookupService"],_createClass(DealDescriptionController,[{key:"init",value:function(){var self=this;self.dealStages=[],self.$onInit=function(){self.$scope.$watch(function(){return self.data},function(){self.data&&self.$scope.data!=self.data&&(self.$scope.data=self.data,self.$scope.context=self.context,self.$scope.reloadComments=!0,self.$scope.readonly=self.$scope.data.isDead,self.$scope.isDisabled=self.$scope.data.isDead||self.$scope.data.dealStageId===_constants2.default.dealStages.executed,self.updateModel(self.$scope.data))})},self.securityService.getUserInfo().then(function(user){self.$scope.currentUser=user}),self.showAvailableStages=!1,self.dealStageLookupService.all().then(function(result){var order=_constants2.default.dealStagesOrder();result.sort(function(a,b){return order.findIndex(function(t){return t===a.id})-order.findIndex(function(t){return t===b.id})}),self.dealStages=result}),self.$scope.$on(_events2.default.DealUpdated,function(ev,data){self.updateLogs()})}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"initModel",value:function(){var self=this;self.$scope.model={clients:{available:[],selected:null},spaceTypes:{available:[],selected:[]},dealTypes:{available:[],selected:null},startDate:null,markets:{available:[],selected:[]},areas:{range:!0,rentableAreaMin:null,rentableAreaMax:null,rentableAreaDiscrete:null},contacts:{available:self.contacts,currentSelection:null,selected:[]},options:{selected:[]},attachments:[],logs:[],leadUsers:{available:[],selected:null},executedMasterContract:null},self.SpaceTypeLookupService.all(function(result){self.$scope.model.available=result}),self.$scope.saveData=function(){var request={id:self.$scope.model.id,clientId:self.$scope.model.clients.selected.id,startDate:self.$scope.model.startDate,markets:self.$scope.model.markets.selected.map(function(elem){return elem.id}),spaceTypes:self.$scope.model.spaceTypes.selected.map(function(elem){return elem.value}),dealTypeId:self.$scope.model.dealTypes.selected.id,rentableAreaMin:self.$scope.model.areas.range?self.$scope.model.areas.rentableAreaMin:null,
rentableAreaMax:self.$scope.model.areas.range?self.$scope.model.areas.rentableAreaMax:null,rentableAreaDiscrete:self.$scope.model.areas.range?null:self.$scope.model.areas.rentableAreaDiscrete,leadUserId:null!=self.$scope.model.leadUsers.selected?self.$scope.model.leadUsers.selected.id:null};self.Deal.updateDetails({id:self.$scope.model.id},request,function(result){self.NotificationService.success((0,_messages2.default)("deals.message.updated")),self.updateModel(result),self.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:result})},function(error){return self.NotificationService.error(error.data.message?error.data.message:error.data)})},self.$scope.cancelData=function(){self.updateDetails(self.$scope.data)}}},{key:"updateModel",value:function(data){var self=this;self.$scope.model.deal=data,self.$scope.model.clients.selected=data.client,self.$scope.model.leadUsers.selected=data.leadUser,self.$scope.model.spaceTypes.selected=data.spaceTypes,self.$scope.model.dealTypes.selected=data.dealTypeId,self.$scope.model.markets.selected=data.markets,self.$scope.model.markets.startDate=data.startDate,self.$scope.model.contacts.selected=data.representatives,self.$scope.model.options=data.options,self.$scope.model.attachments=data.attachments,self.$scope.model.id=data.id,self.updateDetails(data),self.$scope.model.contacts.selected=data.representatives,self.updateLogs(),self.dealStageLookupService.all().then(function(result){var stage=result.find(function(t){return t.id==self.$scope.model.deal.dealStageId});null!=stage&&(self.$scope.model.deal.stage=stage,self.dealStages.forEach(function(item){item.isHighlighted=self.isExecutedStage(item.id)}))})}},{key:"updateLogs",value:function(){var _this=this,self=this;self.Deal.logs({id:self.$scope.model.id},function(result){return self.$scope.model.logs=result},function(error){return _this.NotificationService.error(error.data.message?error.data.message:error.data)})}},{key:"updateDetails",value:function(data){var self=this;self.$scope.model.clients.selected=data.client,self.$scope.model.leadUsers.selected=data.leadUser,self.$scope.model.spaceTypes.selected=data.spaceTypes,self.$scope.model.dealTypes.selected=data.dealType,self.$scope.model.markets.selected=data.markets,self.$scope.model.startDate=(0,_moment2.default)(data.startDate).format("MM/DD/YYYY"),self.$scope.model.areas.range=!data.rentableAreaDiscrete,self.$scope.model.areas.rentableAreaMin=data.rentableAreaMin,self.$scope.model.areas.rentableAreaMax=data.rentableAreaMax,self.$scope.model.areas.rentableAreaDiscrete=data.rentableAreaDiscrete,self.$scope.model.executedMasterContract=data.executedMasterContract}},{key:"addComment",value:function(message){var self=this;self.Deal.addComment({id:self.$scope.model.deal.id},{body:message},function(result){self.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.$scope.model.deal.id}),self.$rootScope.$broadcast(_events2.default.AddComment,{comment:result})})}},{key:"getComments",value:function(offset,size){var self=this;return self.Deal.getComments({id:self.$scope.model.deal.id,offset:offset,count:size}).$promise}},{key:"closeSidebar",value:function(){this.$rootScope.$broadcast(_events2.default.RightSideBarClose)}},{key:"showAvailableStage",value:function(){var self=this;self.$scope.model.deal.stage.id===_constants2.default.dealStages.executed||self.$scope.model.deal.isDead||(this.showAvailableStages=!this.showAvailableStages)}},{key:"setDealStage",value:function(stage){var _this2=this,self=this;if(self.$scope.model.deal.stage.id!==stage.id)switch(this.showAvailableStages=!1,stage.id){case _constants2.default.dealStages.executed:self.executeDeal();break;case _constants2.default.dealStages.dead:self.deadDeal();break;default:this.Deal.setStage({id:this.$scope.model.deal.id},{dealStageId:stage.id},function(result){_this2.$scope.data.dealStageId=stage.id,self.$scope.data.deadStageInformation=null,_this2.$scope.readonly=self.$scope.data.isDead,_this2.updateModel(_this2.$scope.data),_this2.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:result}),_this2.NotificationService.success((0,_messages2.default)("deals.status.message"))},function(error){_this2.NotificationService.error(error.data.message?error.data.message:error.data)})}}},{key:"setChatMode",value:function(active){var self=this;self.$scope.chatMode=active}},{key:"executeDeal",value:function(){var _this3=this,self=this,selectedObjects=[];self.$scope.model.deal.options.forEach(function(item){selectedObjects=selectedObjects.concat(item.objects)});var _dealSpaceTypes=[];self.$scope.model.deal.spaceTypes.forEach(function(item){_dealSpaceTypes.push(item.value)});var modal=this.$uibModal.open({controller:_contractCreateModal2.default,template:_contractCreateModalTemplate2.default,resolve:{assetObjects:["AssetObject",function(AssetObject){return AssetObject.getAllObjects()}],spaceTypes:["SpaceTypeLookupService",function(SpaceTypeLookupService){return SpaceTypeLookupService.all()}],assets:["Asset",function(Asset){return Asset.query()}],dealId:self.$scope.model.deal.id,dealObjects:function(){return selectedObjects},dealClient:self.$scope.model.deal.client,dealDate:function(){return self.$scope.model.deal.startDate},dealSpaceTypes:function(){return _dealSpaceTypes}},windowClass:"tenant-create-modal"});modal.result.then(function(result){_this3.$rootScope.$broadcast(_events2.default.DealExecuted),self.$scope.isDisabled=!0,self.dealStageLookupService.all().then(function(result){var stage=result.find(function(t){return t.id==_constants2.default.dealStages.executed});null!=stage&&(self.$scope.model.deal.stage=stage)}),self.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.$scope.model.deal})})}},{key:"deadDeal",value:function(){var _this4=this,self=this,modal=self.$uibModal.open({controller:_dealDeadStageModal2.default,template:_dealDeadStageModalTemplate2.default});modal.result.then(function(result){var request={dealId:_this4.$scope.model.deal.id,outcomeId:result.outcome.id,reasonId:result.reason.id,notes:result.notes,dateDead:result.dateDead};_this4.Deal.markAsDead({id:_this4.$scope.model.deal.id},request,function(result){_this4.$scope.data.isDead=!0,_this4.$scope.data.dateDead=result.dateDead,_this4.$scope.data.deadStageInformation=result,_this4.$scope.readonly=!0,self.$scope.isDisabled=!0,_this4.updateModel(_this4.$scope.data),_this4.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:result}),_this4.NotificationService.success((0,_messages2.default)("deals.status.message"))},function(error){_this4.NotificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"deleteDeal",value:function(){var _this5=this,self=this,client=self.$scope.model.clients.selected,modal=this.$uibModal.open({controller:_dealConfirmDialog2.default,template:_dealConfirmDialogTemplate2.default,resolve:{name:function(){return client.shortName?client.shortName:client.name}}});modal.result.then(function(result){result&&self.Deal.delete({id:_this5.$scope.model.deal.id},function(response){self.closeSidebar(),self.$rootScope.$broadcast(_events2.default.DealDeleted),self.NotificationService.success((0,_messages2.default)("deals.delete.success"))},function(error){self.NotificationService.error(error.data.message?error.data.message:error.data)})})}},{key:"isExecutedStage",value:function(stageId){for(var orderedStages=_constants2.default.dealStagesOrder(),currentStagePosition=0,stagePosition=0,self=this,i=0;i<orderedStages.length;i++)orderedStages[i]===stageId&&(stagePosition=i),orderedStages[i]===self.$scope.model.deal.stage.id&&(currentStagePosition=i);return currentStagePosition>=stagePosition}}]),DealDescriptionController}();exports.default=DealDescriptionController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_constants=(_interopRequireDefault(_messages),__webpack_require__(720)),_moment=(_interopRequireDefault(_constants),__webpack_require__(212)),DealDeadStageModalController=(_interopRequireDefault(_moment),function(){function DealDeadStageModalController($scope,$uibModalInstance,DealDeadStageOutcomeLookupService,DealDeadStageReasonLookupService,$timeout){_classCallCheck(this,DealDeadStageModalController),this.$scope=$scope,this.$uibModalInstance=$uibModalInstance,this.dealDeadStageOutcomeLookupService=DealDeadStageOutcomeLookupService,this.dealDeadStageReasonLookupService=DealDeadStageReasonLookupService,this.$timeout=$timeout,this.init()}return DealDeadStageModalController.$inject=["$scope","$uibModalInstance","DealDeadStageOutcomeLookupService","DealDeadStageReasonLookupService","$timeout"],_createClass(DealDeadStageModalController,[{key:"init",value:function(){var self=this;new Date;self.$scope.model={outcome:null,reason:null,notes:""},self.dealDeadStageOutcomeLookupService.all().then(function(result){self.$scope.outcomes=result}),self.dealDeadStageReasonLookupService.all().then(function(result){self.$scope.reasons=result}),self.$scope.validateAndSaveSettings=function(form){self.$scope.submitted=!0,form.$valid&&self.$uibModalInstance.close(self.$scope.model)},self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")}}}]),DealDeadStageModalController}());exports.default=DealDeadStageModalController},function(module,exports){module.exports='<div class="inmodal modal-deal deal-dead-stage">\r\n    <form class="form form-deal edit-form" name="form" novalidate>\r\n        <div class="modal-header text-center">\r\n            <h4 class="modal-title">\r\n                {{ Messages(\'deals.dead.title\') }}\r\n            </h4>\r\n        </div>        \r\n        <div class="modal-body">\r\n            <div class="details-content">\r\n                <div class="row">\r\n                    <div class="col-sm-12">\r\n                        <div class="row m-b-m">\r\n                            <div class="col-sm-12">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'deals.dead.outcome\')}}</div>\r\n                                    <ui-select ng-model="model.outcome" close-on-select="true" theme="bootstrap"\r\n                                        required ng-class="{ \'has-error\' : form.outcome.$invalid && (submitted || form.outcome.$touched)}" name="outcome">\r\n                                        <ui-select-match placeholder="{{Messages(\'deals.dead.outcome.placeholder\')}}">\r\n                                            {{$select.selected.name}}\r\n                                        </ui-select-match>\r\n                                        <ui-select-choices repeat="outcome in outcomes track by $index" refresh-delay="0">\r\n                                            {{outcome.name}}\r\n                                        </ui-select-choices>\r\n                                    </ui-select>\r\n                                    <label ng-if="form.outcome.$invalid && (submitted || form.outcome.$touched)" class="error" for="outcome">{{Messages(\'validation.required\')}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row m-b-m">\r\n                            <div class="col-sm-12">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'deals.dead.reason\')}}</div>                            \r\n                                    <ui-select ng-model="model.reason" close-on-select="true" theme="bootstrap"\r\n                                        required ng-class="{ \'has-error\' : form.reason.$invalid && (submitted || form.reason.$touched)}" name="reason">\r\n                                        <ui-select-match placeholder="{{Messages(\'deals.dead.reason.placeholder\')}}">\r\n                                            {{$select.selected.name}}\r\n                                        </ui-select-match>\r\n                                        <ui-select-choices repeat="reason in reasons track by $index" refresh-delay="0">\r\n                                            {{reason.name}}\r\n                                        </ui-select-choices>\r\n                                    </ui-select>\r\n                                    <label ng-if="form.reason.$invalid && (submitted || form.reason.$touched)" class="error" for="reason">{{Messages(\'validation.required\')}}</label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="row m-b-m">\r\n                            <div class="col-sm-12">\r\n                                <div class="block">\r\n                                    <div class="subheader">{{Messages(\'deals.dead.notes\')}}</div>\r\n                                    <textarea ng-model="model.notes" class="notes" spellcheck="true" tabindex="0" role="textbox" aria-multiline="true" maxlength="500"/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n            <button type="button" class="btn btn-default" ng-click="cancel()">\r\n                {{ Messages(\'deals.cancel\') }}\r\n            </button>        \r\n            <button type="button" class="btn btn-primary" ng-click="validateAndSaveSettings(form)">\r\n                {{ saveInProgress ? Messages(\'deals.saving\') : Messages(\'deals.save\') }}\r\n            </button>\r\n        </div>\r\n    </form>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_constants=(_interopRequireDefault(_messages),__webpack_require__(720)),DealConfirmDialogController=(_interopRequireDefault(_constants),function(){function DealConfirmDialogController($scope,$uibModal,$uibModalInstance,name){_classCallCheck(this,DealConfirmDialogController),this.$scope=$scope,this.$scope.ctrl=this,this.$uibModal=$uibModal,this.$uibModalInstance=$uibModalInstance,this.$scope.name=name,this.init()}return DealConfirmDialogController.$inject=["$scope","$uibModal","$uibModalInstance","name"],_createClass(DealConfirmDialogController,[{key:"init",value:function(){var self=this;self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.$scope.confirm=function(){self.$uibModalInstance.close(!0)}}}]),DealConfirmDialogController}());exports.default=DealConfirmDialogController},function(module,exports){module.exports='<div class="inmodal">\r\n    <div class="color-line"></div>\r\n    <div class="modal-header text-center">\r\n        <h4 class="modal-title">\r\n            {{ Messages(\'deals.delete.title\')}}\r\n        </h4>\r\n    </div>\r\n    <div class="modal-body">\r\n        {{ Messages(\'deals.delete.message\')}} \'{{name}}\' ?\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="confirm()">\r\n            {{ Messages(\'deals.delete.save\') }}\r\n        </button>\r\n            <button type="button" class="btn btn-default pull-left" ng-click="cancel()">\r\n            {{ Messages(\'deals.delete.cancel\') }}\r\n        </button>\r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div ng-if="context === \'sidebar\'" class="side-close">\r\n    <img src="/img/icons/close.svg" alt="" ng-click="$ctrl.closeSidebar()">\r\n</div>\r\n\r\n<div class="right-sidebar-content" ss-container>\r\n    <div class="deal-descr">\r\n        <div class="deal-common">\r\n            <div class="col-sm-8 right-sidebar-main">\r\n                <div class="deal-row">\r\n                    <div class="deal-details">\r\n                        <div ng-if="context === \'sidebar\'">\r\n                            <div class="pull-right" ng-if="(currentUser.roleId === Constants.userRoles.assetManager || currentUser.id === model.deal.createdBy) && model.deal.stage.id !== Constants.dealStatusesValues.executed">\r\n                                <a href="#" ng-click="$ctrl.deleteDeal()">{{$ctrl.messages(\'deals.delete.label\')}}</a>\r\n                            </div>\r\n                            <div class="pull-right mark-dead-btn" ng-if="(currentUser.roleId === Constants.userRoles.assetManager || currentUser.id === model.deal.createdBy) && model.deal.stage.id !== Constants.dealStatusesValues.executed && !model.deal.isDead">\r\n                                <a href="#" ng-click="$ctrl.deadDeal()">{{$ctrl.messages(\'deals.dead.label\')}}</a>\r\n                            </div>\r\n                            <div class="cont">\r\n                                <div class="space-header">{{$ctrl.messages(\'deals.status\')}}</div>\r\n                                <div class="stat-text deal-stage no-select" ng-class="{\'deal-stages-disabled\': model.deal.isDead, \'success\': (model.deal.stage.id !== Constants.dealStatusesValues.dead), \'opened\': $ctrl.showAvailableStages}" ng-click="$ctrl.showAvailableStage()">{{model.deal.stage.name}} <i class="fa fa-caret-down pull-right" ng-if="!$ctrl.showAvailableStages"></i><i class="fa fa-caret-up pull-right" ng-if="$ctrl.showAvailableStages"></i></div>\r\n                                <div class="deal-available-stages-container" ng-if="$ctrl.showAvailableStages">\r\n                                    <div ng-class="{executed: stage.isHighlighted}" ng-disabled="model.deal.isDead" class="deal-available-stages-item" ng-repeat="stage in $ctrl.dealStages" ng-switch="$last" ng-click="$ctrl.setDealStage(stage)">\r\n                                        <p ng-class="{bordered : !$last}">{{stage.name}}</p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="deal-row" ng-if="model.deal.stage.id === Constants.dealStatusesValues.executed">\r\n                    <div class="deal-executed-terms options-list placeholder">\r\n                        <div class="row">\r\n                            <div>\r\n                                <deal-executed-terms class="options-list-container" model="model">\r\n                                </deal-executed-terms>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="deal-row">\r\n                    <div class="deal-details placeholder">\r\n                        <div class="row">\r\n                            <div>\r\n                                <form class="form form-deal" id="form" name="form" novalidate>\r\n                                    <deal-details class="deal-details" model="model" form="form" disabled="isDisabled" editable="true" save="save" cancel="cancel"></deal-details>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="deal-row">\r\n                    <div class="deal-options options-list placeholder ">\r\n                        <div class="row">\r\n                            <div>\r\n                                <deal-options class="options-list-container" model="model" disabled="isDisabled">\r\n                                </deal-options>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="deal-row">\r\n                    <div class="deal-options options-list placeholder ">\r\n                        <div class="row">\r\n                            <div>\r\n                                <form class="form form-deal" name="form" novalidate>\r\n                                    <deal-contacts class="deal-contacts" model="model" editable="true" disabled="isDisabled"></deal-contacts>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="deal-row">\r\n                    <div class="deal-options options-list deal-attachments placeholder ">\r\n                        <div class="row">\r\n                            <div>\r\n                                <form class="form form-deal" id="form" name="form" novalidate>\r\n                                    <deal-attachments model="model" disabled="isDisabled">\r\n                                    </deal-attachments>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4 deal-column" style="height: 100%">\r\n                <div class="deal-comments">\r\n                    <div class="deal-column-tabs">\r\n                        <span class="deal-label" ng-class="{\'active\': chatMode}"  ng-click="$ctrl.setChatMode(true)">{{$ctrl.messages(\'deals.comments.title\')}}</span>\r\n                        <span class="deal-label" ng-class="{\'active\': !chatMode}" ng-click="$ctrl.setChatMode(false)">{{$ctrl.messages(\'deals.logs.title\')}}</span>\r\n                    </div>\r\n                    <div class="tenant-field-block" style="height: 100%" >\r\n                        <add-comment save-message="$ctrl.addComment(message)" readonly="readonly"/>\r\n                        <chat ng-show="chatMode" get-messages="$ctrl.getComments(offset, size)" save-message="$ctrl.addComment(message)" current-user-id="currentUser.id" reload="reloadComments" readonly="readonly" style="display: block; height: 100%; overflow: hidden"/>\r\n                        <deal-log ng-if="!chatMode" style="display: block; height: 100%; overflow: hidden" model="model"></deal-log>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealDetails=__webpack_require__(1055),_dealDetails2=_interopRequireDefault(_dealDetails),_dealDetailsTemplate=__webpack_require__(1056),_dealDetailsTemplate2=_interopRequireDefault(_dealDetailsTemplate),DealDetailsComponent={bindings:{dealObject:"=dealObject",model:"=model",form:"=form",editable:"=editable",disabled:"=disabled",save:"&save",cancel:"&cancel"},controller:_dealDetails2.default,template:_dealDetailsTemplate2.default};exports.default=DealDetailsComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_clientEditModal=__webpack_require__(799),_clientEditModal2=_interopRequireDefault(_clientEditModal),_clientEditModalTemplate=__webpack_require__(800),_clientEditModalTemplate2=_interopRequireDefault(_clientEditModalTemplate),DealDetailsController=function(){function DealDetailsController($scope,$uibModal,$timeout,$state,NotificationService,Client,Market,Deal,User,SpaceTypeLookupService,UtilsService,DealTypeLookupService){_classCallCheck(this,DealDetailsController),this.$scope=$scope,this.dealObject=this.dealObject,this.editMode=null!=this.dealObject,this.$scope.editable=this.editable,this.$scope.save=this.save,this.$scope.cancel=this.cancel,this.$scope.id=this.model.id,this.$scope.spaceTypes=this.model.spaceTypes,this.$scope.dealTypes=this.model.dealTypes,this.$scope.clients=this.model.clients,this.$scope.markets=this.model.markets,this.$scope.startDate=this.model.startDate,this.$scope.areas=this.model.areas,this.$scope.contacts=this.model.contacts,this.$scope.leadUsers=this.model.leadUsers,this.$scope.form=this.form,this.messages=_messages2.default,this.$scope=$scope,this.$uibModal=$uibModal,this.$timeout=$timeout,this.$state=$state,this.notificationService=NotificationService,this.Client=Client,this.Market=Market,this.Deal=Deal,this.User=User,this.SpaceTypeLookupService=SpaceTypeLookupService,this.utils=UtilsService,this.DealTypeLookupService=DealTypeLookupService,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.initMultiSelects(),this.initDatePicker(),this.initRangeSelection(),this.interactWithParent(),this.initModes(),this.maxResults=100}return DealDetailsController.$inject=["$scope","$uibModal","$timeout","$state","NotificationService","Client","Market","Deal","User","SpaceTypeLookupService","UtilsService","DealTypeLookupService"],_createClass(DealDetailsController,[{key:"initMultiSelects",value:function(){var self=this;self.$scope.refreshClients=function(name){return null==name||""==name?void(self.$scope.clients.available=[]):self.Client.search({name:name,maxResults:self.maxResults},function(result){self.$scope.clients.available=result})},self.$scope.refreshUsers=function(name){return null==name||""==name?void(self.$scope.leadUsers.available=[]):self.User.search({name:name},function(result){self.$scope.leadUsers.available=result})},self.$scope.removeOption=function(index,$event){var self=this.$ctrl;if($event.stopPropagation(),angular.element($event.currentTarget).parent().parent().parent().hasClass("disabled"))for(var i=0;i<self.$scope.spaceTypes.selected.length;i++)self.$scope.spaceTypes.selected[i].value==index&&self.$scope.spaceTypes.selected.splice(i--,1)},self.$scope.createClient=function(){var self=this.$ctrl,modal=self.$uibModal.open({controller:_clientEditModal2.default,template:_clientEditModalTemplate2.default,resolve:{clientObject:null,industries:["IndustryLookupService",function(IndustryLookupService){return IndustryLookupService.all()}]}});modal.result.then(function(result){self.clientSelect.search=result.name,self.clientSelect.selected=result})},this.$scope.clientSelected=function(item,model){this.$parent},this.$scope.refreshMarkets=function(name){return self.Market.search({name:name,maxResults:self.maxResults},function(result){self.$scope.markets.available=result})}}},{key:"initDatePicker",value:function(){var self=this;self.$timeout(function(){var pickerField=$("#edit-deal-datepicker");pickerField.datepicker({format:"mm/dd/yyyy",autoclose:!0})},10),self.$scope.openDatePicker=function(){$("#edit-deal-datepicker").datepicker("show")}}},{key:"initRangeSelection",value:function(){var _this=this,self=this;self.$scope.minValueChanged=function(min,max){_this.$scope.areas.rentableAreaMin&&_this.$scope.areas.rentableAreaMax&&_this.$scope.areas.rentableAreaMin>=_this.$scope.areas.rentableAreaMax&&(_this.$scope.areas.rentableAreaMax=_this.$scope.areas.rentableAreaMin+1)},self.$scope.maxValueChanged=function(min,max){_this.$scope.areas.rentableAreaMin&&_this.$scope.areas.rentableAreaMax&&_this.$scope.areas.rentableAreaMax<=_this.$scope.areas.rentableAreaMin&&(_this.$scope.areas.rentableAreaMin=_this.$scope.areas.rentableAreaMax-1)}}},{key:"interactWithParent",value:function(){var self=this;self.$scope.$watch("$parent.submitted",function(newValue,oldValue){newValue&&(self.$scope.submitted=!0)}),0==self.$scope.spaceTypes.available.length&&self.SpaceTypeLookupService.all().then(function(result){self.$scope.spaceTypes.available=result}),0==self.$scope.dealTypes.available.length&&self.DealTypeLookupService.all().then(function(result){self.$scope.dealTypes.available=result}),self.$scope.$watch("startDate",function(newValue,oldValue){newValue&&(self.$scope.startDate=self.model.startDate=newValue)}),self.$scope.$watch("$parent.model.startDate",function(newValue,oldValue){newValue&&(self.$scope.startDate=self.model.startDate=newValue)}),self.$scope.$watch("$parent.model.id",function(newValue,oldValue){self.$scope.toogleInEditMode(!0)})}},{key:"initModes",value:function(){var self=this;self.$scope.inEditMode=!1,self.$scope.toogleInEditMode=function(cancel){self.$scope.inEditMode||cancel?cancel?(self.$scope.inEditMode=!1,self.$scope.$parent.cancelData&&self.$scope.$parent.cancelData()):(self.$scope.submitted=!0,self.$scope.form.$valid&&(self.$scope.inEditMode=!1,self.$scope.$parent.saveData())):self.$scope.inEditMode=!0},self.$scope.spaceTypes.getString=function(){if(self.$scope.spaceTypes.selected)return self.$scope.spaceTypes.selected.map(function(elem){return elem.text}).join(", ")},self.$scope.dealTypes.getString=function(){if(self.$scope.dealTypes.selected)return self.$scope.dealTypes.selected.name},self.$scope.markets.getString=function(){if(self.$scope.markets.selected)return self.$scope.markets.selected.map(function(elem){return elem.name}).join(", ")},self.$scope.areas.getString=function(){return self.$scope.areas.range?self.utils.formatBadgeValue(self.$scope.areas.rentableAreaMin)+" - "+self.utils.formatBadgeValue(self.$scope.areas.rentableAreaMax):self.utils.formatBadgeValue(self.$scope.areas.rentableAreaDiscrete)}}}]),DealDetailsController}();exports.default=DealDetailsController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='\r\n<div class="sidebar-panel">\r\n    <div class="header-panel">\r\n        <div class="header">{{Messages(\'deals.details\')}}</div>\r\n        <div class="line"></div>\r\n        <div class="tool">\r\n            <a href="#" ng-if="editable && !inEditMode && !$ctrl.disabled" ng-click="toogleInEditMode(false)">\r\n                <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n            </a>\r\n            <a href="#" ng-if="editable && inEditMode && $ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead" ng-click="toogleInEditMode(false)">\r\n                <img src="/img/icons/panel-save.png" srcset="/img/icons/panel-save.png 2x">\r\n            </a>\r\n            <a href="#" ng-if="editable && inEditMode && $ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead" ng-click="toogleInEditMode(true)">[X]\r\n                <!-- <img src="/img/icons/panel-cancel.png" srcset="/img/icons/panel-cancel.png 2x"> -->\r\n            </a>                        \r\n        </div>\r\n    </div>\r\n\r\n    <div class="details-content" ng-class="{\'edit-mode\': inEditMode}">\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <div class="block" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.client\')}}</div>\r\n                    <div class="row">\r\n                        <div class="col-sm-12">\r\n                            <div class="client-group dropdown-w-fixed">\r\n                                <ui-select ng-disabled="editable && !inEditMode" ng-init="$ctrl.clientSelect = $select" ng-model="clients.selected" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : form.client.$invalid && (submitted || form.client.$touched)}" name="client" on-select="clientSelected($item, $model)" ng-transclude>\r\n                                    <ui-select-match>\r\n                                        {{ $select.selected.shortName ? $select.selected.shortName + \'/\' : \'\'}} {{$select.selected.name}}\r\n                                    </ui-select-match>\r\n                                    <div class="dropdown-container" ng-show="$select.open && $select.search">\r\n                                        <ui-select-choices repeat="client in clients.available track by $index" refresh="refreshClients($select.search)" refresh-delay="0">\r\n                                            {{ client.shortName ? client.shortName + \'/\' : \'\'}} {{client.name}}\r\n                                        </ui-select-choices>\r\n                                        <div ng-click="createClient()" class="client-add">{{Messages(\'deals.client.add\')}}</div>\r\n                                    </div>\r\n                                </ui-select>\r\n                            </div>\r\n                            <label ng-if="form.client.$invalid && (submitted || form.client.$touched)" class="error" for="client">{{Messages(\'validation.required\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="block">\r\n                    <div class="subheader" ng-if="editable&&!inEditMode">{{Messages(\'deals.client\')}}</div>\r\n                    <label class="not-editable" ng-if="editable&&!inEditMode">{{ clients.selected.shortName ? clients.selected.shortName + \'/\' : \'\'}} {{clients.selected.name}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-6">\r\n                <div class="block" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.area_required\')}}</div>\r\n                    <div class="row">\r\n                        <div class="col-sm-12">\r\n                            <div class="input-group" ng-if="areas.range === true">\r\n                                <input type="number" min="0" class="form-control" id="areaMin" ng-model="areas.rentableAreaMin" ng-blur="minValueChanged()" required ng-class="{ \'has-error\' : form.areaMin.$invalid && (submitted || form.areaMin.$touched || form.areaMax.$touched)}"\r\n                                    name="areaMin" />\r\n                                <span class="input-group-addon">to</span>\r\n                                <span class="dropdown">\r\n                                    <span class="dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span></span>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li ng-click="areas.range = true">{{Messages(\'deals.area.range\')}}</li>\r\n                                        <li ng-click="areas.range = false">{{Messages(\'deals.area.discrete\')}}</li>\r\n                                    </ul>\r\n                                </span>                                 \r\n                                <input type="number" min="0" id="areaMax" class="form-control" ng-model="areas.rentableAreaMax" ng-blur="maxValueChanged()" required ng-class="{ \'has-error\' : form.areaMax.$invalid && (submitted || form.areaMin.$touched || form.areaMax.$touched)}"\r\n                                    name="areaMax" />\r\n                            </div>\r\n                            <label ng-if="areas.range && (form.areaMin.$invalid || form.areaMax.$invalid) && (submitted || form.areaMin.$touched || form.areaMax.$touched)"\r\n                                class="error" for="areaMin">{{Messages(\'validation.required\')}}</label>\r\n                            <div ng-if="areas.range !== true" class="input-group">\r\n                                <input type="number" min="0" class=" form-control" id="areaDiscrete" ng-model="areas.rentableAreaDiscrete" \r\n                                    required ng-class="{ \'has-error\' : form.areaDiscrete.$invalid && (submitted || form.areaDiscrete.$touched)}"\r\n                                    name="areaDiscrete" style="border-bottom-right-radius: 3px; border-top-right-radius: 3px;" />\r\n                                <span class="dropdown">\r\n                                    <span class="dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></span>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li ng-click="areas.range = true">{{Messages(\'deals.area.range\')}}</li>\r\n                                        <li ng-click="areas.range = false">{{Messages(\'deals.area.discrete\')}}</li>\r\n                                    </ul>\r\n                                </span>\r\n                                <label ng-if="form.areaDiscrete.$invalid && (submitted || form.areaDiscrete.$touched)" class="error" for="areaDiscrete">{{Messages(\'validation.required\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="block" ng-if="editable&&!inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.area_required\')}}</div>\r\n                    <label class="not-editable areas">{{ areas.getString()}} m<sup>2</sup></label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6">        \r\n                <div class="block" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.spaceTypes\')}}</div>\r\n                    <ui-select multiple ng-model="spaceTypes.selected" close-on-select="false" remove-selected="false" theme="bootstrap" required ng-class="{ \'has-error\' : form.spaceTypes.$invalid && (submitted || form.spaceTypes.$touched)}" class="multiple-select-element" name="spaceTypes">\r\n                        <ui-select-match>\r\n                            <span ng-class="multiselect-value-{{$item.value}}">{{$item.text}}</span>\r\n                        </ui-select-match>\r\n                        <!--      uis-open-close="onOpenClose(isOpen)" -->\r\n                        <span class="caret"></span>\r\n                        <ui-select-choices repeat="spaceType in spaceTypes.available track by $index">\r\n                            <div class="t360-select-choice" ng-show="$select.isDisabled(this)">\r\n                                <input type="checkbox" id="item-{{spaceType.value}}" name="item-{{spaceType.value}}" ng-click="removeOption(spaceType.value, $event)"><label for="item-{{spaceType.value}}"><span></span>{{spaceType.text}}</label>\r\n                            </div>\r\n                            <div class="t360-select-choice" ng-show="!$select.isDisabled(this)">\r\n                                <input type="checkbox" id="item-{{spaceType.value}}" name="item-{{spaceType.value}}"><label for="item-{{spaceType.value}}"><span></span>{{spaceType.text}}</label>\r\n                            </div>\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                    <div class="t360-select-caret"><span class="caret"></span></div>\r\n                    <label ng-if="form.spaceTypes.$invalid && (submitted || form.spaceTypes.$touched)" class="error" for="spaceTypes">{{Messages(\'validation.required\')}}</label>\r\n                </div>\r\n                <div class="block" ng-if="editable&&!inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.spaceTypes\')}}</div>\r\n                    <label class="not-editable">{{ spaceTypes.getString()}}</label>\r\n                </div> \r\n            </div>\r\n            <div class="col-sm-6">\r\n                <div class="block select-markets" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.markets\')}}</div>\r\n                    <ui-select multiple ng-model="markets.selected" close-on-select="false" theme="bootstrap" required ng-class="{ \'has-error\' : form.markets.$invalid && (submitted || form.markets.$touched)}"\r\n                        name="markets">\r\n                        <ui-select-match class="text-muted" placeholder="{{Messages(\'deals.markets.placeholder\')}}">\r\n                            {{$item.name}}\r\n                        </ui-select-match>\r\n                        <ui-select-choices repeat="market in markets.available track by $index" refresh="refreshMarkets($select.search)" refresh-delay="0">\r\n                            {{market.name}}\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                    <label ng-if="form.markets.$invalid && (submitted || form.markets.$touched)" class="error" for="markets">{{Messages(\'validation.required\')}}</label>\r\n                </div>\r\n                <div class="block" ng-if="editable&&!inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.markets\')}}</div>\r\n                    <label class="not-editable">{{ markets.getString()}}</label> \r\n                </div>            \r\n            </div>            \r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6" ng-if="!$ctrl.model.deal.isDead">\r\n                <div class="block" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.start_date\')}}</div>\r\n                    <div class=\'input-group date\'>\r\n                        <input type=\'text\' class="input-calendar" placeholder="{{Messages(\'deals.start_date.placeholder\')}}" ng-model="$ctrl.$scope.startDate"\r\n                            id="edit-deal-datepicker" required ng-class="{ \'has-error\' : form.startDate.$invalid && (submitted || form.startDate.$touched)}"\r\n                            name="startDate" ng-click="openDatePicker()">\r\n                    </div>\r\n                    <label ng-if="form.startDate.$invalid && (submitted || form.startDate.$touched)" class="error" for="startDate">{{Messages(\'validation.required\')}}</label>\r\n                </div>\r\n                <div class="block" ng-if="editable&&!inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.start_date\')}}</div>\r\n                    <label class="not-editable">{{ startDate}}</label> \r\n                </div>\r\n            </div>\r\n            <div class="col-sm-6" ng-if="$ctrl.model.deal.isDead">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.dead.outcome\')}}</div>\r\n                    <label class="not-editable">{{$ctrl.model.deal.deadStageInformation.outcome}}</label> \r\n                </div>\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.dead.reason\')}}</div>\r\n                    <label class="not-editable">{{$ctrl.model.deal.deadStageInformation.reason}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-6" ng-if="!$ctrl.model.id || $ctrl.model.id === 0">\r\n                <div class="block block-dealtype" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.dealType\')}}</div>\r\n                    <ui-select ng-model="dealTypes.selected" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : form.dealTypes.$invalid && (submitted || form.dealTypes.$touched)}"\r\n                        name="dealTypes">\r\n                        <ui-select-match class="text-muted" placeholder="{{Messages(\'deals.dealType.placeholder\')}}">\r\n                            {{$select.selected.name}}\r\n                        </ui-select-match>\r\n                        <ui-select-choices repeat="dealType in dealTypes.available track by $index">\r\n                            {{dealType.name}}\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                    <label ng-if="form.dealTypes.$invalid && (submitted || form.dealTypes.$touched)" class="error" for="dealTypes">{{Messages(\'validation.required\')}}</label>\r\n                </div>\r\n                <div class="block" ng-if="editable&&!inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.dealType\')}}</div>\r\n                    <label class="not-editable">{{ dealTypes.getString()}}</label> \r\n                </div>            \r\n            </div>    \r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <div class="block" ng-if="!editable||inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.dealLead\')}}</div>\r\n                    <ui-select ng-disabled="editable && !inEditMode" ng-model="leadUsers.selected" close-on-select="true" theme="bootstrap"\r\n                        ng-class="{ \'has-error\' : form.user.$invalid && (submitted || form.user.$touched)}" name="user">\r\n                        <ui-select-match placeholder="{{Messages(\'deals.dealLead.placeholder\')}}" allow-clear="true">\r\n                            {{ $select.selected.displayName }}\r\n                        </ui-select-match>\r\n                        <ui-select-choices repeat="user in leadUsers.available track by $index" refresh="refreshUsers($select.search)" refresh-delay="0">\r\n                            {{ user.displayName }}\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                </div>\r\n                <div class="block" ng-if="editable&&!inEditMode">\r\n                    <div class="subheader">{{Messages(\'deals.dealLead\')}}</div>\r\n                    <label class="not-editable">{{ leadUsers.selected.displayName }}</label> \r\n                </div>\r\n            </div>  \r\n        </div>\r\n        <div class="row" ng-if="$ctrl.model.deal.isDead">\r\n            <div class="col-sm-12">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.dead.notes\')}}</div>\r\n                    <label class="not-editable">{{$ctrl.model.deal.deadStageInformation.notes}}</label> \r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealContacts=__webpack_require__(1058),_dealContacts2=_interopRequireDefault(_dealContacts),_dealContactsTemplate=__webpack_require__(1059),_dealContactsTemplate2=_interopRequireDefault(_dealContactsTemplate),DealContactsComponent={bindings:{dealObject:"=dealObject",model:"=model",form:"=form",editable:"=editable",disabled:"=disabled"},controller:_dealContacts2.default,template:_dealContactsTemplate2.default};exports.default=DealContactsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_representativeEditModal=__webpack_require__(795),_representativeEditModal2=_interopRequireDefault(_representativeEditModal),_representativeEditModalTemplate=__webpack_require__(796),_representativeEditModalTemplate2=_interopRequireDefault(_representativeEditModalTemplate),DealContactsController=function(){function DealContactsController($scope,$rootScope,$uibModal,$timeout,$state,NotificationService,Representative,Deal){_classCallCheck(this,DealContactsController),this.$scope=$scope,this.$rootScope=$rootScope,this.dealObject=this.dealObject,this.editMode=null!=this.dealObject,this.$scope.clients=this.model.clients,this.$scope.contacts=this.model.contacts,this.$scope.form=this.form,this.$scope.editable=this.editable,this.$scope.id=this.model.id,this.$scope=$scope,this.$uibModal=$uibModal,this.$timeout=$timeout,this.$state=$state,this.notificationService=NotificationService,this.Representative=Representative,this.Deal=Deal,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.initMultiSelects(),this.interactWithParent(),this.maxResults=100}return DealContactsController.$inject=["$scope","$rootScope","$uibModal","$timeout","$state","NotificationService","Representative","Deal"],_createClass(DealContactsController,[{key:"initMultiSelects",value:function(){var self=this;this.$scope.contactSelected=function(item,model){var self=this.$parent;0==self.contacts.selected.filter(function(elem){return item.id==elem.id}).length&&(self.editable?self.$ctrl.Deal.addContact({id:self.$ctrl.model.id,contactId:item.id},{},function(){self.contacts.selected.push(item),self.$ctrl.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.$ctrl.model.id})}):self.contacts.selected.push(item)),self.$ctrl.$timeout(function(){self.contactSelect.activeIndex=0,self.contacts.currentSelection=null,self.contactSelect.selected=null})},this.$scope.refreshContacts=function(search){if(self.$scope.clients.selected&&self.$scope.clients.selected.id)return self.Representative.search({clientId:self.$scope.clients.selected.id,search:search,maxResults:self.maxResults},function(result){self.$scope.contacts.available=result})},this.$scope.removeContact=function(id){var self=this.$parent;self.editable?self.$ctrl.Deal.removeContact({id:self.$ctrl.model.id,contactId:id},{},function(res){self.$ctrl.notificationService.success((0,_messages2.default)("deals.message.contact_removed")),self.contacts.selected=self.contacts.selected.filter(function(elem){return id!=elem.id}),self.$ctrl.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.$ctrl.model.id})},function(error){self.$ctrl.notificationService.error(error.data.message?error.data.message:error.data)}):self.contacts.selected=self.contacts.selected.filter(function(elem){return id!=elem.id})},this.$scope.editContact=function(contact){var self=this;if(self.clients.selected&&self.clients.selected.id){var modal=self.$ctrl.$uibModal.open({controller:_representativeEditModal2.default,template:_representativeEditModalTemplate2.default,resolve:{representativeObject:contact,clientId:self.clients.selected.id}});modal.result.then(function(result){contact?contact=angular.copy(result):self.$parent.editable?self.$parent.$ctrl.Deal.addContact({id:self.$parent.$ctrl.model.id,contactId:result.id},{},function(res){self.contacts.selected.push(result),self.$parent.$ctrl.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.$ctrl.model.id})},function(error){self.$parent.$ctrl.notificationService.error(error.data.message?error.data.message:error.data)}):(self.contacts.selected.push(result),self.$parent.$ctrl.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.$ctrl.model.id})),self.contactSelect&&self.refreshContacts(self.contactSelect.search)})}},this.$scope.addContact=function(){var self=this;self.editContact(null)},this.$scope.save=function(){}}},{key:"interactWithParent",value:function(){var self=this;self.$scope.$watch("clients.selected",function(newValue,oldValue){self.$scope.editable||(self.$scope.contacts.selected=[]),self.$scope.refreshContacts("")})}}]),DealContactsController}();exports.default=DealContactsController},function(module,exports){module.exports='<div class="sidebar-panel">\r\n    <div class="header-panel">\r\n        <div class="header">\r\n            {{Messages(\'deals.contacts.title\')}}\r\n        </div>\r\n        <div class="line"></div>\r\n        <div class="tool">\r\n            <a href="#" ng-if="!editable" ng-class="{\'disabled\': !clients.selected || $ctrl.model.deal.dealStageId === Constants.dealStatusesValues.dead}" ng-click="addContact()">\r\n                <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n            </a>\r\n            <a href="#" ng-if="editable && !$ctrl.disabled" ng-click="addContact()" ng-class="{\'disabled\': $ctrl.model.deal.dealStageId === Constants.dealStatusesValues.dead}">\r\n                <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n            </a>            \r\n        </div>\r\n    </div>\r\n    <div class="row search-row client-search" ng-class="{\'edit-mode\': editable}">\r\n        <div class="col-sm-12 dropdown-w-fixed" ng-if="!$ctrl.disabled">\r\n            <ui-select ng-disabled="!clients.selected" ng-init="$parent.contactSelect = $select" ng-model="contacts.currentSelection"\r\n                close-on-select="true" theme="bootstrap" name="contact" on-select="contactSelected($item, $model)" ng-transclude>\r\n                <ui-select-match>\r\n                </ui-select-match>\r\n                <div class="dropdown-container" ng-show="$select.open && $select.search">\r\n                    <ui-select-choices repeat="contact in contacts.available track by $index" refresh="refreshContacts($select.search)" refresh-delay="0">\r\n                        <div class="avatar"><img src="/img/user.svg"></div> <!-- no api support -->\r\n                        <div class="contact">\r\n                            <span class="name">{{contact.name}}</span> <span ng-if="contact.position" class="position">{{contact.position}}</span><br/>\r\n                            <span ng-if="contact.isBroker" class="company">{{Messages(\'clients.representatives.category.broker\')}} </span>\r\n                            <span ng-if="contact.companyName" class="company">{{contact.companyName}}</span>\r\n                        </div>\r\n                    </ui-select-choices>\r\n                    <div ng-click="addContact()" class="client-add">{{Messages(\'deals.client.add\')}}</div>\r\n                </div>\r\n            </ui-select>\r\n        </div>\r\n    </div>\r\n    <div class="row deal-contacts-list" ng-class="{\'edit-mode\': editable}">        \r\n        <div class="col-sm-12">\r\n            <div class="row contacts-list-item" ng-repeat="selectedContact in contacts.selected">\r\n                <div class="col-md-2 pointer" ng-click="($ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead) ? editContact(selectedContact) : null">\r\n                    <div class="avatar pull-right"><img src="/img/user.svg"></div> <!-- no api support -->\r\n                </div>\r\n                <div class="col-md-8">\r\n                    <div class="contact-name pointer" ng-click="($ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead) ? editContact(selectedContact) : null">{{selectedContact.name}}</div>\r\n                    <div class="pointer" ng-click="($ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead) ? editContact(selectedContact) : null"><span class="contact-position" ng-if="selectedContact.isMain">Tenant contact</span> <span class="contact-position" ng-if="selectedContact.isBroker">Broker contact</span> <span ng-if="(selectedContact.isMain || selectedContact.isBroker) && selectedContact.companyName">|</span> {{selectedContact.companyName}}</div>\r\n                    <div class="row">\r\n                        <div  ng-if="selectedContact.email" ng-class="{\'col-md-6\': selectedContact.email && selectedContact.mobilePhone && selectedContact.officePhone, \'col-md-12\': selectedContact.email && !selectedContact.mobilePhone && !selectedContact.officePhone, \'col-md-8\': selectedContact.email && (!selectedContact.mobilePhone || !selectedContact.officePhone)}">\r\n                            <img src="img/icons/email.svg" class="contact-icon" alt=""> {{selectedContact.email}}\r\n                        </div>\r\n                        <div class="col-md-3" ng-if="selectedContact.mobilePhone">\r\n                            <img src="img/icons/phone.svg" class="contact-icon" alt=""> {{selectedContact.mobilePhone}}\r\n                        </div>\r\n                        <div class="col-md-3" ng-if="selectedContact.officePhone">\r\n                            <img src="img/icons/phone.svg" class="contact-icon" alt=""> {{selectedContact.officePhone}}\r\n                        </div>\r\n                    </div>                  \r\n                </div>    \r\n                <div class="col-md-2 contacts-list-controls">\r\n                    <a href="" ng-if="$ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead" ng-click="removeContact(selectedContact.id)" class="tool-box text-muted"><img src="/img/icons/delete-contact.svg"></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>    \r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealOptions=__webpack_require__(1061),_dealOptions2=_interopRequireDefault(_dealOptions),_dealOptionsTemplate=__webpack_require__(1062),_dealOptionsTemplate2=_interopRequireDefault(_dealOptionsTemplate),DealOptionsComponent={bindings:{model:"=",disabled:"=disabled"},controller:_dealOptions2.default,template:_dealOptionsTemplate2.default};exports.default=DealOptionsComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_moment=__webpack_require__(212),_optionsEditModal=(_interopRequireDefault(_moment),__webpack_require__(793)),_optionsEditModal2=_interopRequireDefault(_optionsEditModal),_optionsEditModalTemplate=__webpack_require__(794),_optionsEditModalTemplate2=_interopRequireDefault(_optionsEditModalTemplate),DealOptionsController=function(){function DealOptionsController($scope,$rootScope,$timeout,$state,$anchorScroll,$uibModal,Deal,NotificationService){_classCallCheck(this,DealOptionsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$timeout=$timeout,this.$state=$state,this.$anchorScroll=$anchorScroll,this.$uibModal=$uibModal,this.Deal=Deal,this.notificationService=NotificationService,this.model=this.model,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.objects=[],this.totalSpaces=0,this.init()}return DealOptionsController.$inject=["$scope","$rootScope","$timeout","$state","$anchorScroll","$uibModal","Deal","NotificationService"],_createClass(DealOptionsController,[{key:"init",value:function(){var self=this;self.$onInit=function(){self.$scope.$watch(function(){return self.model.options},function(){self.options=self.model.options,self.Deal.objects({marketIds:null,unitTypeIds:null,areaFrom:null,areaTo:null,availability:_constants2.default.spaceAvailabilityIds.all},function(result){self.objects=result,self.fillOptions(),self.$scope.options=self.options,self.initComponent(),self.initScrollbar()},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})}}},{key:"fillOptions",value:function(result){var self=this;self.$scope.totalSpaces=0,self.options.forEach(function(option){option.objects.forEach(function(object){object.object=self.objects.find(function(t){return t.assetObjectId==object.assetObjectId}),object.spaces.forEach(function(space){space.unit=object.object.units.find(function(s){return s.spaceId==space.spaceId}),self.$scope.totalSpaces+=1})})})}},{key:"initComponent",value:function(){var self=this;self.$scope.deleteOption=function(option,callback){self.Deal.deleteOption({id:option.dealId,optionId:option.id},function(result){self.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:option.dealId}),self.notificationService.success((0,_messages2.default)("deals.message.option_deleted")),callback&&callback()},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})},self.$scope.deleteSpace=function(option,object,space){var idx=object.spaces.findIndex(function(t){return t.spaceId==space.spaceId});if(idx>=0){if(object.spaces.splice(idx,1),self.$scope.totalSpaces-=1,object.spaces.length<1){var objIdx=option.objects.findIndex(function(o){return o.assetObjectId==object.assetObjectId});option.objects.splice(objIdx,1)}self.initScrollbar()}},self.$scope.editOptions=function(){var markets=self.model.markets.selected,spaceTypes=self.model.spaceTypes.selected.map(function(elem){return elem.value}),modal=self.$uibModal.open({controller:_optionsEditModal2.default,template:_optionsEditModalTemplate2.default,resolve:{dealObject:{options:self.$scope.options},markets:{data:markets.length>0?markets:null},spaceTypes:{data:spaceTypes.length>0?spaceTypes:null},areaFrom:self.model.areas.rentableAreaMin,areaTo:self.model.areas.rentableAreaMax},size:"lg"});modal.result.then(function(result){self.Deal.updateOptions({id:self.model.deal.id},result,function(r){self.$scope.options.splice(0,self.$scope.options.length),angular.merge(self.$scope.options,r),self.fillOptions(),self.initScrollbar(),self.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.model.deal.id}),self.notificationService.success((0,_messages2.default)("deals.message.options_updated"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})})},self.$scope.getOptionTotalArea=function(option){var area=0;return option.objects.forEach(function(object){object.isFullyAssigned?area+=self.$scope.getObjectTotalArea(object.object):object.spaces.forEach(function(space){area+=space.unit.rentableArea})}),area},self.$scope.getObjectTotalArea=function(object){var area=0;return object.spaces.forEach(function(item){area+=item.unit.rentableArea}),area}}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){var elem=$("#selected-options-container");elem[0]&&SimpleScrollbar.initEl(elem[0])})}}]),DealOptionsController}();exports.default=DealOptionsController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="sidebar-panel">\r\n    <div class="header-panel">\r\n        <div class="header">\r\n            {{Messages(\'deals.options.title\')}}\r\n        </div>\r\n        <div class="line"></div>\r\n        <div class="tool">\r\n            <a href="#" ng-if="!$ctrl.disabled" ng-click="editOptions()">\r\n                <img src="/img/icons/panel-add.png" srcset="/img/icons/panel-add.png 2x">\r\n            </a>\r\n        </div>        \r\n    </div>\r\n    <div class="expand-button pull-right" ng-if="$ctrl.options.length > Constants.dealOptionsCount">\r\n        <a href="" ng-click="showMoreOptions(!showAllOptions)">\r\n            <span ng-if="!showAllOptions">\r\n                <span>\r\n                    {{Messages(\'deals.attachments.showmorebutton\')}}\r\n                </span>\r\n                <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n            </span>\r\n            <span ng-if="showAllOptions">\r\n                <span>\r\n                    {{Messages(\'deals.attachments.showlessbutton\')}}\r\n                </span>\r\n                <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n            </span>\r\n        </a>\r\n    </div>\r\n    <div class="block" ng-repeat="option in $ctrl.options | limitTo: showAllOptions || $ctrl.onSelectOption != null ? \'Infinity\' : constants.dealOptionsCount">\r\n        <div ng-repeat="object in option.objects" ng-switch="$last">\r\n            <div class="subheader">{{object.assetName}} <span ng-if="object.assetObjectName">:</span> {{object.assetObjectName}}</div>            \r\n            <div class="row">\r\n                <div class="col-md-4">\r\n                    <button class="btn btn-default unit selected-unit" ng-repeat="space in object.spaces" ng-if="!object.isSelected">\r\n                        <span class="unit-label">{{space.unit.unitNumber ? space.unit.unitNumber : space.unit.textNumber}}</span>\r\n                    </button>\r\n                </div>\r\n                <div class="col-md-4">\r\n                    - <!-- no api support -->\r\n                </div>\r\n                <div class="col-md-4 text-right">\r\n                    {{getObjectTotalArea(object).toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>       \r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealAttachments=__webpack_require__(1064),_dealAttachments2=_interopRequireDefault(_dealAttachments),_dealAttachmentsTemplate=__webpack_require__(1065),_dealAttachmentsTemplate2=_interopRequireDefault(_dealAttachmentsTemplate),DealAttachmentsComponent={bindings:{model:"=",disabled:"=disabled"},controller:_dealAttachments2.default,template:_dealAttachmentsTemplate2.default};exports.default=DealAttachmentsComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_moment=__webpack_require__(212),DealAttachmentsController=(_interopRequireDefault(_moment),function(){function DealAttachmentsController($scope,$rootScope,$timeout,$state,$anchorScroll,$uibModal,ImageService,Deal,NotificationService){_classCallCheck(this,DealAttachmentsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$timeout=$timeout,this.$state=$state,this.$anchorScroll=$anchorScroll,this.$uibModal=$uibModal,this.imageService=ImageService,this.Deal=Deal,this.notificationService=NotificationService,this.model=this.model,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.addAttachment=null,this.init()}return DealAttachmentsController.$inject=["$scope","$rootScope","$timeout","$state","$anchorScroll","$uibModal","ImageService","Deal","NotificationService"],_createClass(DealAttachmentsController,[{key:"init",value:function(){var self=this;self.$scope.attachments=[],self.$onInit=function(){self.$scope.$watch(function(){return self.model.attachments},function(){self.$scope.attachments.splice(0,self.$scope.attachments.length),$.extend(self.$scope.attachments,self.model.attachments)})},self.$scope.uploadFile=function(doc,callback){var blob=self.imageService.dataURItoBlob(doc.documentFile.data),fd=new FormData(document.forms[0]);fd.append("data",blob,doc.documentFile.originalFileName),self.Deal.uploadDocument({id:self.model.id,documentTypeId:doc.typeId},fd,function(result){doc.url=result.url,callback&&callback(),self.$rootScope.$broadcast(_events2.default.DealUpdated,{deal:self.model.id}),self.notificationService.success((0,_messages2.default)("deals.message.attachment_uploaded"))},function(error){self.notificationService.error(error.data.message?error.data.message:error.data)})}}}]),DealAttachmentsController}());exports.default=DealAttachmentsController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="sidebar-panel">\r\n    <div class="header-panel">\r\n        <div class="header">\r\n            {{Messages(\'deals.attachments.title\')}}\r\n        </div>\r\n        <div class="line"></div>\r\n        <div class="tool">\r\n            <a href="#" ng-if="!$ctrl.disabled" ng-click="$ctrl.addAttachment()">\r\n                <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <deal-attachment-list attachments="attachments" add-attachment="$ctrl.addAttachment" on-upload="uploadFile(doc, callback)"></deal-attachment-list>    \r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _attachmentList=__webpack_require__(1067),_attachmentList2=_interopRequireDefault(_attachmentList),_attachmentListTemplate=__webpack_require__(1070),_attachmentListTemplate2=_interopRequireDefault(_attachmentListTemplate),AttachmentListComponent={bindings:{attachments:"=",addAttachment:"=?",onUpload:"&?",onDelete:"&?"},controller:_attachmentList2.default,template:_attachmentListTemplate2.default};exports.default=AttachmentListComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_moment=__webpack_require__(212),_dealAttachmentModal=(_interopRequireDefault(_moment),__webpack_require__(1068)),_dealAttachmentModal2=_interopRequireDefault(_dealAttachmentModal),_dealAttachmentModalTemplate=__webpack_require__(1069),_dealAttachmentModalTemplate2=_interopRequireDefault(_dealAttachmentModalTemplate),AttachmentListController=function(){function AttachmentListController($scope,$timeout,$state,$anchorScroll,$uibModal,FileService,UtilsService,ImageService,SecurityService,NotificationService){_classCallCheck(this,AttachmentListController),this.$scope=$scope,this.$timeout=$timeout,this.$state=$state,this.$anchorScroll=$anchorScroll,this.$uibModal=$uibModal,this.fileService=FileService,this.utils=UtilsService,this.imageService=ImageService,this.securityService=SecurityService,this.notificationService=NotificationService,this.$scope.attachments=this.attachments,this.onUpload=this.onUpload,this.$scope.Messages=_messages2.default,this.init()}return AttachmentListController.$inject=["$scope","$timeout","$state","$anchorScroll","$uibModal","FileService","UtilsService","ImageService","SecurityService","NotificationService"],_createClass(AttachmentListController,[{key:"init",value:function(){var self=this;self.securityService.getUserInfo().then(function(user){self.currentUser=user}),self.$scope.addDocument=function(){$("#attachementsUploader").val(null),setTimeout(function(){$("#attachementsUploader").click()},200)},self.$scope.showMoreAttachment=function(showMore){self.$scope.showAllAttachments=showMore},angular.element(document).ready(function(){$("#attachementsUploader").change(function(){self.uploadDocument($("#attachementsUploader")[0].files)})}),self.addAttachment=self.$scope.addDocument,self.$scope.showAllAttachments=!1,self.$scope.constants=_constants2.default}},{key:"downloadDocument",value:function(doc){var self=this;self.fileService.downloadFile(doc.url)}},{key:"uploadDocument",value:function(files){var self=this;self.fileService.uploadFiles(files,function(singleFile){if(singleFile.size>_constants2.default.attachmentMaxFileSize)return void self.$timeout(function(){self.notificationService.error((0,_messages2.default)("deals.message.attachment.error").replace(new RegExp("\\{0\\}","gm"),singleFile.filename).replace(new RegExp("\\{1\\}","gm"),_constants2.default.attachmentMaxFileSize))},100);var doc=self.createDocument(singleFile),modal=self.$uibModal.open({controller:_dealAttachmentModal2.default,template:_dealAttachmentModalTemplate2.default,resolve:{fileDocument:Object.assign({},doc),localeId:self.currentUser.localeId},windowClass:"deal-attachment-modal-window"});modal.result.then(function(docType){if(docType)if(doc.typeId=docType.id,doc.type=docType.value,self.onUpload){var callback=function(){self.$scope.attachments.unshift(doc)};self.onUpload({doc:doc,callback:callback})}else self.$scope.attachments.unshift(doc)})},function(){})}},{key:"createDocument",value:function(file){var self=this,document={id:0,uniqueId:self.utils.generateGuid(),name:file.filename,type:"",typeId:0,documentFile:{data:file.data,contentType:file.mime,uniqueFileName:"",originalFileName:file.filename}};return document}},{key:"deleteDocument",value:function(doc){if(doc&&doc.id>0&&this.onDelete){var callback=function(){var idx=this.$scope.attachments.findIndex(function(d){return d.uniqueId==doc.uniqueId});this.$scope.attachments.splice(idx,1)};this.onDelete({doc:doc,callback:callback})}else{var idx=this.$scope.attachments.findIndex(function(d){return d.uniqueId==doc.uniqueId});this.$scope.attachments.splice(idx,1)}}}]),AttachmentListController}();exports.default=AttachmentListController}).call(exports,__webpack_require__(178))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),DealAttachmentModalController=(_interopRequireDefault(_constants),function(){function DealAttachmentModalController($scope,$rootScope,$uibModalInstance,$timeout,fileDocument,localeId,NotificationService,ContractDocumentTypeLookupService){_classCallCheck(this,DealAttachmentModalController),this.$scope=$scope,this.$rootScope=$rootScope,this.$uibModalInstance=$uibModalInstance,this.$timeout=$timeout,this.messages=_messages2.default,this.$scope.fileDocument=fileDocument,this.$scope.localeId=localeId,this.notificationService=NotificationService,this.ContractDocumentTypeLookupService=ContractDocumentTypeLookupService,this.$scope.fileTypes=[],this.$scope.selectedType=null,this.init(),this.initComponent()}return DealAttachmentModalController.$inject=["$scope","$rootScope","$uibModalInstance","$timeout","fileDocument","localeId","NotificationService","ContractDocumentTypeLookupService"],_createClass(DealAttachmentModalController,[{key:"init",value:function(){var self=this;self.$scope.ok=function(){self.$uibModalInstance.close(self.$scope.selectedType)},self.$scope.cancel=function(){self.$uibModalInstance.dismiss("cancel")},self.ContractDocumentTypeLookupService.all().then(function(items){self.$scope.fileTypes=items})}},{key:"initComponent",value:function(){var self=this;self.$scope.selectType=function($item,$model){self.$scope.selectedType=$item}}}]),DealAttachmentModalController}());exports.default=DealAttachmentModalController},function(module,exports){module.exports='<div class="inmodal" ng-class="editMode ? \'hmodal-info\' : \'\'">\r\n    <div class="modal-header text-center">\r\n        <img src="/img/icons/modal-file-attachment-header.svg">\r\n        <h4 class="modal-title">\r\n            {{Messages(\'assets.tenants.attachment.dialog.header\')}}\r\n        </h4>\r\n    </div>   \r\n    <div class="modal-body tenant-attachment-body">\r\n        <form role="form">\r\n            <div class="modal-block">\r\n                <div class="header-panel">\r\n                    <div class="header">{{Messages(\'assets.tenants.attachment.dialog.filedetails\')}}</div>\r\n                    <div class="line"></div>\r\n                </div>\r\n                <div class="row">\r\n                    <div class="col-lg-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'assets.tenants.attachment.dialog.filename\')}}</div>\r\n                            <p class="tenant-text"><input type="text" name="filename" value="{{fileDocument.originalFileName}}" disabled></p>\r\n                        </div>                      \r\n                    </div>\r\n                    <div class="col-lg-6">\r\n                        <div class="block">\r\n                            <div class="subheader">{{Messages(\'assets.tenants.attachment.dialog.filetype\')}}</div>\r\n                            <ui-select ng-model="selectedFileType" close-on-select="true" tagging tagging-label="(\'new\')"  on-select="selectType($item, $model)">\r\n                                <ui-select-match>{{$select.selected.value}}</ui-select-match>\r\n                                <ui-select-choices repeat="type in fileTypes | filter:$select.search">\r\n                                    {{type.value}}\r\n                                </ui-select-choices>\r\n                            </ui-select>\r\n                        </div>                      \r\n                    </div>                  \r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer tenant-attachment-footer">\r\n        <button type="button" class="btn btn-default tenant-attachment-button" ng-click="cancel()">\r\n            {{ Messages(\'assets.tenants.attachment.dialog.cancel\') }}\r\n        </button>\r\n        <button type="button" class="btn btn-primary tenant-attachment-button" ng-click="ok()" ng-disabled="selectedType == null">\r\n            {{ Messages(\'assets.tenants.attachment.dialog.upload\') }}\r\n        </button>\r\n    </div>\r\n</div>\r\n\r\n';
},function(module,exports){module.exports='<div ng-if="attachments.length > 0" class="attachment-list-container">\r\n    <div class="expand-button pull-right" ng-if="attachments.length > constants.dealAttachmentCount">\r\n        <a href="" ng-click="showMoreAttachment(!showAllAttachments)">\r\n            <span ng-if="!showAllAttachments">\r\n                <span>\r\n                    {{Messages(\'deals.attachments.showmorebutton\')}}\r\n                </span>\r\n                <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n            </span>\r\n            <span ng-if="showAllAttachments">\r\n                <span>\r\n                    {{Messages(\'deals.attachments.showlessbutton\')}}\r\n                </span>\r\n                <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n            </span>\r\n        </a>\r\n    </div>\r\n    <div class="attachment-container">\r\n        <div class="row attachment-row" ng-repeat="at in attachments | limitTo: showAllAttachments ? \'Infinity\' : constants.dealAttachmentCount">\r\n            <div class="col-md-5">\r\n                <div class="attachment-type">{{at.type}}</div>\r\n            </div>\r\n            <div class="col-md-7">\r\n                <div class="attachment-name">\r\n                    <span ng-if="!at.url">{{at.name}}</span>\r\n                    <a href="#" ng-click="$ctrl.downloadDocument(at)" ng-if="at.url" class="attachment-name"><span>{{at.name}}</span></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<input type="file" id="attachementsUploader" accept="image/png, image/jpg, text/plain, application/pdf, application/msword, application/vnd.ms-excel,\r\n                application/vnd.openxmlformats-officedocument.wordprocessingml.document,\r\n                application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" class="hidden" />    '},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealExecutedTerms=__webpack_require__(1072),_dealExecutedTerms2=_interopRequireDefault(_dealExecutedTerms),_dealExecutedTermsTemplate=__webpack_require__(1073),_dealExecutedTermsTemplate2=_interopRequireDefault(_dealExecutedTermsTemplate),DealExecutedTermsComponent={bindings:{model:"=",disabled:"=disabled"},controller:_dealExecutedTerms2.default,template:_dealExecutedTermsTemplate2.default};exports.default=DealExecutedTermsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_moment=(_interopRequireDefault(_events),__webpack_require__(212)),_moment2=_interopRequireDefault(_moment),DealExecutedTermsController=function(){function DealExecutedTermsController($scope,$rootScope,$timeout,$state,$anchorScroll,$uibModal,SpaceTypeLookupService,NotificationService,Settings){_classCallCheck(this,DealExecutedTermsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$timeout=$timeout,this.$state=$state,this.$anchorScroll=$anchorScroll,this.$uibModal=$uibModal,this.notificationService=NotificationService,this.spaceTypeLookupService=SpaceTypeLookupService,this.Settings=Settings,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.$scope.model=null,this.moment=_moment2.default,this.init()}return DealExecutedTermsController.$inject=["$scope","$rootScope","$timeout","$state","$anchorScroll","$uibModal","SpaceTypeLookupService","NotificationService","Settings"],_createClass(DealExecutedTermsController,[{key:"init",value:function(){var self=this;self.$onInit=function(){self.$scope.$watch(function(){return self.model},function(){self.updateModel(self.model.executedMasterContract)})},self.spaceTypeLookupService.all().then(function(result){self.spaceTypes=result,self.updateModel(self.model.executedMasterContract)})}},{key:"updateModel",value:function(data){var self=this;if(data&&null!=data){self.$scope.model={term:null!=data.endsAt?(0,_moment2.default)(data.endsAt).diff((0,_moment2.default)(data.startsAt),"months",!0).toFixed(0):(0,_messages2.default)("deals.executed.permanent"),size:data.client.name,startsAt:data.startsAt,endsAt:data.endsAt,dateExecuted:data.dateExecuted,assets:[]};var assets=[],size=0;null!=data.contracts&&(data.contracts.forEach(function(c){if(null!=c.space){size+=c.rentableArea;var asset=assets.find(function(a){return a.id==c.space.assetId});asset&&null!=asset||(asset={id:c.space.assetId,name:c.space.assetName,towers:[]},assets.push(asset));var tower=asset.towers.find(function(t){return t.id==c.space.assetObjectId});tower&&null!=tower||(tower={id:c.space.assetObjectId,name:c.space.towerName,spaces:[]},asset.towers.push(tower));var spaceType=self.spaceTypes?self.spaceTypes.find(function(t){return t.value==c.spaceTypeId}):null,space={number:c.space.number,officeType:null!=spaceType?spaceType.text:"",area:c.rentableArea,rent:c.inPlaceRent,cost:c.inPlaceRent*c.rentableArea};tower.spaces.push(space)}}),self.$scope.model.assets=assets,self.$scope.model.size=size)}}}]),DealExecutedTermsController}();exports.default=DealExecutedTermsController},function(module,exports){module.exports='\r\n<div class="deal-options-container" id="selected-options-container">\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{Messages(\'deals.executed.header\')}}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n        <div class="details-content" ng-if="model != null">\r\n            <div class="row">\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'deals.executed.term\')}}</div>\r\n                        <label class="not-editable">{{model.term}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'deals.executed.startDate\')}}</div>\r\n                        <label class="not-editable">{{model.startsAt != null ? $ctrl.moment(model.startsAt).format("MM/DD/YYYY") : \'\'}}</label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'deals.executed.endDate\')}}</div>\r\n                        <label class="not-editable">{{model.endsAt != null ? $ctrl.moment(model.endsAt).format("MM/DD/YYYY") : \'\'}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'deals.executed.size\')}}</div>\r\n                        <label class="not-editable">{{model.size.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/></label>\r\n                    </div>\r\n                </div>\r\n                <div class="col-sm-4">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'deals.executed.executedDate\')}}</div>\r\n                        <label class="not-editable">{{model.dateExecuted != null ? $ctrl.moment(model.dateExecuted).format("MM/DD/YYYY") : \'\'}}</label>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="row">\r\n                <div class="col-sm-12">\r\n                    <div class="block">\r\n                        <div class="subheader">{{Messages(\'deals.executed.spaces\')}}</div>\r\n                        <div class="deal-asset" ng-repeat="asset in model.assets">\r\n                            <div ng-repeat="tower in asset.towers" class="space-container">\r\n                                <span class="font-bold">{{asset.name}} - {{tower.name}}</span>\r\n                                <div ng-repeat="space in tower.spaces" class="row">\r\n                                    <div class="col-sm-1 col-unit">\r\n                                        <button class="btn btn-default unit selected-unit">\r\n                                            <span class="unit-label">{{space.number}}</span>\r\n                                        </button>\r\n                                    </div>\r\n                                    <div class="col-sm-2"><span>{{space.officeType}}</span></div>\r\n                                    <div class="col-sm-3 text-right"><span class="text-right">{{space.area.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')"/></span></div>\r\n                                    <div class="col-sm-3 text-right"><span class="text-right">{{space.rent.toFixed(2)}} {{$ctrl.Settings.getCurrency()}}/<span ng-bind-html="Messages(\'square.meter\')"/></span></div>\r\n                                    <div class="col-sm-3 text-right"><span class="text-right">{{space.cost.toFixed(2)}} {{$ctrl.Settings.getCurrency()}}</span></div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>                        \r\n            </div>\r\n        </div>\r\n        <div class="details-content" ng-if="model == null">\r\n            <div class="no-data">\r\n                <span>{{Messages(\'deals.executed.nodata\')}}</span>\r\n            </div>\r\n        </div>    \r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealLog=__webpack_require__(1075),_dealLog2=_interopRequireDefault(_dealLog),_dealLogTemplate=__webpack_require__(1076),_dealLogTemplate2=_interopRequireDefault(_dealLogTemplate),DealLogComponent={bindings:{model:"=model"},controller:_dealLog2.default,template:_dealLogTemplate2.default};exports.default=DealLogComponent},function(module,exports,__webpack_require__){(function($){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_moment=(_interopRequireDefault(_constants),__webpack_require__(212)),_moment2=_interopRequireDefault(_moment),DealLogController=function(){function DealLogController($scope){_classCallCheck(this,DealLogController),this.$scope=$scope,this.messages=_messages2.default,this.$scope.model=this.model,this.initScrollbar()}return DealLogController.$inject=["$scope"],_createClass(DealLogController,[{key:"getDate",value:function(dt){var today=(0,_moment2.default)().startOf("day");return _moment2.default.utc(dt).local().isSame(today,"d")?_moment2.default.utc(dt).local().format("LT"):_moment2.default.utc(dt).local().fromNow()}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){var elem=$("#logList");SimpleScrollbar.initEl(elem[0])})}}]),DealLogController}();exports.default=DealLogController}).call(exports,__webpack_require__(178))},function(module,exports){module.exports='<div class="no-padding log">\r\n    <div id="logList" class="log-placeholer">\r\n        <div ng-if="model.logs.length > 0" class="log-items-list">\r\n                <div ng-repeat="log in model.logs" ng-switch="$last">\r\n                    <div class="log-item">\r\n                        <!--<img class="message-avatar" src="/img/user1.jpg" alt="">-->\r\n                        <img class="message-avatar" src="/img/user.svg" alt="">\r\n                        <div class="message" ng-class="$last ? \'\' : \'message-border\'">\r\n                            <div class="message-group">\r\n                                <span class="message-author" href="#">{{log.userName}}</span>\r\n                                <span class="message-date" style="float:right">{{$ctrl.getDate(log.timestamp)}}</span>\r\n                            </div>\r\n                            <span class="message-type">{{log.action}}</span>\r\n                            <span class="message-content" ng-bind-html="log.content"></span>                    \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div ng-if="model.logs.length == 0" class="no-history">\r\n                {{$ctrl.messages(\'deals.logs.nologs\')}}\r\n            </div>\r\n    </div>\r\n</div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealsList=__webpack_require__(1078),_dealsList2=_interopRequireDefault(_dealsList),_dealsListTemplate=__webpack_require__(1081),_dealsListTemplate2=_interopRequireDefault(_dealsListTemplate),DealsListComponent={bindings:{assetId:"=?",dealStages:"=",spaceTypes:"="},controller:_dealsList2.default,template:_dealsListTemplate2.default};exports.default=DealsListComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_dealsFilterModal=__webpack_require__(1079),_dealsFilterModalTemplate=(_interopRequireDefault(_dealsFilterModal),__webpack_require__(1080)),_constants=(_interopRequireDefault(_dealsFilterModalTemplate),__webpack_require__(720)),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),DealsListController=function(){function DealsListController($scope,$rootScope,Deal,Dashboard,AssetStats,$state,sweetAlert,$uibModal,UtilsService,$timeout,uibDateParser,NotificationService,ExportDataService){var _this=this;_classCallCheck(this,DealsListController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.sweetAlert=sweetAlert,this.utils=UtilsService,this.$timeout=$timeout,this.Deal=Deal,this.AssetStats=AssetStats,this.Dashboard=Dashboard,this.uibDateParser=uibDateParser,this.$uibModal=$uibModal,this.notificationService=NotificationService,this.Constants=_constants2.default,this.$scope.Messages=_messages2.default,this.$scope.Constants=_constants2.default,this.moment=_moment2.default,this.ExportDataService=ExportDataService,this.init(),this.$scope.dynamicPopover={templateOptionsUrl:"dealOptionsPopoverTemplate.html",templateContactsUrl:"dealContactsPopoverTemplate.html"},$rootScope.$on(_events2.default.DealExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.gridUpdate(_constants2.default.defaultPageNumber)}),$rootScope.$on(_events2.default.RightSideBarClosed,function(ev,data){var self=_this;self.selectedDeal=null}),this.initScrollbar()}return DealsListController.$inject=["$scope","$rootScope","Deal","Dashboard","AssetStats","$state","sweetAlert","$uibModal","UtilsService","$timeout","uibDateParser","NotificationService","ExportDataService"],_createClass(DealsListController,[{key:"initScrollbar",value:function(){var self=this;angular.element(document).ready(function(){SimpleScrollbar.initAll(),self.$scope.showData=!0})}},{key:"init",value:function(){var _this2=this,self=this;this.$scope.showData=!1,this.$scope.greedData=[],this.$scope.refreshStatistic=!0,this.selectedDeal=null,this.$scope.statuses=[{id:_constants2.default.dealStatusesIds.active,value:_constants2.default.dealStatusesValues.active,name:(0,_messages2.default)("deals.filter.status.active")},{id:_constants2.default.dealStatusesIds.executed,value:_constants2.default.dealStatusesValues.executed,name:(0,_messages2.default)("deals.filter.status.executed")},{id:_constants2.default.dealStatusesIds.dead,value:_constants2.default.dealStatusesValues.dead,name:(0,_messages2.default)("deals.filter.status.dead")}],this.$scope.activeStages=[{id:_constants2.default.dealActiveStagesIds.inquiry,value:_constants2.default.dealActiveStagesValues.inquiry,name:(0,_messages2.default)("deals.filter.stage.inquiry"),selected:!0},{id:_constants2.default.dealActiveStagesIds.viewing,value:_constants2.default.dealActiveStagesValues.viewing,name:(0,_messages2.default)("deals.filter.stage.viewing"),selected:!0},{id:_constants2.default.dealActiveStagesIds.negotiating,value:_constants2.default.dealActiveStagesValues.negotiating,name:(0,_messages2.default)("deals.filter.stage.negotiating"),selected:!0},{id:_constants2.default.dealActiveStagesIds.underoffer,value:_constants2.default.dealActiveStagesValues.underoffer,name:(0,_messages2.default)("deals.filter.stage.underoffer"),selected:!0}],this.$scope.sortType=_constants2.default.dealSortOptions.name,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.$scope.selectedStatus=this.$scope.statuses[0],this.$scope.extraFilters=[],this.activeStagesLabelsDisctionary={},this.activeStagesLabelsDisctionary[_constants2.default.dealActiveStagesIds.inquiry]="inquiryDealsCount",this.activeStagesLabelsDisctionary[_constants2.default.dealActiveStagesIds.negotiating]="negotiatingDealsCount",this.activeStagesLabelsDisctionary[_constants2.default.dealActiveStagesIds.viewing]="viewingDealsCount",this.activeStagesLabelsDisctionary[_constants2.default.dealActiveStagesIds.underoffer]="underOfferDealsCount",this.gridUpdate(_constants2.default.defaultPageNumber),self.$scope.$on("$destroy",function(){self.$rootScope.$broadcast(_events2.default.RightSideBarClose)}),self.$scope.$on(_events2.default.DealUpdated,function(ev,data){_this2.$scope.refreshStatistic=!0,_this2.gridUpdate(_constants2.default.defaultPageNumber)}),self.$scope.$on(_events2.default.DealExecuted,function(ev,data){_this2.$scope.refreshStatistic=!0,_this2.gridUpdate(_constants2.default.defaultPageNumber)}),self.$scope.$on(_events2.default.DealDeleted,function(ev,data){_this2.$scope.refreshStatistic=!0,_this2.gridUpdate(_constants2.default.defaultPageNumber)})}},{key:"gridUpdate",value:function(page){var _this3=this;this.$scope.update=!0,this.page=page;var criteria=this.getSearchCriteria(page);if(page===_constants2.default.defaultPageNumber){this.$rootScope.$emit(_events2.default.MarketplaceDealStatsReload,{cities:criteria.ct,markets:criteria.mr,assets:criteria.assetIds});var isActiveDeals=this.$scope.selectedStatus.value!==this.Constants.dealStatusesValues.executed&&this.$scope.selectedStatus.value!==this.Constants.dealStatusesValues.dead;this.assetId||(isActiveDeals&&this.$scope.refreshStatistic&&(this.$rootScope.$emit(_events2.default.ActiveDealsStatsReload,{criteria:criteria}),this.$scope.refreshStatistic=!1),this.$scope.selectedStatus.value===this.Constants.dealStatusesValues.executed&&this.$scope.refreshStatistic&&(this.$rootScope.$emit(_events2.default.ExecutedDealsStatsReload,{criteria:criteria}),this.$scope.refreshStatistic=!1),this.$scope.selectedStatus.value===this.Constants.dealStatusesValues.dead&&this.$scope.refreshStatistic&&(this.$rootScope.$emit(_events2.default.DeadDealsStatsReload,{criteria:criteria}),this.$scope.refreshStatistic=!1))}this.$scope.disable_infinite_scrolling=!0,this.Deal.search({st:criteria.stages,agte:criteria.areaFrom,alte:criteria.areaTo,ot:criteria.ot,ind:criteria.ind,ct:criteria.ct,mr:criteria.mr,srt:criteria.srt,ord:criteria.ord,pg:criteria.pg,ps:criteria.ps,assetIds:this.assetId?this.assetId:criteria.assetIds,isDead:criteria.isDead,leadUsers:criteria.leadUsers,dealTypes:criteria.dealTypes},function(result){result.items.forEach(function(i){_this3.groupOptions(i),_this3.$scope.$watchCollection(function(){return i.options},function(newValue,oldValue){newValue!=oldValue&&(_this3.groupOptions(i),_this3.assetId&&i.assets.findIndex(function(a){return a.assetId==_this3.assetId})<0&&(_this3.$rootScope.$broadcast(_events2.default.RightSideBarClose),_this3.gridUpdate(_constants2.default.defaultPageNumber)))},!0),_this3.$scope.$watchCollection(function(){return i.spaceTypeIds},function(){i.spaceTypes=_this3.getSpaceTypesList(i.spaceTypeIds)},!0),i.showAllOptions=!1,i.showAllContacts=!1,i.showAllUnitTypes=!1,i.deadStageInformation&&(i.deadStageInformation.timeStamp=_this3.getDate(i.deadStageInformation.timeStamp))}),_this3.$scope.update=!1,page===_constants2.default.defaultPageNumber?_this3.$scope.greedData=result.items:0!==result.items.length&&(_this3.$scope.greedData=_this3.$scope.greedData.concat(result.items)),result.items.length<criteria.ps?_this3.$scope.disable_infinite_scrolling=!0:_this3.$scope.disable_infinite_scrolling=!1,_this3.$timeout(function(){_this3.$scope.load_more=!1},1)},function(error){_this3.notificationService.error(error.data.message?error.data.message:error.data),_this3.$scope.update=!1,_this3.$scope.error=error})}},{key:"groupOptions",value:function(dealObject){var _this4=this;dealObject.assets=[],dealObject.options.forEach(function(opt){opt.objects.forEach(function(obj){var asset=dealObject.assets.find(function(t){return t.assetId==obj.assetId});null==asset&&(asset={assetId:obj.assetId,assetName:obj.assetName,objects:[]},dealObject.assets.push(asset));var object=asset.objects.find(function(t){return t.assetObjectId==obj.assetObjectId});null==object&&(object={assetObjectName:obj.assetObjectName,assetObjectId:obj.assetObjectId,options:[]},asset.objects.push(object)),object.isFullyAssigned||(object.isFullyAssigned=obj.isFullyAssigned),obj.spaces.length>0&&object.options.push({spaces:obj.spaces})})}),setTimeout(function(){_this4.$scope.$$phase||_this4.$scope.$apply()},500)}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"getSearchCriteria",value:function(page){var status=this.$scope.selectedStatus.value,extraFilters=this.$scope.extraFilters,areaFrom=extraFilters.find(function(item){return item.id===_constants2.default.dealsExtraFilters.areaFrom}),areaTo=extraFilters.find(function(item){return item.id===_constants2.default.dealsExtraFilters.areaTo}),area=extraFilters.find(function(item){return item.id===_constants2.default.dealsExtraFilters.area}),spaceTypes=[],industries=[],stages=[],assets=[],cities=[],markets=[],leadUsers=[],dealTypes=[];return status===_constants2.default.dealStatusesValues.executed?stages.push(status):status!==_constants2.default.dealStatusesValues.dead&&this.$scope.activeStages.forEach(function(item){item.selected===!0&&stages.push(item.value)}),extraFilters.forEach(function(item){0===item.id.indexOf("area_type_")&&spaceTypes.push(item.value.value),0===item.id.indexOf("industry_")&&industries.push(item.value.id),0===item.id.indexOf("asset_")&&assets.push(item.value),0===item.id.indexOf("city_")&&cities.push(item.value.name),0===item.id.indexOf("market_")&&markets.push(item.value),0===item.id.indexOf("leaduser_")&&leadUsers.push(item.value),0===item.id.indexOf("deal_type_")&&dealTypes.push(item.value)}),{stages:stages,isDead:status===_constants2.default.dealStatusesValues.dead,areaFrom:areaFrom&&areaFrom.value||area&&area.value,areaTo:areaTo&&areaTo.value||area&&area.value,ot:spaceTypes,ind:industries,assetIds:assets,ct:cities,mr:markets,leadUsers:leadUsers,dealTypes:dealTypes,srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:page||1,ps:20}}},{key:"getParsedDate",value:function(date){return date&&null!=date?this.uibDateParser.filter(new Date(date),"dd/MM/yyyy"):null}},{key:"getDealStage",value:function(stageId){var dealStage=this.dealStages.find(function(item){return item.id===stageId});return dealStage}},{key:"getSpaceTypesList",value:function(spaceTypeIds){var dealSpaceTypes=[];return this.spaceTypes.forEach(function(element){spaceTypeIds.forEach(function(typeId){element.value===typeId&&dealSpaceTypes.push(element.text)})}),dealSpaceTypes}},{key:"formatRequirements",value:function(item){return item.rentableAreaDiscrete?item.rentableAreaDiscrete:item.rentableAreaMin+"-"+item.rentableAreaMax}},{key:"selectStatus",value:function(e,status){e.preventDefault(),this.$scope.selectedStatus=status,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"selectStage",value:function(e,stage){e.preventDefault();for(var seletecedStagesCount=0,selectedStageValue=void 0,self=this,i=0;i<self.$scope.activeStages.length;i++)self.$scope.activeStages[i].selected&&(seletecedStagesCount++,selectedStageValue=self.$scope.activeStages[i].value);1===seletecedStagesCount&&selectedStageValue===stage.value||(stage.selected=!stage.selected,this.gridUpdate(_constants2.default.defaultPageNumber))}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(_constants2.default.defaultPageNumber),this.$rootScope.$emit(_events2.default.DealExtraFilterItemRemoved,{item:item})}},{key:"showDealInfo",value:function(event,deal){var self=this;if("A"!=event.target.nodeName){if(this.selectedDeal===deal)return this.selectedDeal=null,void this.$rootScope.$broadcast(_events2.default.RightSideBarClose);this.selectedDeal=deal,self.Deal.full({id:deal.id},function(result){deal.options=result.options,deal.representatives=result.representatives,self.groupOptions(deal),self.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.deal,data:result})})}}},{key:"showAllOptions",value:function(item){item.showAllOptions=!item.showAllOptions}},{key:"showAllContacts",value:function(item){item.showAllContacts=!item.showAllContacts}},{key:"showAllUnitTypes",value:function(item){item.showAllUnitTypes=!item.showAllUnitTypes}},{key:"getDate",value:function(timeStamp){var t=new Date(Date.parse(timeStamp)),offset=(new Date).getTimezoneOffset();return t.setMinutes(t.getMinutes()-offset),t}},{key:"exportData",value:function(){this.$scope.selectedStatus.value===this.Constants.dealStatusesValues.executed?this.exportExecutedData():this.$scope.selectedStatus.value===this.Constants.dealStatusesValues.dead?this.exportDeadData():this.exportActiveData()}},{key:"exportActiveData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportActiveDeals(this.prepareCryteria(criteria))}},{key:"exportExecutedData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportExecutedDeals(this.prepareCryteria(criteria))}},{key:"exportDeadData",value:function(){var criteria=this.getSearchCriteria(null);this.ExportDataService.exportDeadDeals(this.prepareCryteria(criteria))}},{key:"prepareCryteria",value:function(criteria){return{st:criteria.stages,agte:criteria.areaFrom,alte:criteria.areaTo,ot:criteria.ot,ind:criteria.ind,srt:criteria.srt,ord:criteria.ord,pg:criteria.pg,ps:criteria.ps,assetIds:this.assetId?this.assetId:criteria.assetIds,leadUsers:criteria.leadUsers,dealTypes:criteria.dealTypes,ct:criteria.ct,mr:criteria.mr}}}]),DealsListController}();exports.default=DealsListController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_moment=__webpack_require__(212),DealsFilterController=(_interopRequireDefault(_moment),function(){function DealsFilterController($scope,$state,$uibModalInstance,uibDateParser,$timeout,industries,availableSpaceTypes,UtilsService){_classCallCheck(this,DealsFilterController),this.$scope=$scope,this.$state=$state,this.$uibModalInstance=$uibModalInstance,this.uibDateParser=uibDateParser,this.$timeout=$timeout,this.industries=industries,this.utils=UtilsService,this.availableSpaceTypes=availableSpaceTypes,this.init(),this.initForm()}return DealsFilterController.$inject=["$scope","$state","$uibModalInstance","uibDateParser","$timeout","industries","availableSpaceTypes","UtilsService"],_createClass(DealsFilterController,[{key:"init",value:function(){this.$scope.typesRows=this.utils.splitArray(this.availableSpaceTypes,3)}},{key:"initForm",value:function(){var _this=this,self=this;this.$scope.fromValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[from]>_this.$scope[to]&&(_this.$scope[to]=_this.$scope[from])},this.$scope.toValueChanged=function(from,to){_this.$scope[from]&&_this.$scope[to]&&_this.$scope[to]<_this.$scope[from]&&(_this.$scope[from]=_this.$scope[to]);
};var area_from=this.filter.find(function(item){return item.id===_constants2.default.extraFilters.areaFrom});this.$scope.area_from=area_from&&area_from.value;var area_to=this.filter.find(function(item){return item.id===_constants2.default.extraFilters.areaTo});this.$scope.area_to=area_to&&area_to.value,self.$scope.industry={available:self.industries,selected:[]},this.$scope.office_types=[],this.$scope.office_types_ids=[],this.$scope.officeTypeToggleSelection=function(type,valueString){var id=_this.$scope.office_types.findIndex(function(item){return item.id===type});id>-1?(_this.$scope.office_types.splice(id,1),_this.$scope.office_types_ids.splice(id,1)):(_this.$scope.office_types.push({id:type,name:valueString}),_this.$scope.office_types_ids.push(type))},this.filter.forEach(function(item){0===item.id.indexOf("industry_")?self.$scope.industry.selected.push(item.value):0===item.id.indexOf("office_type_")&&(self.$scope.office_types.push(item.value),self.$scope.office_types_ids.push(item.value.id))}),this.$scope.cancel=function(){_this.$uibModalInstance.dismiss("cancel")},this.$scope.save=function(){var result=[];_this.$scope.area_from&&result.push({id:_constants2.default.extraFilters.areaFrom,name:(0,_messages2.default)("deals.filter.area_from"),value:_this.$scope.area_from,text:_this.$scope.area_from+" "+(0,_messages2.default)("square.meter")}),_this.$scope.area_to&&result.push({id:_constants2.default.extraFilters.areaTo,name:(0,_messages2.default)("deals.filter.area_to"),value:_this.$scope.area_to,text:_this.$scope.area_to+" "+(0,_messages2.default)("square.meter")}),_this.$scope.industry.selected.length&&_this.$scope.industry.selected.forEach(function(item){result.push({id:"industry_"+item.id,value:item,text:item.display})}),_this.$scope.office_types.length&&_this.$scope.office_types.forEach(function(item){result.push({id:"office_type_"+item.id,value:item,text:item.name})}),_this.$uibModalInstance.close(result)}}}]),DealsFilterController}());exports.default=DealsFilterController},function(module,exports){module.exports='<div class="inmodal hmodal-info">\r\n    <div class="color-line"></div>\r\n    <div class="modal-body">\r\n        <form role="form" class="o-hidden">\r\n            <div class="col-md-12 m-b-xl">\r\n                <p>{{Messages(\'deals.filter.industry\')}}</p>\r\n                <ui-select multiple ng-model="industry.selected" close-on-select="false" theme="bootstrap">\r\n                    <ui-select-match placeholder="{{Messages(\'assets.tenants.filter.industry.placeholder\')}}">\r\n                        {{$item.display}}\r\n                    </ui-select-match>\r\n                    <ui-select-choices repeat="item in industry.available | filter: $select.search">\r\n                        {{item.display}}\r\n                    </ui-select-choices>\r\n                </ui-select>\r\n            </div>\r\n            <div class="col-md-12">\r\n                <div class="m-b-xl">\r\n                    <p>{{Messages(\'deals.filter.area\')}} [<span ng-bind-html="Messages(\'square.meter\')"/>]</p>\r\n                    <div class="input-group space-filter-range-inputs">\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            id="areaFrom"\r\n                            ng-model="area_from"\r\n                            ng-blur="fromValueChanged(\'area_from\', \'area_to\')"\r\n                            placeholder="{{Messages(\'deals.filter.area_from\')}}"\r\n                        >\r\n                        <span class="input-group-addon">-</span>\r\n                        <input\r\n                            type="number"\r\n                            class="input-sm form-control"\r\n                            ng-model="area_to"\r\n                            ng-blur="toValueChanged(\'area_from\', \'area_to\')"\r\n                            placeholder="{{Messages(\'deals.filter.area_to\')}}"\r\n                        >\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-md-4 m-b-xl" ng-repeat="row in typesRows">\r\n                <p ng-if="$index === 0">{{Messages(\'deals.filter.type\')}}</p>\r\n                <p ng-if="$index !== 0">&nbsp;</p>\r\n                <div class="checkbox green" ng-repeat="item in row">\r\n                    <label>\r\n                        <input\r\n                            type="checkbox"\r\n                            class="i-checks"\r\n                            name="office_type"\r\n                            ng-checked="office_types_ids.indexOf(item.value) !== -1"\r\n                            ng-click="officeTypeToggleSelection(item.value, item.text)"\r\n                        >\r\n                        <span class="icheckbox_square"></span>\r\n                        <span class="label">{{item.text}}</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n    <div class="modal-footer">\r\n        <button type="button" class="btn btn-primary" ng-click="save()">\r\n            {{Messages(\'deals.filter.apply\')}}\r\n        </button>\r\n        <button type="button" class="btn btn-default" ng-click="cancel()">\r\n            {{Messages(\'deals.filter.cancel\')}}\r\n        </button>\r\n       \r\n    </div>\r\n</div>'},function(module,exports){module.exports='<div class="container-fluid">\r\n    <div class="row">\r\n        <div class="col-sm-7">\r\n            <ul class="quick-filters spaces-status">\r\n                <li class="deals-filter-status-item" ng-repeat="status in statuses" role="presentation" ng-class="{active: selectedStatus.id === status.id, dropdown: status.id === Constants.dealStatusesIds.active}">\r\n                    <a href="#" ng-if="status.id !== Constants.dealStatusesIds.active" ng-click="$ctrl.selectStatus($event, status)">\r\n                        <span>\r\n                            {{ status.name }}\r\n                        </span>\r\n                    </a>\r\n                    <a href="#" class="dropdown-toggle" data-toggle="dropdown" ng-if="status.id === Constants.dealStatusesIds.active" ng-click="$event.originalEvent.dropdown; selectedStatus.id !== Constants.dealStatusesIds.active ? $ctrl.selectStatus($event, status) : \'\'">\r\n                        <span>\r\n                            {{ status.name }}\r\n                        </span>\r\n                        <span ng-if="status.id === Constants.dealStatusesIds.active" class="caret"></span>\r\n                    </a>\r\n                    <ul ng-if="status.id === Constants.dealStatusesIds.active" class="dropdown-menu">\r\n                        <li ng-repeat="stage in activeStages" role="presentation" ng-class="stage.selected === true ? \'active\' : \'\'">\r\n                            <a href="#" ng-click="$ctrl.selectStage($event, stage); $ctrl.selectStatus($event, status)">\r\n\r\n                                <input type="checkbox" id="checkbox-{{stage.id}}" name="checkbox-{{stage.id}}" ng-checked="stage.selected === true">\r\n                                <label for="checkbox-{{stage.id}}">\r\n                                    <span class="chk"></span>\r\n                                    <span>\r\n                                        {{ stage.name }}\r\n                                    </span>\r\n                                </label>\r\n                            </a>\r\n                        </li>\r\n                    </ul>                    \r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div class="col-sm-5 quick-buttons">        \r\n            <div class="pull-right">\r\n                <a href="#" ng-click="$ctrl.exportData()">\r\n                    <span>\r\n                        <img src="/img/icons/download.svg" alt="Export">\r\n                        <span class="tooltip">Export</span>\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class="pull-right search-container">\r\n                <div class="search-box has-feedback">\r\n                    <input type="text" class="form-control" name="search">\r\n                    <span class="glyphicon glyphicon-search form-control-feedback"></span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<active-deals-stats ng-if="!$ctrl.assetId && selectedStatus.value !== Constants.dealStatusesValues.executed &&  selectedStatus.value !== Constants.dealStatusesValues.dead" />\r\n\r\n<executed-deals-stats ng-if="!$ctrl.assetId && selectedStatus.value === Constants.dealStatusesValues.executed" />\r\n\r\n<dead-deals-stats ng-if="!$ctrl.assetId && selectedStatus.value === Constants.dealStatusesValues.dead" />\r\n\r\n<div ng-if="extraFilters.length" class="m-t-l">\r\n    <div ng-repeat="item in extraFilters" class="space-filter-item">\r\n        <span ng-if="item.name">{{item.name}}: </span>\r\n        <strong ng-bind-html="item.text" />\r\n        <img src="/img/icons/filter-close.png" srcset="/img/icons/filter-close@2x.png 2x" ng-click="$ctrl.extraFilterRemoveItem(item)">\r\n    </div>\r\n</div>\r\n\r\n<div ng-if="!greedData.length && !update" class="text-center">\r\n    {{Messages(\'deals.list.empty\')}}\r\n</div>\r\n<div ng-if="selectedStatus.value !== Constants.dealStatusesValues.dead && selectedStatus.value !== Constants.dealStatusesValues.executed" ui-view="common"></div>\r\n<div ng-if="selectedStatus.value === Constants.dealStatusesValues.dead" ui-view="dead"></div>\r\n<div ng-if="selectedStatus.value === Constants.dealStatusesValues.executed" ui-view="executed"></div>\r\n<div ng-if="(!greedData.length && update) || load_more" class="text-center">\r\n    <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n<div ng-if="update" class="blocker spaces-filter-grid-blocker"></div>\r\n\r\n<script type="text/javascript">\r\n$(\'.search-box input\').focusin(function() {\r\n    $(this).parent(\'.search-box\').addClass("active");\r\n});\r\n\r\n$(\'.search-box input\').focusout(function() {\r\n    $(this).parent(\'.search-box\').removeClass("active");\r\n});    \r\n</script>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealDetails=__webpack_require__(1055),_dealDetails2=_interopRequireDefault(_dealDetails),_dealCreateDetailsTemplate=__webpack_require__(1083),_dealCreateDetailsTemplate2=_interopRequireDefault(_dealCreateDetailsTemplate),DealDetailsComponent={bindings:{dealObject:"=dealObject",model:"=model",form:"=form",editable:"=editable",disabled:"=disabled",save:"&save",cancel:"&cancel"},controller:_dealDetails2.default,template:_dealCreateDetailsTemplate2.default};exports.default=DealDetailsComponent},function(module,exports){module.exports='<div class="modal-block">\r\n    <div class="header-panel">\r\n        <div class="header">{{Messages(\'deals.details\')}}</div>\r\n        <div class="line"></div>\r\n    </div>\r\n    <div class="details-content" ng-class="{\'edit-mode\': inEditMode}">\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.client\')}}</div>\r\n                    <div class="row">\r\n                        <div class="col-sm-12">\r\n                            <div class="client-group dropdown-w-fixed">\r\n                                <ui-select ng-init="$ctrl.clientSelect = $select" ng-model="clients.selected" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : form.client.$invalid && (submitted || form.client.$touched)}" name="client" on-select="clientSelected($item, $model)" append-to-body="true" ng-transclude>\r\n                                    <ui-select-match>\r\n                                        {{ $select.selected.shortName ? $select.selected.shortName + \'/\' : \'\'}} {{$select.selected.name}}\r\n                                    </ui-select-match>                          \r\n                                    <div class="dropdown-container" ng-show="$select.open && $select.search">\r\n                                        <ui-select-choices repeat="client in clients.available track by $index" refresh="refreshClients($select.search)" refresh-delay="0">\r\n                                            {{ client.shortName ? client.shortName + \'/\' : \'\'}} {{client.name}}\r\n                                        </ui-select-choices>                            \r\n                                        <div ng-click="createClient()" class="client-add">{{Messages(\'deals.client.add\')}}</div>\r\n                                    </div>                          \r\n                                </ui-select>\r\n                            </div>\r\n                            <label ng-if="form.client.$invalid && (submitted || form.client.$touched)" class="error" for="client">{{Messages(\'validation.required\')}}</label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.area_required\')}}</div>\r\n                    <div class="row">\r\n                        <div class="col-sm-10">\r\n                            <div class="input-group" ng-if="areas.range === true">\r\n                                <input type="number" min="0" class="form-control" id="areaMin" ng-model="areas.rentableAreaMin" ng-blur="minValueChanged()" required ng-class="{ \'has-error\' : form.areaMin.$invalid && (submitted || form.areaMin.$touched || form.areaMax.$touched)}"\r\n                                    name="areaMin" />\r\n                                <span class="input-group-addon">to</span>\r\n                                <span class="dropdown">\r\n                                    <span class="dropdown-toggle" type="button" data-toggle="dropdown"><span class="caret"></span></span>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li ng-click="areas.range = true">{{Messages(\'deals.area.range\')}}</li>\r\n                                        <li ng-click="areas.range = false">{{Messages(\'deals.area.discrete\')}}</li>\r\n                                    </ul>\r\n                                </span>                                 \r\n                                <input type="number" min="0" id="areaMax" class="form-control" ng-model="areas.rentableAreaMax" ng-blur="maxValueChanged()" required ng-class="{ \'has-error\' : form.areaMax.$invalid && (submitted || form.areaMin.$touched || form.areaMax.$touched)}"\r\n                                    name="areaMax" />\r\n                            </div>\r\n                            <label ng-if="areas.range && (form.areaMin.$invalid || form.areaMax.$invalid) && (submitted || form.areaMin.$touched || form.areaMax.$touched)"\r\n                                class="error" for="areaMin">{{Messages(\'validation.required\')}}</label>\r\n                            <div ng-if="areas.range !== true" class="input-group">\r\n                                <input type="number" min="0" class=" form-control" id="areaDiscrete" ng-model="areas.rentableAreaDiscrete" \r\n                                    required ng-class="{ \'has-error\' : form.areaDiscrete.$invalid && (submitted || form.areaDiscrete.$touched)}"\r\n                                    name="areaDiscrete" style="border-bottom-right-radius: 3px; border-top-right-radius: 3px;" />\r\n                                <span class="dropdown">\r\n                                    <span class="dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></span>\r\n                                    <ul class="dropdown-menu">\r\n                                        <li ng-click="areas.range = true">{{Messages(\'deals.area.range\')}}</li>\r\n                                        <li ng-click="areas.range = false">{{Messages(\'deals.area.discrete\')}}</li>\r\n                                    </ul>\r\n                                </span>\r\n                                <label ng-if="form.areaDiscrete.$invalid && (submitted || form.areaDiscrete.$touched)" class="error" for="areaDiscrete">{{Messages(\'validation.required\')}}</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="col-sm-2">\r\n                            <div class="field-unit" ng-bind-html="$ctrl.messages(\'square.meter\')"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6">        \r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.spaceTypes\')}}</div>\r\n                    <ui-select multiple ng-model="spaceTypes.selected" close-on-select="false" remove-selected="false" theme="bootstrap" required ng-class="{ \'has-error\' : form.spaceTypes.$invalid && (submitted || form.spaceTypes.$touched)}" name="spaceTypes" on-select="fromSelected($item, $model)">\r\n                        <ui-select-match>\r\n                            {{$item.text}}\r\n                        </ui-select-match>\r\n                        <span class="caret"></span>\r\n                        <ui-select-choices repeat="spaceType in spaceTypes.available track by $index">\r\n                            <div class="t360-select-choice" ng-show="$select.isDisabled(this)">\r\n                                <input type="checkbox" id="item-{{spaceType.value}}" name="item-{{spaceType.value}}" ng-click="removeOption(spaceType.value, $event)"><label for="item-{{spaceType.value}}"><span></span>{{spaceType.text}}</label>\r\n                            </div>\r\n                            <div class="t360-select-choice" ng-show="!$select.isDisabled(this)">\r\n                                <input type="checkbox" id="item-{{spaceType.value}}" name="item-{{spaceType.value}}"><label for="item-{{spaceType.value}}"><span></span>{{spaceType.text}}</label>\r\n                            </div>\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                    <div class="t360-select-caret"><span class="caret"></span></div>\r\n                    <label ng-if="form.spaceTypes.$invalid && (submitted || form.spaceTypes.$touched)" class="error" for="spaceTypes">{{Messages(\'validation.required\')}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-6">\r\n                <div class="block select-markets">\r\n                    <div class="subheader">{{Messages(\'deals.markets\')}}</div>\r\n                    <ui-select multiple ng-model="markets.selected" close-on-select="false" theme="bootstrap" required ng-class="{ \'has-error\' : form.markets.$invalid && (submitted || form.markets.$touched)}" name="markets">\r\n                        <ui-select-match class="text-muted">\r\n                            {{$item.name}}\r\n                        </ui-select-match>\r\n                        <ui-select-choices repeat="market in markets.available track by $index" refresh="refreshMarkets($select.search)" refresh-delay="0">\r\n                            {{market.name}}\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                    <label ng-if="form.markets.$invalid && (submitted || form.markets.$touched)" class="error" for="markets">{{Messages(\'validation.required\')}}</label>\r\n                </div>           \r\n            </div>            \r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.start_date\')}}</div>\r\n                    <div class=\'input-group date\'>\r\n                        <input type=\'text\' class="input-calendar" ng-model="$ctrl.$scope.startDate"\r\n                            id="edit-deal-datepicker" required ng-class="{ \'has-error\' : form.startDate.$invalid && (submitted || form.startDate.$touched)}"\r\n                            name="startDate" ng-click="openDatePicker()">\r\n                    </div>\r\n                    <label ng-if="form.startDate.$invalid && (submitted || form.startDate.$touched)" class="error" for="startDate">{{Messages(\'validation.required\')}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-6" ng-if="!$ctrl.model.id || $ctrl.model.id === 0">\r\n                <div class="block block-dealtype">\r\n                    <div class="subheader">{{Messages(\'deals.dealType\')}}</div>\r\n                    <ui-select ng-model="dealTypes.selected" close-on-select="true" theme="bootstrap" required ng-class="{ \'has-error\' : form.dealTypes.$invalid && (submitted || form.dealTypes.$touched)}"\r\n                        name="dealTypes">\r\n                        <ui-select-match class="text-muted">\r\n                            {{$select.selected.name}}\r\n                        </ui-select-match>\r\n                        <ui-select-choices repeat="dealType in dealTypes.available track by $index">\r\n                            {{dealType.name}}\r\n                        </ui-select-choices>\r\n                    </ui-select>\r\n                    <label ng-if="form.dealTypes.$invalid && (submitted || form.dealTypes.$touched)" class="error" for="dealTypes">{{Messages(\'validation.required\')}}</label>\r\n                </div>           \r\n             </div> \r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-6">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'deals.dealLead\')}}</div>\r\n                    <div class="row">\r\n                        <div class="col-sm-12">\r\n                            <div class="client-group">\r\n                                <ui-select ng-disabled="editable && !inEditMode" ng-model="leadUsers.selected" close-on-select="true" theme="bootstrap"\r\n                                    ng-class="{ \'has-error\' : form.user.$invalid && (submitted || form.user.$touched)}" name="user">\r\n                                    <ui-select-match allow-clear="true">\r\n                                        {{ $select.selected.displayName }}\r\n                                    </ui-select-match>\r\n                                    <ui-select-choices repeat="user in leadUsers.available track by $index" refresh="refreshUsers($select.search)" refresh-delay="0">\r\n                                        {{ user.displayName }}\r\n                                    </ui-select-choices>\r\n                                </ui-select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealContacts=__webpack_require__(1058),_dealContacts2=_interopRequireDefault(_dealContacts),_dealCreateContactsTemplate=__webpack_require__(1085),_dealCreateContactsTemplate2=_interopRequireDefault(_dealCreateContactsTemplate),DealContactsComponent={bindings:{dealObject:"=dealObject",model:"=model",form:"=form",editable:"=editable",disabled:"=disabled"},controller:_dealContacts2.default,template:_dealCreateContactsTemplate2.default};exports.default=DealContactsComponent},function(module,exports){module.exports=' <div class="modal-block">\r\n    <div class="header-panel">\r\n        <div class="header">\r\n            {{Messages(\'deals.contacts.title\')}}\r\n        </div>\r\n        <div class="line"></div>\r\n        <div class="tool">\r\n            <a href="#" ng-if="clients.selected" ng-click="addContact()">\r\n                <img src="/img/icons/modal-add.svg" width="24" height="24">\r\n            </a>            \r\n        </div>\r\n    </div>\r\n    <div ng-if="clients.selected">\r\n        <div class="row search-row client-search" ng-class="{\'edit-mode\': editable}">\r\n            <div class="col-sm-12 dropdown-w-fixed" ng-if="!$ctrl.disabled">\r\n                <ui-select ng-disabled="!clients.selected" ng-init="$parent.contactSelect = $select" ng-model="contacts.currentSelection"\r\n                    close-on-select="true" theme="bootstrap" name="contact" on-select="contactSelected($item, $model)" ng-transclude>\r\n                    <ui-select-match>\r\n                    </ui-select-match>\r\n                    <div class="dropdown-container" ng-show="$select.open && $select.search">\r\n                        <ui-select-choices repeat="contact in contacts.available track by $index" refresh="refreshContacts($select.search)" refresh-delay="0">\r\n                            <div class="avatar"><img src="/img/user.svg"></div> <!-- no api support -->\r\n                            <div class="contact">\r\n                                <span class="name">{{contact.name}}</span> <span ng-if="contact.position" class="position">{{contact.position}}</span><br/>\r\n                                <span ng-if="contact.isBroker" class="company">{{Messages(\'clients.representatives.category.broker\')}} </span>\r\n                                <span ng-if="contact.companyName" class="company">{{contact.companyName}}</span>\r\n                            </div>\r\n                        </ui-select-choices>\r\n                        <div ng-click="addContact()" class="client-add">{{Messages(\'deals.client.add\')}}</div>\r\n                    </div>\r\n                </ui-select>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="row deal-contacts-list" ng-class="{\'edit-mode\': editable}">        \r\n        <div class="col-sm-12">\r\n            <div class="modal-deal-contact" ng-repeat="selectedContact in contacts.selected">\r\n                <div class="row contacts-list-item">\r\n                    <div class="col-md-1 col-avatar pointer" ng-click="($ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead) ? editContact(selectedContact) : null">\r\n                        <div class="avatar pull-right"><img src="/img/user.svg"></div> <!-- no api support -->\r\n                    </div>\r\n                    <div class="col-md-9">\r\n                        <div class="pointer" ng-click="($ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead) ? editContact(selectedContact) : null"><span class="contact-name">{{selectedContact.name}}</span> <span class="contact-position">{{selectedContact.position}}</span></div>\r\n                        <div class="pointer" ng-click="($ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead) ? editContact(selectedContact) : null">{{selectedContact.companyName}}</div>\r\n                    </div>\r\n                    <div class="col-md-2 contacts-list-controls">\r\n                        <a href="" ng-if="$ctrl.model.deal.dealStageId !== Constants.dealStatusesValues.dead" ng-click="removeContact(selectedContact.id)" class="tool-box text-muted"><img src="/img/icons/delete-contact.svg"></a>                  \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>    \r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealOptions=__webpack_require__(1061),_dealOptions2=_interopRequireDefault(_dealOptions),_dealCreateOptionsTemplate=__webpack_require__(1087),_dealCreateOptionsTemplate2=_interopRequireDefault(_dealCreateOptionsTemplate),DealOptionsComponent={bindings:{model:"=",disabled:"=disabled"},controller:_dealOptions2.default,template:_dealCreateOptionsTemplate2.default};exports.default=DealOptionsComponent},function(module,exports){module.exports='\r\n<div class="modal-block" ng-show="$ctrl.options.length > 0"> \r\n    <div class="selected-options-container">\r\n    <div style="overflow: auto;" ng-class="totalSpaces > 4 ? \'scrollable\' : \'\'" id="selected-options-container" ng-repeat="option in $ctrl.options">\r\n        <div class="selected-options-item-container" ng-repeat="object in option.objects">\r\n            <div class="subheader">{{object.object.assetName}} <span ng-if="object.object.assetObjectName">:</span> {{object.object.assetObjectName}}</div>\r\n            <div class="selected-options-item" ng-repeat="space in object.spaces">\r\n                <div class="row">\r\n                    <div class="col-md-2 text-left">\r\n                        <span class="font-bold">{{space.unit.unitNumber ? space.unit.unitNumber : space.unit.textNumber}}</span>\r\n                    </div>\r\n                    <div class="col-md-5 text-right">\r\n                        <span>{{Messages(\'assets.tenants.floor\')}} {{space.unit.floor}}</span>\r\n                    </div>\r\n                    <div class="col-md-5 text-right">\r\n                        <span>{{space.unit.rentableArea.toFixed(2)}} <span ng-bind-html="Messages(\'square.meter\')" /></span>\r\n                        <a href="" ng-click="deleteSpace(option, object, space)"><span class="delete-button">&nbsp;×</span></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div> \r\n    </div>\r\n<div>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dealAttachments=__webpack_require__(1064),_dealAttachments2=_interopRequireDefault(_dealAttachments),_dealCreateAttachmentsTemplate=__webpack_require__(1089),_dealCreateAttachmentsTemplate2=_interopRequireDefault(_dealCreateAttachmentsTemplate),DealAttachmentsComponent={bindings:{model:"=",disabled:"=disabled"},controller:_dealAttachments2.default,template:_dealCreateAttachmentsTemplate2.default};exports.default=DealAttachmentsComponent},function(module,exports){module.exports='\r\n    <div class="header-panel">\r\n        <div class="header">\r\n            {{Messages(\'deals.attachments.title\')}}\r\n        </div>\r\n        <div class="line"></div>\r\n        <div class="tool">\r\n            <a href="#" ng-if="!$ctrl.disabled" ng-click="$ctrl.addAttachment()">\r\n                <img src="/img/icons/panel-edit.png" srcset="/img/icons/panel-edit.png 2x">\r\n            </a>\r\n        </div>\r\n    </div>\r\n    <deal-create-attachment-list attachments="attachments" add-attachment="$ctrl.addAttachment"></deal-create-attachment-list>\r\n'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _attachmentList=__webpack_require__(1067),_attachmentList2=_interopRequireDefault(_attachmentList),_dealCreateAttachmentListTemplate=__webpack_require__(1091),_dealCreateAttachmentListTemplate2=_interopRequireDefault(_dealCreateAttachmentListTemplate),DealCreateAttachmentListComponent={bindings:{attachments:"=",addAttachment:"=?",onUpload:"&?"},controller:_attachmentList2.default,
template:_dealCreateAttachmentListTemplate2.default};exports.default=DealCreateAttachmentListComponent},function(module,exports){module.exports='<div ng-if="attachments.length > 0" class="deal-attachment-list-container">\r\n    <div class="expand-button pull-right" ng-if="attachments.length > constants.dealAttachmentCount">\r\n        <a href="" ng-click="showMoreAttachment(!showAllAttachments)">\r\n            <span ng-if="!showAllAttachments">\r\n                <span>\r\n                    {{Messages(\'deals.attachments.showmorebutton\')}}\r\n                </span>\r\n                <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n            </span>\r\n            <span ng-if="showAllAttachments">\r\n                <span>\r\n                    {{Messages(\'deals.attachments.showlessbutton\')}}\r\n                </span>\r\n                <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n            </span>\r\n        </a>\r\n    </div>\r\n    <div class="deal-create-attachment-container">\r\n        <div class="deal-attachment-row" ng-repeat="at in attachments | limitTo: showAllAttachments ? \'Infinity\' : constants.dealAttachmentCount">\r\n            <div class="row">\r\n                <div class="col-md-4 text-left">\r\n                    <div class="attachment-type">{{at.type}}</div>\r\n                </div>\r\n                <div class="col-md-8 text-right" style="display: inline-flex;">\r\n                    <!--<div style="width: 90%;">\r\n                        <span ng-if="!at.url" class="attachment-name">{{at.name}}</span>\r\n                    </div>-->\r\n                    <span ng-if="!at.url" class="attachment-name" style="width: 90%;">{{at.name}}</span>\r\n                    <a href="" ng-click="$ctrl.deleteDocument(at)"><span class="delete-button">&nbsp;×</span></a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<input type="file" id="attachementsUploader" accept="image/png, image/jpg, text/plain, application/pdf, application/msword, application/vnd.ms-excel,\r\n                application/vnd.openxmlformats-officedocument.wordprocessingml.document,\r\n                application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" class="hidden" />    '},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(394);var _landlordEditModal=__webpack_require__(807),_landlordEditModal2=_interopRequireDefault(_landlordEditModal),_landlord=__webpack_require__(1093),_landlord2=_interopRequireDefault(_landlord),_module=angular.module("tower360.landlords",["dx"]).controller("LandlordEditController",_landlordEditModal2.default).factory("Landlord",_landlord2.default.activate);exports.default=_module},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Landlord=function(){function Landlord(ConfigurationService,$resource){return _classCallCheck(this,Landlord),$resource(ConfigurationService.getApiBaseUrl()+"api/landlords/:id",{id:"@id"},{query:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/landlords",isArray:!0,params:{brokerId:"@brokerId"}},create:{method:"POST",url:ConfigurationService.getApiBaseUrl()+"api/landlords"}})}return Landlord.$inject=["ConfigurationService","$resource"],_createClass(Landlord,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return Landlord.instance=new Landlord(ConfigurationService,$resource),Landlord.instance}]}]),Landlord}();exports.default=Landlord},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard=__webpack_require__(1096),_dashboard2=_interopRequireDefault(_dashboard),_units=__webpack_require__(1113),_units2=_interopRequireDefault(_units),_deals=__webpack_require__(1115),_deals2=_interopRequireDefault(_deals),_clients=__webpack_require__(1117),_clients2=_interopRequireDefault(_clients),_marketplace=__webpack_require__(1122),_marketplace2=_interopRequireDefault(_marketplace),marketplace=angular.module("tower360.marketplace",[_dashboard2.default.name,_units2.default.name,_deals2.default.name,_clients2.default.name]).factory("MarketPlace",_marketplace2.default.activate);exports.default=marketplace},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _dashboard=__webpack_require__(1097),_dashboard2=_interopRequireDefault(_dashboard),_topbar=__webpack_require__(1098),_topbar2=_interopRequireDefault(_topbar),_topinquiries=__webpack_require__(1101),_topinquiries2=_interopRequireDefault(_topinquiries),_topactives=__webpack_require__(1104),_topactives2=_interopRequireDefault(_topactives),_recentdeals=__webpack_require__(1106),_recentdeals2=_interopRequireDefault(_recentdeals),_activitystats=__webpack_require__(1109),_activitystats2=_interopRequireDefault(_activitystats),_dashboard3=__webpack_require__(1112),_dashboard4=_interopRequireDefault(_dashboard3),_module=angular.module("tower360.marketplace.dashboard",[]).controller("MarketPlaceDashboardController",_dashboard2.default).component("marketplaceDashboardTopbar",_topbar2.default).component("marketplaceDashboardTopInquiries",_topinquiries2.default).component("marketplaceDashboardTopActives",_topactives2.default).component("marketplaceDashboardRecentDeals",_recentdeals2.default).component("marketplaceDashboardActivityStats",_activitystats2.default).factory("MarketplaceDashboard",_dashboard4.default.activate);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),MarketPlaceDashboardController=function(){function MarketPlaceDashboardController(spaceTypes,dealStages){_classCallCheck(this,MarketPlaceDashboardController),this.dealStages=dealStages,this.spaceTypes=spaceTypes,this.Constants=_constants2.default,this.Messages=_messages2.default,this.initScrollbar()}return MarketPlaceDashboardController.$inject=["spaceTypes","dealStages"],_createClass(MarketPlaceDashboardController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}}]),MarketPlaceDashboardController}();exports.default=MarketPlaceDashboardController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _topbar=__webpack_require__(1099),_topbar2=_interopRequireDefault(_topbar),_topbarTemplate=__webpack_require__(1100),_topbarTemplate2=_interopRequireDefault(_topbarTemplate),MarketplaceDashboardTopbarComponent={controller:_topbar2.default,template:_topbarTemplate2.default};exports.default=MarketplaceDashboardTopbarComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_events=(_interopRequireDefault(_constants),__webpack_require__(791)),_events2=_interopRequireDefault(_events),MarketplaceDashboardTopbarConroller=function(){function MarketplaceDashboardTopbarConroller($rootScope,UtilsService,MarketplaceDashboard,NotificationService){_classCallCheck(this,MarketplaceDashboardTopbarConroller),this.$rootScope=$rootScope,this.utils=UtilsService,this.MarketplaceDashboard=MarketplaceDashboard,this.NotificationService=NotificationService,this.messages=_messages2.default,this.initTopbar(null,null,null);var self=this;$rootScope.$on(_events2.default.MarketplaceDealStatsReload,function(ev,data){self.initTopbar(data.assets,data.cities,data.markets)})}return MarketplaceDashboardTopbarConroller.$inject=["$rootScope","UtilsService","MarketplaceDashboard","NotificationService"],_createClass(MarketplaceDashboardTopbarConroller,[{key:"initTopbar",value:function(assets,cities,markets){var self=this;self.loadingTopbar=!0,self.MarketplaceDashboard.dealStagesStats({ct:cities,mr:markets,assets:assets},function(result){self.topbarModel=result,self.topbarModel.totalActive=self.topbarModel.inquiry.area+self.topbarModel.viewing.area+self.topbarModel.negotiating.area+self.topbarModel.underOffer.area,self.loadingTopbar=!1},function(error){self.NotificationService.error(error.data),self.loadingTopbar=!1})}},{key:"formatDecimalValue",value:function(val){return this.utils.formatBadgeValue(val)}}]),MarketplaceDashboardTopbarConroller}();exports.default=MarketplaceDashboardTopbarConroller},function(module,exports){module.exports='<div class="clearfix asset-info-panel single-stat">\r\n\t<div ng-if="$ctrl.loadingTopbar" class="text-center">\r\n\t\t<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n\t</div>\r\n\r\n\t<div class="asset-info-block main-stat" ng-if="!$ctrl.loadingTopbar">\r\n\t\t<div class="asset-info-header">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.topbar.total\')}}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span class="asset-info-value">{{$ctrl.formatDecimalValue($ctrl.topbarModel.total.area)}}</span>\r\n\t\t\t<span class="asset-info-unit">m<sup>2</sup></span>\r\n\t\t\t<span ng-if="$ctrl.topbarModel.total.area" class="asset-info-percentage">[{{$ctrl.formatDecimalValue($ctrl.topbarModel.totalActive / $ctrl.topbarModel.total.area * 100)}}% of R.A.]</span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="asset-info-block" ng-if="!$ctrl.loadingTopbar">\r\n\t\t<div class="asset-info-header">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.topbar.inquiry\')}}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span class="asset-info-value">{{$ctrl.formatDecimalValue($ctrl.topbarModel.inquiry.area)}}</span>\r\n\t\t\t<span class="asset-info-unit">m<sup>2</sup></span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="asset-info-block" ng-if="!$ctrl.loadingTopbar">\r\n\t\t<div class="asset-info-header">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.topbar.viewing\')}}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span class="asset-info-value">{{$ctrl.formatDecimalValue($ctrl.topbarModel.viewing.area)}}</span>\r\n\t\t\t<span class="asset-info-unit">m<sup>2</sup></span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="asset-info-block" ng-if="!$ctrl.loadingTopbar">\r\n\t\t<div class="asset-info-header">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.topbar.negotiating\')}}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span class="asset-info-value">{{$ctrl.formatDecimalValue($ctrl.topbarModel.negotiating.area)}}</span>\r\n\t\t\t<span class="asset-info-unit">m<sup>2</sup></span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class="asset-info-block" ng-if="!$ctrl.loadingTopbar">\r\n\t\t<div class="asset-info-header">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.topbar.underoffer\')}}\r\n\t\t</div>\r\n\t\t<div>\r\n\t\t\t<span class="asset-info-value">{{$ctrl.formatDecimalValue($ctrl.topbarModel.underOffer.area)}}</span>\r\n\t\t\t<span class="asset-info-unit">m<sup>2</sup></span>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _topdeals=__webpack_require__(1102),_topdeals2=_interopRequireDefault(_topdeals),_topinquiriesTemplate=__webpack_require__(1103),_topinquiriesTemplate2=_interopRequireDefault(_topinquiriesTemplate),_constants=__webpack_require__(720),MarketplaceDashboardTopInquiriesComponent=(_interopRequireDefault(_constants),{controller:_topdeals2.default,template:_topinquiriesTemplate2.default,bindings:{spaceTypes:"=",dealStages:"=",topListType:"="}});exports.default=MarketplaceDashboardTopInquiriesComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),MarketplaceDashboardTopDealsConroller=function(){function MarketplaceDashboardTopDealsConroller($scope,UtilsService,MarketplaceDashboard,NotificationService,uibDateParser){_classCallCheck(this,MarketplaceDashboardTopDealsConroller),this.$scope=$scope,this.utils=UtilsService,this.MarketplaceDashboard=MarketplaceDashboard,this.NotificationService=NotificationService,this.uibDateParser=uibDateParser,this.spaceTypes=this.spaceTypes,this.dealStages=this.dealStages,this.topListType=this.topListType,this.messages=_messages2.default,this.Constants=_constants2.default,this.moment=_moment2.default,this.$scope.dynamicPopover={templateOptionsUrl:"dealOptionsPopoverTemplate.html",templateContactsUrl:"dealContactsPopoverTemplate.html"},this.init()}return MarketplaceDashboardTopDealsConroller.$inject=["$scope","UtilsService","MarketplaceDashboard","NotificationService","uibDateParser"],_createClass(MarketplaceDashboardTopDealsConroller,[{key:"init",value:function(){var self=this;self.loading=!0,self.topListType==_constants2.default.dealTopLists.inquiry?self.dataFunction=self.MarketplaceDashboard.topInquiries:self.topListType==_constants2.default.dealTopLists.active&&(self.dataFunction=self.MarketplaceDashboard.topActives),self.dataFunction({},function(result){result.forEach(function(i){i.spaceTypes=self.getSpaceTypesList(i.spaceTypeIds),i.showAllContacts=!1,i.showAllUnitTypes=!1}),self.model=result,self.loading=!1},function(error){self.NotificationService.error(error.data),self.loading=!1})}},{key:"getSpaceTypesList",value:function(spaceTypeIds){var dealSpaceTypes=[];return this.spaceTypes.forEach(function(element){spaceTypeIds.forEach(function(typeId){element.value===typeId&&dealSpaceTypes.push(element.text)})}),dealSpaceTypes}},{key:"getDealStage",value:function(stageId){var dealStage=this.dealStages.find(function(item){return item.id===stageId});return dealStage}},{key:"showAllContacts",value:function(item){item.showAllContacts=!item.showAllContacts}},{key:"showAllUnitTypes",value:function(item){item.showAllUnitTypes=!item.showAllUnitTypes}},{key:"formatDecimalValue",value:function(val){return this.utils.formatBadgeValue(val)}},{key:"formatIntegerValue",value:function(val){return this.utils.formatBadgeValue(val,!1)}},{key:"getParsedDate",value:function(date){return date&&null!=date?this.uibDateParser.filter(new Date(date),"dd/MM/yyyy"):null}},{key:"formatRequirements",value:function(item){return item.rentableAreaDiscrete?item.rentableAreaDiscrete:item.rentableAreaMin+"-"+item.rentableAreaMax}}]),MarketplaceDashboardTopDealsConroller}();exports.default=MarketplaceDashboardTopDealsConroller},function(module,exports){module.exports='<div class="dashboard-panel top-deals-panel">\r\n\t<div class="header-panel">\r\n\t\t <div class="header">\r\n            {{$ctrl.messages(\'marketplace.dashboard.top_inquiries\')}}\r\n        </div>\r\n\t\t<div class="line"></div>\r\n\t</div>\r\n\t<div class="dashboard-assets-table">\r\n\t\t<div ng-if="$ctrl.loading" class="text-center">\r\n\t\t\t<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n\t\t</div>\r\n\t\t<div ng-if="!$ctrl.model.length && !$ctrl.loading" class="text-center">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.empty\')}}\r\n\t\t</div>\r\n\t\t<table class="table dashboard-table" ng-if="$ctrl.model.length &&!$ctrl.loading" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="top-inquiries-grid" >\r\n\t\t\t<colgroup>\r\n\t\t\t\t<col width="25%">\r\n\t\t\t\t<col width="20%">\r\n\t\t\t\t<col width="10%">\r\n\t\t\t\t<col width="20%">\r\n\t\t\t\t<col width="25%">\r\n\t\t\t</colgroup>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="text-left">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.name\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-left">\r\n\t\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.contact\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-right">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.start_date\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-right">\r\n\t\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.requirement\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th>\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.lastUpdate\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr id="row{{item.$$hashKey}}" ng-repeat="item in $ctrl.model">\r\n\t\t\t\t\t<td class="deal-contacts-column">\r\n\t\t\t\t\t\t<span class="font-bold">{{item.clientName}}</span>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<span>{{item.industry}}</span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="deal-contacts-column">\r\n\t\t\t\t\t\t<div class="deal-grid-contacts-container">\r\n\t\t\t\t\t\t\t<div ng-repeat="contact in item.representatives | limitTo: item.showAllContacts ? \'Infinity\' : $ctrl.Constants.dealContactsCountInList" uib-popover-template="dynamicPopover.templateContactsUrl" popover-trigger="\'mouseenter\'"  popover-placement="auto bottom-left" class="contact">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p>{{contact.name}}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{{contact.mobilePhone}}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<script type="text/ng-template" id="dealContactsPopoverTemplate.html">\r\n\t\t\t\t\t\t\t\t<div style="width: 100%">\r\n\t\t\t\t\t\t\t\t\t<table cellpadding="1" cellspacing="1">\r\n\t\t\t\t\t\t\t\t\t\t<colgroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<col class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t<col class="column">\r\n\t\t\t\t\t\t\t\t\t\t</colgroup>\r\n\t\t\t\t\t\t\t\t\t\t<tr class="contact-row row">\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{contact.name}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="font-bold">{{contact.position}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<tr class="contact-row row">\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.company\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.companyName}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.email\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.email}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<tr class="contact-row row">\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.mobileno\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.mobilePhone}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.officeno\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.officePhone}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</script>\r\n\t\t\t\t\t\t\t<div ng-if="item.representatives.length > $ctrl.Constants.dealContactsCountInList" class="showmore">\r\n\t\t\t\t\t\t\t\t<a ng-click="$ctrl.showAllContacts(item); $event.stopPropagation()">\r\n\t\t\t\t\t\t\t\t\t<span ng-if="item.showAllContacts">\r\n\t\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span ng-if="!item.showAllContacts">\r\n\t\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<!--<td>{{$ctrl.getDealStage(item.dealStageId).name}}</td>-->\r\n\t\t\t\t\t<td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n\t\t\t\t\t<td class="text-right deal-requirement-column">\r\n\t\t\t\t\t\t<span class="font-bold">{{$ctrl.formatRequirements(item)}}<span ng-bind-html="$ctrl.messages(\'square.meter\')"/></span>\r\n\t\t\t\t\t\t<div ng-repeat="spaceType in item.spaceTypes | limitTo: item.showAllUnitTypes ? \'Infinity\' : $ctrl.Constants.dealUnitTypeCountInList">\r\n\t\t\t\t\t\t\t{{spaceType}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-if="item.spaceTypes.length > $ctrl.Constants.dealUnitTypeCountInList" class="showmore">\r\n\t\t\t\t\t\t\t<a ng-click="$ctrl.showAllUnitTypes(item); $event.stopPropagation()">\r\n\t\t\t\t\t\t\t\t<span ng-if="item.showAllUnitTypes">\r\n\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span ng-if="!item.showAllUnitTypes">\r\n\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="deal-last-update-column">\r\n\t\t\t\t\t\t<div class="description" ng-if="item.lastUpdate">\r\n\t\t\t\t\t\t\t<div class="image">\r\n\t\t\t\t\t\t\t\t<img class="message-avatar" ng-src="/img/user.svg" alt="">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="last-update-body">\r\n\t\t\t\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t\t\t\t<div class="col-xs-6 username">\r\n\t\t\t\t\t\t\t\t\t\t{{item.lastUpdate.userName}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="col-xs-5 timestamp text-right">\r\n\t\t\t\t\t\t\t\t\t\t{{$ctrl.moment.utc(item.lastUpdate.timestamp).fromNow()}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="content" ng-if="item.lastUpdate" ng-bind-html="item.lastUpdate.content"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _topdeals=__webpack_require__(1102),_topdeals2=_interopRequireDefault(_topdeals),_topactivesTemplate=__webpack_require__(1105),_topactivesTemplate2=_interopRequireDefault(_topactivesTemplate),_constants=__webpack_require__(720),MarketplaceDashboardTopActivesComponent=(_interopRequireDefault(_constants),{controller:_topdeals2.default,template:_topactivesTemplate2.default,bindings:{spaceTypes:"=",dealStages:"=",topListType:"="}});exports.default=MarketplaceDashboardTopActivesComponent},function(module,exports){module.exports='<div class="dashboard-panel top-deals-panel">\r\n\t<div class="header-panel">\r\n\t\t <div class="header">\r\n            {{$ctrl.messages(\'marketplace.dashboard.top_actives\')}}\r\n        </div>\r\n\t\t<div class="line"></div>\r\n\t</div>\r\n\t<div class="dashboard-assets-table">\r\n\t\t<div ng-if="$ctrl.loading" class="text-center">\r\n\t\t\t<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n\t\t</div>\r\n\t\t<div ng-if="!$ctrl.model.length && !$ctrl.loading" class="text-center">\r\n\t\t\t{{$ctrl.messages(\'marketplace.dashboard.empty\')}}\r\n\t\t</div>\r\n\t\t<table class="table dashboard-table" ng-if="$ctrl.model.length &&!$ctrl.loading" cellpadding="1" cellspacing="1" class="table table-hover dataTable no-footer spaces-filter-grid" id="top-inquiries-grid" >\r\n\t\t\t<colgroup>\r\n\t\t\t\t<col width="25%">\r\n\t\t\t\t<col width="15%">\r\n\t\t\t\t<col width="5%">\r\n\t\t\t\t<col width="10%">\r\n\t\t\t\t<col width="20%">\r\n\t\t\t\t<col width="25%">\r\n\t\t\t</colgroup>\r\n\t\t\t<thead>\r\n\t\t\t\t<tr>\r\n\t\t\t\t\t<th class="text-left">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.name\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-left">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.contact\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-right">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.stage\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-right">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.start_date\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th class="text-right">\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.requirement\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t\t<th>\r\n\t\t\t\t\t\t{{$ctrl.messages(\'deals.list.header.lastUpdate\')}}&nbsp;&nbsp;\r\n\t\t\t\t\t</th>\r\n\t\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t\t<tbody>\r\n\t\t\t\t<tr id="row{{item.$$hashKey}}" ng-repeat="item in $ctrl.model">\r\n\t\t\t\t\t<td class="deal-contacts-column">\r\n\t\t\t\t\t\t<span class="font-bold">{{item.clientName}}</span>\r\n\t\t\t\t\t\t<br/>\r\n\t\t\t\t\t\t<span>{{item.industry}}</span>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="deal-contacts-column">\r\n\t\t\t\t\t\t<div class="deal-grid-contacts-container">\r\n\t\t\t\t\t\t\t<div ng-repeat="contact in item.representatives | limitTo: item.showAllContacts ? \'Infinity\' : $ctrl.Constants.dealContactsCountInList" uib-popover-template="dynamicPopover.templateContactsUrl" popover-trigger="\'mouseenter\'"  popover-placement="auto bottom-left" class="contact">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<p>{{contact.name}}</p>\r\n\t\t\t\t\t\t\t\t\t<p>{{contact.mobilePhone}}</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<script type="text/ng-template" id="dealContactsPopoverTemplate.html">\r\n\t\t\t\t\t\t\t\t<div style="width: 100%">\r\n\t\t\t\t\t\t\t\t\t<table cellpadding="1" cellspacing="1">\r\n\t\t\t\t\t\t\t\t\t\t<colgroup>\r\n\t\t\t\t\t\t\t\t\t\t\t<col class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t<col class="column">\r\n\t\t\t\t\t\t\t\t\t\t</colgroup>\r\n\t\t\t\t\t\t\t\t\t\t<tr class="contact-row row">\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{contact.name}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="font-bold">{{contact.position}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<tr class="contact-row row">\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.company\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.companyName}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.email\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.email}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t<tr class="contact-row row">\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.mobileno\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.mobilePhone}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td class="column">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p class="label">{{Messages(\'deals.list.contacts.officeno\')}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{{contact.officePhone}}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</script>\r\n\t\t\t\t\t\t\t<div ng-if="item.representatives.length > $ctrl.Constants.dealContactsCountInList" class="showmore">\r\n\t\t\t\t\t\t\t\t<a ng-click="$ctrl.showAllContacts(item); $event.stopPropagation()">\r\n\t\t\t\t\t\t\t\t\t<span ng-if="item.showAllContacts">\r\n\t\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t<span ng-if="!item.showAllContacts">\r\n\t\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="text-right">{{$ctrl.getDealStage(item.dealStageId).name}}</td>\r\n\t\t\t\t\t<td class="text-right">{{$ctrl.getParsedDate(item.startDate)}}</td>\r\n\t\t\t\t\t<td class="text-right deal-requirement-column">\r\n\t\t\t\t\t\t<span class="font-bold">{{$ctrl.formatRequirements(item)}}<span ng-bind-html="$ctrl.messages(\'square.meter\')"/></span>\r\n\t\t\t\t\t\t<div ng-repeat="spaceType in item.spaceTypes | limitTo: item.showAllUnitTypes ? \'Infinity\' : $ctrl.Constants.dealUnitTypeCountInList">\r\n\t\t\t\t\t\t\t{{spaceType}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div ng-if="item.spaceTypes.length > $ctrl.Constants.dealUnitTypeCountInList" class="showmore">\r\n\t\t\t\t\t\t\t<a ng-click="$ctrl.showAllUnitTypes(item); $event.stopPropagation()">\r\n\t\t\t\t\t\t\t\t<span ng-if="item.showAllUnitTypes">\r\n\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span ng-if="!item.showAllUnitTypes">\r\n\t\t\t\t\t\t\t\t\t<img src="/img/icons/more.svg" alt="{{ Messages(\'deals.list.options.showmorebutton\') }}">\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td class="deal-last-update-column">\r\n\t\t\t\t\t\t<div class="description" ng-if="item.lastUpdate">\r\n\t\t\t\t\t\t\t<div class="image">\r\n\t\t\t\t\t\t\t\t<img class="message-avatar" ng-src="/img/user.svg" alt="">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="last-update-body">\r\n\t\t\t\t\t\t\t\t<div class="row">\r\n\t\t\t\t\t\t\t\t\t<div class="col-xs-6 username">\r\n\t\t\t\t\t\t\t\t\t\t{{item.lastUpdate.userName}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class="col-xs-5 timestamp text-right">\r\n\t\t\t\t\t\t\t\t\t\t{{$ctrl.moment.utc(item.lastUpdate.timestamp).fromNow()}}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div class="content" ng-if="item.lastUpdate" ng-bind-html="item.lastUpdate.content"></div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t</tr>\r\n\t\t\t</tbody>\r\n\t\t</table>\r\n\t</div>\r\n</div>';
},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _recentdeals=__webpack_require__(1107),_recentdeals2=_interopRequireDefault(_recentdeals),_recentdealsTemplate=__webpack_require__(1108),_recentdealsTemplate2=_interopRequireDefault(_recentdealsTemplate),_constants=__webpack_require__(720),MarketplaceDashboardRecentDealsComponent=(_interopRequireDefault(_constants),{controller:_recentdeals2.default,template:_recentdealsTemplate2.default});exports.default=MarketplaceDashboardRecentDealsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),MarketplaceDashboardRecentDealsConroller=function(){function MarketplaceDashboardRecentDealsConroller(MarketplaceDashboard,NotificationService){_classCallCheck(this,MarketplaceDashboardRecentDealsConroller),this.MarketplaceDashboard=MarketplaceDashboard,this.NotificationService=NotificationService,this.messages=_messages2.default,this.Constants=_constants2.default,this.moment=_moment2.default,this.init()}return MarketplaceDashboardRecentDealsConroller.$inject=["MarketplaceDashboard","NotificationService"],_createClass(MarketplaceDashboardRecentDealsConroller,[{key:"init",value:function(){var self=this;self.loading=!0,self.MarketplaceDashboard.recentDeals({},function(result){self.model=result,self.loading=!1},function(error){self.NotificationService.error(error.data),self.loading=!1})}}]),MarketplaceDashboardRecentDealsConroller}();exports.default=MarketplaceDashboardRecentDealsConroller},function(module,exports){module.exports='<div class="filters-header"> \r\n\t<div class="filters-header-bg"></div>\r\n\t<div class="filters-header-text">\r\n\t\t<div>Recent deals<!-- {{Messages(\'assets.spaces.filter.extra\')}} --></div>\r\n\t</div>\r\n</div>\r\n\r\n<div ng-if="$ctrl.loading" class="text-center">\r\n\t<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n</div>\r\n<div ng-if="!$ctrl.model.length && !$ctrl.loading" class="text-center">\r\n\t{{$ctrl.messages(\'marketplace.dashboard.empty\')}}\r\n</div>\r\n\r\n<div ng-repeat="item in $ctrl.model" class="fpanel">\r\n    <div class="panel-heading filter-title">\r\n        <div filter-panel-tools></div>\r\n\t\t{{item.clientName}}\r\n    </div>\r\n    <div class="panel-body">\r\n\t\t<div class="recent-deal-by">{{$ctrl.moment.utc(item.history.timestamp).fromNow()}} by {{item.history.userName}}</div>\r\n\t\t<span ng-bind-html="item.history.content"></span>\r\n    </div>\r\n</div>'},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _activitystats=__webpack_require__(1110),_activitystats2=_interopRequireDefault(_activitystats),_activitystatsTemplate=__webpack_require__(1111),_activitystatsTemplate2=_interopRequireDefault(_activitystatsTemplate),_constants=__webpack_require__(720),MarketplaceActivityStatsComponent=(_interopRequireDefault(_constants),{controller:_activitystats2.default,template:_activitystatsTemplate2.default});exports.default=MarketplaceActivityStatsComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_moment=__webpack_require__(212),_moment2=_interopRequireDefault(_moment),MarketplaceDashboardActivityStatsConroller=function(){function MarketplaceDashboardActivityStatsConroller(MarketplaceDashboard,NotificationService){_classCallCheck(this,MarketplaceDashboardActivityStatsConroller),this.MarketplaceDashboard=MarketplaceDashboard,this.NotificationService=NotificationService,this.messages=_messages2.default,this.Constants=_constants2.default,this.moment=_moment2.default,this.init()}return MarketplaceDashboardActivityStatsConroller.$inject=["MarketplaceDashboard","NotificationService"],_createClass(MarketplaceDashboardActivityStatsConroller,[{key:"init",value:function(){var self=this;self.loading=!0,self.MarketplaceDashboard.activityStats({},function(result){self.model={colors:["#beed0a","#f74b60","#fdb900","#4990e2","#051739","#cf6c09"],series:["Inquiry","Viewing","Negotiating","Under Offer"],data:[result.map(function(value){return value.inquiries}),result.map(function(value){return value.viewing}),result.map(function(value){return value.negotiating}),result.map(function(value){return value.underOffer})],labels:result.map(function(value){return(0,_moment2.default)(value.date).format("DD/MM")}),options:{responsive:!0,maintainAspectRatio:!1,legend:{labels:{boxWidth:12,padding:20,fontSize:10,fontColor:"#485465"},display:!0,position:"right"},scales:{xAxes:[{gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0},ticks:{display:!0}}],yAxes:[{gridLines:{display:!1,color:"#fff",zeroLineColor:"#fff",zeroLineWidth:0},ticks:{fontSize:10,fontColor:"#485465"}}]}}},self.loading=!1},function(error){self.NotificationService.error(error.data),self.loading=!1})}}]),MarketplaceDashboardActivityStatsConroller}();exports.default=MarketplaceDashboardActivityStatsConroller},function(module,exports){module.exports='<div class="dashboard-panel activity-stats-panel">\r\n    <div class="header-panel">\r\n        <div class="header">\r\n            {{$ctrl.messages(\'marketplace.dashboard.activity_stats\')}}\r\n        </div>\r\n        <div class="line"></div>\r\n    </div>\r\n    <div>\r\n        <div ng-if="$ctrl.loading" class="text-center">\r\n            <i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\r\n        </div>\r\n        <div ng-if="!$ctrl.model && !$ctrl.loading" class="text-center">\r\n            {{$ctrl.messages(\'marketplace.dashboard.empty\')}}\r\n        </div>\r\n        <div class="canvas-holder">\r\n            <canvas id="chart-activity-stat" height="250" class="chart chart-line" chart-data="$ctrl.model.data" chart-labels="$ctrl.model.labels"\r\n                chart-series="$ctrl.model.series" chart-colors="$ctrl.model.colors" chart-options="$ctrl.model.options" ng-if="!$ctrl.loading">\r\n            </canvas>\r\n        </div>\r\n    </div>\r\n</div>'},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MarketplaceDashboard=function(){function MarketplaceDashboard(ConfigurationService,$resource){return _classCallCheck(this,MarketplaceDashboard),$resource(ConfigurationService.getApiBaseUrl()+"api/dashboard",{},{dealStagesStats:{method:"GET",isArray:!1,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/dealstagesstats"},topInquiries:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/topinquiries"},topActives:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/topactives"},recentDeals:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/recentdeals"},activityStats:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/activitystats"}})}return MarketplaceDashboard.$inject=["ConfigurationService","$resource"],_createClass(MarketplaceDashboard,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return MarketplaceDashboard.instance=new MarketplaceDashboard(ConfigurationService,$resource),MarketplaceDashboard.instance}]}]),MarketplaceDashboard}();exports.default=MarketplaceDashboard},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _units=__webpack_require__(1114),_units2=_interopRequireDefault(_units),_module=angular.module("tower360.marketplace.units",[]).controller("MarketPlaceUnitsController",_units2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _constants=__webpack_require__(720),_messages=(_interopRequireDefault(_constants),__webpack_require__(721)),_moment=(_interopRequireDefault(_messages),__webpack_require__(212)),_events=(_interopRequireDefault(_moment),__webpack_require__(791)),MarketPlaceUnitsController=(_interopRequireDefault(_events),function MarketPlaceUnitsController($scope,$rootScope,$state,availableSpaceTypes){_classCallCheck(this,MarketPlaceUnitsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.availableSpaceTypes=availableSpaceTypes});MarketPlaceUnitsController.$inject=["$scope","$rootScope","$state","availableSpaceTypes"],exports.default=MarketPlaceUnitsController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _deals=__webpack_require__(1116),_deals2=_interopRequireDefault(_deals),_module=angular.module("tower360.marketplace.deals",[]).controller("MarketPlaceDealsController",_deals2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),MarketPlaceDealsController=function MarketPlaceDealsController($scope,$rootScope,$state,dealStages,spaceTypes){_classCallCheck(this,MarketPlaceDealsController),this.Constants=_constants2.default,this.Messages=_messages2.default,this.$scope=$scope,this.$rootScope=$rootScope,this.$state=$state,this.dealStages=dealStages,this.spaceTypes=spaceTypes};MarketPlaceDealsController.$inject=["$scope","$rootScope","$state","dealStages","spaceTypes"],exports.default=MarketPlaceDealsController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _clients=__webpack_require__(1118),_clients2=_interopRequireDefault(_clients),_clientDescription=__webpack_require__(1119),_clientDescription2=_interopRequireDefault(_clientDescription),_module=angular.module("tower360.marketplace.clients",[]).controller("MarketPlaceClientsController",_clients2.default).component("marketplaceClientDescription",_clientDescription2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),MarketPlaceClientsController=function(){function MarketPlaceClientsController($scope,$rootScope,$timeout,MarketPlace,ExportDataService,NotificationService){_classCallCheck(this,MarketPlaceClientsController),this.$scope=$scope,this.$rootScope=$rootScope,this.$timeout=$timeout,this.Constants=_constants2.default,this.Messages=_messages2.default,this.Events=_events2.default,this.MarketPlace=MarketPlace,this.ExportDataService=ExportDataService,this.NotificationService=NotificationService,this.selectedClient=null,this.init(),this.initScrollbar()}return MarketPlaceClientsController.$inject=["$scope","$rootScope","$timeout","MarketPlace","ExportDataService","NotificationService"],_createClass(MarketPlaceClientsController,[{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"init",value:function(){var _this=this;this.page=1,this.$scope.greedData=[],this.$scope.extraFilters=[],this.$scope.availabilities=[{id:_constants2.default.marketplaceClientFilter.active,name:(0,_messages2.default)("marketplace.clients.filter.active")},{id:_constants2.default.marketplaceClientFilter.past,name:(0,_messages2.default)("marketplace.clients.filter.past")},{id:_constants2.default.marketplaceClientFilter.all,name:(0,_messages2.default)("marketplace.clients.filter.all")}],this.$scope.selectedAvailability=this.$scope.availabilities[2],this.$scope.sortType=_constants2.default.marketplaceClientSortOptions.tenant,this.$scope.sortDirection=_constants2.default.sortDirection.asc,this.$rootScope.$on(_events2.default.MarketplaceClientsExtraFilterUpdated,function(ev,data){var self=_this;self.$scope.extraFilters=data.filter,self.gridUpdate(_constants2.default.defaultPageNumber)}),this.$rootScope.$on(_events2.default.RightSideBarOpen,function(ev,data){var self=_this;self.selectedClient=null}),this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"gridUpdate",value:function(page){var _this2=this;this.$scope.update=!0,this.page=page;var criteria=this.getSearchCriteria();criteria.pg=page||_constants2.default.defaultPageNumber,this.search(criteria,function(result){_this2.$scope.update=!1,page===_constants2.default.defaultPageNumber?(_this2.$scope.greedData=result,_this2.$scope.disable_infinite_scrolling=!1):0===result.length?_this2.$scope.disable_infinite_scrolling=!0:(_this2.$scope.disable_infinite_scrolling=!1,_this2.$scope.greedData=_this2.$scope.greedData.concat(result)),_this2.$timeout(function(){_this2.$scope.load_more=!1},1)},function(error){_this2.NotificationService.error(error.data&&error.data.message?error.data.message:error.data),_this2.$scope.update=!1,_this2.$scope.error=error})}},{key:"loadMoreItems",value:function(){this.$scope.greedData.length&&(this.$scope.load_more=!0,this.gridUpdate(++this.page))}},{key:"sortGrid",value:function(sortType){this.$scope.sortType=sortType,this.$scope.sortDirection=this.$scope.sortDirection===_constants2.default.sortDirection.desc?_constants2.default.sortDirection.asc:_constants2.default.sortDirection.desc,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"extraFilterRemoveItem",value:function(item){var id=item.id,itemIndex=this.$scope.extraFilters.findIndex(function(item){return item.id===id});this.$scope.extraFilters.splice(itemIndex,1),this.gridUpdate(_constants2.default.defaultPageNumber),this.$rootScope.$emit(_events2.default.MarketplaceClientsExtraFilterItemRemoved,{item:item})}},{key:"search",value:function(criteria,resultFunc,errorFunc){this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.active?this.MarketPlace.searchActiveClients(criteria,resultFunc,errorFunc):this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.past?this.MarketPlace.searchPastClients(criteria,resultFunc,errorFunc):this.MarketPlace.searchAllClients(criteria,resultFunc,errorFunc)}},{key:"selectAvailability",value:function(e,availability){e.preventDefault(),this.prevSelectedAvailability=this.$scope.selectedAvailability,this.$scope.selectedAvailability=availability,this.gridUpdate(_constants2.default.defaultPageNumber)}},{key:"getNumberHeader",value:function(){return this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.active?(0,_messages2.default)("marketplace.clients.header.activeDealsNumber"):this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.past?(0,_messages2.default)("marketplace.clients.header.pastDealsNumber"):(0,_messages2.default)("marketplace.clients.header.allDealsNumber")}},{key:"getAreaHeader",value:function(){return this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.active?(0,_messages2.default)("marketplace.clients.header.activeDealsArea"):this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.past?(0,_messages2.default)("marketplace.clients.header.pastDealsArea"):(0,_messages2.default)("marketplace.clients.header.allDealsArea")}},{key:"getSearchCriteria",value:function(){var industries=[],assets=[],markets=[],cities=[];return this.$scope.extraFilters.forEach(function(item){0===item.id.indexOf("industry_")&&industries.push(item.value.id),0===item.id.indexOf("asset_")&&assets.push(item.value.id),0===item.id.indexOf("city_")&&cities.push(item.value.name),0===item.id.indexOf("market_")&&markets.push(item.value)}),{srt:this.$scope.sortType,ord:this.$scope.sortDirection,pg:1,ps:20,ind:industries,assets:assets,ct:cities,mr:markets}}},{key:"showClientInfo",value:function(event,client){var self=this;if("A"!=event.target.nodeName){if(this.selectedClient===client)return this.selectedClient=null,void this.$rootScope.$broadcast(_events2.default.RightSideBarClose);this.selectedClient=client,this.MarketPlace.getFullClient({clientId:client.id},function(result){self.$rootScope.$broadcast(_events2.default.RightSideBarOpen,{type:_constants2.default.sidebarContentType.marketplaceClient,data:result})},function(error){})}}},{key:"exportData",value:function(){this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.active?this.exportMarketplaceActiveClientsData():this.$scope.selectedAvailability.id==_constants2.default.marketplaceClientFilter.past?this.exportMarketplacePastClientsData():this.exportMarketplaceAllClientsData()}},{key:"exportMarketplaceActiveClientsData",value:function(){this.ExportDataService.exportMarketplaceActiveClients(this.getSearchCriteria())}},{key:"exportMarketplacePastClientsData",value:function(){this.ExportDataService.exportMarketplacePastClients(this.getSearchCriteria())}},{key:"exportMarketplaceAllClientsData",value:function(){this.ExportDataService.exportMarketplaceAllClients(this.getSearchCriteria())}}]),MarketPlaceClientsController}();exports.default=MarketPlaceClientsController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _clientDescription=__webpack_require__(1120),_clientDescription2=_interopRequireDefault(_clientDescription),_clientDescriptionTemplate=__webpack_require__(1121),_clientDescriptionTemplate2=_interopRequireDefault(_clientDescriptionTemplate),MarketplaceClientDescriptionComponent={bindings:{data:"=",context:"=?"},controller:_clientDescription2.default,template:_clientDescriptionTemplate2.default};exports.default=MarketplaceClientDescriptionComponent},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),_constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_events=__webpack_require__(791),_events2=_interopRequireDefault(_events),_moment=__webpack_require__(212),MarketplaceClientDescriptionController=(_interopRequireDefault(_moment),function(){function MarketplaceClientDescriptionController($scope,$rootScope,uibDateParser,LocationService,DealStageLookupService){_classCallCheck(this,MarketplaceClientDescriptionController),this.$scope=$scope,this.$rootScope=$rootScope,this.Messages=this.$scope.Messages=_messages2.default,this.Constants=this.$scope.Constants=_constants2.default,this.Events=_events2.default,this.uibDateParser=uibDateParser,this.locationService=LocationService,this.dealStageLookupService=DealStageLookupService,this.$scope.model={},this.init(),this.initScrollbar()}return MarketplaceClientDescriptionController.$inject=["$scope","$rootScope","uibDateParser","LocationService","DealStageLookupService"],_createClass(MarketplaceClientDescriptionController,[{key:"init",value:function(){var self=this;self.$scope.isLoading=!0,self.$scope.showAllActive=!1,self.$scope.showAllExecuted=!1,self.$scope.showAllContacts=!1,self.$scope.limitActive=_constants2.default.marketplaceClientLimitDeals,self.$scope.limitExecuted=_constants2.default.marketplaceClientLimitDeals,self.$scope.limitContacts=_constants2.default.marketplaceClientLimitContacts,self.dealStageLookupService.all().then(function(result){self.dealStages=result,self.$scope.isLoading=!1}),self.$onInit=function(){self.$scope.$watch(function(){return self.data},function(){self.data&&self.$scope.data!=self.data&&(self.$scope.data=self.data,self.$scope.context=self.context,self.updateModel(self.data))})}}},{key:"initScrollbar",value:function(){angular.element(document).ready(function(){SimpleScrollbar.initAll()})}},{key:"updateModel",value:function(data){var self=this;if(data&&null!=data){var country=self.Constants.countries.find(function(t){return t.value==data.location.countryId});self.$scope.model={fullName:data.tenantName,shortName:data.tenantShortName,industry:data.industryName,country:country&&null!=country?country.text:"",address:self.locationService.getAddress(data.location),activeDeals:data.activeDeals,executedDeals:data.executedDeals,contacts:data.representatives},self.$scope.model.activeDeals.forEach(function(d){self.groupOptions(d)}),self.$scope.model.executedDeals.forEach(function(d){self.groupOptions(d)})}}},{key:"groupOptions",value:function(dealObject){var _this=this;dealObject.assets=[],dealObject.options.forEach(function(opt){opt.objects.forEach(function(obj){var asset=dealObject.assets.find(function(t){return t.assetId==obj.assetId});null==asset&&(asset={assetId:obj.assetId,assetName:obj.assetName,objects:[]},dealObject.assets.push(asset));var object=asset.objects.find(function(t){return t.assetObjectId==obj.assetObjectId});null==object&&(object={assetObjectName:obj.assetObjectName,assetObjectId:obj.assetObjectId,options:[]},asset.objects.push(object)),object.isFullyAssigned||(object.isFullyAssigned=obj.isFullyAssigned),obj.spaces.length>0&&object.options.push({spaces:obj.spaces})})}),setTimeout(function(){_this.$scope.$$phase||_this.$scope.$apply()},500)}},{key:"getRequirements",value:function(deal){return deal.rentableAreaDiscrete?deal.rentableAreaDiscrete:deal.rentableAreaMin+"-"+deal.rentableAreaMax}},{key:"getParsedDate",value:function(date){return date&&null!=date?this.uibDateParser.filter(new Date(date),"dd/MM/yyyy"):null}},{key:"getDealStage",value:function(stageId){var dealStage=this.dealStages.find(function(item){return item.id===stageId});return dealStage&&null!=dealStage?dealStage.name:""}},{key:"inverseActiveLimit",value:function(){this.$scope.showAllActive=!this.$scope.showAllActive}},{key:"inverseExecutedLimit",value:function(){this.$scope.showAllExecuted=!this.$scope.showAllExecuted}},{key:"inverseContactsLimit",value:function(){this.$scope.showAllContacts=!this.$scope.showAllContacts}},{key:"closeSidebar",value:function(){this.$rootScope.$broadcast(_events2.default.RightSideBarClose)}}]),MarketplaceClientDescriptionController}());exports.default=MarketplaceClientDescriptionController},function(module,exports){module.exports='<div ng-if="context === \'sidebar\'" class="side-close">\r\n    <img src="/img/icons/close.svg" alt="" ng-click="$ctrl.closeSidebar()">\r\n</div>\r\n\r\n<div class="marketplace-client-panel right-sidebar-content" ss-container>\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{Messages(\'marketplace.clients.panel.general.header\')}}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'marketplace.clients.panel.general.fullName\')}}</div>\r\n                    <label class="not-editable">{{model.fullName}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'marketplace.clients.panel.general.shortName\')}}</div>\r\n                    <label class="not-editable">{{model.shortName}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'marketplace.clients.panel.general.industry\')}}</div>\r\n                    <label class="not-editable">{{model.industry}}</label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="row">\r\n            <div class="col-sm-4">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'marketplace.clients.panel.general.countryName\')}}</div>\r\n                    <label class="not-editable">{{model.country}}</label>\r\n                </div>\r\n            </div>\r\n            <div class="col-sm-8">\r\n                <div class="block">\r\n                    <div class="subheader">{{Messages(\'marketplace.clients.panel.general.address\')}}</div>\r\n                    <label class="not-editable">{{model.address}}</label>\r\n                </div>\r\n            </div>\r\n        </div>        \r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{Messages(\'marketplace.clients.panel.activedeals.header\')}}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n        <div class="no-data" ng-if="model.activeDeals == null || model.activeDeals.length == 0">\r\n            <span>{{Messages(\'marketplace.clients.panel.activedeals.nodata\')}}</span>\r\n        </div>\r\n        <div ng-if="model.activeDeals != null && model.activeDeals.length > 0 && !isLoading">\r\n            <table>\r\n                <colgroup>\r\n                    <col width="12%">\r\n                    <col width="14%">\r\n                    <col width="36%">\r\n                    <col width="12%">\r\n                    <col width="26%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>\r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.activedeals.startDate\')}}&nbsp;&nbsp;</th>                                                        \r\n                        <th class="column text-right">{{Messages(\'marketplace.clients.panel.activedeals.requirement\')}}&nbsp;&nbsp;</th>\r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.activedeals.buildings\')}}&nbsp;&nbsp;</th>\r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.activedeals.dealStage\')}}&nbsp;&nbsp;</th>\r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.activedeals.lastUpdate\')}}&nbsp;&nbsp;</th>\r\n                    </tr>\r\n                </thead>\r\n                <tr ng-repeat="deal in model.activeDeals | limitTo: showAllActive ? \'Infinity\' : limitActive">\r\n                    <td class="text-top column">{{$ctrl.getParsedDate(deal.startDate)}}</td>\r\n                    <td class="text-top text-right column">{{$ctrl.getRequirements(deal)}}<span ng-bind-html="Messages(\'square.meter\')"/></span></td>\r\n                    <td class="text-top column">\r\n                        <div ng-repeat="asset in deal.assets" style="display: flex;flex-direction: column;">\r\n                            <div ng-repeat="tower in asset.objects">\r\n                                <div class="col-sm-6 no-padding">\r\n                                    <div><span>{{asset.assetName}}</span></div>\r\n                                    <div><span>{{tower.assetObjectName}}</span></div>\r\n                                </div>\r\n                                <div class="col-sm-6 no-padding">\r\n                                    <span ng-repeat="(key, option) in tower.options">\r\n                                        <span ng-repeat="space in option.spaces">\r\n                                            <span class="unit-square">{{space.textNumber != null ? space.textNumber : space.numericNumber}}</span>\r\n                                        </span>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class="text-top column">{{$ctrl.getDealStage(deal.dealStageId)}}</td>\r\n                    <td class="text-top column deal-last-update-column">\r\n                        <div class="description" ng-if="deal.lastUpdate">\r\n                            <div class="image">\r\n                                <img class="message-avatar" ng-src="/img/user.svg" alt="">\r\n                            </div>\r\n                            <div class="last-update-body">\r\n                                <div class="username">\r\n                                    {{deal.lastUpdate.userName}}\r\n                                </div>\r\n                                <div class="timestamp">\r\n                                    {{$ctrl.moment.utc(deal.lastUpdate.timestamp).fromNow()}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="content" ng-if="deal.lastUpdate" ng-bind-html="deal.lastUpdate.content">\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>                \r\n        </div>\r\n        <div class="row expand-button pull-right" ng-if="model.activeDeals && model.activeDeals.length > limitActive">\r\n            <a href="" ng-click="$ctrl.inverseActiveLimit()">\r\n                <span ng-if="!showAllActive">\r\n                    <span>\r\n                        {{Messages(\'marketplace.clients.panel.showmorebutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n                </span>\r\n                <span ng-if="showAllActive">\r\n                    <span>\r\n                        {{Messages(\'marketplace.clients.panel.showlessbutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n                </span>\r\n            </a>\r\n        </div>       \r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{Messages(\'marketplace.clients.panel.executeddeals.header\')}}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n        <div class="no-data" ng-if="model.executedDeals == null || model.executedDeals.length == 0">\r\n            <span>{{Messages(\'marketplace.clients.panel.executeddeals.nodata\')}}</span>\r\n        </div>\r\n        <div ng-if="model.executedDeals != null && model.executedDeals.length > 0 && !isLoading">\r\n            <table>\r\n                <colgroup>\r\n                    <col width="13%">\r\n                    <col width="15%">\r\n                    <col width="34%">\r\n                    <col width="38%">\r\n                </colgroup>\r\n                <thead>\r\n                    <tr>                                                        \r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.executeddeals.leaseEndDate\')}}&nbsp;&nbsp;</th>\r\n                        <th class="column text-center">{{Messages(\'marketplace.clients.panel.executeddeals.requirement\')}}&nbsp;&nbsp;</th>\r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.executeddeals.buildings\')}}&nbsp;&nbsp;</th>\r\n                        <th class="column">{{Messages(\'marketplace.clients.panel.executeddeals.lastUpdate\')}}&nbsp;&nbsp;</th>\r\n                    </tr>\r\n                </thead>\r\n                <tr ng-repeat="deal in model.executedDeals | limitTo: showAllExecuted ? \'Infinity\' : limitExecuted">\r\n                    <td class="text-top column">{{deal.masterContract != null ? $ctrl.getParsedDate(deal.masterContract.endsAt) : \'\'}}</td>\r\n                    <td class="text-top text-center column">{{$ctrl.getRequirements(deal)}}&nbsp;<span ng-bind-html="Messages(\'square.meter\')"/></span></td>\r\n                    <td class="text-top column">\r\n                        <div ng-repeat="asset in deal.assets" style="display: flex; flex-direction: column;">\r\n                            <div ng-repeat="tower in asset.objects">\r\n                                <div class="col-sm-6 no-padding">\r\n                                    <div><span>{{asset.assetName}}</span></div>\r\n                                    <div><span>{{tower.assetObjectName}}</span></div>\r\n                                </div>\r\n                                <div class="col-sm-6 no-padding">\r\n                                    <span ng-repeat="(key, option) in tower.options">\r\n                                        <span ng-repeat="space in option.spaces">\r\n                                            <span class="unit-square">{{space.textNumber != null ? space.textNumber : space.numericNumber}}</span>\r\n                                        </span>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </td>\r\n                    <td class="text-top column deal-last-update-column">\r\n                        <div class="description" ng-if="deal.lastUpdate">\r\n                            <div class="image">\r\n                                <img class="message-avatar" ng-src="/img/user.svg" alt="">\r\n                            </div>\r\n                            <div class="last-update-body">\r\n                                <div class="username">\r\n                                    {{deal.lastUpdate.userName}}\r\n                                </div>\r\n                                <div class="timestamp" ng-id="deal.lastUpdate.timestamp">\r\n                                    {{$ctrl.moment.utc(deal.lastUpdate.timestamp).fromNow()}}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="content" ng-if="deal.lastUpdate" ng-bind-html="deal.lastUpdate.content">\r\n                        </div>\r\n                    </td>\r\n                </tr>\r\n            </table>                \r\n        </div>\r\n        <div class="row expand-button pull-right" ng-if="model.executedDeals && model.executedDeals.length > limitExecuted">\r\n            <a href="" ng-click="$ctrl.inverseExecutedLimit()">\r\n                <span ng-if="!showAllExecuted">\r\n                    <span>\r\n                        {{Messages(\'marketplace.clients.panel.showmorebutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n                </span>\r\n                <span ng-if="showAllExecuted">\r\n                    <span>\r\n                        {{Messages(\'marketplace.clients.panel.showlessbutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n                </span>\r\n            </a>\r\n        </div>        \r\n    </div>\r\n\r\n    <div class="sidebar-panel">\r\n        <div class="header-panel">\r\n            <div class="header">\r\n                {{Messages(\'marketplace.clients.panel.contacts.header\')}}\r\n            </div>\r\n            <div class="line"></div>\r\n        </div>\r\n        <div class="no-data" ng-if="model.contacts == null || model.contacts.length == 0">\r\n            <span>{{Messages(\'marketplace.clients.panel.contacts.not_specified\')}}</span>\r\n        </div>\r\n        <div class="clients-contacts-list" ng-if="model.contacts && model.contacts.length > 0">\r\n            <div class="row clients-contacts-item" ng-repeat="contact in model.contacts | limitTo: showAllContacts ? \'Infinity\' : limitContacts">\r\n                <div class="col-md-2">\r\n                    <div class="avatar pull-right"><img src="/img/user.svg"></div> <!-- no api support -->\r\n                </div>\r\n                <div class="col-md-10">\r\n                    <div class="contact-name">{{contact.name}}</div>\r\n                    <div><span class="contact-position" ng-if="contact.isMain">Tenant contact</span> <span class="contact-position" ng-if="contact.isBroker">Broker contact</span> <span ng-if="(contact.isMain || contact.isBroker) && contact.companyName">|</span> {{contact.companyName}}</div>\r\n                    <div class="row">\r\n                        <div class="col-md-4">\r\n                            <img src="img/icons/email.svg" class="profile-icon" alt="" ng-if="contact.email"> {{contact.email}}\r\n                        </div>\r\n                        <div class="col-md-4">\r\n                            <img src="img/icons/phone.svg" class="profile-icon" alt="" ng-if="contact.mobilePhone"> {{contact.mobilePhone}}\r\n                        </div>\r\n                        <div class="col-md-4">\r\n                            <img src="img/icons/phone.svg" class="profile-icon" alt="" ng-if="contact.officePhone"> {{contact.officePhone}}\r\n                        </div>                                                                                \r\n                    </div>\r\n                </div>                                \r\n            </div>\r\n        </div>\r\n        <div class="expand-button" ng-if="model.contacts && model.contacts.length > limitContacts">\r\n            <a href="" ng-click="$ctrl.inverseContactsLimit()">\r\n                <span ng-if="!showAllContacts">\r\n                    <span>\r\n                        {{Messages(\'marketplace.clients.panel.showmorebutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-down" aria-hidden="true"></i>\r\n                </span>\r\n                <span ng-if="showAllContacts">\r\n                    <span>\r\n                        {{Messages(\'marketplace.clients.panel.showlessbutton\')}}\r\n                    </span>\r\n                    <i class="fa fa-caret-up" aria-hidden="true"></i>\r\n                </span>\r\n            </a>\r\n        </div>        \r\n    </div>\r\n</div>';
},function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MarketPlace=function(){function MarketPlace(ConfigurationService,$resource){return _classCallCheck(this,MarketPlace),$resource(ConfigurationService.getApiBaseUrl()+"api/marketplace",{clientId:"@clientId"},{searchActiveClients:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/clients/active"},searchPastClients:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/clients/past"},searchAllClients:{method:"GET",isArray:!0,url:ConfigurationService.getApiBaseUrl()+"api/marketplace/clients/all"},getFullClient:{method:"GET",url:ConfigurationService.getApiBaseUrl()+"api/marketplace/clients/:clientId/full"}})}return MarketPlace.$inject=["ConfigurationService","$resource"],_createClass(MarketPlace,null,[{key:"activate",value:["ConfigurationService","$resource",function(ConfigurationService,$resource){return MarketPlace.instance=new MarketPlace(ConfigurationService,$resource),MarketPlace.instance}]}]),MarketPlace}();exports.default=MarketPlace},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _buildings=__webpack_require__(1124),_buildings2=_interopRequireDefault(_buildings),_competitions=__webpack_require__(1126),_competitions2=_interopRequireDefault(_competitions),compinsights=angular.module("tower360.compinsights",[_buildings2.default.name,_competitions2.default.name]);exports.default=compinsights},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _buildings=__webpack_require__(1125),_buildings2=_interopRequireDefault(_buildings),_module=angular.module("tower360.compinsights.buildings",[]).controller("CompInsightsBuildingsController",_buildings2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),CompInsightsBuildingsController=function CompInsightsBuildingsController(){_classCallCheck(this,CompInsightsBuildingsController),this.Constants=_constants2.default,this.Messages=_messages2.default};exports.default=CompInsightsBuildingsController},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _competitions=__webpack_require__(1127),_competitions2=_interopRequireDefault(_competitions),_module=angular.module("tower360.compinsights.competitions",[]).controller("CompInsightsCompetitionsController",_competitions2.default);exports.default=_module},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _constants=__webpack_require__(720),_constants2=_interopRequireDefault(_constants),_messages=__webpack_require__(721),_messages2=_interopRequireDefault(_messages),CompInsightsCompetitionsController=function CompInsightsCompetitionsController(){_classCallCheck(this,CompInsightsCompetitionsController),this.Constants=_constants2.default,this.Messages=_messages2.default};exports.default=CompInsightsCompetitionsController}]);
//# sourceMappingURL=app.f611b8d3a2c67ddb7c5b.js.map